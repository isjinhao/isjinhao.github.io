<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[é“¾è·¯å±‚]]></title>
    <url>%2F2019%2F%E9%93%BE%E8%B7%AF%E5%B1%82%2F</url>
    <content type="text"><![CDATA[ç›¸é‚»è®¡ç®—æœºç½‘ç»œä¸­é“¾è·¯å±‚çš„åŠŸèƒ½æ˜¯â€œç›¸é‚»èŠ‚ç‚¹é—´çš„æ•°æ®ä¼ è¾“â€ã€‚è¿™å¥è¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ä»¬å…ˆè®¨è®ºâ€œç›¸é‚»â€ä¸€è¯ï¼Œå†è®¨è®ºâ€œæ•°æ®ä¼ è¾“â€ã€‚ä¸¤å°ä¸»æœºï¼Œç”¨ä¸€æ ¹ç½‘çº¿ç›¸è¿žæ˜¯ç›¸é‚»ã€‚å¤šå°ä¸»æœºï¼Œç”¨ä¸€æ ¹ç½‘çº¿ç›¸è¿žï¼Œä»ç„¶æ˜¯ç›¸é‚»ã€‚è¿™æ ¹çº¿ç¼†é€€åŒ–æˆä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ ·çš„è®¾å¤‡ç§°ä¸ºé›†çº¿å™¨ã€‚é€šè¿‡é›†çº¿å™¨ç›¸è¿žçš„å¤šå°ä¸»æœºä¹Ÿæ˜¯ç›¸é‚»ã€‚é›†çº¿å™¨æ²¡æœ‰ä»»ä½•æ™ºèƒ½ï¼Œç­‰åŒäºŽçº¿ç¼†ã€‚åœ¨é›†çº¿å™¨ä¸Šå¢žåŠ ç®€å•çš„æ™ºèƒ½æŽ§åˆ¶åŠŸèƒ½ï¼Œå°±æ˜¯äº¤æ¢æœºã€‚é€šè¿‡äº¤æ¢æœºç›¸è¿žçš„å¤šå°ä¸»æœºä¹Ÿæ˜¯ç›¸é‚»ã€‚äº¤æ¢æœºå°†è®¡ç®—æœºäº’è”åœ¨ä¸€èµ·ï¼Œæž„æˆå±€åŸŸç½‘ã€‚æ‰€ä»¥â€œç›¸é‚»èŠ‚ç‚¹é—´çš„æ•°æ®ä¼ è¾“â€æ¢ä¸€ç§è¯´æ³•å°±æ˜¯â€œæž„å»ºå±€åŸŸç½‘â€ï¼Œå†æ¢ä¸€ç§è¯´æ³•å°±æ˜¯â€œå±€åŸŸç½‘å†…çš„ä¸»æœºéƒ½æ˜¯é‚»å±…å…³ç³»â€ã€‚é“¾è·¯å±‚çš„åŠŸèƒ½å°±æ˜¯æž„å»ºå±€åŸŸç½‘ã€‚ç›¸é‚»è¿™ä¸€æ¦‚å¿µå¾ˆé‡è¦ï¼Œä¸»æœºé—´çš„æ•°æ®ä¼ è¾“å¯ä»¥åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯ä¸¤ä¸ªä¸»æœºåœ¨åŒä¸€ä¸ªå±€åŸŸç½‘å†…ï¼Œä¸¤ä¸»æœºæ˜¯ç›¸é‚»å…³ç³»ï¼Œç®€ç§°å†…ç½‘é€šä¿¡ï¼Œå¦ä¸€ç§æ˜¯ä¸¤ä¸ªä¸»æœºåœ¨ä¸¤ä¸ªä¸åŒçš„ç½‘ç»œé‡Œï¼Œå¯ç§°å¤–ç½‘é€šä¿¡ï¼Œä¸¤ç§æ•°æ®ä¼ è¾“åŽŸç†å®Œå…¨ä¸åŒã€‚æœ¬ç¯‡åšæ–‡åªå…³æ³¨å†…ç½‘é€šä¿¡ã€‚é“¾è·¯å±‚è§£å†³çš„é—®é¢˜æ•°æ®ä¼ è¾“å°±æ˜¯å°†ä¸€å°ä¸»æœºå†…çš„æ•°æ®ä¼ è¾“åˆ°å¦ä¸€å°ä¸»æœºï¼Œç‰©ç†å±‚è§£å†³äº†æ¯”ç‰¹è½¬æ¢ä¸ºç”µç£ä¿¡å·ä¼ è¾“çš„é—®é¢˜ï¼Œä½†è¿™ä¸æ˜¯æ•°æ®ä¼ è¾“çš„å…¨éƒ¨é—®é¢˜ï¼Œè¿˜æœ‰ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚ï¼šç‰©ç†å±‚ä¼ è¾“ä¸­çš„æ•°æ®æœ‰å¯èƒ½å‡ºé”™ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿå‘é€æ–¹ä¸ŽæŽ¥æ”¶æ–¹çš„é€Ÿåº¦å¯èƒ½ä¸åŒ¹é…ï¼Œå¦‚ä½•è°ƒèŠ‚ï¼Ÿæ•°æ®å¦‚ä½•å°è£…æˆæ•°æ®å¸§ï¼Œç„¶åŽä¼ è¾“ï¼Œå¦‚ä½•ä¼ è¾“å°è£…ï¼Ÿå‘ç”Ÿç¢°æ’žè¯¥æ€Žä¹ˆåŠžï¼Ÿé’ˆå¯¹è¿™äº›é—®é¢˜åˆ¶å®šçš„è§£å†³æ–¹æ¡ˆç§°ä¸ºæ•°æ®é“¾è·¯å±‚çš„é€šä¿¡åè®®ã€‚ç‰©ç†é“¾è·¯+é€šä¿¡åè®®æž„æˆäº†æˆ‘ä»¬è¦ç ”ç©¶çš„æ•°æ®é“¾è·¯ã€‚å¾ªçŽ¯å†—ä½™ç å¾ªçŽ¯å†—ä½™ç ï¼ˆCRCï¼‰åœ¨å¾ˆå¤šåœ°æ–¹éƒ½è¢«ç”¨æ¥æ ¡éªŒä¼ è¾“çš„æ•°æ®æ˜¯å¦å‡ºé”™ï¼Œè‡³äºŽå…¶å¦‚ä½•è¯æ˜Žï¼Œåšä¸»ä¹Ÿæœªæ›¾æŽ¢ç©¶ï¼Œä¸‹æ–‡ä»‹ç»å†—ä½™ç çš„æ€æƒ³å’Œè®¡ç®—æ–¹æ³•ã€‚å¦‚æžœå‘é€æ–¹åªä¼ è¾“ 87ï¼ŒæŽ¥æ”¶æ–¹æ”¶åˆ° 82ï¼ŒæŽ¥æ”¶æ–¹æ˜¯æ— æ³•åˆ¤æ–­ 82 æ˜¯ä¸æ˜¯å‘é€æ–¹å‘é€çš„æ•°æ®ï¼Œå°±æ˜¯è¯´æ— æ³•åˆ¤æ–­ 82 æ˜¯å¯¹è¿˜æ˜¯é”™ã€‚æ€Žä¹ˆåŠžï¼Ÿå‘é€æ–¹ä¸ŽæŽ¥æ”¶æ–¹äº‹å…ˆå•†é‡å¥½ä¸€ä¸ªæ•°ï¼Œä¾‹å¦‚ 15ï¼Œå‘é€æ—¶å…ˆè®¡ç®— 87 é™¤ 15 çš„ä½™æ•°ï¼Œä¸º 12ï¼Œå°†è¿™ä¸ªä½™æ•°ä¸Ž 87 ä¸€èµ·å‘é€ï¼Œå³ 8712ï¼ŒæŽ¥æ”¶æ—¶å…ˆè®¡ç®— 82 é™¤ 15 çš„ä½™æ•°ï¼Œä¸º 7ï¼Œä¸ç­‰äºŽ 12ï¼Œå°±è®¤ä¸ºä¼ è¾“çš„æ•°æ®å‡ºé”™ï¼Œè¿™æ ·æ£€é”™çš„æ¦‚çŽ‡å¹¶éžç™¾åˆ†ä¹‹ç™¾ï¼Œä¾‹å¦‚87 é”™æˆ 72 å°±æ£€æµ‹ä¸å‡ºæ¥ï¼Œä½†æ€»ä½“æ¥è¯´ï¼Œæ£€é”™æ¦‚çŽ‡å·²ç»éžå¸¸é«˜äº†ã€‚CRC è®¡ç®—æ–¹æ³•ç¬¬ä¸€ï¼ŒCRC æœ‰ä¸€ä¸ªç”Ÿæˆå¤šé¡¹å¼ P(x)ï¼Œå…¶ä½œç”¨ç­‰åŒäºŽé™¤æ•° 15ï¼Œå°†å…¶å†™æˆæ¯”ç‰¹ä¸²ï¼Œè½¬åŒ–è§„åˆ™å¦‚å›¾ï¼šç¬¬äºŒï¼Œå¦‚æžœ P(x) çš„æ¯”ç‰¹ä¸²æ˜¯ n ä½ï¼Œåœ¨å‘é€æ•°æ®åŽè¡¥ n-1 ä¸ª 0ã€‚ä¾‹å¦‚ P(x)ä¸º 1101ï¼Œå°±è¦è¡¥ 000ã€‚ç¬¬ä¸‰ï¼Œåšæ¨¡2é™¤æ³•ã€‚æ³¨æ„æ¨¡äºŒé™¤æ³•ä¸æ˜¯äºŒè¿›åˆ¶é™¤æ³•ã€‚ç¬¬å››ï¼Œç”¨ä½™æ•°æ›¿æ¢è¡¥çš„ 0ï¼Œå½¢æˆå‘é€æ•°æ®ï¼Œ101001001ã€‚ç¬¬äº”ï¼ŒæŽ¥æ”¶æ–¹ç”¨æŽ¥æ”¶æ•°æ® 101001001 é™¤ä»¥ P(x)1101ï¼Œå¦‚æžœèƒ½æ•´é™¤ï¼Œå°±è¡¨ç¤ºæ²¡æœ‰é”™ï¼ˆç­‰åŒä¸ŽåŽŸç†ä¸­çš„ä½™æ•°ç›¸åŒï¼‰ï¼Œå¦‚æžœä¸èƒ½æ•´é™¤ï¼Œå°±è¡¨ç¤ºå‡ºé”™äº†ï¼ˆç­‰åŒä¸ŽåŽŸç†ä¸­çš„ä½™æ•°ä¸ç›¸ç­‰ï¼‰ã€‚åœæ­¢ç­‰å¾…åè®®ï¼ˆStop-and-Wait protocolï¼‰å¦‚æžœä¸¤ä¸ªä¸»æœºé—´æ•°æ®ä¼ è¾“æ—¶ï¼ŒæŽ¥æ”¶æ–¹çš„é€Ÿåº¦æ°¸è¿œä¸ä¼šä½ŽäºŽå‘é€æ–¹çš„é€Ÿåº¦ï¼›ä¼ è¾“çš„æ•°æ®å¸§ä¸ä¼šå‡ºé”™ï¼Œä¹Ÿä¸ä¼šä¸¢å¤±ï¼Œå®Œå…¨ç†æƒ³åŒ–çš„æ•°æ®ä¼ è¾“ï¼Œé‚£å°±æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå½“ç„¶ä¹Ÿä¸éœ€è¦è§£å†³é—®é¢˜çš„åŠžæ³•ï¼Œä¹Ÿå°±ä¸éœ€è¦åè®®ã€‚çŽ°åœ¨å‡è®¾ï¼Œæ²¡æœ‰å·®é”™ï¼Œä½†æ˜¯æŽ¥æ”¶æ–¹çš„é€Ÿåº¦ä½ŽäºŽå‘é€æ–¹çš„é€Ÿåº¦ï¼Œæ€Žä¹ˆåŠžï¼Ÿæ˜¾ç„¶æŽ§åˆ¶çš„æ€è·¯åªèƒ½æ˜¯å¿«çš„ä¸€æ–¹ç‰µå°±æ…¢çš„ä¸€æ–¹ï¼Œå°±æ˜¯ç”±æ…¢çš„ä¸€æ–¹æŒ‡æŒ¥å¿«çš„ä¸€æ–¹ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯å‘é€æ–¹æ¯å‘é€ä¸€å¸§å°±åœä¸‹æ¥ï¼Œç­‰å¾…ï¼›æ”¶åˆ° ACK å‘é€ä¸‹ä¸€å¸§ï¼ŒæŽ¥æ”¶æ–¹åˆ™æ˜¯ç­‰å¾…ï¼Œæ”¶åˆ°æ•°æ®å¸§ï¼Œå‘é€ ACKï¼ˆç¡®è®¤ Acknowledgment ï¼‰ï¼Œç­‰å¾…ä¸‹ä¸€å¸§ã€‚åœä¸‹æ¥ï¼Œç­‰å¾…å°±æ˜¯åœæ­¢ç­‰å¾…åè®®çš„ç”±æ¥ã€‚åœæ­¢ç­‰å¾…åè®®å½“ç„¶ä¸ä»…ä»…éœ€è¦è¿™ä¸€ä¸ªé—®é¢˜ï¼Œå…¶éœ€è¦è§£å†³çš„é—®é¢˜å¦‚ä¸‹ï¼šæŽ¥æ”¶æ–¹çš„é€Ÿåº¦ä½ŽäºŽå‘é€æ–¹çš„é€Ÿåº¦ï¼›ä¼ è¾“çš„æ•°æ®å¸§å¯èƒ½å‡ºé”™ï¼›æ•°æ®å¸§å¯èƒ½ä¸¢å¤±ï¼Œç¡®è®¤å¸§ ACK ä¹Ÿå¯èƒ½ä¸¢å¤±ï¼›ç¡®è®¤å·æŽ¥æ”¶æ–¹æ”¶åˆ°ä¸€ä¸ªæ•°æ®å¸§ï¼Œå¹¶æ ¡éªŒæ­£ç¡®ï¼Œç»™å‘é€æ–¹ä¸€ä¸ªç¡®è®¤ ACKnï¼ŒACKn è¡¨ç¤ºâ€œç¬¬ n-1 å·å¸§å·²ç»æ”¶åˆ°ï¼ŒçŽ°åœ¨æœŸæœ›æŽ¥æ”¶ç¬¬ n å·å¸§â€ã€‚ç¡®è®¤å·æ˜¯æŽ¥æ”¶æ–¹é¢„æœŸæŽ¥æ”¶çš„ä¸‹ä¸€å¸§çš„åºå·ã€‚å·®é”™æ•°æ®å¸§å‡ºé”™æ—¶ï¼ŒæŽ¥æ”¶æ–¹æ”¶åˆ°ä¸€ä¸ªæ•°æ®å¸§ï¼Œæ ¡éªŒæ—¶å‘çŽ°æ•°æ®å¸§å‡ºé”™ï¼ŒæŽ¥æ”¶æ–¹ä¸¢å¼ƒæ­¤æ•°æ®å¸§ï¼Œæ­¤å¤–ä¸åšä»»ä½•äº‹ï¼Œå³ä¸å‘é€ ACKã€‚å‘é€æ–¹å‘é€å®Œæ•°æ®å¸§åŽåœ¨åœæ­¢ç­‰å¾… ACKï¼Œç„¶è€Œæ­¤æ—¶ä¸ä¼šæœ‰ ACKï¼Œå‘é€æ–¹å°±ç­‰æ­»åœ¨è¿™é‡Œäº†ã€‚é‡ä¼ å®šæ—¶å™¨å‘é€æ–¹è®¾è®¡ä¸€ä¸ªé‡ä¼ å®šæ—¶å™¨çš„æœºåˆ¶ï¼Œå‘é€æ–¹æ¯å‘é€ä¸€ä¸ªæ•°æ®å¸§ï¼Œå°±å¯åŠ¨ä¸€ä¸ªå€’è®¡æ—¶çš„é‡ä¼ å®šæ—¶å™¨ï¼Œå¦‚æžœåœ¨è¶…æ—¶ timeout ä¹‹å‰æ”¶åˆ°ç¡®è®¤ï¼Œå°±å…³é—­å®šæ—¶å™¨å¹¶å‘é€ä¸‹ä¸€å¸§ã€‚å¦‚æžœè¶…æ—¶ï¼Œå°±é‡ä¼ ä¹‹å‰çš„å¸§ã€‚ä¸¢å¤±æŽ¥æ”¶æ–¹æ”¶åˆ°ä¸€ä¸ªæ•°æ®å¸§ï¼Œæ ¡éªŒæ­£ç¡®å‘é€ ACKï¼Œç­‰å¾…æŽ¥æ”¶ä¸‹ä¸€å¸§ï¼Œå¦‚æžœç¡®è®¤å¸§ä¸¢å¤±ï¼Œå‘é€æ–¹æ”¶ä¸åˆ°ç¡®è®¤ï¼Œè¶…æ—¶åŽé‡ä¼ æ—§å¸§ï¼Œè€ŒæŽ¥æ”¶æ–¹åœ¨ç­‰å¾…æ–°å¸§ï¼Œæ­¤åˆ»å‘é€æ–¹ä¸ŽæŽ¥æ”¶æ–¹çš„çŠ¶æ€ä¸åŒæ­¥ï¼Œå¦‚ä½•åŒºåˆ†æ–°å¸§ä¸Žé‡ä¼ çš„å¸§ï¼Ÿå¸§ç¼–å·åœç­‰åè®®ä½¿ç”¨åºå·å’Œç¡®è®¤å·ï¼Œä»¥åŒºåˆ†é‡ä¼ çš„æ•°æ®å¸§ã€‚å‘é€æ–¹å‘é€å¸§æ—¶ä½¿ç”¨åºå·ï¼ŒæŽ¥æ”¶æ–¹ä½¿ç”¨ç¡®è®¤å·ã€‚ä¿¡é“åˆ©ç”¨çŽ‡åœæ­¢ç­‰å¾…åè®®çš„ä¼˜ç‚¹æ˜¯ç®€å•ï¼Œä½†ç¼ºç‚¹æ˜¯ä¿¡é“åˆ©ç”¨çŽ‡å¤ªä½Žã€‚ä¿¡é“åˆ©ç”¨çŽ‡å…¬å¼ï¼š$U=\frac{T_D}{T_D+RTT+T_A}$ï¼Œå…¶ä¸­ï¼š$T_D$ï¼šæ•°æ®å¸§ä¼ è¾“æ—¶å»¶$RTT$ï¼šæ•°æ®å¸§+ç¡®è®¤å¸§ä¼ æ’­æ—¶å»¶$T_A$ï¼šç¡®è®¤å¸§ä¼ è¾“æ—¶å»¶ä¸¾ä¾‹ï¼šå‡è®¾ä¸»æœºç”²ä¸Žä¸»æœºä¹™ä½¿ç”¨åœç­‰åè®®ä¼ è¾“æ•°æ®ï¼Œè‹¥ç”²ä¹™ä¹‹é—´çš„å•å‘ä¼ æ’­å»¶è¿Ÿæ˜¯ 15msï¼Œæ•°æ®å¸§é•¿ä¸º 1000 å­—èŠ‚ï¼Œä¿¡é“å®½å¸¦ä¸º 100Mbpsï¼Œä¹™æ¯æ”¶åˆ°ä¸€ä¸ªæ•°æ®å¸§ç«‹å³åˆ©ç”¨ä¸€ä¸ªçŸ­å¸§ï¼ˆå¿½ç•¥å…¶å‘é€æ—¶å»¶ï¼‰è¿›è¡Œç¡®è®¤ï¼Œåˆ™ä¿¡é“åˆ©ç”¨çŽ‡ä¸ºï¼šå‘é€ä¸€ä¸ªæ•°æ®å¸§åˆ° 100Mbps é“¾è·¯æ‰€éœ€æ—¶é—´ä¸ºï¼š$T_D = \frac{1000 \ast 8bits}{100 \ast 10^6bit/s }= 80\mu s$ã€‚å‘é€æ–¹åœ¨ t=0 æ—¶åˆ»å‘é€ï¼Œ15ms åŽç¬¬ 1 ä¸ªæ¯”ç‰¹åˆ°è¾¾ä¸»æœºä¹™ï¼Œ15.08ms æ—¶ä¸»æœºä¹™æ”¶åˆ°æœ€åŽä¸€æ¯”ç‰¹ï¼Œå¼€å§‹å‘é€ç¡®è®¤å¸§ï¼Œç”±äºŽç¡®è®¤å¸§å¾ˆçŸ­ï¼Œæˆ‘ä»¬å¿½ç•¥å…¶å‘é€æ—¶å»¶ï¼Œåœ¨30.08ms æ—¶ï¼Œç¡®è®¤å¸§åˆ°è¾¾ä¸»æœºç”²ï¼Œæ€»æ—¶é—´å‘¨æœŸä¸ºTð· + RTT + Tð´(å¿½ç•¥) = 30.08msï¼Œä¿¡é“åˆ©ç”¨çŽ‡ä¸º0.0027ã€‚ä¿¡é“åˆ©ç”¨çŽ‡ä¸º 0.27%ï¼Œå°±æ˜¯è¯´å‘é€æ–¹åªæœ‰ç™¾åˆ†ä¹‹0.27çš„æ—¶é—´æ˜¯å¿™çš„ã€‚åœæ­¢ç­‰å¾…åè®®ä¿¡é“åˆ©ç”¨çŽ‡å¤ªä½Žäº†ã€‚GBN åè®®æˆ‘ä»¬è®¨è®ºä¸€ä¸ªå¯ä»¥èŽ·å¾—è¾ƒé«˜ä¿¡é“åˆ©ç”¨çŽ‡çš„åè®®ï¼šè¿žç»­ ARQ åè®®(Go-back-NProtocol)ï¼Œæˆ–ç§° GBN åè®®ï¼Œä¹Ÿç§°ä¸ºæ»‘åŠ¨çª—å£åè®®ï¼ˆSliding Window Protocolï¼‰ã€‚å‘é€æ–¹åœ¨æŽ¥æ”¶åˆ°ç¡®è®¤ä¹‹å‰ï¼Œå‘é€ä¸€ç»„æ•°æ®å¸§ï¼Œè€Œä¸æ˜¯å‘é€ä¸€ä¸ªæ•°æ®å¸§å°±åœæ­¢ç­‰å¾…ç¡®è®¤ã€‚ç¡®è®¤å·åœ¨ GBN åè®®ä¸­ï¼Œé‡‡ç”¨ç´¯ç§¯ç¡®è®¤çš„æ–¹å¼ï¼Œç¡®è®¤å·æ˜¯å¸Œæœ›æŽ¥æ”¶çš„ä¸‹ä¸€ä¸ªåˆ†ç»„åºå·ã€‚ä¸¾ä¾‹ï¼ŒACK7 è¡¨ç¤ºåºå· 6 ä»¥å†…çš„æ‰€æœ‰å¸§éƒ½å·²æ­£ç¡®æ”¶åˆ°äº†ï¼Œç­‰å¾…æŽ¥æ”¶ 7 å·å¸§ã€‚å‘é€çª—å£åœ¨ GBN åè®®ä¸­ï¼Œå‘é€ä¸€ç»„å¸§ï¼Œç„¶åŽåœæ­¢ç­‰å¾…ç¡®è®¤ã€‚å‘é€çª—å£å®šä¹‰äº†æœ€å¤šå¯ä»¥å‘é€å¤šå°‘ä¸ªæ•°æ®å¸§ã€‚ä¸¾ä¾‹å¦‚ä¸‹å›¾ï¼šä¸€ä¸ªå¤§å°ä¸º 7 çš„çª—å£ï¼Œçª—å£å·¦ä¾§æ˜¯å·²ç¡®è®¤ï¼Œå·²ä¸¢å¼ƒçš„å¸§ï¼Œçª—å£å†…æœ‰è‰²çš„æ˜¯å·²å‘é€çš„ï¼Œå°šæœªæ”¶åˆ°ç¡®è®¤çš„å¸§ï¼Œ0ï¼Œ1ï¼Œ2ï¼Œ3 å·å¸§ï¼Œå‘é€æ–¹éœ€è¦ç­‰å¾…ï¼Œå¯ç§°ä¸ºæœªå®Œæˆå¸§ï¼Œçª—å£å†…æ— è‰²çš„æ˜¯å¯å‘é€è¿˜æœªå‘é€çš„å¸§ï¼Œæ˜¯ 4ï¼Œ5ï¼Œ6 å·å¸§ï¼Œçª—å£å³ä¾§æ˜¯ä¸èƒ½å‘é€çš„å¸§ã€‚æè¿°å‘é€çª—å£éœ€ 3 ä¸ªå˜é‡ï¼š$S_f$ï¼šå‘é€çª—å£ï¼Œç¬¬ä¸€ä¸ªæœªå®Œæˆåˆ†ç»„ã€‚å®ŒæˆæŒ‡çš„æ˜¯å‘é€æ–¹æŽ¥æ”¶åˆ°ç¡®è®¤æ–¹çš„ç¡®è®¤å¸§ã€‚$S_n$ï¼šå‘é€çª—å£ï¼Œä¸‹ä¸€ä¸ªå¾…å‘é€åˆ†ç»„ã€‚$S_{size}$ï¼šå‘é€çª—å£ï¼Œå¤§å°ã€‚å½“ ackNo å¤§äºŽç­‰äºŽ $S_f$ ä¸”å°äºŽ $S_n$ çš„æ— é”™ ACK åˆ°è¾¾æ—¶ï¼Œå‘é€çª—å£å¯ä»¥æ»‘åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªæ§½ã€‚ä¸¾ä¾‹ï¼Œå½“å‘é€æ–¹æ”¶åˆ° $ACK_6$ï¼Œè¡¨ç¤º 4ï¼Œ5 å·å¸§å·²æ­£ç¡®æŽ¥æ”¶ï¼Œçª—å£æ»‘åŠ¨ï¼ŒçŠ¶æ€å¦‚ä¸‹å›¾ã€‚æŽ¥æ”¶çª—å£åœ¨ GBN åè®®ä¸­ï¼ŒæŽ¥æ”¶çª—å£å¤§å°æ€»æ˜¯ 1ã€‚åªæœ‰åºå·åœ¨æŽ¥æ”¶çª—å£å†…çš„æ•°æ®å¸§æ‰æŽ¥æ”¶ã€‚ä»»ä½•å¤±åºçš„åˆ†ç»„éƒ½ä¼šè¢«ä¸¢å¼ƒï¼Œéœ€è¦é‡å‘ã€‚æè¿°æŽ¥æ”¶çª—å£æŽ§åˆ¶åªéœ€ 1 ä¸ªå˜é‡ $R_n$ï¼Œè¡¨ç¤ºå…¶æœŸå¾…ä¸‹ä¸€æ¬¡æŽ¥æ”¶çš„å¸§ï¼Œé‡ä¼ å®šæ—¶å™¨åœ¨ GBN åè®®ä¸­ï¼Œåªä½¿ç”¨ä¸€ä¸ªè®¡æ—¶å™¨ã€‚æŽ¥æ”¶çª—å£å¤§å°æ€»æ˜¯ 1ã€‚å½“å®šæ—¶å™¨è¶…æ—¶ï¼Œå‘é€æ–¹é‡å‘æ‰€æœ‰æœªå®Œæˆåˆ†ç»„ã€‚ä¾‹å¦‚ï¼Œå‡è®¾å‘é€æ–¹å·²ç»å‘é€äº†åˆ†ç»„ 6ï¼ˆ$S_n=7$ï¼‰ï¼Œä½†æ˜¯å”¯ä¸€çš„è®¡æ—¶å™¨ç»ˆæ­¢ã€‚å¦‚æžœ $S_f=3$ï¼Œè¿™æ„å‘³ç€åˆ†ç»„ 3ã€4ã€5 å’Œ 6 æ²¡æœ‰è¢«ç¡®è®¤ï¼›å‘é€æ–¹å›žé€€å¹¶é‡å‘åˆ†ç»„ 3ã€4ã€5 å’Œ 6ã€‚å‘é€æ–¹å‘é€åˆ†ç»„ã€‚å‘é€æ–¹ä¼šå¼€å¯å”¯ä¸€çš„è®¡æ—¶å™¨ã€‚$S_n$ çš„å€¼å¢žé•¿ï¼Œï¼ˆ$S_n=S_n+1$ï¼‰å¦‚æžœè¾¾åˆ°çª—å£å€¼è¿›å…¥é˜»å¡žçŠ¶æ€ã€‚å¦‚æžœ ACK åˆ°è¾¾ï¼Œå…¶ ackNo ä¸Žä¸€ä¸ªæœªå®Œæˆåˆ†ç»„æœ‰å…³ï¼Œé‚£ä¹ˆå‘é€æ–¹æ»‘åŠ¨çª—å£ï¼ˆä»¤ $S_f=ackNo$ï¼‰ï¼Œå¹¶ä¸”å¦‚æžœæ‰€æœ‰æœªå®Œæˆåˆ†ç»„éƒ½è¢«ç¡®è®¤ï¼ˆ$ackNo=S_n$ï¼‰ï¼Œé‚£ä¹ˆå…³é—­è®¡æ—¶å™¨ã€‚å¦‚æžœå¹¶ä¸æ˜¯æ‰€æœ‰æœªå®Œæˆåˆ†ç»„éƒ½è¢«ç¡®è®¤ï¼Œé‚£ä¹ˆé‡æ–°å¼€å¯è®¡æ—¶å™¨ã€‚å¦‚æžœè¶…æ—¶å‘ç”Ÿï¼Œå‘é€æ–¹é‡å‘æ‰€æœ‰æœªå®Œæˆåˆ†ç»„å¹¶é‡æ–°å¼€å¯è®¡æ—¶å™¨ã€‚æŽ¥æ”¶æ–¹å¦‚æžœ $seqNo=R_n$ çš„æ— é”™åˆ†ç»„åˆ°è¾¾ï¼Œä¹‹åŽçª—å£æ»‘åŠ¨ï¼Œ$R_n=ï¼ˆR_n+1ï¼‰$ã€‚$ackNo=R_n$çš„ ACK è¢«å‘é€ã€‚å¦‚æžœ seqNo åœ¨çª—å£ä¹‹å¤–çš„æ— é”™åˆ†ç»„åˆ°æ¥ï¼Œåˆ†ç»„è¢«ä¸¢å¼ƒï¼Œä½†æ˜¯ $ackNo=R_n$çš„ ACK è¢«å‘é€ã€‚å‘é€çª—å£çš„æœ€å¤§å€¼å½“ç”¨ n ä¸ªæ¯”ç‰¹è¿›è¡Œå¸§ç¼–å·æ—¶ï¼ŒæŽ¥æ”¶çª—å£çš„å¤§å°ä¸º 1ï¼Œåˆ™åªæœ‰åœ¨å‘é€çª—å£çš„å¤§å°$W_T â‰¤ 2^n âˆ’ 1$æ—¶ï¼Œè¿žç»­ ARQ åè®®æ‰èƒ½æ­£ç¡®è¿è¡Œã€‚ä¾‹å¦‚ï¼Œå½“é‡‡ç”¨ 2bit ç¼–ç æ—¶ï¼Œå‘é€çª—å£çš„æœ€å¤§å€¼æ˜¯ 3 è€Œä¸æ˜¯ 4ã€‚ä¸‹å›¾æ¯”è¾ƒ 4 ä¸Ž 3 ä¸¤ç§æƒ…å†µã€‚å¦‚æžœçª—å£çš„å¤§å°æ˜¯ 4 å¹¶ä¸”æ‰€æœ‰ç¡®è®¤éƒ½ä¸¢å¤±ï¼Œå‘é€æ–¹å°†ä¼šé‡ä¼ æ—§çš„æ‰€æœ‰ 4 ä¸ªå¸§ã€‚ä½†æ˜¯æŽ¥æ”¶æ–¹ç­‰å¾…æŽ¥æ”¶çš„æ˜¯æ–°çš„ 0 å·å¸§ï¼Œç”±äºŽçª—å£åŒ¹é…ï¼ŒæŽ¥æ”¶ 0 å·å¸§ï¼ŒæŽ¥æ”¶æ–¹è®¤ä¸ºæŽ¥æ”¶çš„æ˜¯æ–°çš„ 0 å·å¸§ï¼Œè¿™æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚å¦‚æžœçª—å£å¤§å°ä¸º 3 å¹¶ä¸”æ‰€æœ‰ä¸‰ä¸ªç¡®è®¤éƒ½ä¸¢å¤±ï¼Œé‚£ä¹ˆè¶…æ—¶å¹¶ä¸”é‡å‘æ‰€æœ‰ 3 ä¸ªåˆ†ç»„ï¼ŒæŽ¥æ”¶æ–¹çŽ°åœ¨æœŸå¾… 3 å·å¸§ï¼Œè€Œä¸æ˜¯ 0 å·å¸§ï¼Œå› æ­¤é‡ä¼ åˆ†ç»„è¢«æ­£ç¡®ä¸¢å¼ƒã€‚ä¸ä¼šäº§ç”Ÿé”™è¯¯ã€‚ä¸ºèƒ½æ­£ç¡®åŒºåˆ†é‡ä¼ çš„å¸§ï¼Œåº”ä¿è¯åœ¨$W_T+W_R$çš„çª—å£å†…ä¸å‡ºçŽ°é‡å¤åºå·ï¼Œå³$W_T + W_R â‰¤ 2^n$ï¼Œæˆ‘ä»¬å°† WT å’Œ WR æ‹¼æŽ¥åœ¨ä¸€èµ·ï¼Œåœ¨$W_T + W_R$çª—å£å†…å¦‚æžœå‡ºçŽ°é‡å¤åºå·ï¼Œå°±ä¼šå‘ç”Ÿä¸Šè¿°çš„é”™è¯¯ï¼Œå¦‚æžœä¸å‡ºçŽ°é‡å¤çš„åºå·ï¼Œå°±ä¸ä¼šå‘ç”Ÿä¸Šè¿°çš„é”™è¯¯ã€‚GBN åè®®çš„æŽ¥æ”¶çª—å£ä¸º 1ï¼Œæ‰€ä»¥å‘é€çª—å£æœ€å¤§ä¸º$2^n âˆ’ 1$CSMA/CDå…±äº«ä¿¡é“æœ‰ä¸€ä¸ªåŸºæœ¬é—®é¢˜ï¼Œç¢°æ’ž ï¼ˆCollisionï¼‰ã€‚è‹¥æŸæ—¶åˆ»ä¸¤å¸§åŒæ—¶å‘å‡ºï¼Œä¼šç›¸äº’é‡å ï¼Œç»“æžœä½¿ä¿¡å·æ— æ³•è¾¨è®¤ï¼Œç§°ä¸ºç¢°æ’žã€‚å¦‚ä¸‹å›¾ä¾¿æ˜¯ç¢°æ’žï¼šç¢°æ’žçš„ç»“æžœæ˜¯ä¸¤ä¸ªå¸§éƒ½å˜å¾—æ— ç”¨ã€‚è§£å†³ç¢°æ’žçš„æ€è·¯å¤§è‡´æœ‰ä¸¤ç±»ï¼šä¸€ç±»æ€è·¯æ˜¯å°†å·¥ä½œåšåœ¨å‰é¢ï¼Œé¢„é˜²ç¢°æ’žï¼Œå³å—æŽ§æŽ¥å…¥ï¼šå„ä¸»æœºä¸èƒ½ä»»æ„å‘é€æ•°æ®ï¼Œå¿…é¡»æœä»Žä¸€å®šçš„æŽ§åˆ¶ã€‚å¦‚ä»¤ç‰ŒçŽ¯ç½‘ï¼Œæ‹¥æœ‰ä»¤ç‰Œçš„ä¸»æœºå¯å‘é€æ•°æ®ï¼Œæ²¡æœ‰ä»¤ç‰Œçš„ä¸»æœºåªèƒ½æŽ¥æ”¶æ•°æ®ï¼Œä»¤ç‰Œå¦‚å‡»é¼“ä¼ èŠ±èˆ¬ä¾æ¬¡ä¼ é€’ã€‚å¦ä¸€ç±»æ€è·¯æ˜¯å°†å·¥ä½œåšåœ¨åŽé¢ï¼Œæ’žå°±æ’žå§ï¼Œåšå¥½äº‹æ•…çš„å¤„ç†ï¼Œå³éšæœºæŽ¥å…¥ï¼šæ‰€æœ‰ä¸»æœºéƒ½å¯ä»¥æ ¹æ®è‡ªå·±çš„æ„æ„¿éšæœºåœ°å‘é€æ•°æ®ã€‚CSMA/CDï¼ˆCarrier Sense Multiple Access with Collision Detectionï¼‰è½½æ³¢ç›‘å¬å¤šç‚¹æŽ¥å…¥/ç¢°æ’žæ£€æµ‹ã€‚è½½æ³¢ç›‘å¬ï¼ˆCarrier Senseï¼‰æŒ‡ç›‘æµ‹ä¿¡é“ä¸Šæœ‰æ— æ•°æ®ä¿¡å·ä¼ è¾“ï¼Œç›‘æµ‹æ–¹æ³•æ˜¯åˆ¤æ–­åŸºå¸¦ä¸Šæ˜¯å¦æœ‰è„‰å†²äºŒè¿›åˆ¶ 0 æˆ– 1ã€‚å¤šç‚¹æŽ¥å…¥ï¼ˆMultiple Accessï¼‰åŒæ—¶æœ‰å¤šä¸ªç«™ç‚¹è¿žæŽ¥åœ¨ä¿¡é“ä¸Šã€‚æ˜¾ç„¶ï¼Œä½¿ç”¨éšæœºæŽ¥å…¥çš„æ–¹å¼æ˜¯æ— æ³•é¿å…ç¢°æ’žçš„ã€‚åœ¨éšæœºæŽ¥å…¥çš„æƒ…å†µä¸‹ï¼Œéœ€è¦å®Œæˆå‡ é¡¹å·¥ä½œï¼šå°½é‡å‡å°‘ç¢°æ’žæ˜¯å¦ç¢°æ’žæœ‰æ˜Žç¡®ç»“è®ºç¢°æ’žä¹‹åŽçš„äº‹æ•…å¤„ç†CSMA/CD åè®®å®Œæˆè¿™äº›å·¥ä½œçš„åŽŸç†ï¼Œç®€ç¼©ä¸ºä¸‰å¥å£è¯€ã€‚å…ˆå¬åŽå‘è¾¹å‘è¾¹å¬å†²çªé‡å‘å…ˆå¬åŽå‘æˆ‘ä»¬å½“ç„¶å¸Œæœ›å°½é‡å‡å°‘ç¢°æ’žï¼Œæƒ³ä¸ªä»€ä¹ˆåŠžæ³•å‘¢ï¼Ÿå°±æ˜¯åœ¨å‘é€æ•°æ®å¸§ä¹‹å‰ï¼Œå…ˆç›‘å¬ä¿¡é“ã€‚â€œè½½æ³¢ç›‘å¬â€å°±æ˜¯â€œå‘é€å‰å…ˆç›‘å¬â€ï¼Œå¦‚æžœä¿¡é“ä¸Šæœ‰æ•°æ®å¸§ï¼Œå½“ç„¶å°±å…ˆä¸å‘é€æ•°æ®å¸§ï¼Œå¦åˆ™ä¸€å‘é€æ•°æ®å¸§å°±äº§ç”Ÿç¢°æ’žï¼Œç¢°æ’žäº†å°±æ¯«æ— æ„ä¹‰ã€‚å½“ç›‘å¬ä¿¡é“æ—¶ï¼Œå¦‚æžœä¿¡é“å¿™æœ‰æ•°æ®å¸§ï¼Œç«™ç‚¹å›žåŽ»ç¡ä¸€æ®µéšæœºæ—¶é—´ï¼Œç„¶åŽå†å›žæ¥ç›‘å¬ä¿¡é“ï¼Œè¿™ç§ç­–ç•¥ç§°éžåšæŒåž‹ CSMAã€‚å½“ç›‘å¬ä¿¡é“æ—¶ï¼Œå¦‚æžœä¿¡é“å¿™æœ‰æ•°æ®å¸§ã€‚ç«™ç‚¹ä¸æ˜¯å›žåŽ»ç¡ä¸€ä¼šï¼Œè€Œæ˜¯è¹²å®ˆåœ¨è¿™å„¿ï¼Œç»§ç»­ç›‘å¬ç›´åˆ°ä¿¡é“ç©ºé—²ï¼Œè¿™ç§ç­–ç•¥ç§°åšæŒåž‹ CSMAã€‚å½“ç›‘å¬åˆ°ä¿¡é“ç©ºé—²ä¸‹æ¥æ—¶ï¼Œç«™ç‚¹ç«‹å³å°±å‘é€æ•°æ®ï¼Œç§° 1-åšæŒåž‹ CSMAã€‚å½“ç›‘å¬åˆ°ä¿¡é“ç©ºé—²ä¸‹æ¥æ—¶ï¼Œç«™ç‚¹å¹¶ä¸ç«‹å³å‘é€æ•°æ®ï¼Œå…ˆæŠ›ä¸€æ¬¡ç¡¬å¸ï¼Œå¦‚æžœæ˜¯å­—å°±å‘ï¼Œå¦‚æžœæ˜¯èŠ±å°±ä¸å‘ï¼Œå°±æ˜¯è¯´ä»¥æ¦‚çŽ‡ p å‘é€æ•°æ®ï¼Œç§° p-åšæŒåž‹ CSMAã€‚è¾¹å‘è¾¹å¬ç«™ç‚¹å‘å‡ºæ•°æ®å¸§åŽï¼Œæ˜¯å¦ç¢°æ’žéœ€è¦æœ‰æ˜Žç¡®çš„ç»“è®ºã€‚å°±éœ€è¦â€œç¢°æ’žæ£€æµ‹â€ï¼ˆCollision Detectionï¼‰ã€‚å¦‚ä½•æ£€æµ‹å‘¢ï¼Ÿç«™ç‚¹æ£€æµ‹ä¿¡é“ä¸Šçš„ä¿¡å·ç”µåŽ‹å¤§å°ï¼Œå½“å‡ ä¸ªç«™åŒæ—¶åœ¨æ€»çº¿ä¸Šå‘é€æ•°æ®æ—¶ï¼Œæ€»çº¿ä¸Šçš„ä¿¡å·ç”µåŽ‹æ‘†åŠ¨å€¼å°†ä¼šå¢žå¤§ï¼ˆäº’ç›¸å åŠ ï¼‰ã€‚å½“æ£€æµ‹åˆ°çš„ä¿¡å·ç”µåŽ‹æ‘†åŠ¨å€¼è¶…è¿‡ä¸€å®šçš„é—¨é™å€¼æ—¶ï¼Œå°±è®¤ä¸ºæ€»çº¿ä¸Šè‡³å°‘æœ‰ä¸¤ä¸ªç«™åŒæ—¶åœ¨å‘é€æ•°æ®ï¼Œè¡¨æ˜Žäº§ç”Ÿäº†ç¢°æ’žï¼Œâ€œç¢°æ’žæ£€æµ‹â€ä¹Ÿç§°ä¸ºâ€œå†²çªæ£€æµ‹â€ã€‚å‡è®¾ A ç«™ç‚¹ä¸Ž B ç«™ç‚¹æ˜¯ç½‘ç»œæœ€è¿œçš„ä¸¤ç«¯ï¼Œä»Ž A ç«™ç‚¹å‘å‡ºä¸€æ•°æ®å¸§ï¼Œåˆ°è¾¾ Bç«™ç‚¹çš„æ‰€èŠ±è´¹çš„æ—¶é—´ä¸º$\tau$ï¼ŒA ç«™ç‚¹å‘å‡ºä¸€æ•°æ®å¸§ï¼Œå°±åœ¨å³å°†åˆ°è¾¾ B ç«™çš„æ—¶åˆ»ï¼ŒBç«™å‘å‡ºä¸€æ•°æ®å¸§ï¼Œç«‹å³å‘ç”Ÿç¢°æ’žï¼Œç¢°æ’žä¿¡å·ç»§ç»­åˆ°è¾¾ A ç«™ï¼ŒA ç«™åœ¨ç»è¿‡æ—¶é—´ $2\tau$ï¼ˆä¸¤å€çš„ç«¯åˆ°ç«¯ä¼ æ’­æ—¶å»¶ï¼‰å‘çŽ°ç¢°æ’žã€‚æ‰€ä»¥ï¼Œ$å‘é€ç«™ç‚¹ç›‘å¬æ—¶é—´&gt;2\tau$ï¼Œå°±å¯ä»¥å¾—åˆ°æ˜¯å¦ç¢°æ’žçš„æ˜Žç¡®ç»“è®ºã€‚$2\tau$ ä¹Ÿå³ç§°ä¸ºäº‰ç”¨æœŸï¼Œæˆ–ç¢°æ’žçª—å£ã€‚æ‰€ä»¥ä¸ºå¾—åˆ°æ˜¯å¦ç¢°æ’žçš„æ˜Žç¡®ç»“è®ºï¼Œåªéœ€è¦$ç›‘å¬æ—¶é—´&gt;2\tau$å°±å¯ä»¥äº†ã€‚å†²çªé‡å‘å‘ç”Ÿç¢°æ’žï¼Œä¸¤ä¸ªæ•°æ®å¸§éƒ½æŸåï¼Œå½“ç„¶éœ€è¦é‡å‘ã€‚ä½†æ˜¯å¦‚æžœä¸¤ä¸ªç«™ç‚¹éƒ½ç«‹å³é‡å‘æ•°æ®å¸§ï¼Œåˆä¼šå†æ¬¡ç¢°æ’žï¼Œä¸¤ä¸ªç«™ç‚¹å‘é€æ—¶åˆ»æœ€å¥½èƒ½å¤Ÿé”™å¼€ä¸€äº›ã€‚CSMA/CD åè®®ä½¿ç”¨æˆªæ–­äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ç®—æ³•ï¼Œå‘ç”Ÿç¢°æ’žçš„ç«™åœ¨åœæ­¢å‘é€æ•°æ®åŽï¼Œè¦æŽ¨è¿Ÿï¼ˆé€€é¿ï¼‰ä¸€ä¸ªéšæœºæ—¶é—´æ‰èƒ½å†å‘é€æ•°æ®ã€‚é‡ä¼ æ¬¡æ•° kï¼Œ$k=Min[é‡ä¼ æ¬¡æ•°,10]$ä»Žæ•´æ•°é›†åˆ$[0,1,â€¦,(2^k-1)]$ä¸­éšæœºåœ°å–å‡ºä¸€ä¸ªæ•°ï¼Œè®°ä¸º rã€‚é‡ä¼ æ‰€éœ€çš„æ—¶å»¶å°±æ˜¯ r å€çš„åŸºæœ¬é€€é¿æ—¶é—´ã€‚åŸºæœ¬é€€é¿æ—¶é—´ä¸€èˆ¬æ˜¯å–ä¸ºäº‰ç”¨æœŸã€‚å½“é‡ä¼ è¾¾ 16 æ¬¡ä»ä¸èƒ½æˆåŠŸæ—¶å³ä¸¢å¼ƒè¯¥å¸§ï¼Œå¹¶å‘é«˜å±‚æŠ¥å‘Šã€‚ä½¿ç”¨ CSMA/CD åè®®åŽä¸èƒ½è¿›è¡Œå…¨åŒå·¥é€šä¿¡è€Œåªèƒ½è¿›è¡ŒåŒå‘äº¤æ›¿é€šä¿¡ï¼ˆåŠåŒå·¥é€šä¿¡ï¼‰ã€‚æ¯ä¸ªç«™åœ¨å‘é€æ•°æ®ä¹‹åŽçš„ä¸€å°æ®µæ—¶é—´å†…ï¼Œå­˜åœ¨ç€é­é‡ç¢°æ’žçš„å¯èƒ½æ€§ã€‚è¿™ç§å‘é€çš„ä¸ç¡®å®šæ€§ä½¿æ•´ä¸ªä»¥å¤ªç½‘çš„å¹³å‡é€šä¿¡é‡è¿œå°äºŽä»¥å¤ªç½‘çš„æœ€é«˜æ•°æ®çŽ‡ã€‚10BASE-T ä»¥å¤ªç½‘10Base-Tä»¥å¤ªç½‘ä½¿ç”¨çš„æ˜¯1-åšæŒåž‹CSMA / CDã€‚10BASE-T ä»¥å¤ªç½‘ä¸ç”¨åŒè½´ç”µç¼†è€Œç”¨æ— å±è”½åŒç»žçº¿ï¼Œé™ä½Žäº†æˆæœ¬ï¼Œè¿˜å¢žåŠ äº†ä¸€ç§å¯é æ€§éžå¸¸é«˜çš„è®¾å¤‡ï¼Œå«åšé›†çº¿å™¨ï¼ˆhubï¼‰ã€‚æ­£æ˜¯è¿™ä¸¤ä¸ªåŽŸå› ï¼Œä½¿å¾— 10BASE-Tä»¥å¤ªç½‘æ‹¥æœ‰å¾ˆä½Žçš„æˆæœ¬å’Œå¾ˆé«˜çš„å¯é æ€§ï¼Œè¿…é€Ÿåœ¨å±€åŸŸç½‘ä¸­å æ®äº†ç»Ÿæ²»åœ°ä½ã€‚10BASE-T ä»¥å¤ªç½‘å®šä¹‰ï¼šäº‰ç”¨æœŸçš„é•¿åº¦ä¸º 51.2 usï¼Œè€Œ$ç›‘å¬æ—¶é—´ &gt; 2 \tau$ ä¾¿ç­‰ä»·äºŽ$å‘é€æ•°æ®å¸§çš„æ—¶é—´ &gt; 2\tau$ã€‚å¯å¾—ï¼š$\frac{å¸§é•¿L}{10Mbps}&gt;51.2 \mu s$ï¼Œå³$L &gt; 512bit$ã€‚æœ€çŸ­å¸§é•¿ 64 å­—èŠ‚ã€‚å¸§é—´æœ€å°é—´éš”ä¸º 9.6usï¼Œå› ä¸ºè¦ç»™åŒæ–¹ç•™ä¸‹ç¼“å†²æ—¶é—´ã€‚ç«™ç‚¹åˆ°é›†çº¿å™¨çš„è·ç¦»ä¸è¶…è¿‡ 100mï¼Œä¸ºäº†ä¿è¯åŒç»žçº¿ä¸Šçš„ä¿¡å·ä¸ä¼šå‡ºé”™ã€‚å¦‚æžœæ•°æ®å¸§å¤ªé•¿å°±ä¼šå‡ºçŽ°æœ‰çš„ä¸»æœºé•¿æ—¶é—´ä¸èƒ½å‘é€æ•°æ®ï¼Œè€Œä¸”æœ‰çš„å‘é€æ•°æ®å¯èƒ½è¶…å‡ºæŽ¥æ”¶ç«¯çš„ç¼“å†²åŒºå¤§å°ï¼Œé€ æˆç¼“å†²æº¢å‡ºã€‚ä¸ºé¿å…å•ä¸€ä¸»æœºå ç”¨ä¿¡é“æ—¶é—´è¿‡é•¿ï¼Œè§„å®šäº†ä»¥å¤ªç½‘å¸§çš„æ•°æ®éƒ¨åˆ†æœ€å¤§é•¿åº¦ä¸º1500ã€‚ç½‘å¡åœ¨ä¸»æœºå†…éƒ¨ï¼Œéœ€è¦ 10BASE-T çš„ç½‘ç»œæŽ¥å£æ¿åˆç§°ä¸ºé€šä¿¡é€‚é…å™¨ï¼ˆadapterï¼‰æˆ–ç½‘ç»œæŽ¥å£å¡ NIC(Network Interface Card)ï¼Œæˆ–â€œç½‘å¡â€ã€‚ç½‘ç»œé€‚é…å™¨çš„é‡è¦åŠŸèƒ½ï¼šå¯¹æ•°æ®è¿›è¡Œä¸²è¡Œ/å¹¶è¡Œä¼ è¾“çš„è½¬æ¢ç¼–ç ä¸Žè¯‘ç å³æ›¼å½»æ–¯ç‰¹ç¼–ç ä¸Žè¯‘ç ã€‚é“¾è·¯ç®¡ç†ä¸»è¦æ˜¯ CSMA/CD åè®®çš„å®žçŽ°ã€‚æ•°æ®çš„å°è£…ä¸Žè§£å°å°è£…ä»¥å¤ªç½‘å¸§ã€‚ç½‘å¡çš„ç¬¬ä¸€ï¼Œç¬¬äºŒé¡¹åŠŸèƒ½å±žäºŽç‰©ç†å±‚çš„åŠŸèƒ½ã€‚ç¬¬ä¸‰é¡¹ CSMA/CD åè®®çš„åŽŸç†ä¸Šæ–‡ä¹Ÿä»‹ç»äº†ï¼Œåœ¨æ­¤ä¸»è¦ä»‹ç»ä¸€ä¸‹ä»¥å¤ªç½‘å¸§ï¼Œä¹Ÿç§° MAC å¸§ã€‚ç½‘ç»œé€‚é…å™¨å·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚ã€‚ç”Ÿäº§ç½‘å¡æ—¶ï¼Œåœ¨ç½‘å¡çš„ ROM å›ºåŒ–äº† 6 å­—èŠ‚çš„ MAC åœ°å€ï¼Œå› æ­¤ MAC åœ°å€ä¹Ÿå«åšç¡¬ä»¶åœ°å€(hardware address)æˆ–ç‰©ç†åœ°å€ã€‚MAC åœ°å€å”¯ä¸€æ ‡è¯†äº†ä¸€å—ç½‘å¡ã€‚MAC åœ°å€å­—æ®µæ˜¯ 6 å­—èŠ‚ï¼ˆ48 ä½ï¼‰ï¼Œå‰ä¸‰ä¸ªå­—èŠ‚ï¼ˆå³é«˜ä½ 24 ä½ï¼‰ï¼Œæ˜¯ç”Ÿäº§åŽ‚å®¶æ ‡è¯†ï¼Œç§°ä¸ºç»„ç»‡å”¯ä¸€æ ‡è¯†ç¬¦ï¼ŒåŽä¸‰ä¸ªå­—èŠ‚ï¼ˆå³ä½Žä½ 24 ä½ï¼‰ç”±åŽ‚å®¶è‡ªè¡ŒæŒ‡æ´¾çš„äº§å“ä¸²å·ï¼Œç§°ä¸ºæ‰©å±•å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¿…é¡»ä¿è¯ä¸²å·æ²¡æœ‰é‡å¤ã€‚ç½‘å¡å°†ä¸Šä¸€å±‚äº¤ä¸‹æ¥çš„æ•°æ®åŠ ä¸Šé¦–éƒ¨å’Œå°¾éƒ¨ï¼Œæˆä¸ºä»¥å¤ªç½‘çš„å¸§ã€‚æŽ¥æ”¶æ—¶å°†ä»¥å¤ªç½‘çš„å¸§å‰¥åŽ»é¦–éƒ¨å’Œå°¾éƒ¨ï¼Œç„¶åŽé€äº¤ä¸Šä¸€å±‚ã€‚å¸¸ç”¨çš„ä»¥å¤ªç½‘ MAC å¸§æ ¼å¼æœ‰ä¸¤ç§æ ‡å‡†ï¼šDIXEthernetV2 æ ‡å‡†å’Œ IEEE çš„ 802.3 æ ‡å‡†ï¼Œæœ€å¸¸ç”¨çš„ MAC å¸§æ˜¯ä»¥å¤ªç½‘ V2 çš„æ ¼å¼ã€‚ç½‘å¡å·¥ä½œè¦ç‚¹é€‚é…å™¨ä»Žç½‘ç»œå±‚èŽ·å¾—ä¸€ä¸ªåˆ†ç»„ï¼ŒåŠ ä¸Šä»¥å¤ªç½‘çš„é¦–éƒ¨å’Œå°¾éƒ¨ï¼Œç»„æˆä»¥å¤ªç½‘å¸§ï¼Œæ”¾å…¥é€‚é…å™¨çš„ç¼“å­˜ä¸­ï¼Œå‡†å¤‡å‘é€ã€‚è‹¥é€‚é…å™¨æ£€æµ‹åˆ°ä¿¡é“ç©ºé—²ï¼Œå°±å‘é€è¿™ä¸ªå¸§ã€‚è‹¥æ£€æµ‹åˆ°ä¿¡é“å¿™ï¼Œåˆ™ç»§ç»­æ£€æµ‹å¹¶ç­‰å¾…ä¿¡é“è½¬ä¸ºç©ºé—²ï¼ˆåŠ ä¸Š 96 æ¯”ç‰¹æ—¶é—´ï¼‰ï¼Œç„¶åŽå‘é€è¿™ä¸ªå¸§ã€‚åœ¨å‘é€è¿‡ç¨‹ä¸­ç»§ç»­æ£€æµ‹ä¿¡é“ï¼Œè‹¥ä¸€ç›´æœªæ£€æµ‹åˆ°ç¢°æ’žï¼Œå°±é¡ºåˆ©æŠŠè¿™ä¸ªå¸§æˆåŠŸå‘é€å®Œæ¯•ã€‚è‹¥æ£€æµ‹åˆ°ç¢°æ’žï¼Œåˆ™ä¸­æ­¢æ•°æ®çš„å‘é€ï¼Œå¹¶å‘é€äººä¸ºå¹²æ‰°ä¿¡å·ã€‚åœ¨ä¸­æ­¢å‘é€åŽï¼Œé€‚é…å™¨å°±æ‰§è¡ŒæŒ‡æ•°é€€é¿ç®—æ³•ï¼Œç­‰å¾… r å€ 512 æ¯”ç‰¹æ—¶é—´åŽï¼Œè¿”å›žåˆ°æ­¥éª¤ 2ã€‚å¯¹äºŽæ£€æŸ¥å‡ºçš„æ— æ•ˆ MAC å¸§å°±ç®€å•åœ°ä¸¢å¼ƒã€‚ä»¥å¤ªç½‘ä¸è´Ÿè´£é‡ä¼ ä¸¢å¼ƒçš„å¸§ã€‚æ—©æœŸä»¥å¤ªç½‘é‡‡ç”¨æ— æºçš„æ€»çº¿ç»“æž„ã€‚çŽ°åœ¨é‡‡ç”¨ä»¥å¤ªç½‘äº¤æ¢æœºçš„æ˜Ÿå½¢ç»“æž„æˆä¸ºä»¥å¤ªç½‘çš„é¦–é€‰æ‹“æ‰‘ã€‚æ€»çº¿ä»¥å¤ªç½‘ä½¿ç”¨ CSMA/CD åè®®ï¼Œä»¥åŠåŒå·¥æ–¹å¼å·¥ä½œã€‚ä»¥å¤ªç½‘äº¤æ¢æœºä»¥å…¨åŒå·¥æ–¹å¼å·¥ä½œï¼Œä¸ä½¿ç”¨å…±äº«æ€»çº¿ï¼Œæ²¡æœ‰ç¢°æ’žé—®é¢˜ï¼Œå› æ­¤ä¸ä½¿ç”¨CSMA/CD åè®®ã€‚ä½†ä»ç„¶é‡‡ç”¨ä»¥å¤ªç½‘çš„å¸§ç»“æž„ã€‚ç½‘æ¡¥ä¸Žäº¤æ¢æœºæˆ‘ä»¬çœ‹ä¸‹é¢ä¸€ä¸ªæ‹“æ‰‘ï¼ŒæŸå­¦é™¢æœ‰ä¸‰ä¸ªç³»ï¼Œå„è‡ªæœ‰ä¸€ä¸ªä»¥å¤ªç½‘ï¼Œä¸‰ä¸ªä»¥å¤ªç½‘æ˜¯ä¸‰ä¸ªç‹¬ç«‹çš„ç¢°æ’žåŸŸï¼Œå¦‚æžœç”¨é›†çº¿å™¨è¿žæˆä¸€ä¸ªæ›´å¤§çš„ä»¥å¤ªç½‘ï¼ŒåŒæ—¶ä¹Ÿå½¢æˆä¸€ä¸ªæ›´å¤§çš„ç¢°æ’žåŸŸã€‚è¿žæŽ¥çš„èŒƒå›´æ‰©å¤§äº†ï¼Œä½†ç¢°æ’žä¹Ÿå¤šäº†ï¼Œèƒ½ä¸èƒ½åªæ‰©å¤§èŒƒå›´ï¼Œä¸æ‰©å¤§ç¢°æ’žå‘¢ï¼Ÿç½‘æ¡¥æœ‰ä¸€ç§ç½‘ç»œè®¾å¤‡ï¼Œç§°ä¸ºç½‘æ¡¥ï¼ˆbridgeï¼‰ï¼Œèƒ½åªæ‰©å¤§èŒƒå›´ï¼Œä¸æ‰©å¤§ç¢°æ’žã€‚ç½‘æ¡¥å·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ï¼Œå…¶å†…éƒ¨ç»´æŠ¤ä¸€å¼ è½¬å‘è¡¨ï¼Œæ ¹æ® MAC åœ°å€è½¬å‘æ•°æ®å¸§ã€‚å½“ç½‘æ¡¥æ”¶åˆ°ä¸€ä¸ªå¸§æ—¶ï¼Œæ ¹æ®æ­¤å¸§çš„ç›®çš„ MAC åœ°å€ï¼Œæ£€ç´¢è½¬å‘è¡¨ï¼Œç„¶åŽå†è½¬å‘å¸§åˆ°æŽ¥å£ã€‚æˆ‘ä»¬çœ‹ä¸‹é¢çš„ä¸€ä¸ªæ‹“æ‰‘å›¾ï¼Œå…ˆä¸è€ƒè™‘ç½‘æ¡¥çš„è½¬å‘è¡¨æ˜¯æ€Žä¹ˆæ¥çš„ï¼Œå…ˆçœ‹ä¸€ä¸‹ç½‘æ¡¥ B1 å’Œç½‘æ¡¥ B2 çš„è½¬å‘è¡¨çš„æœ€ç»ˆå½¢æ€ï¼Œå¯ä»¥çœ‹å‡ºï¼Œè½¬å‘è¡¨çš„æœ¬è´¨å°±æ˜¯æ‹“æ‰‘å›¾çš„æè¿°ï¼ŒæŽ¨æƒ³ä¸€ä¸‹ï¼Œè¿™æ˜¯å¿…ç„¶çš„ï¼Œç½‘æ¡¥è‹¥è¦æ­£ç¡®è½¬å‘æ•°æ®å¸§ï¼Œå°±éœ€è¦çŸ¥é“å„ä¸»æœºä¸Žå…¶çš„ä½ç½®å…³ç³»ã€‚é‚£ä¹ˆï¼Œè¿™å¼ è½¬å‘è¡¨åˆæ˜¯æ€Žä¹ˆæ¥çš„å‘¢ï¼Ÿç½‘æ¡¥ B1 å’Œç½‘æ¡¥ B2 åˆšä¸Šç”µæ—¶ï¼Œå…¶å†…éƒ¨è½¬å‘è¡¨éƒ½æ˜¯ç©ºè¡¨ï¼Œè¿™æ—¶ï¼Œä¸»æœº A ç»™ä¸»æœº B å‘é€ä¸€æ•°æ®å¸§ï¼Œç½‘æ¡¥ B1 çš„æŽ¥å£ 1 æ”¶åˆ°è¿™å¸§ï¼Œç½‘æ¡¥ B1 èƒ½åˆ¤æ–­å‡ºä¸»æœº A åœ¨å®ƒçš„æŽ¥å£ 1 ä¾§ï¼Œä½†åˆ¤æ–­ä¸å‡ºä¸»æœº B åœ¨å“ªä¾§ï¼Œé¦–å…ˆè½¬å‘ï¼ŒæŠŠå¸§å‘ç½‘æ¡¥é™¤æŽ¥å£ 1 ä»¥å¤–çš„æ‰€æœ‰æŽ¥å£è½¬å‘æ­¤å¸§ï¼ˆè¿™æ ·åšå¯ä¿è¯æ‰¾åˆ°ç›®çš„ç«™ï¼‰ã€‚ç¬¬äºŒï¼Œå°†â€œA æŽ¥å£ 1â€å¡«å…¥è½¬å‘è¡¨ï¼Œç½‘æ¡¥ B1 å°±å­¦åˆ° 1 ä¸ªæ¡ç›®ã€‚ç½‘æ¡¥ B2 æ”¶åˆ°ç½‘æ¡¥ B1 çš„è½¬å‘å¸§ï¼Œç½‘æ¡¥ B2 ä¹Ÿèƒ½åˆ¤æ–­å‡ºä¸»æœº A åœ¨å®ƒçš„æŽ¥å£ 1 ä¾§ï¼Œä½†åˆ¤æ–­ä¸å‡ºä¸»æœº B åœ¨å“ªä¾§ï¼Œé¦–å…ˆè½¬å‘ï¼ŒæŠŠå¸§å‘ç½‘æ¡¥é™¤æŽ¥å£ 1 ä»¥å¤–çš„æ‰€æœ‰æŽ¥å£è½¬å‘æ­¤å¸§ï¼ˆè¿™æ ·åšå¯ä¿è¯æ‰¾åˆ°ç›®çš„ç«™ï¼‰ã€‚ç¬¬äºŒï¼Œå°†â€œA æŽ¥å£ 1â€å¡«å…¥è½¬å‘è¡¨ï¼Œç½‘æ¡¥ B2 ä¹Ÿå­¦åˆ° 1 ä¸ªæ¡ç›®ã€‚æŽ¥ä¸‹æ¥ï¼Œç¬¬äºŒä¸ªæ•°æ®å¸§æ˜¯ä¸»æœº F ç»™ä¸»æœº C å‘é€çš„ï¼Œç½‘æ¡¥ B2 çš„æŽ¥å£ 2 æ”¶åˆ°è¿™å¸§ï¼Œç½‘æ¡¥ B2 èƒ½åˆ¤æ–­å‡ºä¸»æœº F åœ¨å®ƒçš„æŽ¥å£ 2 ä¾§ï¼Œä½†åˆ¤æ–­ä¸å‡ºä¸»æœº C åœ¨å“ªä¾§ï¼Œé¦–å…ˆè½¬å‘ï¼ŒæŠŠå¸§å‘ç½‘æ¡¥é™¤æŽ¥å£ 2 ä»¥å¤–çš„æ‰€æœ‰æŽ¥å£è½¬å‘æ­¤å¸§ï¼ˆè¿™æ ·åšå¯ä¿è¯æ‰¾åˆ°ç›®çš„ç«™ï¼‰ã€‚ç¬¬äºŒï¼Œå°†â€œF æŽ¥å£ 2â€å¡«å…¥è½¬å‘è¡¨ï¼Œç½‘æ¡¥ B2 å°±å­¦åˆ° 2 ä¸ªæ¡ç›®ã€‚ç½‘æ¡¥ B1 æ”¶åˆ°ç½‘æ¡¥ B2 çš„è½¬å‘å¸§ï¼Œç½‘æ¡¥ B1 ä¹Ÿèƒ½åˆ¤æ–­å‡ºä¸»æœº F åœ¨å®ƒçš„æŽ¥å£ 2 ä¾§ï¼Œä½†åˆ¤æ–­ä¸å‡ºä¸»æœº C åœ¨å“ªä¾§ï¼Œé¦–å…ˆè½¬å‘ï¼ŒæŠŠå¸§å‘ç½‘æ¡¥é™¤æŽ¥å£ 2 ä»¥å¤–çš„æ‰€æœ‰æŽ¥å£è½¬å‘æ­¤å¸§ï¼ˆè¿™æ ·åšå¯ä¿è¯æ‰¾åˆ°ç›®çš„ç«™ï¼‰ã€‚ç¬¬äºŒï¼Œå°†â€œF æŽ¥å£ 2â€å¡«å…¥è½¬å‘è¡¨ï¼Œç½‘æ¡¥ B1 ä¹Ÿå­¦åˆ° 2 ä¸ªæ¡ç›®ã€‚ç¬¬ä¸‰ä¸ªæ•°æ®å¸§æ˜¯ä¸»æœº B ç»™ä¸»æœº A å‘é€çš„ï¼Œç½‘æ¡¥ B1 çš„æŽ¥å£ 1 æ”¶åˆ°è¿™å¸§ï¼Œç½‘æ¡¥B1 èƒ½åˆ¤æ–­å‡ºä¸»æœº B åœ¨å®ƒçš„æŽ¥å£ 1 ä¾§ï¼Œç”±äºŽå·²ç»å­¦åˆ° 2 ä¸ªæ¡ç›®ï¼Œç½‘æ¡¥ B1 ç”±å‰ 2ä¸ªæ¡ç›®ï¼ŒçŸ¥é“ä¸»æœº A åœ¨æŽ¥å£ 1 ä¾§çš„ï¼Œæ‰€ä»¥ä¸è½¬å‘ã€‚ç¬¬äºŒï¼Œå°†â€œB æŽ¥å£ 1â€å¡«å…¥è½¬å‘è¡¨ï¼Œç½‘æ¡¥ B2 å°±å­¦åˆ° 3 ä¸ªæ¡ç›®ã€‚å› ä¸ºç½‘æ¡¥ 1 æ²¡è½¬å‘ï¼Œç½‘æ¡¥ B2 æ²¡æ”¶åˆ°ä»»ä½•æ•°æ®å¸§ï¼Œç½‘æ¡¥ B2 ä»ç»´æŒç€ 2 ä¸ªæ¡ç›®ã€‚ç»è¿‡ä¸€æ®µæ—¶é—´ï¼Œå„ä¸»æœºå‘é€äº†å¾ˆå¤šæ•°æ®å¸§ï¼Œç½‘æ¡¥ B1 å’Œç½‘æ¡¥ B2 å°±å­¦ä¹ åˆ°äº†å®Œæ•´çš„è½¬å‘è¡¨ã€‚äº¤æ¢æœºç½‘æ¡¥åªæœ‰ 2 ä¸ªæŽ¥å£ï¼Œå¯æ˜¯è°è§„å®šç½‘æ¡¥åªèƒ½æœ‰ 2 ä¸ªæŽ¥å£å‘¢ï¼Œç½‘æ¡¥ä¹Ÿå¯ä»¥æœ‰æ›´å¤šæŽ¥å£ï¼Œè¿™å°±æ˜¯ä»¥å¤ªç½‘äº¤æ¢æœºï¼Œä»¥å¤ªç½‘äº¤æ¢æœºï¼ˆswitchï¼‰å®žè´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå¤šæŽ¥å£çš„ç½‘æ¡¥ã€‚é€šå¸¸éƒ½æœ‰åå‡ ä¸ªæˆ–æ›´å¤šçš„æŽ¥å£ã€‚æ¯ä¸ªæŽ¥å£éƒ½ç›´æŽ¥ä¸Žä¸€ä¸ªå•å°ä¸»æœºæˆ–å¦ä¸€ä¸ªä»¥å¤ªç½‘äº¤æ¢æœºç›¸è¿žï¼Œå·¥ä½œåœ¨å…¨åŒå·¥æ–¹å¼ã€‚ä»¥å¤ªç½‘äº¤æ¢æœºå·¥ä½œåŽŸç†ä¹Ÿæ˜¯æŒ‰è½¬å‘è¡¨è½¬å‘æ•°æ®å¸§ï¼Œå·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ï¼Œæ˜¯ç¬¬äºŒå±‚äº¤æ¢æœºï¼Œå…¶å†…éƒ¨çš„å¸§äº¤æ¢è¡¨ï¼ˆåˆç§°ä¸ºåœ°å€è¡¨ï¼‰æ˜¯é€šè¿‡è‡ªå­¦ä¹ ç®—æ³•è‡ªåŠ¨åœ°é€æ¸å»ºç«‹èµ·æ¥çš„ã€‚æˆ‘ä»¬çœ‹ä¸‹é¢çš„ä¸€ä¸ªæ‹“æ‰‘å›¾ï¼Œå…ˆä¸è€ƒè™‘äº¤æ¢æœºçš„è½¬å‘è¡¨æ˜¯æ€Žä¹ˆæ¥çš„ï¼Œå…ˆçœ‹ä¸€ä¸‹äº¤æ¢æœºçš„è½¬å‘è¡¨çš„æœ€ç»ˆå½¢æ€ï¼Œå¯ä»¥çœ‹å‡ºï¼Œè½¬å‘è¡¨çš„æœ¬è´¨å°±æ˜¯æ‹“æ‰‘å›¾çš„æè¿°ï¼ŒæŽ¨æƒ³ä¸€ä¸‹ï¼Œè¿™æ˜¯å¿…ç„¶çš„ï¼Œäº¤æ¢æœºè‹¥è¦æ­£ç¡®è½¬å‘æ•°æ®å¸§ï¼Œå°±éœ€è¦çŸ¥é“å“ªä¸ªæŽ¥å£ä¸Žå“ªä¸ªä¸»æœºç›¸è¿žã€‚é‚£ä¹ˆï¼Œè¿™å¼ è½¬å‘è¡¨åˆæ˜¯æ€Žä¹ˆæ¥çš„å‘¢ï¼Ÿäº¤æ¢æœºå¯åŠ¨æ—¶ï¼Œå…¶å†…éƒ¨è½¬å‘è¡¨æ˜¯ç©ºè¡¨ã€‚A å…ˆå‘ B å‘é€ä¸€å¸§ï¼Œäº¤æ¢æœºæ”¶åˆ°å¸§åŽï¼Œå…ˆæ‰§è¡Œè½¬å‘åŠŸèƒ½ã€‚æŸ¥æ‰¾äº¤æ¢è¡¨ï¼Œå¦‚æžœæ²¡æœ‰æŸ¥åˆ°ï¼Œæ´ªæ³›ï¼Œäº¤æ¢æœºå‘é™¤æŽ¥å£ 1 ä»¥å¤–çš„æ‰€æœ‰çš„æŽ¥å£å¹¿æ’­è¿™ä¸ªå¸§ã€‚å†æ‰§å­¦ä¹ å‘åŠŸèƒ½ï¼ŒæŠŠè¿™ä¸ªå¸§çš„æºåœ°å€ A å’ŒæŽ¥å£ 1 å†™å…¥äº¤æ¢è¡¨ä¸­ã€‚å½“æ‰€æœ‰ä¸»æœºéƒ½å‘é€è¿‡æ•°æ®å¸§åŽï¼Œäº¤æ¢æœºå°±å°†äº¤æ¢è¡¨å­¦å®Œæ•´äº†ã€‚è€ƒè™‘åˆ°å¯èƒ½æœ‰æ—¶è¦åœ¨äº¤æ¢æœºçš„æŽ¥å£æ›´æ¢ä¸»æœºï¼Œæˆ–è€…ä¸»æœºè¦æ›´æ¢å…¶ç½‘ç»œé€‚é…å™¨ï¼Œè¿™å°±éœ€è¦æ›´æ”¹äº¤æ¢è¡¨ä¸­çš„é¡¹ç›®ã€‚ä¸ºæ­¤ï¼Œåœ¨äº¤æ¢è¡¨ä¸­æ¯ä¸ªé¡¹ç›®éƒ½è®¾æœ‰ä¸€å®šçš„æœ‰æ•ˆæ—¶é—´ã€‚è¿‡æœŸçš„é¡¹ç›®å°±è‡ªåŠ¨è¢«åˆ é™¤ã€‚ä»¥å¤ªç½‘äº¤æ¢æœºçš„è¿™ç§è‡ªå­¦ä¹ æ–¹æ³•ä½¿å¾—ä»¥å¤ªç½‘äº¤æ¢æœºèƒ½å¤Ÿå³æ’å³ç”¨ï¼Œä¸å¿…äººå·¥è¿›è¡Œé…ç½®ï¼Œå› æ­¤éžå¸¸æ–¹ä¾¿ã€‚äº¤æ¢æœºå·¥ä½œåŽŸç†æ˜¯æŒ‰è½¬å‘è¡¨ï¼ˆMAC è¡¨ï¼‰è½¬å‘æ•°æ®å¸§ï¼Œè½¬å‘è¡¨çš„æœ¬è´¨å°±æ˜¯æ‹“æ‰‘å›¾çš„æè¿°ã€‚è¦æŠŠäº¤æ¢æœºè½¬å‘è¡¨çš„æœ¬è´¨ç‰¢å›ºçš„è®°ä½ï¼šäº¤æ¢æœºå°±æ˜¯è¦çŸ¥é“å“ªä¸ªæŽ¥å£ä¸Žå“ªä¸ªä¸»æœºç›¸è¿žã€‚MAC è¡¨æŠ–åŠ¨ä¸Žå¹¿æ’­é£Žæš´ç½‘æ¡¥å’Œäº¤æ¢æœºçš„ä½¿ç”¨å¯èƒ½ä¼šå‘ç”Ÿä¸€ä¸‹é—®é¢˜ï¼Œæˆ‘ä»¬ä»¥ç½‘æ¡¥ä¸¾ä¾‹ï¼šä¼šå‘ç”Ÿ MAC è¡¨æŠ–åŠ¨ï¼ˆflappingï¼‰çš„é—®é¢˜ï¼šå°±æ˜¯è¯´åŒä¸€ä¸ªMACåœ°å€åœ¨ä¸€å°äº¤æ¢æœºä¸Šçš„ä¸¤ä¸ªåŠä»¥ä¸ŠæŽ¥å£éƒ½å­¦ä¹ åˆ°ï¼Œå¯¼è‡´MACåœ°å€è¡¨ä¸­å…³äºŽæ­¤MACåœ°å€ä¸Žäº¤æ¢æœºçš„ç«¯å£å¯¹åº”ä¸æ–­æ”¹å˜ã€‚æ•°æ®å¸§ä¼šå¾ªçŽ¯å…œåœˆå­ï¼Œå½¢æˆå¹¿æ’­é£Žæš´ã€‚åœ¨æ‹“æ‰‘å›¾ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° å¸§F åˆ° ç½‘æ¡¥1 çš„æ—¶å€™å°† F è½¬å‘å‡ºåŽ»ï¼Œè®¾ä¸º F1ï¼Œæ­¤æ—¶ ç½‘æ¡¥1 å­¦ä¹  åˆ°MACAï¼ˆä¸»æœºAçš„MACåœ°å€ï¼‰åœ¨ä¸‹æ–¹æŽ¥å£ã€‚F1 åˆ° F2 æ˜¯ ç½‘æ¡¥2 å­¦ä¹ åˆ° MACA åœ¨ ä¸Šæ–¹æŽ¥å£ï¼Œä½†æ˜¯ å¸§F åˆ°è¾¾ ç½‘æ¡¥2 çš„æ—¶å€™ç½‘æ¡¥2å­¦ä¹ åˆ°MACAåœ¨ä¸‹æ–¹æŽ¥å£ï¼Œè¿™ä¾¿æ˜¯MACè¡¨æŠ–åŠ¨ã€‚åŒæ ·çš„ F2 åˆ° ç½‘æ¡¥1 çš„æ—¶å€™ ç½‘æ¡¥1 å­¦ä¹ åˆ° MACA åœ¨ä¸Šæ–¹æŽ¥å£ï¼Œä¹Ÿä¼šå‘ç”ŸæŠ–åŠ¨ã€‚ï¼ˆæ³¨æ„ï¼šFã€F1ã€F2çš„MACåœ°å€ä¸€è‡´ï¼‰å¦‚æžœæ•°æ®å¸§æŒ‰ç…§æˆ‘ä»¬ä¸Šé¢æ‰€è¿°çš„æ–¹å¼è¿è¡Œï¼Œä»–ä»¬ä¼šåœ¨ç½‘æ¡¥1å’Œç½‘æ¡¥2ä¹‹é—´ä¸åœçš„è½¬åœˆã€‚è‡³äºŽäº¤æ¢æœºè‡ªç„¶ä¹Ÿä¼šå‡ºçŽ°ä¸Šè¿°çš„é—®é¢˜ã€‚è§£å†³çš„åŠžæ³•ï¼Œå°±æ˜¯åœ¨é€»è¾‘ä¸Šå°†çŽ¯æ‰“æ–­ï¼ŒçŽ¯æ‰“æ–­å°±æ˜¯æ£µæ ‘ã€‚ä¸€å¥è¯ï¼Œå°±æ˜¯å°†çŽ¯æ‰“æ–­ç”Ÿæˆæ ‘ï¼Œç®€ç§°ä¸ºâ€œç”Ÿæˆæ ‘â€ã€‚åœ¨ç½‘æ¡¥æˆ–äº¤æ¢æœºä¸Šè¿è¡Œç”Ÿæˆæ ‘åè®® STPï¼ˆSpanning Tree Protocolï¼‰ã€‚ç”Ÿæˆæ ‘åè®®çš„è¦ç‚¹æ˜¯ï¼šä¸æ”¹å˜ç½‘ç»œçš„å®žé™…æ‹“æ‰‘ï¼Œä½†åœ¨é€»è¾‘ä¸Šåˆ™åˆ‡æ–­æŸäº›é“¾è·¯ï¼Œä½¿å¾—ä»Žä¸€å°ä¸»æœºåˆ°æ‰€æœ‰å…¶ä»–ä¸»æœºçš„è·¯å¾„æ˜¯æ— çŽ¯è·¯çš„æ ‘çŠ¶ç»“æž„ï¼Œä»Žè€Œæ¶ˆé™¤äº†å…œåœˆå­çŽ°è±¡ã€‚ç½‘æ¡¥æ˜¯å¦‚ä½•è§£å†³ç¢°æ’žå†²çªçš„æˆ‘ä»¬çŸ¥é“é›†çº¿å™¨æ²¡æœ‰ä»»ä½•æ™ºèƒ½ï¼Œç­‰åŒäºŽçº¿ç¼†ã€‚æ‰€ä»¥å¯¹äºŽä¸‹å›¾ï¼Œä½¿ç”¨é›†çº¿å™¨çš„æœ¬è´¨å°±æ˜¯ä½¿æ— çº¿å±€åŸŸç½‘ä¸Ž CSMA/CAIEEE802.11æ˜¯ä¸€ä¸ªæœ‰å›ºå®šåŸºç¡€è®¾æ–½çš„æ— çº¿å±€åŸŸç½‘WLANï¼ˆWireless Local Area Networkï¼‰çš„å›½é™…æ ‡å‡†ã€‚ç®€å•åœ°è¯´ï¼Œ802.11 å°±æ˜¯æ— çº¿ä»¥å¤ªç½‘çš„æ ‡å‡†ï¼šä½¿ç”¨æ˜Ÿå½¢æ‹“æ‰‘ï¼Œå…¶ä¸­å¿ƒå«åšæŽ¥å…¥ç‚¹ AP(Access Point)ï¼Œåœ¨ MAC å±‚ä½¿ç”¨ CSMA/CA åè®®ï¼Œ802.11 æ— çº¿å±€åŸŸç½‘åˆç§°ä¸º Wi-Fiï¼ˆWireless-Fidelityï¼Œæ„æ€æ˜¯â€œæ— çº¿ä¿çœŸåº¦â€ï¼‰ã€‚ä»¥ä¸‹è®¨è®ºéƒ½æ˜¯è¿™ç§æ— çº¿å±€åŸŸç½‘ã€‚æ— çº¿å±€åŸŸç½‘æœ€å°æž„ä»¶æ˜¯åŸºæœ¬æœåŠ¡é›† BSSï¼ˆBasic Service Setï¼‰ï¼ŒåŸºæœ¬æœåŠ¡é›†é‡Œé¢çš„åŸºç«™å«åšæŽ¥å…¥ç‚¹ APï¼ˆAccessPointï¼ŒAP çš„é€»è¾‘åŠŸèƒ½ç­‰åŒä¸Žä»¥å¤ªç½‘çš„é›†çº¿å™¨ï¼‰ï¼Œä¸€ä¸ªåŸºæœ¬æœåŠ¡é›†é€šè¿‡æŽ¥å…¥ç‚¹ AP è¿žæŽ¥åˆ°ä¸€ä¸ªä¸»å¹²åˆ†é…ç³»ç»Ÿ DSï¼ˆDistribution Systemï¼‰ï¼Œç„¶åŽå†æŽ¥å…¥åˆ°å¦ä¸€ä¸ªåŸºæœ¬æœåŠ¡é›†ï¼Œæž„æˆäº†ä¸€ä¸ªæ‰©å±•çš„æœåŠ¡é›† ESSã€‚æ— çº¿å±€åŸŸç½‘æ²¡æœ‰ç¢°æ’žæ£€æµ‹æ— çº¿å±€åŸŸç½‘é€»è¾‘ä¸Šä¹Ÿæ˜¯å…±äº«ä¿¡é“ï¼Œé‡‡ç”¨çš„ä¹Ÿæ˜¯éšæœºæŽ¥å…¥çš„æ€è·¯ã€‚ä½†æ˜¯ï¼Œæ— çº¿å±€åŸŸç½‘ä¸Žæœ‰çº¿å±€åŸŸç½‘æœ‰ä¸€ä¸ªé‡è¦çš„å·®å¼‚ï¼Œæ— çº¿å±€åŸŸç½‘æ²¡æœ‰ç¢°æ’žæ£€æµ‹ï¼ˆCollision Detectionï¼‰ã€‚â€œç¢°æ’žæ£€æµ‹â€è¦æ±‚ä¸€ä¸ªç«™ç‚¹åœ¨å‘é€æœ¬ç«™æ•°æ®çš„åŒæ—¶ï¼Œè¿˜å¿…é¡»ä¸é—´æ–­åœ°æ£€æµ‹ä¿¡é“ï¼Œä½†æŽ¥æ”¶åˆ°çš„ä¿¡å·å¼ºåº¦å¾€å¾€ä¼šè¿œè¿œå°äºŽå‘é€ä¿¡å·çš„å¼ºåº¦ï¼Œåœ¨æ— çº¿å±€åŸŸç½‘çš„è®¾å¤‡ä¸­è¦å®žçŽ°è¿™ç§åŠŸèƒ½å°±èŠ±è´¹è¿‡å¤§ã€‚éšè”½ç«™é—®é¢˜ï¼Œå¦‚ä¸‹å›¾ï¼Œæœ‰ ABCD å››ä¸ªç«™ï¼Œä½† A åªçŸ¥é“æœ‰ Bï¼Œä¸çŸ¥é“æœ‰ CDã€‚A å’Œ C äº’ç›¸æ£€æµ‹ä¸åˆ°å¯¹æ–¹çš„æ— çº¿ä¿¡å·æ—¶ï¼Œéƒ½ä»¥ä¸º B æ˜¯ç©ºé—²çš„ï¼Œéƒ½å‘ B å‘é€æ•°æ®ï¼Œç»“æžœå‘ç”Ÿç¢°æ’žã€‚éšè”½ç«™é—®é¢˜ä½¿â€œç¢°æ’žæ£€æµ‹â€å¤±åŽ»æ„ä¹‰ã€‚ç”±äºŽä»¥ä¸Šä¸¤ä¸ªåŽŸå› ï¼Œæ— çº¿å±€åŸŸç½‘æ²¡æœ‰ç¢°æ’žæ£€æµ‹ã€‚ä¸ºä»€ä¹ˆæ²¡æœ‰ç¢°æ’žæ£€æµ‹å°±æˆä¸ºé—®é¢˜äº†å‘¢ï¼Ÿå› ä¸ºæ²¡æœ‰ç¢°æ’žæ£€æµ‹å¼•å‘äº†ä¸¤ä¸ªé—®é¢˜ï¼šæ€Žä¹ˆç¡®å®šå‘å‡ºçš„æ•°æ®å¸§æ˜¯å¦å‘ç”Ÿç¢°æ’žï¼Œæ˜¯å¦ç¢°æ’žè¦æœ‰æ˜Žç¡®çš„ç»“è®ºï¼Œè¿™ä¸ªç»“è®ºæ€Žä¹ˆä¸‹ï¼Ÿåœ¨ç¢°æ’žå‘ç”Ÿæ—¶ï¼Œå°±æ²¡æœ‰æ„Ÿè§‰ï¼Œæ’žäº†å‘é€æ–¹ä¹Ÿä¸ä¼šåœæ­¢å‘é€æ•°æ®ï¼Œä»å‘é€æ•°æ®ï¼Œç›´åˆ°å‘é€å®Œæ‰åœæ­¢ã€‚ä¸æ˜¯â€œæ’ž-åœâ€çš„æƒ…å†µï¼Œè€Œæ˜¯â€œæ’žæ’žæ’žæ’žæ’žæ’žÂ·Â·Â·â€çš„æƒ…å†µï¼Œç¢°æ’žçš„æŸå¤±è¿‡å¤§ã€‚è¿™ä¸¤ä¸ªé—®é¢˜éƒ½éœ€è¦è§£å†³ã€‚å…ˆè¯´ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæ˜¯å¦ç¢°æ’žçš„ç»“è®ºæ€Žä¹ˆä¸‹ï¼Ÿæ— çº¿ç½‘ä½¿ç”¨äº†åœæ­¢ç­‰å¾…åè®®ï¼Œç”±æŽ¥æ”¶æ–¹å‘é€ ACK å¸§æ¥è¡¨ç¤ºæ­£ç¡®æ”¶åˆ°æ•°æ®å¸§ï¼Œå¦åˆ™å¼•å‘è¶…æ—¶é‡ä¼ ã€‚å†è¯´ç¬¬äºŒä¸ªé—®é¢˜ï¼Œå¯¹äºŽè¿™ä¸ªé—®é¢˜çš„è§£å†³åŠžæ³•ï¼Œå½“ç„¶å°±æ˜¯â€œå°½é‡ä¸ç¢°æ’žâ€ã€‚æ— çº¿ç½‘ä¸ºäº†â€œå°½é‡ä¸ç¢°æ’žâ€ï¼Œè®¾è®¡äº†ä¸€ä¸ªå¤æ‚çš„åè®® CSMA/CAã€‚æ³¨æ„ï¼ŒCSMA/CAåè®®åªèƒ½åšåˆ°â€œå°½é‡å°‘ç¢°æ’žâ€ï¼Œåšä¸åˆ°â€œå®Œå…¨ä¸ç¢°æ’žâ€ã€‚ç¬¬ä¸€ä¸ªé—®é¢˜ä»éœ€è§£å†³ï¼Œæ— çº¿ç½‘çš„ CSMA/CA æ›¿ä»£ä¸äº†æ— çº¿ç½‘çš„åœç­‰åè®®ã€‚CSMA/CA åè®®æ— çº¿å±€åŸŸç½‘æ²¡æœ‰ç¢°æ’žæ£€æµ‹ï¼Œæ‰€ä»¥æœ‰çº¿çš„ CSMA/CD å°±è¢«é˜‰å‰²ä¸º CSMAï¼Œå¯ä¸ç”˜å¿ƒï¼Œè¿˜æƒ³è¿›ä¸€æ­¥çš„å‡å°‘ç¢°æ’žï¼Œå°±åˆåŠ äº†ä¸€ä¸ª CAï¼ˆCollision Avoidance ç¢°æ’žé¿å…ï¼‰åŠŸèƒ½ã€‚802.11 å°±ä½¿ç”¨ CSMA/CA åè®®ã€‚è€Œåœ¨ä½¿ç”¨ CSMA/CA çš„åŒæ—¶ï¼Œè¿˜å¢žåŠ ä½¿ç”¨åœæ­¢ç­‰å¾…åè®®ã€‚å¸§é—´é—´éš” IFSæ‰€æœ‰çš„ç«™åœ¨å®Œæˆå‘é€åŽï¼Œå¿…é¡»å†ç­‰å¾…ä¸€æ®µå¾ˆçŸ­çš„æ—¶é—´ï¼ˆç»§ç»­ç›‘å¬ï¼‰æ‰èƒ½å‘é€ä¸‹ä¸€å¸§ã€‚è¿™æ®µæ—¶é—´çš„é€šç§°æ˜¯å¸§é—´é—´éš” IFSï¼ˆInter Frame Spaceï¼‰ã€‚SIFSï¼Œå³çŸ­ï¼ˆShortï¼‰å¸§é—´é—´éš”ï¼Œé•¿åº¦ä¸º 28usï¼Œä½¿ç”¨ SIFS çš„å¸§ç±»åž‹æœ‰ï¼šACK å¸§ã€CTS å¸§ã€‚DIFSï¼Œå³åˆ†å¸ƒåè°ƒåŠŸèƒ½å¸§é—´é—´éš”ï¼Œé•¿åº¦ä¸º 128usã€‚DIFS ç”¨æ¥å‘é€æ•°æ®å¸§å’Œç®¡ç†å¸§ã€‚äº‰ç”¨çª—å£ï¼ˆäºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ï¼‰ä¿¡é“ä»Žå¿™æ€å˜ä¸ºç©ºé—²æ—¶ï¼Œä»»ä½•ä¸€ä¸ªç«™è¦å‘é€æ•°æ®å¸§æ—¶ï¼Œä¸ä»…éƒ½å¿…é¡»ç­‰å¾…ä¸€ä¸ªDIFS çš„é—´éš”ï¼Œè€Œä¸”è¿˜è¦è¿›å…¥äº‰ç”¨çª—å£ï¼Œå„ç«™å°±è¦æ‰§è¡Œé€€é¿ç®—æ³•ã€‚802.11 ä½¿ç”¨äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ç®—æ³•ã€‚è¿™æ ·åšå°±å‡å°‘äº†å‘ç”Ÿç¢°æ’žçš„æ¦‚çŽ‡ã€‚ä¿¡é“é¢„çº¦ä¸ºäº†æ›´å¥½åœ°è§£å†³éšè”½ç«™å¸¦æ¥çš„ç¢°æ’žé—®é¢˜ï¼Œ802.11 å…è®¸è¦å‘é€æ•°æ®çš„ç«™å¯¹ä¿¡é“è¿›è¡Œé¢„çº¦ã€‚å¸§é—´é—´éš”ï¼Œäº‰ç”¨çª—å£ï¼ˆäºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ï¼‰ï¼Œä¿¡é“é¢„çº¦ä¸‰ç§æœºåˆ¶æ˜¯ CSMA/CA åè®®çš„ä¸‰ä¸ªè¦ç‚¹ï¼ŒåŸºæœ¬æµç¨‹å›¾å¦‚ä¸‹ï¼šæœ‰çº¿ä¸Žæ— çº¿çš„å¯¹æ¯”æ— çº¿å±€åŸŸç½‘ä¸Žæœ‰çº¿å±€åŸŸç½‘éƒ½æ˜¯ä½¿ç”¨éšæœºæŽ¥å…¥çš„æ–¹å¼ï¼Œéƒ½æ˜¯æ— æ³•ç»å¯¹é¿å…ç¢°æ’žçš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéƒ½éœ€è¦è€ƒè™‘ä»¥ä¸‹é—®é¢˜ï¼šå°½é‡å‡å°‘ç¢°æ’žã€æ˜¯å¦ç¢°æ’žè¦æœ‰æ˜Žç¡®ç»“è®ºã€ç¢°æ’žä¹‹åŽçš„äº‹æ•…å¤„ç†ã€‚ç®€å•åšä¸€å¯¹æ¯”ï¼šæ— çº¿ç½‘ä¸­ç¢°æ’žé€ æˆçš„æŸå¤±æ›´å¤§ï¼Œå°±éœ€è¦åœ¨å‡å°‘ç¢°æ’žçš„æ–¹é¢åšæ›´å¤šçš„å·¥ä½œï¼Œç²¾å¿ƒè®¾è®¡äº† CSMA/CA åè®®ï¼ŒåŒ…å«å¸§é—´é—´éš”ï¼Œäº‰ç”¨çª—å£ï¼ˆäºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ï¼‰ï¼Œä¿¡é“é¢„çº¦ä¸‰ç§æœºåˆ¶ï¼Œä½†ä»æ— æ³•å®Œå…¨é¿å…ç¢°æ’žã€‚ç”±äºŽæ²¡æœ‰ç¢°æ’žæ£€æµ‹ï¼Œæ˜¯å¦ç¢°æ’žçš„æ˜Žç¡®ç»“è®ºï¼Œç”±æŽ¥æ”¶æ–¹å‘é€ ACK ç¡®è®¤å¸§æœºåˆ¶ã€‚ç¢°æ’žäº‹æ•…å¤„ç†æ˜¯ç©ºï¼Œæ˜¯å› ä¸ºå°†é‡å‘ä¸­çš„äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿å·²ç»èžåˆåˆ° CSMA/CA åè®®ä¸­ã€‚802.11 å±€åŸŸç½‘çš„ MAC å¸§802.11 å¸§å…±æœ‰ä¸‰ç§ç±»åž‹ï¼šæŽ§åˆ¶å¸§ã€æ•°æ®å¸§å’Œç®¡ç†å¸§ã€‚åªç®€å•è®¨è®ºæ•°æ®å¸§ã€‚æ•°æ®å¸§çš„ä¸‰å¤§éƒ¨åˆ†ï¼ŒMAC é¦–éƒ¨ï¼Œå…± 30 å­—èŠ‚ã€‚å¸§çš„å¤æ‚æ€§éƒ½åœ¨å¸§çš„é¦–éƒ¨ã€‚å¸§ä¸»ä½“ï¼Œæ•°æ®éƒ¨åˆ†ä¸è¶…è¿‡ 2312 å­—èŠ‚ï¼Œé€šå¸¸éƒ½æ˜¯å°äºŽ 1500 å­—èŠ‚ã€‚å¸§æ£€éªŒåºåˆ— FCS æ˜¯å°¾éƒ¨ï¼Œå…± 4 å­—èŠ‚ã€‚802.11 æ•°æ®å¸§æœ€ç‰¹æ®Šçš„åœ°æ–¹å°±æ˜¯æœ‰å››ä¸ªåœ°å€å­—æ®µã€‚åœ°å€ 4 ç”¨äºŽè‡ªç»„ç½‘ç»œã€‚æˆ‘ä»¬åœ¨è¿™é‡Œåªè®¨è®ºå‰ä¸‰ç§åœ°å€ã€‚åœ°å€ 1 æ€»æ˜¯å¸§å°†è®¿é—®çš„ä¸‹ä¸€ä¸ªè®¾å¤‡çš„åœ°å€ï¼Œåœ°å€ 2 æ€»æ˜¯å¸§ç¦»å¼€çš„å‰ä¸€ä¸ªè®¾å¤‡çš„åœ°å€ï¼Œå¦‚æžœåœ°å€ 1 æ²¡æœ‰å®šä¹‰æœ€åŽçš„ç›®çš„åœ°å€ï¼Œåœ°å€ 3 å°±æ˜¯æœ€åŽçš„ç›®çš„ç«™ç‚¹çš„åœ°å€ï¼Œå¦‚æžœåœ°å€ 2 æ²¡æœ‰å®šä¹‰åŽŸå§‹æºåœ°å€ï¼Œåœ°å€ 3 å°±æ˜¯åŽŸå§‹æºç«™ç‚¹åœ°å€ã€‚åªæœ‰åœ¨è‡ªç»„ç»‡æ¨¡å¼æ‰ä¼šä½¿ç”¨åœ°å€ 4ï¼Œç½‘ç»œäº’è”åªéœ€è¦ 3 ä¸ªåœ°å€ã€‚æˆ‘ä¸ªäººä¸å‡†ç¡®çš„è¯´æ³•ï¼Œåœ°å€ 1ã€åœ°å€ 2ã€åœ°å€ 3 æ˜¯æŒ‰é‡è¦æ€§ä¾æ¬¡æŽ’åºã€‚ç«™ç‚¹ A å‘ B å‘é€æ•°æ®å¸§ï¼Œä½†è¿™ä¸ªæ•°æ®å¸§å¿…é¡»ç»è¿‡ AP è½¬å‘ã€‚é¦–å…ˆç«™ç‚¹ A å‘é€æ•°æ®å¸§åˆ° AP1ï¼Œç„¶åŽ AP1 æŠŠæ•°æ®å¸§å‘é€ç»™ Bã€‚ä¸¾ä¾‹ï¼šA-&gt;AP1 æ—¶ï¼Œæœ€é‡è¦çš„æ˜¯ç›´æŽ¥çš„ç›®çš„åœ°å€ï¼Œç¬¬äºŒé‡è¦çš„æ˜¯ç›´æŽ¥çš„æºåœ°å€ï¼Œç¬¬ä¸‰é‡è¦çš„æ˜¯æœ€ç»ˆç›®çš„åœ°å€ã€‚äº’è”ç½‘çš„æŸåˆ†ç»„è¦å‘é€ç»™ Cï¼Œåˆ†ç»„åˆ°è¾¾è·¯ç”±å™¨ R åŽï¼ŒR ä½¿ç”¨åœ°å€è§£æž ARPå¾—åˆ° C çš„ MAC åœ°å€ï¼Œè·¯ç”±å™¨ R å‘é€ä»¥å¤ªç½‘å¸§åˆ° AP2ï¼Œç›®çš„ MAC åœ°å€ C æº MACåœ°å€ Rï¼ŒAP2 å°†ä»¥å¤ªç½‘å¸§è½¬æ¢ä¸ºæ— çº¿ç½‘å¸§ï¼Œå‘ C å‘é€ã€‚æ­¤æ—¶ï¼ŒAP2â€“&gt;Cï¼Œæœ€é‡è¦çš„æ˜¯ç›´æŽ¥çš„ç›®çš„åœ°å€ Cï¼Œç¬¬äºŒé‡è¦çš„æ˜¯ç›´æŽ¥çš„æºåœ°å€ AP2ï¼Œç¬¬ä¸‰é‡è¦çš„æ˜¯åŽŸå§‹æºåœ°å€ã€‚ARP]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[spring-data-redis]]></title>
    <url>%2F2019%2Fspring-data-redis%2F</url>
    <content type="text"><![CDATA[é…ç½®properties1234567redis.host=redis.port=6379redis.pass=redis.database=0redis.maxIdle=300redis.maxWait=3000redis.testOnBorrow=trueapplicationContext-redis.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;context:property-placeholder location="classpath*:properties/*.properties" /&gt; &lt;!-- redis ç›¸å…³é…ç½® --&gt; &lt;bean id="poolConfig" class="redis.clients.jedis.JedisPoolConfig"&gt; &lt;property name="maxIdle" value="$&#123;redis.maxIdle&#125;" /&gt; &lt;property name="maxWaitMillis" value="$&#123;redis.maxWait&#125;" /&gt; &lt;property name="testOnBorrow" value="$&#123;redis.testOnBorrow&#125;" /&gt; &lt;/bean&gt; &lt;bean id="JedisConnectionFactory" class="org.springframework.data.redis.connection.jedis.JedisConnectionFactory" p:host-name="$&#123;redis.host&#125;" p:port="$&#123;redis.port&#125;" p:password="$&#123;redis.pass&#125;" p:pool-config-ref="poolConfig" /&gt; &lt;bean id="redisTemplate" class="org.springframework.data.redis.core.RedisTemplate"&gt; &lt;property name="connectionFactory" ref="JedisConnectionFactory" /&gt; &lt;property name="keySerializer"&gt; &lt;bean class="org.springframework.data.redis.serializer.StringRedisSerializer" /&gt; &lt;/property&gt; &lt;property name="valueSerializer"&gt; &lt;bean class="org.springframework.data.redis.serializer.StringRedisSerializer" /&gt; &lt;/property&gt; &lt;property name="hashKeySerializer"&gt; &lt;bean class="org.springframework.data.redis.serializer.StringRedisSerializer" /&gt; &lt;/property&gt; &lt;property name="hashValueSerializer"&gt; &lt;bean class="org.springframework.data.redis.serializer.StringRedisSerializer" /&gt; &lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt;æµ‹è¯•123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108import java.util.List;import java.util.Set;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration(locations="classpath*:spring/applicationContext-redis.xml")public class MySpringDataJedis &#123; @Autowired private RedisTemplate redisTemplate; @Test public void test01() &#123; // è®¾ç½®String redisTemplate.boundValueOps("user").set("å¼ ä¸‰ä¸°"); // å–String String str = (String)redisTemplate.boundValueOps("user").get(); System.out.println(str); // åˆ é™¤ redisTemplate.delete("user"); &#125; @Test public void test02() &#123; // è®¾ç½®Set redisTemplate.boundSetOps("nameset").add("æ›¹æ“"); redisTemplate.boundSetOps("nameset").add("åˆ˜å¤‡"); redisTemplate.boundSetOps("nameset").add("å­™æƒ"); // èŽ·å–Set Set&lt;String&gt; nameset = redisTemplate.boundSetOps("nameset").members(); for(String e : nameset) System.out.println(e); // åˆ é™¤å€¼ redisTemplate.boundSetOps("nameset").remove("å­™æƒ"); // èŽ·å–Set nameset = redisTemplate.boundSetOps("nameset").members(); for(String e : nameset) System.out.println(e); // åˆ é™¤ redisTemplate.delete("nameset"); &#125; @Test public void test03() &#123; // å³åŽ‹æ ˆï¼šæ–°åŠ å…¥çš„å…ƒç´ æ”¾åœ¨å³ç«¯ redisTemplate.boundListOps("namelist1").rightPush("åˆ˜å¤‡"); redisTemplate.boundListOps("namelist1").rightPush("å…³ç¾½"); redisTemplate.boundListOps("namelist1").rightPush("å¼ é£ž"); List&lt;String&gt; list = redisTemplate.boundListOps("namelist1").range(0, 10); for(String e : list) System.out.println(e); // å·¦åŽ‹æ ˆï¼šæ–°åŠ å…¥çš„å…ƒç´ æ”¾åœ¨å·¦ç«¯ redisTemplate.boundListOps("namelist2").leftPush("åˆ˜å¤‡"); redisTemplate.boundListOps("namelist2").leftPush("å…³ç¾½"); redisTemplate.boundListOps("namelist2").leftPush("å¼ é£ž"); list = redisTemplate.boundListOps("namelist1").range(0, 10); for(String e : list) System.out.println(e); // ä»Žç´¢å¼•ä»Ž 0å¼€å§‹ String s = (String) redisTemplate.boundListOps("namelist1").index(1); System.out.println(s); // ç§»å‡ºæŒ‡å®šä¸ªæ•°çš„ æŸå€¼ redisTemplate.boundListOps("namelist1").remove(1, "åˆ˜å¤‡"); list = redisTemplate.boundListOps("namelist1").range(0, 10); for(String e : list) System.out.println(e); // åˆ é™¤ redisTemplate.delete("namelist1"); redisTemplate.delete("namelist2"); &#125; @Test public void test04() &#123; redisTemplate.boundHashOps("namehash").put("a", "å”åƒ§"); redisTemplate.boundHashOps("namehash").put("b", "æ‚Ÿç©º"); redisTemplate.boundHashOps("namehash").put("c", "å…«æˆ’"); redisTemplate.boundHashOps("namehash").put("d", "æ²™åƒ§"); Set s = redisTemplate.boundHashOps("namehash").keys(); System.out.println(s); List values = redisTemplate.boundHashOps("namehash").values(); System.out.println(values); // æ ¹æ®KEYæå–å€¼ Object object = redisTemplate.boundHashOps("namehash").get("b"); System.out.println(object); // æ ¹æ®KEYç§»é™¤å€¼ redisTemplate.boundHashOps("namehash").delete("c"); &#125;&#125;]]></content>
      <categories>
        <category>redis</category>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éœ€æ±‚åˆ†æž]]></title>
    <url>%2F2019%2F%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[éœ€æ±‚çš„å†…å®¹éœ€æ±‚æ˜¯ç³»ç»Ÿä¸ºæ»¡è¶³å®¢æˆ·æœŸæœ›çš„ç›®æ ‡è€Œå®Œæˆçš„è¡Œä¸ºéœ€æ±‚è¦ä½“çŽ°å‡ºå¯¹é—®é¢˜é¢†åŸŸçš„æ¸…æ™°ç†è§£ç»™å‡ºç³»ç»Ÿçš„ä½¿ç”¨åœºæ™¯å’Œä¸Šä¸‹æ–‡éœ€æ±‚å®šä¹‰æ¶µç›–å¦‚ä¸‹å†…å®¹]]></content>
      <categories>
        <category>è½¯ä»¶å·¥ç¨‹</category>
      </categories>
      <tags>
        <tag>è½¯ä»¶å·¥ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é—®é¢˜å®šä¹‰ä¸Žå¯è¡Œæ€§ç ”ç©¶]]></title>
    <url>%2F2019%2F%E9%97%AE%E9%A2%98%E5%AE%9A%E4%B9%89%E4%B8%8E%E5%8F%AF%E8%A1%8C%E6%80%A7%E7%A0%94%E7%A9%B6%2F</url>
    <content type="text"><![CDATA[å¯è¡Œæ€§ç ”ç©¶çš„ç›®çš„è¯´æ˜Žè¯¥è½¯ä»¶å¼€å‘é¡¹ç›®çš„å®žçŽ°åœ¨æŠ€æœ¯ä¸Šã€ç»æµŽä¸Šå’Œç¤¾ä¼šæ¡ä»¶ä¸Šçš„å¯è¡Œæ€§ï¼›è¯„è¿°ä¸ºåˆç†åœ°è¾¾åˆ°å¼€å‘ç›®æ ‡å¯èƒ½é€‰æ‹©çš„å„ç§æ–¹æ¡ˆã€‚ç”¨æœ€å°çš„ä»£ä»·åœ¨å°½å¯èƒ½çŸ­çš„æ—¶é—´å†…ç¡®å®šé—®é¢˜æ˜¯å¦èƒ½å¤Ÿå¹¶ä¸”å€¼å¾—è§£å†³ã€‚å¯è¡Œæ€§ç ”ç©¶æœ€æ ¹æœ¬ä»»åŠ¡æ˜¯å¯¹ä»¥åŽçš„è¡ŒåŠ¨æ–¹é’ˆæå‡ºå»ºè®®ï¼Œä¸€èˆ¬å é¢„æœŸå·¥ç¨‹æ€»æˆæœ¬çš„ 5%-10%ã€‚å¯è¡Œæ€§ç ”ç©¶çš„åŸºæœ¬å†…å®¹æŠ€æœ¯å¯è¡Œæ€§ï¼šä½¿ç”¨çŽ°æœ‰çš„æŠ€æœ¯èƒ½å®žçŽ°è¿™ä¸ªç³»ç»Ÿå—ï¼Ÿä¸»è¦è€ƒè™‘ï¼šå¼€å‘é£Žé™©ï¼›èµ„æºï¼›ç›¸å…³æŠ€æœ¯çš„å‘å±•ç»æµŽå¯è¡Œæ€§ï¼šè¿™ä¸ªç³»ç»Ÿçš„ç»æµŽæ•ˆç›Šèƒ½è¶…è¿‡å®ƒçš„å¼€å‘æˆæœ¬å—ï¼Ÿç³»ç»Ÿç»æµŽæ•ˆç›Š = æ–°ç³»ç»Ÿå¢žåŠ çš„æ”¶å…¥ï¼‹ æ–°ç³»ç»ŸèŠ‚çœçš„è´¹ç”¨è€ƒè™‘ï¼šæˆæœ¬â€”â€”æ•ˆç›Šåˆ†æžã€é•¿æœŸçš„å…¬å¸ç»è¥ç­–ç•¥ã€å¯¹å…¶ä»–å•ä½æˆ–äº§å“çš„å½±å“ã€å¼€å‘æ‰€éœ€çš„æˆæœ¬å’Œèµ„æºã€æ½œåœ¨çš„å¸‚åœºå‰æ™¯æ“ä½œå¯è¡Œæ€§ï¼šç³»ç»Ÿçš„æ“ä½œæ–¹å¼åœ¨ç”¨æˆ·ç»„ç»‡å†…è¡Œå¾—é€šå—ï¼Ÿå…¶ä»–ï¼šæ³•å¾‹å¯è¡Œæ€§ã€ç¤¾ä¼šæ•ˆåº”ã€ç®¡ç†é—®é¢˜ç­‰æŠ€æœ¯å¯è¡Œæ€§å¯¹ç³»ç»Ÿçš„æ€§èƒ½ã€å¯é æ€§ã€å¯ç»´æŠ¤æ€§ä»¥åŠç”Ÿäº§çŽ‡ç­‰æ–¹é¢çš„ä¿¡æ¯è¿›è¡Œè¯„ä»·ã€‚é€šè¿‡æŠ€æœ¯å¯è¡Œæ€§çš„åˆ†æžï¼Œå°†ä¸ºæ–°ç³»ç»Ÿæäº¤æŠ€æœ¯å¯è¡Œæ€§è¯„ä¼°ã€‚ä»¥æŒ‡æ˜Žä¸ºå®Œæˆç³»ç»Ÿçš„åŠŸèƒ½å’Œæ€§èƒ½éœ€è¦ä»€ä¹ˆæŠ€æœ¯ï¼Ÿéœ€è¦å“ªäº›ææ–™ã€æ–¹æ³•ã€ç®—æ³•ã€æˆ–è€…è¿‡ç¨‹ç­‰ã€‚æŠ€æœ¯å¯è¡Œæ€§åˆ†æžæ–¹æ³•ï¼šæ•°å­¦æ¨¡åž‹å’Œä¼˜åŒ–æŠ€æœ¯ã€æ¦‚çŽ‡å’Œç»Ÿè®¡ã€æŽ’é˜Ÿè®ºã€æŽ§åˆ¶è®ºç­‰æ–¹æ³•ã€‚ç»æµŽå¯è¡Œæ€§è¿›è¡Œæˆæœ¬æ•ˆç›Šåˆ†æžï¼Œè¯„ä¼°é¡¹ç›®çš„å¼€å‘æˆæœ¬ã€‚æ“ä½œå¯è¡Œæ€§ä¸€ä¸ªåœ°åŒºã€ä¸€ä¸ªè¡Œä¸šä¹ƒè‡³ä¸€ä¸ªå›½å®¶è®¡ç®—æœºåº”ç”¨å‘å±•çš„å®¢è§‚é“è·¯åŠè§„å¾‹å®¢è§‚å‘å±•è§„å¾‹ï¼Œå„é˜¶æ®µæ˜¯ä¸èƒ½è¶…è¶Šçš„ç»“åˆå®žé™…åˆ†æžæœ¬å•ä½ã€æœ¬éƒ¨é—¨ã€æœ¬è¡Œä¸šçš„å®žé™…æƒ…å†µï¼Œå‚ç…§å›½å†…å¤–ç»éªŒæ•™è®­ï¼Œå®žäº‹æ±‚æ˜¯åœ°è§„åˆ’æœ¬ä¼ä¸šä¿¡æ¯ç³»ç»Ÿçš„å‘å±•ã€‚å¯è¡Œæ€§ç ”ç©¶çš„ä»»åŠ¡å¯è¡Œæ€§ç ”ç©¶çš„ç›®çš„æ˜¯å»ºç«‹ç›®æ ‡ç³»ç»Ÿçš„é€»è¾‘æ¨¡åž‹ã€‚é€šå¸¸è½¯ä»¶è½¯ä»¶å¼€å‘é¡¹ç›®æ˜¯è¦å®žçŽ°ç›®æ ‡ç³»ç»Ÿçš„ç‰©ç†æ¨¡åž‹ï¼Œå³ç¡®å®šå¾…å¼€å‘è½¯ä»¶ç³»ç»Ÿçš„ç³»ç»Ÿå…ƒç´ ï¼Œå¹¶å°†åŠŸèƒ½å’Œæ•°æ®ç»“æž„åˆ†é…åˆ°è¿™äº›ç³»ç»Ÿå…ƒç´ ä¸­ã€‚å®ƒæ˜¯è½¯ä»¶å®žçŽ°çš„åŸºç¡€ã€‚ä½†æ˜¯ç›®æ ‡ç³»ç»Ÿçš„ç‰©ç†æ¨¡åž‹æ˜¯ç”±å®ƒçš„é€»è¾‘æ¨¡åž‹ç»å®žä¾‹åŒ–ï¼Œå³å…·ä½“åˆ°æŸä¸ªä¸šåŠ¡é¢†åŸŸè€Œå¾—åˆ°çš„ã€‚ä¸Žç‰©ç†æ¨¡åž‹ä¸åŒï¼Œé€»è¾‘æ¨¡åž‹å¿½è§†æœºåˆ¶å’Œç»†èŠ‚ï¼Œåªæè¿°ç³»ç»Ÿè¦å®Œæˆçš„åŠŸèƒ½å’Œè¦å¤„ç†çš„æ•°æ®ã€‚ä¸ºæ­¤ï¼Œè¯¥é˜¶æ®µçš„ä¸»è¦ä»»åŠ¡æ˜¯ï¼Œå€ŸåŠ©äºŽå½“å‰ç³»ç»Ÿçš„é€»è¾‘æ¨¡åž‹å¯¼å‡ºç›®æ ‡ç³»ç»Ÿçš„é€»è¾‘æ¨¡åž‹ï¼Œä¹Ÿå°±æ˜¯è§£å†³ç›®æ ‡ç³»ç»Ÿâ€œåšä»€ä¹ˆâ€çš„é—®é¢˜ã€‚å…¶å®žç³»ç»Ÿçš„å¼€å‘è¿‡ç¨‹å°±æ˜¯æ ¹æ®éœ€è¦è§£å†³çš„é—®é¢˜ï¼Œå»ºç«‹ä¸€ä¸ªæœ‰ä¿¡æ¯æŠ€æœ¯æ”¯æ’‘ã€ä¸Žè§£å†³é—®é¢˜ç›¸å…³çš„ã€æ•°æ®å¤„ç†çš„ã€å¯è¿è¡Œçš„è®¡ç®—æœºæ¨¡åž‹ã€‚å…·ä½“æ¨¡åž‹åˆ°é€»è¾‘æ¨¡åž‹ä¸¾ä¾‹å¯è¡Œæ€§ç ”ç©¶çš„å®šä¹‰äº†è§£å®¢æˆ·çš„è¦æ±‚åŠçŽ°å®žçŽ¯å¢ƒï¼Œä»ŽæŠ€æœ¯ã€ç»æµŽå’Œç¤¾ä¼šå› ç´ ç­‰ä¸‰æ–¹é¢ç ”ç©¶å¹¶è®ºè¯æœ¬è½¯ä»¶é¡¹ç›®çš„å¯è¡Œæ€§ï¼Œç¼–å†™å¯è¡Œæ€§ç ”ç©¶æŠ¥å‘Šï¼Œåˆ¶å®šåˆæ­¥é¡¹ç›®å¼€å‘è®¡åˆ’ã€‚å¯è¡Œæ€§ç ”ç©¶æŠ¥å‘ŠåŠŸèƒ½è¯´æ˜Žè½¯ä»¶é¡¹ç›®çš„å®žçŽ°åœ¨æŠ€æœ¯ä¸Šã€ç»æµŽä¸Šå’Œç¤¾ä¼šå› ç´ ä¸Šçš„å¯è¡Œæ€§ï¼Œè¯„è¿°ä¸ºåˆç†åœ°è¾¾åˆ°å¼€å‘ç›®æ ‡å¯ä¾›é€‰æ‹©çš„å„ç§å¯èƒ½çš„å®žçŽ°æ–¹æ¡ˆï¼Œè¯´æ˜Žå¹¶è®ºè¯æ‰€é€‰å®šå®žæ–½æ–¹æ¡ˆçš„ç†ç”±ã€‚ç³»ç»Ÿæµç¨‹å›¾ç”¨å›¾å½¢ç¬¦å·ä»¥é»‘ç›’å­å½¢å¼æç»˜ç»„æˆç³»ç»Ÿçš„æ¯ä¸ªéƒ¨ä»¶ï¼ˆç¨‹åºï¼Œæ–‡æ¡£ï¼Œæ•°æ®åº“ï¼Œäººå·¥è¿‡ç¨‹ç­‰ï¼‰ , è¡¨è¾¾æ•°æ®åœ¨ç³»ç»Ÿå„éƒ¨ä»¶ä¹‹é—´æµåŠ¨çš„æƒ…å†µã€‚è¡¨è¾¾çš„æ˜¯æ•°æ®åœ¨ç³»ç»Ÿå„éƒ¨ä»¶ä¹‹é—´æµåŠ¨çš„æƒ…å†µï¼Œè€Œä¸æ˜¯å¯¹æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†çš„æŽ§åˆ¶è¿‡ç¨‹ï¼Œå› æ­¤å°½ç®¡ç³»ç»Ÿæµç¨‹å›¾çš„æŸäº›ç¬¦å·å’Œç¨‹åºæµç¨‹å›¾çš„ç¬¦å·å½¢å¼ç›¸åŒï¼Œä½†æ˜¯å®ƒå´æ˜¯ç‰©ç†æ•°æ®æµå›¾è€Œä¸æ˜¯ç¨‹åºæµç¨‹å›¾ã€‚ä¸¾ä¾‹è®¢è´§äººå·¥é”€å”®æ•™æè®¡ç®—æœºå”®ä¹¦ç³»ç»Ÿæµç¨‹å›¾æˆæœ¬ï¼æ•ˆç›Šåˆ†æžä»Žç»æµŽè§’åº¦åˆ†æžå¼€å‘ä¸€ä¸ªç‰¹å®šçš„æ–°ç³»ç»Ÿæ˜¯å¦åˆ’ç®—ï¼Œå¸®åŠ©å®¢æˆ·è´Ÿè´£äººä½œå‡ºæ˜¯å¦æŠ•èµ„çš„å†³å®šã€‚ä¸»è¦åŒ…æ‹¬æˆæœ¬ä¼°è®¡å’Œæˆæœ¬æ•ˆç›Šåˆ†æžã€‚æˆæœ¬ä¼°è®¡åŒ…æ‹¬å¼€å‘æˆæœ¬å’Œè¿è¡Œæˆæœ¬å¼€å‘æˆæœ¬ä»£ç è¡ŒæŠ€æœ¯ï¼šæ ¹æ®ç»éªŒå’ŒåŽ†å²æ•°æ®ï¼Œä¼°ç®—å®žçŽ°ä¸€ä¸ªåŠŸèƒ½éœ€è¦å¤šå°‘æºç¨‹åºè¡Œæ•°ï¼Œç”¨æ¯è¡Œä»£ç çš„å¹³å‡æˆæœ¬ä¹˜ä»¥è¡Œæ•°ã€‚ä»»åŠ¡åˆ†è§£æŠ€æœ¯ï¼šå°†è½¯ä»¶å¼€å‘å·¥ç¨‹åˆ†è§£æˆè‹¥å¹²ä¸ªç›¸å¯¹ç‹¬ç«‹çš„ä»»åŠ¡ï¼Œåˆ†åˆ«ä¼°ç®—ï¼Œç„¶åŽç´¯åŠ å¾—å‡ºæ€»æˆæœ¬ã€‚æŒ‰é˜¶æ®µåˆ†è§£æŒ‰åŠŸèƒ½åˆ†è§£è‡ªåŠ¨ä¼°è®¡æˆæœ¬æŠ€æœ¯ï¼šé‡‡ç”¨è‡ªåŠ¨ä¼°è®¡æˆæœ¬çš„è½¯ä»¶å·¥å…·ï¼Œéœ€è¦æœ‰é•¿æœŸæœé›†çš„å¤§é‡åŽ†å²æ•°æ®ä¸ºåŸºç¡€ï¼Œå¹¶éœ€è¦è‰¯å¥½çš„æ•°æ®åº“ç³»ç»Ÿæ”¯æŒã€‚è¿è¡Œæˆæœ¬å–å†³äºŽç³»ç»Ÿçš„æ“ä½œè´¹ç”¨ï¼ˆæ“ä½œäººå‘˜æ•°ã€å·¥ä½œæ—¶é—´ã€æ¶ˆè€—çš„ç‰©èµ„ç­‰ï¼‰å’Œç»´æŠ¤è´¹ç”¨ã€‚]]></content>
      <categories>
        <category>è½¯ä»¶å·¥ç¨‹</category>
      </categories>
      <tags>
        <tag>è½¯ä»¶å·¥ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è½¯ä»¶å·¥ç¨‹ä¸Žé¡¹ç›®ç®¡ç†ç»ªè®º]]></title>
    <url>%2F2019%2F%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E4%B8%8E%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E7%BB%AA%E8%AE%BA%2F</url>
    <content type="text"><![CDATA[è½¯ä»¶å±æœºè½¯ä»¶å±æœºæŒ‡åœ¨è®¡ç®—æœºè½¯ä»¶çš„å¼€å‘å’Œç»´æŠ¤è¿‡ç¨‹ä¸­ï¼Œæ‰€é‡åˆ°çš„ä¸€ç³»åˆ—ä¸¥é‡é—®é¢˜ã€‚è½¯ä»¶å±æœºä¸»è¦åŒ…æ‹¬çš„é—®é¢˜ï¼šå¦‚ä½•å¼€å‘è½¯ä»¶å¦‚ä½•ç»´æŠ¤è½¯ä»¶è½¯ä»¶å±æœºçš„å…¸åž‹è¡¨çŽ°ï¼šå‘è´¹ç”¨å’Œè¿›åº¦éš¾ä»¥ä¼°ç®—å’ŒæŽ§åˆ¶ï¼Œå¤§å¤§è¶…è¿‡é¢„æœŸçš„èµ„é‡‘å’Œè§„å®šæ—¥æœŸè½¯ä»¶éœ€æ±‚åˆ†æžä¸å¤Ÿå……åˆ†ï¼Œç”¨æˆ·ä¸æ»¡æ„â€œå·²ç»å®Œæˆâ€çš„è½¯ä»¶ç³»ç»Ÿã€‚è½¯ä»¶è´¨é‡éš¾äºŽä¿è¯è½¯ä»¶ç»´æŠ¤å›°éš¾éš¾ä»¥æ”¹æ­£ç¨‹åºä¸­çš„é”™è¯¯éš¾ä»¥æ ¹æ®ç”¨æˆ·çš„éœ€è¦åœ¨åŽŸæœ‰ç¨‹åºä¸­å¢žåŠ ä¸€äº›æ–°çš„åŠŸèƒ½ã€‚é€šå¸¸æ²¡æœ‰ä¿ç•™é€‚å½“çš„æ–‡æ¡£èµ„æ–™ã€‚æ–‡æ¡£çš„ä½œç”¨ï¼šè½¯ä»¶å¼€å‘ç®¡ç†äººå‘˜ï¼šç”¨äºŽç®¡ç†å’Œè¯„ä»·è½¯ä»¶å¼€å‘å·¥ç¨‹çš„è¿›å±•çŠ¶å†µè½¯ä»¶å¼€å‘äººå‘˜ï¼šç”¨äºŽå¼€å‘äººå‘˜å¯¹å„ä¸ªé˜¶æ®µçš„å·¥ä½œéƒ½è¿›è¡Œå‘¨å¯†æ€è€ƒã€å…¨ç›˜æƒè¡¡ã€ä»Žè€Œå‡å°‘è¿”å·¥ã€‚å¹¶ä¸”å¯åœ¨å¼€å‘æ—©æœŸå‘çŽ°é”™è¯¯å’Œä¸ä¸€è‡´æ€§ï¼Œä¾¿äºŽåŠæ—¶åŠ ä»¥çº æ­£è½¯ä»¶ç»´æŠ¤äººå‘˜ï¼šè½¯ä»¶ç»´æŠ¤çš„ä¾æ®äº§ç”Ÿè½¯ä»¶å±æœºçš„åŽŸå› è½¯ä»¶æœ¬èº«çš„ç‰¹ç‚¹è½¯ä»¶ä¸Žç¡¬ä»¶ä¸åŒæŠ½è±¡æ€§ã€‚è½¯ä»¶ç”Ÿäº§æ²¡æœ‰æ˜Žæ˜¾çš„åˆ¶é€ è¿‡ç¨‹ï¼Œéš¾ä»¥è¡¡é‡å¼€å‘è¿›å±•ï¼Œä¹Ÿéš¾ä»¥æŽ§åˆ¶è½¯ä»¶è´¨é‡ã€‚é—®é¢˜çš„éšè”½æ€§ã€‚æ²¡æœ‰ç¡¬ä»¶çš„ç£¨æŸã€è€åŒ–é—®é¢˜ï¼Œä½†å­˜åœ¨å¼€å‘æ—©æœŸåœ¨åˆ†æžã€è®¾è®¡é˜¶æ®µçš„é”™è¯¯ï¼Œä¿®æ”¹éš¾åº¦è¾ƒå¤§ã€‚è½¯ä»¶ä¸Žä¸€èˆ¬ç¨‹åºä¸åŒè½¯ä»¶è¿œæ¯”ä¸€èˆ¬ç¨‹åºè§„æ¨¡åºžå¤§ï¼Œå¤æ‚æ€§é«˜ã€‚è€Œå¤æ‚æ€§åŒ…æ‹¬å®žé™…é—®é¢˜çš„å¤æ‚æ€§å’Œç¨‹åºé€»è¾‘ç»“æž„çš„å¤æ‚æ€§ã€‚å¤§åž‹è½¯ä»¶å¼€å‘æ—¢æœ‰æŠ€æœ¯é—®é¢˜ï¼Œè¿˜æœ‰ç¤¾ä¼šé—®é¢˜ã€‚å¦‚ï¼šå¼€å‘å›¢é˜Ÿæˆå‘˜åˆ†å·¥åˆä½œã€æŠ€æœ¯ä¸Žç®¡ç†çš„çŸ›ç›¾ã€è½¯ä»¶å¼€å‘äººå‘˜å¯¹è½¯ä»¶åº”ç”¨çš„é¢†åŸŸçŸ¥è¯†çš„äº†è§£ã€‚åŒ…æ‹¬çš„ç¤¾ä¼šå› ç´ æœ‰ï¼šç»„ç»‡æœºæž„ã€ä½“åˆ¶ã€ç®¡ç†æ–¹å¼ã€è§‚å¿µã€äººçš„å¿ƒç†ç´ è´¨ç­‰ã€‚è½¯ä»¶å¼€å‘ä¸Žç»´æŠ¤çš„æ–¹æ³•ä¸æ­£ç¡®å¯¹ç”¨æˆ·éœ€æ±‚çš„èŽ·å–ä¸æ­£ç¡®ç”¨æˆ·çš„åŽŸå› åˆ†æžäººå‘˜çš„åŽŸå› ï¼Œå¯¹åˆ†æžäººå‘˜çš„è¦æ±‚ï¼šæ²Ÿé€šèƒ½åŠ›ã€å½’çº³æ€»ç»“èƒ½åŠ›ã€ç»éªŒã€‚è½¯ä»¶å¼€å‘ä¸æ˜¯ç¼–å†™ç¨‹åºã€‚ä¸€ä¸ªå®Œæ•´çš„è½¯ä»¶äº§å“ç”±ä¸€æ•´å¥—å®Œæ•´çš„é…ç½®ç»„æˆï¼Œç¨‹åºåªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ã€‚è½¯ä»¶å¼€å‘è¿‡ç¨‹åŒ…æ‹¬å¤šä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µçš„äº§å“éƒ½æ˜¯æœ€ç»ˆçš„å®Œæ•´çš„è½¯ä»¶äº§å“çš„ä¸€éƒ¨åˆ†ã€‚è½¯ä»¶å¼€å‘åªè¦ä¾é ä¸ªåˆ«ç¼–ç¨‹é«˜æ‰‹å°±èƒ½å®Œæˆã€‚è½»è§†è½¯ä»¶ç»´æŠ¤ã€‚è½¯ä»¶ç»´æŠ¤çº¦å è½¯ä»¶è´¹ç”¨55%-75%ï¼ŒåŒ…æ‹¬ä¿®æ”¹è½¯ä»¶è¿è¡Œçš„é”™è¯¯ï¼›å¯¹è½¯ä»¶è¿›è¡Œæ”¹è¿›å’ŒåŠŸèƒ½æ‰©å……ã€‚å…¶ä»–äº§ç”Ÿè½¯ä»¶å±æœºçš„åŽŸå› è½¯ä»¶å¼€å‘å°šæœªå®Œå…¨æ‘†è„±æ‰‹å·¥è‰ºçš„å¼€å‘æ–¹å¼ã€‚è½¯ä»¶æˆæœ¬ç›¸å½“æ˜‚è´µï¼Œä¸»è¦ä¾é å¤§é‡å¤æ‚çš„ã€é«˜å¼ºåº¦çš„è„‘åŠ›åŠ³åŠ¨ã€‚è½¯ä»¶çš„å¼€å‘å’Œè¿è¡Œå¸¸å¸¸å—åˆ°è®¡ç®—æœºç³»ç»Ÿçš„é™åˆ¶ï¼Œå¯¹è®¡ç®—æœºç³»ç»Ÿæœ‰ç€ä¸åŒç¨‹åº¦çš„ä¾èµ–æ€§ã€‚è½¯ä»¶çš„æœ¬è´¨ç‰¹æ€§å¤æ‚æ€§ä¸€è‡´æ€§è½¯ä»¶ä¸èƒ½ç‹¬ç«‹å­˜åœ¨ï¼Œéœ€è¦ä¾é™„äºŽä¸€å®šçš„çŽ¯å¢ƒï¼ˆå¦‚ç¡¬ä»¶ã€ç½‘ç»œä»¥åŠå…¶ä»–è½¯ä»¶ï¼‰è½¯ä»¶å¿…é¡»éµä»Žè®¤ä¸ºçš„æƒ¯ä¾‹å¹¶é€‚åº”å·²æœ‰çš„æŠ€æœ¯å’Œç³»ç»Ÿè½¯ä»¶éœ€è¦éšæŽ¥å£ä¸åŒè€Œæ”¹å˜ï¼Œéšæ—¶é—´æŽ¨ç§»è€Œå˜åŒ–ï¼Œè€Œè¿™äº›å˜åŒ–æ˜¯ä¸åŒäººè®¾è®¡çš„ç»“æžœå¯å˜æ€§ï¼šè½¯ä»¶éœ€è¦ä¸æ–­çš„è¿›è¡Œè°ƒæ•´æ¥æ»¡è¶³ç”¨æˆ·çš„éœ€æ±‚ä¸å¯è§æ€§è½¯ä»¶æ˜¯ä¸€ç§â€œçœ‹ä¸è§ï¼Œæ‘¸ä¸ç€â€çš„é€»è¾‘å®žä½“ï¼Œä¸å…·æœ‰ç©ºé—´çš„å½¢ä½“ç‰¹å¾ã€‚å¼€å‘äººå‘˜å¯ä»¥ç›´æŽ¥çœ‹åˆ°ç¨‹åºä»£ç ï¼Œä½†æ˜¯æºä»£ç å¹¶ä¸æ˜¯è½¯ä»¶æœ¬èº«ã€‚è½¯ä»¶æ˜¯ä»¥æœºå™¨ä»£ç çš„å½¢å¼è¿è¡Œï¼Œä½†æ˜¯å¼€å‘äººå‘˜æ— æ³•çœ‹åˆ°æºä»£ç æ˜¯å¦‚ä½•æ‰§è¡Œçš„ã€‚è½¯ä»¶å¼€å‘é¢ä¸´çš„æŒ‘æˆ˜æ¶ˆé™¤è½¯ä»¶å±æœºçš„é€”å¾„å½»åº•æ¶ˆé™¤â€œè½¯ä»¶å°±æ˜¯ç¨‹åºâ€çš„é”™è¯¯è§‚å¿µã€‚å……åˆ†è®¤è¯†åˆ°è½¯ä»¶å¼€å‘æ˜¯ä¸€ç§ç»„ç»‡è‰¯å¥½ã€ç®¡ç†ä¸¥å¯†ã€å„ç±»äººå‘˜ååŒé…åˆã€å…±åŒå®Œæˆçš„å·¥ç¨‹é¡¹ç›®ï¼Œä¸æ˜¯ä¸ªäººç‹¬ç«‹çš„åŠ³åŠ¨ã€‚æŽ¨å¹¿å’Œä½¿ç”¨åœ¨å®žè·µä¸­æ€»ç»“å‡ºæ¥çš„è½¯ä»¶å¼€å‘çš„æˆåŠŸæŠ€æœ¯å’Œæ–¹æ³•ã€‚å¼€å‘å’Œä½¿ç”¨æ›´å¥½çš„è½¯ä»¶å·¥å…·â€œè½¯ä»¶å·¥ç¨‹â€çš„æ–¹æ³•ç†è®ºæ˜¯æ‘†è„±è½¯ä»¶å±æœºçš„ä¸€ä¸ªä¸»è¦å‡ºè·¯ã€‚å³æŒ‰å·¥ç¨‹åŒ–çš„åŽŸåˆ™å’Œæ–¹æ³•ç»„ç»‡è½¯ä»¶å¼€å‘å·¥ä½œæ˜¯æœ‰æ•ˆçš„ï¼Œæ˜¯æ‘†è„±è½¯ä»¶å±æœºçš„ä¸€ä¸ªä¸»è¦å‡ºè·¯ã€‚è½¯ä»¶å¼€å‘çš„è¯¯åŒºåªè¦æ˜¯ç¼–ç¨‹é«˜æ‰‹ï¼Œå³ä½¿æ˜¯ä¸æ‡‚è½¯ä»¶å·¥ç¨‹ï¼Œä¹Ÿèƒ½ç¼–å‡ºå¾ˆå¥½çš„è½¯ä»¶ã€‚è½¯ä»¶æ˜¯æœåŠ¡äºŽå¤§ä¼—ï¼Œå´æ˜¯ç”±ä¸ªæ€§åŒ–çš„å¼€å‘äººå‘˜å®Œæˆçš„ã€‚å¦‚æžœä¸ªæ€§åŒ–å¤ªå¼ºï¼Œç¨‹åºå°±æ— æ³•é˜…è¯»ï¼Œå…¶ä»–äººå‘˜ä¹Ÿå°±æ— æ³•ç»´æŠ¤ã€‚ä¾‹ï¼šå›½å†… 80 å¹´ä»£æ¶ŒçŽ°å‡ºæ¥çš„ä¼—å¤šæ±‰å­—æ“ä½œç³»ç»Ÿå‡æ˜¯ç”±ç¼–ç¨‹é«˜æ‰‹å®Œæˆçš„ã€‚åªè¦æ‹¥æœ‰ä¸€å¥—è®²è¿°å¦‚ä½•å¼€å‘è½¯ä»¶çš„ä¹¦ç±ï¼Œå¹¶äº†è§£äº†ä¹¦ä¸­çš„æ ‡å‡†ä¸Žç¤ºä¾‹ï¼Œå°±å¯ä»¥è§£å†³è½¯ä»¶å¼€å‘ä¸­é‡åˆ°çš„ä»»ä½•é—®é¢˜ã€‚è½¯ä»¶æ˜¯ç”¨æ¥è§£å†³çŽ°å®žé—®é¢˜çš„ï¼ŒçŽ°å®žé—®é¢˜çš„ç‰¹æ®Šæ€§å¯¹è§„èŒƒæå‡ºäº†æŒ‘æˆ˜ï¼ˆè¦è¿›è¡Œé€‚åº”ï¼‰ã€‚è½¯ä»¶æŠ€æœ¯æ˜¯å‘å±•çš„ï¼Œæ²¡æœ‰ç¥–ä¼ ç§˜æ–¹ã€‚å°±åƒæ‹¥æœ‰é£Ÿè°±å¹¶ä¸èƒ½æˆä¸ºååŽ¨ä¸€æ ·ï¼Œè½¯ä»¶å¼€å‘éœ€è¦å®žè·µã€‚åªè¦æ‹¥æœ‰æœ€å¥½çš„å¼€å‘å·¥å…·ã€æœ€å¥½çš„è®¡ç®—æœºï¼Œä¸€å®šèƒ½åšå‡ºä¼˜ç§€çš„è½¯ä»¶ã€‚ç¡¬ä»¶çŽ¯å¢ƒåªæ˜¯å¿…è¦æ¡ä»¶ï¼Œäººæ‰æ˜¯å……åˆ†æ¡ä»¶ï¼Œè½¯ä»¶æ˜¯äººåœ¨ä¸€å®šçš„çº¦æŸæ¡ä»¶ä¸‹åˆ›é€ å‡ºæ¥çš„ã€‚å› äººå› äº‹è€Œå¼‚ã€‚è½¯ä»¶å¼€å‘æ—¶ï¼Œå¦‚æžœè¿›åº¦æ…¢ï¼Œè½åŽäºŽè®¡åˆ’ï¼Œå¯ä»¥å¢žåŠ æ›´å¤šçš„ç¨‹åºå‘˜æ¥è§£å†³ã€‚Brookæ³•åˆ™ï¼šå½“äººæ•°å¢žåŠ åŽï¼Œé¡¹ç›®æ‰€éœ€çš„å·¥ä½œé‡å°†ä¸æˆæ¯”ä¾‹çš„å¢žåŠ ã€‚å› ä¸ºéœ€è¦å¢žåŠ ç®¡ç†ã€åè°ƒã€é€šä¿¡ç­‰å·¥ä½œã€‚è½¯ä»¶çš„å®šä¹‰è½¯ä»¶ = ç¨‹åº + æ•°æ® + æ–‡æ¡£è½¯ä»¶ï¼šè®¡ç®—æœºå¯ä»¥æŽ¥å—çš„ä¸€ç³»åˆ—æŒ‡ä»¤ï¼Œè¿è¡Œæ—¶å¯ä»¥æä¾›æ‰€è¦æ±‚çš„åŠŸèƒ½å’Œæ€§èƒ½ã€‚æ•°æ®ï¼šä½¿å¾—ç¨‹åºèƒ½å¤Ÿé€‚å½“åœ°æ“ä½œä¿¡æ¯çš„æ•°æ®ç»“æž„æ–‡æ¡£ï¼šæè¿°ç¨‹åºçš„ç ”åˆ¶è¿‡ç¨‹ã€æ–¹æ³•å’Œä½¿ç”¨çš„å›¾æ–‡èµ„æ–™ã€‚è½¯ä»¶å·¥ç¨‹1968 å¹´ï¼Œç¬¬ä¸€å±ŠNATOä¼šè®®ï¼šä¸ºäº†ç»æµŽåœ°èŽ·å¾—å¯é çš„ä¸”èƒ½åœ¨å®žé™…æœºå™¨ä¸Šæœ‰æ•ˆåœ°è¿è¡Œçš„è½¯ä»¶ï¼Œè€Œå»ºç«‹å’Œä½¿ç”¨å®Œå–„çš„å·¥ç¨‹åŽŸç†ã€‚1993 å¹´ï¼ŒIEEE/CSï¼šå°†ç³»ç»ŸåŒ–çš„ã€è§„èŒƒçš„ã€å¯åº¦é‡çš„æ–¹æ³•åº”ç”¨äºŽè½¯ä»¶çš„å¼€å‘ã€è¿è¡Œå’Œç»´æŠ¤çš„è¿‡ç¨‹ï¼Œå³å°†å·¥ç¨‹åŒ–åº”ç”¨äºŽè½¯ä»¶ä¸­ã€‚è½¯ä»¶å·¥ç¨‹ä¾¿æ˜¯å¯¹ä¸Šè¿°æåˆ°çš„å„ç§æ–¹æ³•çš„ç ”ç©¶ã€‚å¦ä¸€ä¸ªè§’åº¦çš„çœ‹è½¯ä»¶å·¥ç¨‹æœ¬è´¨ç‰¹æ€§è½¯ä»¶å·¥ç¨‹å…³æ³¨äºŽå¤§åž‹ç¨‹åºçš„æž„é€ ã€‚è½¯ä»¶å·¥ç¨‹çš„ä¸­å¿ƒè¯¾é¢˜æ˜¯æŽ§åˆ¶å¤æ‚æ€§ä¸»è¦è€ƒè™‘ï¼šå¦‚ä½•åˆ†è§£å’Œé›†æˆã€‚ä¸ºä»€ä¹ˆè¦åˆ†è§£ï¼š G .Millerï¼ˆç¾Žå›½è®¤çŸ¥å¿ƒç†å­¦å®¶ä¹”æ²»Â·ç±³å‹’ï¼‰, â€œ7Â±2 â€ åŽŸåˆ™ï¼Œå³çŸ­æ—¶é—´å†…äººçš„è®°å¿†å¹¿åº¦å¤§çº¦ä¸º7Â±2ä¸ªå•ä½ã€‚æ¯”å¦‚åœ¨è®°å¿†åœ†å‘¨çŽ‡çš„æ—¶å€™åªèƒ½è®°å¿†7Â±2ä½ï¼Œè¶…è¿‡è¿™ä¸ªèŒƒå›´éœ€è¦åˆ†ç»„è®°å¿†ã€‚è½¯ä»¶ç»å¸¸å˜åŒ–å¼€å‘è½¯ä»¶çš„æ•ˆçŽ‡éžå¸¸é‡è¦å’Œè°åœ°åˆä½œæ˜¯å¼€å‘è½¯ä»¶çš„å…³é”®è½¯ä»¶å¿…é¡»æœ‰æ•ˆåœ°æ”¯æŒå®ƒçš„ç”¨æˆ·åœ¨è½¯ä»¶å·¥ç¨‹é¢†åŸŸä¸­æ˜¯ç”±å…·æœ‰ä¸€ç§æ–‡åŒ–èƒŒæ™¯çš„äººæ›¿å…·æœ‰å¦ä¸€ç§æ–‡åŒ–èƒŒæ™¯çš„äººåˆ›é€ äº§å“æ‰©å±•å®šä¹‰ï¼šè½¯ä»¶=çŸ¥è¯†ï¼‹ç¨‹åº+æ•°æ®+æ–‡æ¡£è½¯ä»¶å·¥ç¨‹çš„åŸºæœ¬åŽŸç†ç”¨åˆ†é˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸè®¡åˆ’ä¸¥æ ¼ç®¡ç†2 ï¼‰åšæŒè¿›è¡Œé˜¶æ®µè¯„å®¡3 ï¼‰å®žè¡Œä¸¥æ ¼çš„äº§å“æŽ§åˆ¶åŸºçº¿åŸºçº¿ï¼ˆbaselineï¼‰æŽ§åˆ¶4 ï¼‰é‡‡ç”¨çŽ°ä»£ç¨‹åºè®¾è®¡æŠ€æœ¯5 ï¼‰ç»“æžœåº”èƒ½æ¸…æ¥šåœ°å®¡æŸ¥6 ï¼‰å¼€å‘å°ç»„çš„äººå‘˜åº”è¯¥å°‘è€Œç²¾7 ï¼‰æ‰¿è®¤ä¸æ–­æ”¹è¿›è½¯ä»¶å·¥ç¨‹å®žè·µçš„å¿…è¦æ€§è½¯ä»¶å·¥ç¨‹æ–¹æ³•å­¦è½¯ä»¶å·¥ç¨‹åŒ…æ‹¬â€œç®¡ç†â€å’Œâ€œæŠ€æœ¯â€ä¸¤æ–¹é¢å†…å®¹ï¼šç®¡ç†â€”â€” å¯¹äººã€è´¢ã€ç‰©çš„åˆç†ä½¿ç”¨å’Œé…ç½®ï¼›æŠ€æœ¯â€”â€” æŒ‡è½¯ä»¶å¼€å‘ä¸­é‡‡ç”¨çš„æ–¹æ³•ã€å·¥å…·å’Œè¿‡ç¨‹ã€‚è½¯ä»¶å·¥ç¨‹æ–¹æ³•å­¦ï¼šé€šå¸¸æŠŠåœ¨è½¯ä»¶ç”Ÿå‘½å‘¨æœŸå…¨è¿‡ç¨‹ä¸­ä½¿ç”¨çš„ä¸€æ•´å¥—æŠ€æœ¯æ–¹æ³•çš„é›†åˆç§°ä¸ºæ–¹æ³•å­¦ï¼ˆmethodology)ï¼Œä¹Ÿç§°ä¸ºèŒƒåž‹ï¼ˆparadigmï¼‰ã€‚ä¸‰è¦ç´ è½¯ä»¶å·¥ç¨‹è¿‡ç¨‹ï¼šè§„å®šäº†å®Œæˆå„é¡¹ä»»åŠ¡çš„å·¥ä½œæ­¥éª¤ã€‚è½¯ä»¶å·¥ç¨‹æ–¹æ³•ï¼Œå®Œæˆè½¯ä»¶å¼€å‘çš„å„é¡¹ä»»åŠ¡çš„æŠ€æœ¯æ–¹æ³•ï¼Œä¸ºè½¯ä»¶å¼€å‘æä¾›äº†â€œå¦‚ä½•åšâ€çš„æŠ€æœ¯ã€‚å¦‚é¡¹ç›®è®¡åˆ’ä¸Žä¼°ç®—ã€è½¯ä»¶ç³»ç»Ÿéœ€æ±‚åˆ†æžã€æ•°æ®ç»“æž„ã€ç³»ç»Ÿæ€»ä½“ç»“æž„çš„è®¾è®¡ã€ç®—æ³•è¿‡ç¨‹çš„è®¾è®¡ã€ç¼–ç ã€æµ‹è¯•ä»¥åŠç»´æŠ¤ç­‰ã€‚è½¯ä»¶å·¥ç¨‹å·¥å…·ï¼Œè®¡ç®—æœºè¾…åŠ©è½¯ä»¶å·¥ç¨‹ CASE ( computer Aided sottware Engineering ) ï¼Œä¸ºè½¯ä»¶å·¥ç¨‹æ–¹æ³•æä¾›è‡ªåŠ¨æˆ–åŠè‡ªåŠ¨çš„è½¯ä»¶æ”¯æ’‘çŽ¯å¢ƒã€‚è½¯ä»¶å·¥ç¨‹æ–¹æ³•è½¯ä»¶å·¥ç¨‹æ–¹æ³•å­¦æ€æƒ³ä¼ ç»Ÿæ–¹æ³•å­¦é‡‡ç”¨ç»“æž„åŒ–æŠ€æœ¯ï¼ˆç»“æž„åŒ–åˆ†æžã€ç»“æž„åŒ–è®¾è®¡å’Œç»“æž„åŒ–å®žçŽ°ï¼‰æ¥å®Œæˆè½¯ä»¶å¼€å‘çš„å„é¡¹ä»»åŠ¡ï¼›æŠŠè½¯ä»¶ç”Ÿå‘½å‘¨æœŸåˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªé˜¶æ®µï¼ŒæŒ‰é¡ºåºå®Œæˆæ¯ä¸ªé˜¶æ®µçš„ä»»åŠ¡ï¼›æ¯ä¸ªé˜¶æ®µå¼€å§‹å’Œç»“æŸéƒ½æœ‰ä¸¥æ ¼çš„æ ‡å‡†ï¼Œå¯¹ä»»ä½•ä¸¤ä¸ªç›¸é‚»çš„é˜¶æ®µè€Œè¨€ï¼Œå‰ä¸€ä¸ªé˜¶æ®µçš„ç»“æŸæ ‡å‡†å°±æ˜¯åŽä¸€é˜¶æ®µçš„å¼€å§‹æ ‡å‡†ï¼›æ¯ä¸€ä¸ªé˜¶æ®µç»“æŸä¹‹å‰éƒ½å¿…é¡»è¿›è¡Œæ­£å¼ä¸¥æ ¼çš„æŠ€æœ¯å®¡æŸ¥å’Œç®¡ç†å¤å®¡ä¼˜ç‚¹åˆ†è§£ä»»åŠ¡ï¼Œåˆ†å·¥åˆä½œï¼Œé™ä½Žæ•´ä¸ªè½¯ä»¶å¼€å‘å·¥ç¨‹çš„å›°éš¾ï¼›é‡‡ç”¨ç§‘å­¦çš„ç®¡ç†æŠ€æœ¯å’Œè‰¯å¥½çš„æŠ€æœ¯æ–¹æ³•å¯¹æ¯ä¸ªé˜¶æ®µæˆæžœéƒ½è¿›è¡Œä¸¥æ ¼çš„å®¡æŸ¥ã€‚ä¿è¯äº†è½¯ä»¶çš„è´¨é‡ã€‚ç¼ºç‚¹æŠŠæ•°æ®å’Œæ“ä½œäººä¸ºåœ°åˆ†ç¦»æˆä¸¤ä¸ªç‹¬ç«‹çš„éƒ¨åˆ†ï¼Œå¢žåŠ äº†è½¯ä»¶å¼€å‘ä¸Žç»´æŠ¤çš„éš¾åº¦ã€‚é¢å‘å¯¹è±¡æ–¹æ³•å­¦æ¨¡æ‹Ÿäººç±»ä¹ æƒ¯çš„æ€ç»´æ–¹å¼ï¼Œä½¿å¼€å‘è½¯ä»¶çš„æ–¹æ³•ä¸Žè¿‡ç¨‹å°½å¯èƒ½æŽ¥è¿‘äººç±»è®¤è¯†ä¸–ç•Œè§£å†³é—®é¢˜çš„æ–¹æ³•ä¸Žè¿‡ç¨‹ï¼Œä»Žè€Œä½¿æè¿°é—®é¢˜çš„é—®é¢˜ç©ºé—´ï¼ˆä¹Ÿç§°ä¸ºé—®é¢˜åŸŸï¼‰ä¸Žå®žçŽ°è§£æ³•çš„è§£ç©ºé—´ï¼ˆä¹Ÿç§°ä¸ºæ±‚è§£åŸŸï¼‰åœ¨ç»“æž„ä¸Šå°½å¯èƒ½ä¸€è‡´ã€‚è¦ç‚¹å¦‚ä¸‹ï¼šæŠŠå¯¹è±¡ï¼ˆ object ï¼‰ä½œä¸ºèžåˆäº†æ•°æ®åŠåœ¨æ•°æ®ä¸Šçš„æ“ä½œè¡Œä¸ºçš„ç»Ÿä¸€çš„è½¯ä»¶æž„ä»¶ã€‚æŠŠæ‰€æœ‰å¯¹è±¡éƒ½åˆ’åˆ†æˆç±»ï¼ˆclass ï¼‰ã€‚æŒ‰ç…§çˆ¶ç±»ï¼ˆæˆ–ç§°ä¸ºåŸºç±»ï¼‰ä¸Žå­ç±»ï¼ˆæˆ–ç§°ä¸ºæ´¾ç”Ÿç±»ï¼‰çš„å…³ç³»ï¼ŒæŠŠè‹¥å¹²ä¸ªç›¸å…³ç±»ç»„æˆä¸€ä¸ªå±‚æ¬¡ç»“æž„çš„ç³»ç»Ÿï¼ˆä¹Ÿç§°ä¸ºç±»ç­‰çº§ï¼‰ã€‚å¯¹è±¡å½¼æ­¤é—´ä»…èƒ½é€šè¿‡å‘é€æ¶ˆæ¯äº’ç›¸è”ç³»ã€‚å’Œä¼ ç»Ÿæ–¹æ³•å­¦çš„åŒºåˆ«æ˜¯ä¼ ç»Ÿæ–¹æ³•å­¦å¼ºè°ƒè‡ªé¡¶å‘ä¸‹é¡ºåºåœ°å®Œæˆè½¯ä»¶å¼€å‘çš„å„é˜¶æ®µä»»åŠ¡ã€‚é¢å‘å¯¹è±¡æ–¹æ³•æ˜¯ä¸»åŠ¨åœ°å¤šæ¬¡åå¤è¿­ä»£çš„æ¼”åŒ–è¿‡ç¨‹ã€‚è½¯ä»¶ç”Ÿå‘½å‘¨æœŸè½¯ä»¶å®šä¹‰æ—¶æœŸç¡®å®šè½¯ä»¶å¼€å‘å·¥ç¨‹å¿…é¡»å®Œæˆçš„æ€»ç›®æ ‡ï¼›ç¡®å®šå·¥ç¨‹çš„å¯è¡Œæ€§ï¼›å¯¼å‡ºå®žçŽ°å·¥ç¨‹ç›®æ ‡åº”è¯¥é‡‡ç”¨çš„ç­–ç•¥åŠç³»ç»Ÿå¿…é¡»å®Œæˆçš„åŠŸèƒ½ï¼›ä¼°è®¡å®Œæˆè¯¥é¡¹å·¥ç¨‹éœ€è¦çš„èµ„æºå’Œæˆæœ¬ï¼Œå¹¶ä¸”åˆ¶å®šå·¥ç¨‹è¿›åº¦è¡¨ã€‚é€šå¸¸åˆ†ä¸ºé—®é¢˜å®šä¹‰ã€å¯è¡Œæ€§ç ”ç©¶å’Œéœ€æ±‚åˆ†æžä¸‰ä¸ªé˜¶æ®µã€‚é—®é¢˜å®šä¹‰é˜¶æ®µè¦è§£å†³çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿå¯è¡Œæ€§ç ”ç©¶é˜¶æ®µå¯¹äºŽä¸Šä¸€ä¸ªé˜¶æ®µæ‰€ç¡®å®šçš„é—®é¢˜æœ‰è¡Œå¾—é€šçš„è§£å†³åŠžæ³•å—ï¼Ÿéœ€æ±‚åˆ†æžä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç›®æ ‡ç³»ç»Ÿå¿…é¡»åšä»€ä¹ˆã€‚ç”¨æ­£å¼æ–‡æ¡£å‡†ç¡®åœ°è®°å½•å¯¹ç›®æ ‡ç³»ç»Ÿçš„éœ€æ±‚ï¼Œè¿™ä»½æ–‡æ¡£é€šå¸¸ç§°ä¸ºè§„æ ¼è¯´æ˜Žä¹¦ï¼ˆspecificationï¼‰ã€‚è½¯ä»¶å¼€å‘æ—¶æœŸå…·ä½“è®¾è®¡å’Œå®žçŽ°å‰ä¸€ä¸ªæ—¶æœŸå®šä¹‰çš„è½¯ä»¶ï¼Œé€šå¸¸åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼šæ€»ä½“è®¾è®¡ï¼ˆæ¦‚è¦è®¾è®¡ï¼‰æ¦‚æ‹¬åœ°è¯´ï¼Œåº”è¯¥æ€Žæ ·å®žçŽ°ç›®æ ‡ç³»ç»Ÿï¼Ÿ æ ¹æ®éœ€æ±‚åˆ†æžï¼Œè®¾è®¡è½¯ä»¶çš„ä½“ç³»ç»“æž„ï¼›å®šä¹‰ç»“æž„ä¸­çš„ç»„æˆæ¨¡å—ã€‚è¯¦ç»†è®¾è®¡ï¼ˆæ¨¡å—è®¾è®¡ï¼‰åº”è¯¥æ€Žæ ·å…·ä½“åœ°å®žçŽ°è¿™ä¸ªç³»ç»Ÿå‘¢ï¼Ÿå¯¹æ¯ä¸ªæ¨¡å—è¦å®Œæˆçš„å·¥ä½œè¿›è¡Œå…·ä½“çš„æè¿°ï¼Œä¸ºæºç¨‹åºç¼–å†™æ‰“ä¸‹åŸºç¡€ã€‚ç¼–å†™è®¾è®¡è¯´æ˜Žä¹¦ï¼Œæäº¤è¯„å®¡ã€‚ä¸Žæ€»ä½“è®¾è®¡ç»Ÿç§°ç³»ç»Ÿè®¾è®¡ã€‚ç¨‹åºç¼–å†™ï¼ˆ Coding, Programming )æŠŠè½¯ä»¶è®¾è®¡è½¬æ¢æˆè®¡ç®—æœºå¯ä»¥æŽ¥å—çš„ç¨‹åºä»£ç ã€‚è½¯ä»¶æµ‹è¯•ï¼ˆTesting )æŒ‰è§„å®šçš„å„é¡¹éœ€æ±‚ï¼Œé€é¡¹è¿›è¡Œæœ‰æ•ˆæ€§æµ‹è¯•ï¼Œå†³å®šå·²å¼€å‘çš„è½¯ä»¶æ˜¯å¦åˆæ ¼ï¼Œèƒ½å¦äº¤ä»˜ç”¨æˆ·ä½¿ç”¨ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•å’Œç»„è£…æµ‹è¯•ã€‚ä¸Žç¨‹åºç¼–å†™ç»Ÿç§°ç³»ç»Ÿå®žçŽ°ã€‚è¿è¡Œç»´æŠ¤ï¼ˆè½¯ä»¶ç»´æŠ¤ï¼‰æ—¶æœŸä½¿è½¯ä»¶æŒä¹…çš„æ»¡è¶³ç”¨æˆ·çš„éœ€è¦ï¼ŒåŒ…æ‹¬ï¼šæ”¹æ­£æ€§ç»´æŠ¤ï¼šè¿è¡Œä¸­å‘çŽ°äº†è½¯ä»¶ä¸­çš„é”™è¯¯éœ€è¦ä¿®æ­£ã€‚é€‚åº”æ€§ç»´æŠ¤ï¼šä¸ºäº†é€‚åº”å˜åŒ–äº†çš„è½¯ä»¶å·¥ä½œçŽ¯å¢ƒï¼Œéœ€åšé€‚å½“å˜æ›´ã€‚å®Œå–„æ€§ç»´æŠ¤ï¼šå½“ç”¨æˆ·æœ‰æ–°çš„è¦æ±‚æ—¶ï¼Œåº”è¯¥åŠæ—¶æ”¹è¿›è½¯ä»¶ä»¥æ»¡è¶³ç”¨æˆ·çš„è¦æ±‚ã€‚é¢„é˜²æ€§ç»´æŠ¤: å³ä¿®æ”¹è½¯ä»¶ä¸ºå°†æ¥çš„ç»´æŠ¤æ´»åŠ¨é¢„å…ˆåšå‡†å¤‡ã€‚è½¯ä»¶è¿‡ç¨‹è½¯ä»¶è¿‡ç¨‹æ˜¯ä¸ºäº†èŽ·å¾—é«˜è´¨é‡è½¯ä»¶æ‰€éœ€è¦å®Œæˆçš„ä¸€ç³»åˆ—ä»»åŠ¡çš„æ¡†æž¶ï¼Œå®ƒè§„å®šäº†å®Œæˆå„é¡¹ä»»åŠ¡çš„å·¥ä½œæ­¥éª¤ã€‚è½¯ä»¶è¿‡ç¨‹æè¿°ä¸ºäº†å¼€å‘å‡ºå®¢æˆ·éœ€è¦çš„è½¯ä»¶ï¼Œä»€ä¹ˆäººï¼ˆwhoï¼‰ã€åœ¨ä»€ä¹ˆæ—¶å€™ï¼ˆwhenï¼‰ã€åšä»€ä¹ˆäº‹ï¼ˆwhatï¼‰ä»¥åŠæ€Žæ ·ï¼ˆhowï¼‰åšè¿™äº›äº‹ä»¥å®žçŽ°æŸä¸€ä¸ªç‰¹å®šçš„å…·ä½“ç›®æ ‡ã€‚é€šå¸¸ç”¨è½¯ä»¶ç”Ÿå‘½å‘¨æœŸæ¨¡åž‹æ¥æè¿°ã€‚ISO 9000çš„å®šä¹‰ï¼šä½¿ç”¨èµ„æºå°†è¾“å…¥è½¬åŒ–ä¸ºè¾“å‡ºçš„æ´»åŠ¨æ‰€æž„æˆçš„ç³»ç»Ÿã€‚ â€œç³»ç»Ÿâ€æ˜¯ç›¸äº’å…³è”æˆ–ç›¸äº’ä½œç”¨çš„ä¸€ç»„è¦ç´ ã€‚è½¯ä»¶ç”Ÿå‘½å‘¨æœŸæ¨¡åž‹æŒ‡è½¯ä»¶é¡¹ç›®ä»Žéœ€æ±‚å®šä¹‰ç›´è‡³è½¯ä»¶ç»ä½¿ç”¨åŽåºŸå¼ƒä¸ºæ­¢ï¼Œè·¨è¶Šæ•´ä¸ªç”Ÿå­˜å‘¨æœŸçš„ç³»ç»Ÿå¼€å‘ã€è¿ä½œå’Œç»´æŠ¤æ‰€å®žæ–½çš„å…¨éƒ¨è¿‡ç¨‹ã€æ´»åŠ¨å’Œä»»åŠ¡çš„ç»“æž„æ¡†æž¶ã€‚ç€‘å¸ƒæ¨¡åž‹ä»Žä¸Šä¸€é˜¶æ®µæŽ¥å—æœ¬é˜¶æ®µ çš„å·¥ä½œå¯¹è±¡ï¼Œä½œä¸ºè¾“å…¥ï¼›åˆ©ç”¨è¾“å…¥ï¼Œå®Œæˆæœ¬é˜¶æ®µæ´» åŠ¨çš„å†…å®¹ã€‚æœ¬é˜¶æ®µçš„å·¥ä½œæˆæžœä½œä¸ºè¾“å‡º ä¼ å…¥ä¸‹ä¸€é˜¶æ®µã€‚å®žé™…çš„ç€‘å¸ƒæ¨¡åž‹å¢žåŠ äº†ä¸€ä¸ªè¯„å®¡æ´»åŠ¨ï¼Œè¯„å®¡æ¯ä¸ªé˜¶æ®µå®Œæˆçš„æ´»åŠ¨ï¼Œè‹¥å¾—åˆ°ç¡®è®¤ï¼Œåˆ™è¿›è¡Œä¸‹ä¸€é˜¶æ®µçš„æ´»åŠ¨ï¼›å¦åˆ™è¿”å›žå‰ä¸€é˜¶æ®µï¼Œç”šè‡³æ›´å‰é˜¶æ®µè¿”å·¥ã€‚ç‰¹ç‚¹é˜¶æ®µé—´å…·æœ‰é¡ºåºæ€§å’Œä¾èµ–æ€§ã€‚æŽ¨è¿Ÿå®žçŽ°çš„è§‚ç‚¹ã€‚è´¨é‡ä¿è¯çš„è§‚ç‚¹ã€‚ä¼˜ç‚¹å¯å¼ºè¿«å¼€å‘äººå‘˜é‡‡ç”¨è§„èŒƒçš„æ–¹æ³•ï¼›ä¸¥æ ¼åœ°è§„å®šäº†æ¯ä¸ªé˜¶æ®µå¿…é¡»æäº¤çš„æ–‡æ¡£ï¼›è¦æ±‚æ¯ä¸ªé˜¶æ®µçš„æ‰€æœ‰äº§å“éƒ½å¿…é¡»ç»è¿‡è´¨é‡ä¿è¯å°ç»„çš„ä»”ç»†éªŒè¯ï¼›ç¼ºç‚¹æ— æ³•è§£å†³è½¯ä»¶éœ€æ±‚ä¸æ˜Žç¡®æˆ–ä¸å‡†ç¡®çš„é—®é¢˜ï¼›å¯èƒ½å¯¼è‡´æœ€ç»ˆå¼€å‘çš„äº§å“ä¸èƒ½çœŸæ­£æ»¡è¶³ç”¨æˆ·éœ€è¦ã€‚ç€‘å¸ƒæ¨¡åž‹æ¯”è¾ƒé€‚åˆå¼€å‘éœ€æ±‚æ˜Žç¡®çš„è½¯ä»¶ã€‚å¿«é€ŸåŽŸåž‹æ¨¡åž‹åŽŸåž‹æ˜¯å¿«é€Ÿå®žçŽ°å’Œè¿è¡Œçš„æ—©æœŸç‰ˆæœ¬ï¼Œåæ˜ æœ€ç»ˆç³»ç»Ÿéƒ¨åˆ†é‡è¦ç‰¹æ€§ã€‚å¸¸è§çš„åŽŸåž‹å®žä¾‹ï¼šäººæœºç•Œé¢ï¼›ç³»ç»Ÿä¸»è¦åŠŸèƒ½ã€‚å¿«é€ŸåŽŸåž‹å°±æ˜¯å¿«é€Ÿå¼€å‘ä¸€ä¸ªèƒ½ç”¨çš„ç‰ˆæœ¬å†åŽæœŸä¿®æ”¹ã€‚èŽ·å¾—ç”¨æˆ·çš„åŸºæœ¬éœ€æ±‚è¯´æ˜Žï¼Œæ®æ­¤å¿«é€Ÿå»ºç«‹ä¸€ä¸ªå°åž‹è½¯ä»¶ç³»ç»Ÿã€‚ç”¨æˆ·è¯•ç”¨ï¼Œå¯¹å…¶è¯„ä»·ï¼›å¼€å‘äººå‘˜æŒ‰ç…§ç”¨æˆ·çš„æ„è§å¿«é€Ÿåœ°ä¿®æ”¹åŽŸåž‹ç³»ç»Ÿï¼ŒèŽ·å¾—æ–°çš„åŽŸåž‹ç‰ˆæœ¬ï¼Œå†è¯·ç”¨æˆ·è¯•ç”¨ï¼Œå¦‚æ­¤åå¤ï¼Œç›´åˆ°æ»¡è¶³ç”¨æˆ·çš„è¦æ±‚ï¼›ç”¨æˆ·ç¡®è®¤åŽŸåž‹ç³»ç»Ÿä¹‹åŽï¼Œå¼€å‘äººå‘˜æ®æ­¤ä¹¦å†™è§„æ ¼è¯´æ˜Žæ–‡æ¡£ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥å¼€å‘ã€‚ä¼˜ç‚¹é€šå¸¸èƒ½åæ˜ ç”¨æˆ·çœŸå®žéœ€æ±‚ï¼›è½¯ä»¶äº§å“çš„å¼€å‘åŸºæœ¬ä¸Šæ˜¯çº¿æ€§é¡ºåºè¿›è¡Œçš„ã€‚å¢žé‡ï¼ˆæ¸å¢žï¼‰æ¨¡åž‹æŠŠè½¯ä»¶äº§å“ä½œä¸ºä¸€ç³»åˆ—çš„å¢žé‡æž„ä»¶æ¥è®¾è®¡ã€ç¼–ç ã€é›†æˆå’Œæµ‹è¯•ã€‚æ¯ä¸ªæž„ä»¶ç”±å¤šä¸ªç›¸äº’ä½œç”¨çš„æ¨¡å—æž„æˆï¼Œå¹¶ä¸”èƒ½å¤Ÿå®Œæˆç‰¹å®šçš„åŠŸèƒ½ã€‚ä½¿ç”¨å¢žé‡æ¨¡åž‹æ—¶ï¼Œç¬¬ä¸€ä¸ªé˜¶æ®µçš„å¢žé‡æž„ä»¶å¾€å¾€å®žçŽ°è½¯ä»¶çš„åŸºæœ¬éœ€æ±‚ï¼Œæä¾›æœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼›åŽé¢çš„å¢žé‡æž„æž¶é€æ¸æ·»åŠ ç³»ç»Ÿçš„åŠŸèƒ½ã€‚æ³¨æ„äº‹é¡¹å¢žé‡æž„ä»¶è§„æ¨¡é€‚ä¸­ï¼›åˆ†è§£çš„çº¦æŸæ¡ä»¶æ˜¯å½“æŠŠæ–°æž„ä»¶é›†æˆåˆ°çŽ°æœ‰è½¯ä»¶ä¸­æ—¶ï¼Œæ‰€å½¢æˆçš„äº§å“å¿…é¡»æ˜¯å¯æµ‹è¯•çš„ï¼›è½¯ä»¶ä½“ç³»å¿…é¡»æ˜¯å¼€æ”¾çš„ï¼Œå³åœ¨å¯¹çŽ°æœ‰ç³»ç»Ÿæ·»åŠ æ–°å¢žé‡æž„ä»¶æ—¶ï¼Œä¸èƒ½ç ´åç³»ç»ŸåŽŸæœ‰åŠŸèƒ½ã€‚ä¼˜ç‚¹èƒ½åœ¨è¾ƒçŸ­çš„æ—¶é—´å†…ï¼Œæä¾›å¯å®Œæˆéƒ¨åˆ†å·¥ä½œçš„åˆæ­¥äº§å“ç»™ç”¨æˆ·ï¼›ç”¨æˆ·æœ‰è¾ƒä¸ºå……è£•çš„æ—¶é—´å­¦ä¹ å’Œé€‚åº”æ–°äº§å“ã€‚ç¼ºç‚¹å¯¹å¼€å‘äººå‘˜æŠ€æœ¯èƒ½åŠ›è¦æ±‚è¾ƒé«˜ï¼Œè¦æ±‚èƒ½ä»Žç³»ç»Ÿæ•´ä½“å‡ºå‘æ­£ç¡®åˆ’åˆ†å¢žé‡æž„ä»¶ï¼Œå¹¶è¿›è¡Œåˆ†åˆ«å¼€å‘ï¼Œæœ€åŽèƒ½å¾ˆå¥½åœ°é›†æˆè¿™äº›æž„ä»¶ã€‚ä¸€ç§é£Žé™©æ›´å¤§çš„å¢žé‡æ¨¡åž‹æœ‰å¯èƒ½æé«˜å¼€å‘é€Ÿåº¦ï¼Œä½†éœ€è¦å¯†åˆ‡åœ°ç›‘æŽ§æ•´ä¸ªå¼€å‘è¿‡ç¨‹ï¼Œå¦åˆ™ä¼šæœ‰æž„ä»¶æ— æ³•é›†æˆåˆ°ä¸€èµ·çš„é£Žé™©ã€‚èžºæ—‹æ¨¡åž‹å¤§åž‹è½¯ä»¶å¼€å‘é¢ä¸´çš„é‡è¦é—®é¢˜ï¼šè½¯ä»¶é£Žé™©ï¼Œå¦‚ï¼šäº§å“äº¤ä»˜ç»™ç”¨æˆ·ä¹‹åŽï¼Œç”¨æˆ·ä¸æ»¡æ„ï¼›å¼€å‘è¿›åº¦è½åŽï¼Œå¼€å‘æˆæœ¬è¶…å‡ºé¢„ç®—;äº§å“å®Œæˆå‰å…³é”®çš„å¼€å‘äººå‘˜è·³æ§½;åœ¨äº§å“æŠ•äººå¸‚åœºå‰ï¼Œç«žäº‰å¯¹æ‰‹å‘å¸ƒäº†ä¸€ä¸ªåŠŸèƒ½ç›¸è¿‘ï¼Œä»·æ ¼æ›´ä½Žçš„è½¯ä»¶â€¦æž„å»ºåŽŸåž‹èƒ½ä½¿æŸäº›ç±»åž‹çš„é£Žé™©é™åˆ°æœ€ä½Žã€‚ä¼˜ç‚¹å¼ºè°ƒå¯é€‰æ–¹æ¡ˆå’Œçº¦æŸæ¡ä»¶ï¼Œæœ‰åˆ©äºŽå·²æœ‰è½¯ä»¶çš„é‡ç”¨ï¼Œä¹Ÿæœ‰åŠ©äºŽæŠŠè½¯ä»¶è´¨é‡ä½œä¸ºè½¯ä»¶å¼€å‘çš„ä¸€ä¸ªé‡è¦ç›®æ ‡ï¼›å‡å°‘äº†è¿‡å¤šæµ‹è¯•ï¼ˆæµªè´¹èµ„é‡‘ï¼‰æˆ–æµ‹è¯•ä¸è¶³ï¼ˆäº§å“æ•…éšœå¤šï¼‰æ‰€å¸¦æ¥çš„é£Žé™©ï¼›ç»´æŠ¤æ˜¯ä¸€ä¸ªå‘¨æœŸï¼Œä¸Žå¼€å‘å¹¶æ²¡æœ‰æœ¬è´¨åŒºåˆ«ç¼ºç‚¹éœ€è¦å¼€å‘äººå‘˜å…·æœ‰ç›¸å½“ä¸°å¯Œçš„é£Žé™©è¯„ä¼°ç»éªŒå’Œä¸“é—¨çŸ¥è¯†ï¼›è¿›è¡Œé£Žé™©åˆ†æžçš„è´¹ç”¨å¯èƒ½è¾ƒå¤§ã€‚é€‚åˆå¤§åž‹è½¯ä»¶å¼€å‘ã€‚å„ç§æ¨¡åž‹çš„æ¯”è¾ƒæ¨¡åž‹ä¼˜ç‚¹ç¼ºç‚¹ç€‘å¸ƒæ¨¡åž‹è§„èŒƒï¼Œæ–‡æ¡£é©±åŠ¨ç³»ç»Ÿå¯èƒ½ä¸æ»¡è¶³å®¢æˆ·çœŸæ­£çš„éœ€æ±‚å¿«é€ŸåŽŸåž‹å…‹æœäº†ç€‘å¸ƒåž‹çš„ç¼ºç‚¹å¢žé‡æ¨¡åž‹å¼€å‘æ—©æœŸå›žæŠ¥æ˜Žç¡®ï¼Œæ˜“äºŽç»´æŠ¤è¦æ±‚å¼€æ”¾çš„è½¯ä»¶ä½“ç³»ç»“æž„èžºæ—‹æ¨¡åž‹é£Žé™©é©±åŠ¨ï¼Œé€‚ç”¨äºŽå¤§åž‹é¡¹ç›®å¼€å‘é£Žé™©åˆ†æžäººå‘˜éœ€è¦æœ‰ç»éªŒä¸”ç»è¿‡å……åˆ†è®­ç»ƒè½¯ä»¶å·¥ç¨‹å·¥å…·è½¯ä»¶å¼€å‘çš„åŸºæœ¬ç­–ç•¥è½¯ä»¶å¤ç”¨åˆ©ç”¨å·²æœ‰çš„è½¯ä»¶åˆ¶å“ï¼Œç›´æŽ¥ç»„è£…æˆ–åˆç†ä¿®æ”¹å½¢æˆæ–°çš„è½¯ä»¶ç³»ç»Ÿï¼Œä»Žè€Œæé«˜å¼€å‘æ•ˆçŽ‡å’Œäº§å“è´¨é‡ï¼Œé™ä½Žç»´æŠ¤æˆæœ¬ã€‚è½¯ä»¶å¤ç”¨ä¸ä»…ä»…æ˜¯ä»£ç å¤ç”¨ï¼Œå‡½æ•°åº“ã€ç±»åº“ã€æ¨¡æ¿ï¼ˆæ–‡æ¡£ã€ç½‘é¡µï¼‰ã€è®¾è®¡æ¨¡å¼ã€ç»„ä»¶ã€æ¡†æž¶ã€‚åˆ†è€Œæ²»ä¹‹è½¯ä»¶å·¥ç¨‹æ˜¯ä¸€é¡¹è§£å†³é—®é¢˜çš„å·¥ç¨‹æ´»åŠ¨ï¼Œé€šè¿‡å¯¹é—®é¢˜è¿›è¡Œç ”ç©¶åˆ†æžï¼Œå°†ä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†è§£æˆå¯ä»¥ç†è§£å¹¶èƒ½å¤Ÿå¤„ç†çš„è‹¥å¹²å°é—®é¢˜ï¼Œç„¶åŽå†é€ä¸ªè§£å†³ã€‚é€æ­¥æ¼”è¿›è½¯ä»¶å¼€å‘åº”è¯¥éµå¾ªè½¯ä»¶çš„å®¢è§‚è§„å¾‹ï¼Œä¸æ–­è¿›è¡Œè¿­ä»£å¼å¢žé‡å¼€å‘ï¼Œæœ€ç»ˆäº¤ä»˜ç¬¦åˆå®¢æˆ·ä»·å€¼çš„äº§å“ã€‚ä¼˜åŒ–æŠ˜ä¸­è½¯ä»¶å·¥ç¨‹å¸ˆåº”è¯¥æŠŠä¼˜åŒ–å½“æˆä¸€ç§è´£ä»»ï¼Œä¸æ–­æ”¹è¿›å’Œæå‡è½¯ä»¶è´¨é‡ï¼›ä½†æ˜¯ä¼˜åŒ–æ˜¯ä¸€ä¸ªå¤šç›®æ ‡çš„æœ€ä¼˜å†³ç­–ï¼Œåœ¨ä¸å¯èƒ½ä½¿æ‰€æœ‰ç›®æ ‡éƒ½å¾—åˆ°ä¼˜åŒ–æ—¶ï¼Œéœ€è¦è¿›è¡ŒæŠ˜ä¸­å®žçŽ°æ•´ä½“æœ€ä¼˜ã€‚ISO9126 è´¨é‡æ¨¡åž‹åŠŸèƒ½æ€§é€‚åˆæ€§ï¼šå½“è½¯ä»¶ä½ åœ¨æŒ‡å®šæ¡ä»¶ä¸‹ä½¿ç”¨ï¼Œå…¶æ»¡è¶³æ˜Žç¡®å’Œéšå«è¦æ±‚åŠŸèƒ½çš„èƒ½åŠ›ã€‚å‡†ç¡®æ€§ï¼šè½¯ä»¶æä¾›ç»™ç”¨æˆ·åŠŸèƒ½çš„ç²¾å‡†åº¦èƒ½ä¸èƒ½æ»¡è¶³è¦æ±‚äº’æ“ä½œæ€§ï¼šè½¯ä»¶ä¸Žå…¶ä»–ç³»ç»Ÿè¿›è¡Œäº¤äº’çš„èƒ½åŠ›å®‰å…¨æ€§ï¼šè½¯ä»¶ä¿æŠ¤ä¿¡æ¯å’Œæ•°æ®çš„å®‰å…¨èƒ½åŠ›å¯é æ€§æˆç†Ÿæ€§ï¼šè½¯ä»¶äº§å“é¿å…å› è½¯ä»¶ä¸­é”™è¯¯å¼€å‘è€Œå¯¼è‡´å¤±æ•ˆçš„èƒ½åŠ›å®¹é”™æ€§ï¼šè½¯ä»¶é˜²æ­¢å¤–éƒ¨æŽ¥å£é”™è¯¯æ‰©æ•£è€Œå¯¼è‡´ç³»ç»Ÿå¤±æ•ˆçš„èƒ½åŠ›å¯æ¢å¤æ€§ï¼šç³»ç»Ÿå¤±æ•ˆåŽï¼Œé‡æ–°æ¢å¤åŽŸæœ‰åŠŸèƒ½å’Œæ€§èƒ½çš„èƒ½åŠ›æ˜“ç”¨æ€§æ˜“ç†è§£æ€§ï¼šè½¯ä»¶æ˜¾ç¤ºçš„ä¿¡æ¯è¦æ¸…æ™°ã€å‡†ç¡®ä¸”æ˜“æ‡‚ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿå¿«é€Ÿç†è§£è½¯ä»¶ã€‚æ˜“å­¦ä¹ æ€§ï¼šè½¯ä»¶ä½¿ç”¨æˆ·èƒ½å­¦ä¹ å…¶åº”ç”¨çš„èƒ½åŠ›æ˜“æ“ä½œæ€§ï¼šè½¯ä»¶äº§å“ä½¿ç”¨æˆ·èƒ½æ˜“äºŽæ“ä½œå’ŒæŽ§åˆ¶å®ƒçš„èƒ½åŠ›ã€‚å¸å¼•æ€§ï¼šè½¯ä»¶å…·æœ‰çš„æŸäº›ç‹¬ç‰¹çš„ã€èƒ½è®©ç”¨æˆ·çœ¼å‰ä¸€äº®çš„å±žæ€§ã€‚æ•ˆçŽ‡æ—¶é—´ç‰¹æ€§ï¼šåœ¨è§„å®šçš„æ¡ä»¶ä¸‹ï¼Œè½¯ä»¶äº§å“æ‰§è¡Œå…¶åŠŸèƒ½æ—¶èƒ½å¤Ÿæä¾›é€‚å½“çš„å“åº”æ—¶é—´æ•ˆå’Œå¤„ç†æ—¶é—´ä»¥åŠåžåçŽ‡çš„èƒ½åŠ›ã€‚èµ„æºåˆ©ç”¨ï¼šè½¯ä»¶ç³»ç»Ÿåœ¨å®Œæˆç”¨æˆ·æŒ‡å®šçš„ä¸šåŠ¡è¯·æ±‚æ‰€æ¶ˆè€—çš„ç³»ç»Ÿèµ„æºï¼Œè¯¸å¦‚CPUå æœ‰çŽ‡ã€å†…å­˜å æœ‰çŽ‡ã€ç½‘ç»œå¸¦å®½å æœ‰çŽ‡ç­‰ã€‚å¯ç»´æŠ¤æ€§æ˜“åˆ†æžæ€§ï¼šè½¯ä»¶æä¾›è¾…åŠ©æ‰‹æ®µå¸®åŠ©å¼€å‘äººå‘˜å®šä½ç¼ºé™·åŽŸå› å¹¶åˆ¤æ–­å‡ºä¿®æ”¹ä¹‹å¤„ã€‚æ˜“æ”¹å˜æ€§ï¼šè½¯ä»¶äº§å“ä½¿å¾—æŒ‡å®šçš„ä¿®æ”¹å®¹æ˜“å®žçŽ°çš„èƒ½åŠ›ã€‚ç¨³å®šæ€§ï¼šè½¯ä»¶äº§å“é¿å…ç”±äºŽè½¯ä»¶ä¿®æ”¹è€Œé€ æˆæ„å¤–ç»“æžœçš„èƒ½åŠ›ã€‚æ˜“æµ‹è¯•æ€§ï¼šè½¯ä»¶æä¾›è¾…åŠ©æ€§æ‰‹æ®µå¸®åŠ©æµ‹è¯•äººå‘˜å®žçŽ°å…¶æµ‹è¯•æ„å›¾ã€‚å¯ç§»æ¤æ€§é€‚åº”æ€§ï¼šè½¯ä»¶äº§å“æ— éœ€åšä»»ä½•ç›¸åº”å˜åŠ¨å°±èƒ½é€‚åº”ä¸åŒè¿è¡ŒçŽ¯å¢ƒçš„èƒ½åŠ›ã€‚æ˜“å®‰è£…æ€§ï¼šåœ¨å¹³å°å˜åŒ–åŽæˆåŠŸå®‰è£…è½¯ä»¶çš„éš¾æ˜“ç¨‹åº¦å…±å­˜æ€§ï¼šè½¯ä»¶äº§å“åœ¨å…¬å…±çŽ¯å¢ƒä¸Žå…¶å…±äº«èµ„æºçš„å…¶ä»–ç³»ç»Ÿå…±å­˜çš„èƒ½åŠ›ã€‚æ›¿æ¢æ€§ï¼šè½¯ä»¶ç³»ç»Ÿçš„å‡çº§èƒ½åŠ›ï¼ŒåŒ…æ‹¬åœ¨çº¿å‡çº§ã€æ‰“è¡¥ä¸å‡çº§ç­‰ã€‚]]></content>
      <categories>
        <category>è½¯ä»¶å·¥ç¨‹</category>
      </categories>
      <tags>
        <tag>è½¯ä»¶å·¥ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºä½“ç³»ç»“æž„01]]></title>
    <url>%2F2019%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%8401%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>ä½“ç³»ç»“æž„</category>
      </categories>
      <tags>
        <tag>ä½“ç³»ç»“æž„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SSM-Maven-Dubboæ­å»ºSOAå¼€å‘çŽ¯å¢ƒ]]></title>
    <url>%2F2019%2FSSM-Maven-Dubbo%E6%90%AD%E5%BB%BASOA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%2F</url>
    <content type="text"><![CDATA[æ•´ä½“ç»“æž„å®‰è£…zookeeperç¬¬ä¸€æ­¥ï¼šå®‰è£… jdkæŠŠ zookeeper çš„åŽ‹ç¼©åŒ…ä¸Šä¼ åˆ° linux ç³»ç»Ÿã€‚è§£åŽ‹ç¼©åŽ‹ç¼©åŒ…è¿›å…¥ zookeeper ç›®å½•ï¼Œåˆ›å»º data æ–‡ä»¶å¤¹ã€‚è¿›å…¥ conf ç›®å½• ï¼ŒæŠŠ zoo_sample.cfg æ”¹åä¸º zoo.cfgæ‰“å¼€ zoo.cfg , ä¿®æ”¹ data å±žæ€§ï¼šdataDir=%zookeepe_home%/datazookeeper æœåŠ¡å¯åŠ¨ï¼š./zkServer.sh startæœåŠ¡å…³é—­ï¼š./zkServer.sh stopæŸ¥çœ‹çŠ¶æ€ï¼š./zkServer.sh statusåˆ›å»ºå·¥ç¨‹pomå·¥ç¨‹ï¼šparentã€managerjarå·¥ç¨‹ï¼šcommonã€daoã€interfaceã€pojowarå·¥ç¨‹ï¼šserviceã€webå…¶ä¸­interfaceå’Œserviceæ˜¯èšåˆåœ¨managerä¸‹çš„ï¼ˆnew maven moduleï¼‰ï¼Œmanagerã€daoã€interfaceã€pojoã€webæ˜¯ç‹¬ç«‹çš„Mavenå·¥ç¨‹çš„ï¼ˆmew maven projectï¼‰ã€‚é™¤parentå¤–æ‰€æœ‰çš„projectçš„çˆ¶å·¥ç¨‹éƒ½æ˜¯parentã€‚å·¥ç¨‹é…ç½®æ–‡ä»¶parentï¼šç”¨æ¥ç®¡ç†æ•´ä¸ªé¡¹ç›®çš„ç‰ˆæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-parent&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;pom&lt;/packaging&gt; &lt;!-- é›†ä¸­å®šä¹‰ä¾èµ–ç‰ˆæœ¬å· --&gt; &lt;properties&gt; &lt;junit.version&gt;4.12&lt;/junit.version&gt; &lt;spring.version&gt;4.2.4.RELEASE&lt;/spring.version&gt; &lt;pagehelper.version&gt;5.0.0&lt;/pagehelper.version&gt; &lt;servlet-api.version&gt;2.5&lt;/servlet-api.version&gt; &lt;dubbo.version&gt;2.8.4&lt;/dubbo.version&gt; &lt;zookeeper.version&gt;3.4.7&lt;/zookeeper.version&gt; &lt;zkclient.version&gt;0.1&lt;/zkclient.version&gt; &lt;mybatis.version&gt;3.2.8&lt;/mybatis.version&gt; &lt;mybatis.spring.version&gt;1.2.2&lt;/mybatis.spring.version&gt; &lt;mybatis.paginator.version&gt;1.2.15&lt;/mybatis.paginator.version&gt; &lt;mysql.version&gt;5.1.32&lt;/mysql.version&gt; &lt;druid.version&gt;1.0.9&lt;/druid.version&gt; &lt;commons-fileupload.version&gt;1.3.1&lt;/commons-fileupload.version&gt; &lt;freemarker.version&gt;2.3.23&lt;/freemarker.version&gt; &lt;activemq.version&gt;5.11.2&lt;/activemq.version&gt; &lt;security.version&gt;3.2.3.RELEASE&lt;/security.version&gt; &lt;solrj.version&gt;4.10.3&lt;/solrj.version&gt; &lt;ik.version&gt;2012_u6&lt;/ik.version&gt; &lt;/properties&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;!-- Spring --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jms&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- dubboç›¸å…³ --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;dubbo&lt;/artifactId&gt; &lt;version&gt;$&#123;dubbo.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;$&#123;zookeeper.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;version&gt;$&#123;zkclient.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.9&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1.2.28&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javassist&lt;/groupId&gt; &lt;artifactId&gt;javassist&lt;/artifactId&gt; &lt;version&gt;3.11.0.GA&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;version&gt;2.5&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;$&#123;pagehelper.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Mybatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis.spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.miemiedev&lt;/groupId&gt; &lt;artifactId&gt;mybatis-paginator&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis.paginator.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MySql --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;$&#123;mysql.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- è¿žæŽ¥æ±  --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;$&#123;druid.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.csource.fastdfs&lt;/groupId&gt; &lt;artifactId&gt;fastdfs&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- æ–‡ä»¶ä¸Šä¼ ç»„ä»¶ --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;$&#123;commons-fileupload.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- ç¼“å­˜ --&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.8.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.data&lt;/groupId&gt; &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt; &lt;version&gt;1.7.2.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.freemarker&lt;/groupId&gt; &lt;artifactId&gt;freemarker&lt;/artifactId&gt; &lt;version&gt;$&#123;freemarker.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt; &lt;artifactId&gt;activemq-all&lt;/artifactId&gt; &lt;version&gt;$&#123;activemq.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- èº«ä»½éªŒè¯ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.security&lt;/groupId&gt; &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt; &lt;version&gt;4.1.0.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.security&lt;/groupId&gt; &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt; &lt;version&gt;4.1.0.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.penggle&lt;/groupId&gt; &lt;artifactId&gt;kaptcha&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.security&lt;/groupId&gt; &lt;artifactId&gt;spring-security-cas&lt;/artifactId&gt; &lt;version&gt;4.1.0.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.jasig.cas.client&lt;/groupId&gt; &lt;artifactId&gt;cas-client-core&lt;/artifactId&gt; &lt;version&gt;3.3.3&lt;/version&gt; &lt;!-- æŽ’é™¤log4jåŒ…å†²çª --&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;!-- solrå®¢æˆ·ç«¯ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.solr&lt;/groupId&gt; &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt; &lt;version&gt;$&#123;solrj.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.janeluo&lt;/groupId&gt; &lt;artifactId&gt;ikanalyzer&lt;/artifactId&gt; &lt;version&gt;$&#123;ik.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt; &lt;artifactId&gt;httpcore&lt;/artifactId&gt; &lt;version&gt;4.4.4&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt; &lt;artifactId&gt;httpclient&lt;/artifactId&gt; &lt;version&gt;4.5.3&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;dom4j&lt;/groupId&gt; &lt;artifactId&gt;dom4j&lt;/artifactId&gt; &lt;version&gt;1.6.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;xml-apis&lt;/groupId&gt; &lt;artifactId&gt;xml-apis&lt;/artifactId&gt; &lt;version&gt;1.4.01&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;build&gt; &lt;finalName&gt;$&#123;project.artifactId&#125;&lt;/finalName&gt; &lt;plugins&gt; &lt;!-- javaç¼–è¯‘æ’ä»¶ --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.2&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.7&lt;/source&gt; &lt;target&gt;1.7&lt;/target&gt; &lt;encoding&gt;UTF-8&lt;/encoding&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;pluginManagement&gt; &lt;plugins&gt; &lt;!-- é…ç½®Tomcatæ’ä»¶ --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;version&gt;2.2&lt;/version&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/pluginManagement&gt; &lt;/build&gt;&lt;/project&gt;pojoï¼šä¸ç”¨ä¾èµ–å…¶ä»–çš„ä»»ä½•åŒ…123456789&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-parent&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;artifactId&gt;china-software-cup-pojo&lt;/artifactId&gt;&lt;/project&gt;commonï¼šæä¾›å·¥å…·ç±»ï¼Œä¾èµ–pojo12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-parent&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;artifactId&gt;china-software-cup-common&lt;/artifactId&gt; &lt;!-- å·¥å…·ç±»å·¥ç¨‹: 1,æŠ½å–å…¬å…±åæ ‡ 2,å­˜æ”¾å·¥å…·ç±» --&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javassist&lt;/groupId&gt; &lt;artifactId&gt;javassist&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- æ–‡ä»¶ä¸Šä¼ ç»„ä»¶ --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt; &lt;artifactId&gt;httpcore&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt; &lt;artifactId&gt;httpclient&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;dom4j&lt;/groupId&gt; &lt;artifactId&gt;dom4j&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;xml-apis&lt;/groupId&gt; &lt;artifactId&gt;xml-apis&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-pojo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt;daoï¼šä¾èµ–pojoå’Œcommon123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-parent&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;artifactId&gt;china-software-cup-dao&lt;/artifactId&gt; &lt;dependencies&gt; &lt;!-- Mybatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.miemiedev&lt;/groupId&gt; &lt;artifactId&gt;mybatis-paginator&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- MySql --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- è¿žæŽ¥æ±  --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- pojo --&gt; &lt;dependency&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-pojo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;!-- common --&gt; &lt;dependency&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-common&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt;managerï¼šé…ç½®tomcatæ’ä»¶ï¼Œä¾èµ–dao12345678910111213141516171819202122232425262728293031323334353637383940&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-parent&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;artifactId&gt;china-software-cup-manager&lt;/artifactId&gt; &lt;packaging&gt;pom&lt;/packaging&gt; &lt;modules&gt; &lt;module&gt;china-software-cup-interface&lt;/module&gt; &lt;module&gt;china-software-cup-service&lt;/module&gt; &lt;/modules&gt; &lt;!-- åŽå°ç®¡ç†èšåˆçˆ¶å·¥ç¨‹: 1,æŠ½å–å­å·¥ç¨‹å…¬å…±åæ ‡ 2,èšåˆç®¡ç†å­å·¥ç¨‹(ç»Ÿä¸€æ‰“åŒ…,éƒ¨ç½²,å¯åŠ¨) çˆ¶å·¥ç¨‹: tomcatæ’ä»¶ 9000 --&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-dao&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;!-- é…ç½®Tomcatæ’ä»¶ --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;!-- æœåŠ¡å¯åŠ¨ç«¯å£:ä»Ž9000å¼€å§‹ --&gt; &lt;port&gt;9000&lt;/port&gt; &lt;!-- /æŠŠé¡¹ç›®å‘å¸ƒtomcatæœåŠ¡å™¨ROOTç›®å½•ä¸‹.--&gt; &lt;path&gt;/&lt;/path&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;/project&gt;interfaceï¼šä¾èµ–pojo123456789101112131415161718&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-manager&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;artifactId&gt;china-software-cup-interface&lt;/artifactId&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-pojo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt;serviceï¼šä¾èµ–pojo12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-manager&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;artifactId&gt;china-software-cup-service&lt;/artifactId&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;!-- service: 1,spring 2,dao 3,pojo 4,common 5,å‘å¸ƒæœåŠ¡:dubbo,zookeeper --&gt; &lt;dependencies&gt; &lt;!-- Spring --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jms&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- dubboç›¸å…³ --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;dubbo&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-interface&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.data&lt;/groupId&gt; &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-pojo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt;webï¼šä¾èµ–interface12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-parent&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;artifactId&gt;china-software-cup-web&lt;/artifactId&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;!-- è¿è¥å•†è¡¨çŽ°å±‚: 1,servlet 2,æœåŠ¡æŽ¥å£ 3,spring 4,å¼•å…¥æœåŠ¡:dubbo,zookeeper --&gt; &lt;dependencies&gt; &lt;!-- Spring --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jms&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- dubboç›¸å…³ --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;dubbo&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;china-software-cup-interface&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;!-- é…ç½®Tomcatæ’ä»¶ --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;!-- å‰å°å¯åŠ¨ç«¯å£:ä»Ž8080å¼€å§‹ --&gt; &lt;port&gt;8080&lt;/port&gt; &lt;!-- /æŠŠé¡¹ç›®å‘å¸ƒtomcatæœåŠ¡å™¨ROOTç›®å½•ä¸‹. --&gt; &lt;path&gt;/&lt;/path&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;serviceçš„web.xml12345678910111213141516171819202122&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" version="2.5"&gt; &lt;display-name&gt;china-software-cup-service&lt;/display-name&gt; &lt;welcome-file-list&gt; &lt;welcome-file&gt;index.html&lt;/welcome-file&gt; &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;welcome-file&gt;default.html&lt;/welcome-file&gt; &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt; &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt; &lt;/welcome-file-list&gt; &lt;!-- åŠ è½½springå®¹å™¨ --&gt; &lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath*:spring/applicationContext*.xml&lt;/param-value&gt; &lt;/context-param&gt; &lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt; &lt;/listener&gt; &lt;/web-app&gt;webçš„web.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" version="2.5"&gt; &lt;display-name&gt;china-software-cup-web&lt;/display-name&gt; &lt;welcome-file-list&gt; &lt;welcome-file&gt;index.html&lt;/welcome-file&gt; &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;welcome-file&gt;default.html&lt;/welcome-file&gt; &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt; &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt; &lt;/welcome-file-list&gt; &lt;filter&gt; &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;utf-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; &lt;servlet&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- æŒ‡å®šåŠ è½½çš„é…ç½®æ–‡ä»¶ ï¼Œé€šè¿‡å‚æ•°contextConfigLocationåŠ è½½--&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/springmvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;/web-app&gt;DAOå±‚é…ç½®1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:context="http://www.springframework.org/schema/context" xmlns:p="http://www.springframework.org/schema/p" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd"&gt; &lt;!-- åŠ è½½é…ç½®æ–‡ä»¶ --&gt; &lt;context:property-placeholder location="classpath*:properties/*.properties" /&gt; &lt;!-- æ•°æ®åº“è¿žæŽ¥æ±  --&gt; &lt;bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource" destroy-method="close"&gt; &lt;property name="url" value="$&#123;jdbc.url&#125;" /&gt; &lt;property name="username" value="$&#123;jdbc.username&#125;" /&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;" /&gt; &lt;property name="driverClassName" value="$&#123;jdbc.driver&#125;" /&gt; &lt;property name="maxActive" value="10" /&gt; &lt;property name="minIdle" value="5" /&gt; &lt;/bean&gt; &lt;!-- é…ç½® Mybatisçš„å·¥åŽ‚ --&gt; &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt; &lt;!-- æ•°æ®æº --&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;!-- é…ç½®pojoåˆ«å --&gt; &lt;property name="typeAliasesPackage" value="csc.pojo"&gt;&lt;/property&gt; &lt;!-- é…ç½®åˆ†é¡µæ’ä»¶ --&gt; &lt;property name="plugins"&gt; &lt;array&gt; &lt;bean class="com.github.pagehelper.PageInterceptor"&gt; &lt;property name="properties"&gt; &lt;!--ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼é…ç½®å‚æ•°ï¼Œä¸€è¡Œé…ç½®ä¸€ä¸ª --&gt; &lt;value&gt;helperDialect=mysql&lt;/value&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/array&gt; &lt;/property&gt; &lt;/bean&gt; &lt;bean class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;property name="basePackage" value="csc.mapper" /&gt; &lt;/bean&gt;&lt;/beans&gt;serviceå±‚é…ç½®12345678910111213141516171819202122232425&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;!-- æŒ‡å®šDubboå‘å¸ƒæœåŠ¡çš„ç«¯å£ --&gt; &lt;dubbo:protocol name="dubbo" port="20881"&gt;&lt;/dubbo:protocol&gt; &lt;!-- æœåŠ¡çš„åç§° --&gt; &lt;dubbo:application name="china-software-cup-service"/&gt; &lt;!-- æŒ‡å®šæ³¨å†Œä¸­å¿ƒ --&gt; &lt;dubbo:registry address="zookeeper://59.110.143.226:2181"/&gt; &lt;!-- å‘å¸ƒæœåŠ¡å™¨ --&gt; &lt;dubbo:annotation package="csc.service.impl" /&gt; &lt;!-- é…ç½®æœåŠ¡ç«¯ è¶…æ—¶æ—¶é—´30ç§’ --&gt; &lt;dubbo:provider timeout="30000"&gt;&lt;/dubbo:provider&gt;&lt;/beans&gt;webå±‚é…ç½®123456789101112131415161718192021222324252627282930313233343536&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;context:property-placeholder location="classpath:config/application.properties" /&gt; &lt;mvc:annotation-driven&gt; &lt;mvc:message-converters register-defaults="true"&gt; &lt;bean class="com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes" value="application/json"/&gt; &lt;property name="features"&gt; &lt;array&gt; &lt;value&gt;WriteMapNullValue&lt;/value&gt; &lt;value&gt;WriteDateUseDateFormat&lt;/value&gt; &lt;/array&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/mvc:message-converters&gt; &lt;/mvc:annotation-driven&gt; &lt;!-- æ”¾è¡Œé™æ€èµ„æº --&gt; &lt;mvc:default-servlet-handler/&gt; &lt;!-- å¼•ç”¨dubbo æœåŠ¡ --&gt; &lt;dubbo:application name="china-software-cup-web" /&gt; &lt;dubbo:registry address="zookeeper://59.110.143.226:2181"/&gt; &lt;dubbo:annotation package="csc.controller" /&gt; &lt;!-- é…ç½®æ¶ˆè´¹ç«¯è¶…æ—¶æ—¶é—´ 30ç§’ --&gt; &lt;dubbo:consumer timeout="30000"&gt;&lt;/dubbo:consumer&gt;&lt;/beans&gt;dubboé…ç½®æä¾›æœåŠ¡çš„æ˜¯serviceï¼ŒæœåŠ¡æ¶ˆè´¹è€…æ˜¯webã€‚serviceé…ç½®1234567891011121314&lt;!-- æŒ‡å®šDubboå‘å¸ƒæœåŠ¡çš„ç«¯å£ --&gt;&lt;dubbo:protocol name="dubbo" port="20881"&gt;&lt;/dubbo:protocol&gt;&lt;!-- æœåŠ¡çš„åç§° --&gt;&lt;dubbo:application name="china-software-cup-service"/&gt; &lt;!-- æŒ‡å®šæ³¨å†Œä¸­å¿ƒï¼Œipæ˜¯è‡ªå·±zookeeperçš„ip --&gt;&lt;dubbo:registry address="zookeeper://59.110.143.226:2181"/&gt;&lt;!-- å‘å¸ƒæœåŠ¡å™¨ --&gt;&lt;dubbo:annotation package="csc.service.impl" /&gt; &lt;!-- é…ç½®æœåŠ¡ç«¯ è¶…æ—¶æ—¶é—´30ç§’ --&gt;&lt;dubbo:provider timeout="30000"&gt;&lt;/dubbo:provider&gt;webé…ç½®12345&lt;!-- å¼•ç”¨dubbo æœåŠ¡ --&gt;&lt;dubbo:application name="china-software-cup-web" /&gt;&lt;!-- ipæ˜¯è‡ªå·±zookeeperçš„ip --&gt;&lt;dubbo:registry address="zookeeper://59.110.143.226:2181"/&gt;&lt;dubbo:annotation package="csc.controller" /&gt;æ‰§è¡Œæµç¨‹]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JavaWeb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaä¸­åŸºç¡€çš„å…³é”®å­—]]></title>
    <url>%2F2019%2FJava%E4%B8%AD%E5%9F%BA%E7%A1%80%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97%2F</url>
    <content type="text"><![CDATA[staticstaticæ–¹æ³•å°±æ˜¯æ²¡æœ‰thisçš„æ–¹æ³•ã€‚åœ¨staticæ–¹æ³•å†…éƒ¨ä¸èƒ½è°ƒç”¨éžé™æ€æ–¹æ³•ï¼Œåè¿‡æ¥æ˜¯å¯ä»¥çš„ã€‚è€Œä¸”å¯ä»¥åœ¨æ²¡æœ‰åˆ›å»ºä»»ä½•å¯¹è±¡çš„å‰æä¸‹ï¼Œä»…ä»…é€šè¿‡ç±»æœ¬èº«æ¥è°ƒç”¨staticæ–¹æ³•ã€‚è¿™å®žé™…ä¸Šæ­£æ˜¯staticæ–¹æ³•çš„ä¸»è¦ç”¨é€”ã€‚è¿™æ®µè¯è™½ç„¶åªæ˜¯è¯´æ˜Žäº†staticæ–¹æ³•çš„ç‰¹æ®Šä¹‹å¤„ï¼Œä½†æ˜¯å¯ä»¥çœ‹å‡ºstaticå…³é”®å­—çš„åŸºæœ¬ä½œç”¨ï¼Œç®€è€Œè¨€ä¹‹ï¼Œä¸€å¥è¯æ¥æè¿°å°±æ˜¯ï¼šæ–¹ä¾¿åœ¨æ²¡æœ‰åˆ›å»ºå¯¹è±¡çš„æƒ…å†µä¸‹æ¥è¿›è¡Œè°ƒç”¨ï¼ˆæ–¹æ³•/å˜é‡ï¼‰ã€‚å¾ˆæ˜¾ç„¶ï¼Œè¢«staticå…³é”®å­—ä¿®é¥°çš„æ–¹æ³•æˆ–è€…å˜é‡ä¸éœ€è¦ä¾èµ–äºŽå¯¹è±¡æ¥è¿›è¡Œè®¿é—®ï¼Œåªè¦ç±»è¢«åŠ è½½äº†ï¼Œå°±å¯ä»¥é€šè¿‡ç±»ååŽ»è¿›è¡Œè®¿é—®ã€‚staticå¯ä»¥ç”¨æ¥ä¿®é¥°ç±»çš„æˆå‘˜æ–¹æ³•ã€ç±»çš„æˆå‘˜å˜é‡ï¼Œå¦å¤–å¯ä»¥ç¼–å†™staticä»£ç å—æ¥ä¼˜åŒ–ç¨‹åºæ€§èƒ½ã€‚staticæ–¹æ³•staticæ–¹æ³•ä¸€èˆ¬ç§°ä½œé™æ€æ–¹æ³•ï¼Œç”±äºŽé™æ€æ–¹æ³•ä¸ä¾èµ–äºŽä»»ä½•å¯¹è±¡å°±å¯ä»¥è¿›è¡Œè®¿é—®ï¼Œå› æ­¤å¯¹äºŽé™æ€æ–¹æ³•æ¥è¯´ï¼Œæ˜¯æ²¡æœ‰thisçš„ï¼Œå› ä¸ºå®ƒä¸ä¾é™„äºŽä»»ä½•å¯¹è±¡ï¼Œæ—¢ç„¶éƒ½æ²¡æœ‰å¯¹è±¡ï¼Œå°±è°ˆä¸ä¸Šthisäº†ã€‚å¹¶ä¸”ç”±äºŽè¿™ä¸ªç‰¹æ€§ï¼Œåœ¨é™æ€æ–¹æ³•ä¸­ä¸èƒ½è®¿é—®ç±»çš„éžé™æ€æˆå‘˜å˜é‡å’Œéžé™æ€æˆå‘˜æ–¹æ³•ï¼Œå› ä¸ºéžé™æ€æˆå‘˜æ–¹æ³•/å˜é‡éƒ½æ˜¯å¿…é¡»ä¾èµ–å…·ä½“çš„å¯¹è±¡æ‰èƒ½å¤Ÿè¢«è°ƒç”¨ã€‚ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶åœ¨é™æ€æ–¹æ³•ä¸­ä¸èƒ½è®¿é—®éžé™æ€æˆå‘˜æ–¹æ³•å’Œéžé™æ€æˆå‘˜å˜é‡ï¼Œä½†æ˜¯åœ¨éžé™æ€æˆå‘˜æ–¹æ³•ä¸­æ˜¯å¯ä»¥è®¿é—®é™æ€æˆå‘˜æ–¹æ³•/å˜é‡çš„ã€‚ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç”±äºŽprint2æ–¹æ³•æ˜¯ç‹¬ç«‹äºŽå¯¹è±¡å­˜åœ¨çš„ï¼Œå¯ä»¥ç›´æŽ¥ç”¨è¿‡ç±»åè°ƒç”¨ã€‚å‡å¦‚è¯´å¯ä»¥åœ¨é™æ€æ–¹æ³•ä¸­è®¿é—®éžé™æ€æ–¹æ³•/å˜é‡çš„è¯ï¼Œé‚£ä¹ˆå¦‚æžœåœ¨mainæ–¹æ³•ä¸­æœ‰ä¸‹é¢ä¸€æ¡è¯­å¥ï¼šMyObject.print2();ã€‚æ­¤æ—¶å¯¹è±¡éƒ½æ²¡æœ‰ï¼Œstr2æ ¹æœ¬å°±ä¸å­˜åœ¨ï¼Œæ‰€ä»¥å°±ä¼šäº§ç”ŸçŸ›ç›¾äº†ã€‚åŒæ ·å¯¹äºŽæ–¹æ³•ä¹Ÿæ˜¯ä¸€æ ·ï¼Œç”±äºŽä½ æ— æ³•é¢„çŸ¥åœ¨print1æ–¹æ³•ä¸­æ˜¯å¦è®¿é—®äº†éžé™æ€æˆå‘˜å˜é‡ï¼Œæ‰€ä»¥ä¹Ÿç¦æ­¢åœ¨é™æ€æˆå‘˜æ–¹æ³•ä¸­è®¿é—®éžé™æ€æˆå‘˜æ–¹æ³•ã€‚è€Œå¯¹äºŽéžé™æ€æˆå‘˜æ–¹æ³•ï¼Œå®ƒè®¿é—®é™æ€æˆå‘˜æ–¹æ³•/å˜é‡æ˜¾ç„¶æ˜¯æ¯«æ— é™åˆ¶çš„ã€‚å› æ­¤ï¼Œå¦‚æžœè¯´æƒ³åœ¨ä¸åˆ›å»ºå¯¹è±¡çš„æƒ…å†µä¸‹è°ƒç”¨æŸä¸ªæ–¹æ³•ï¼Œå°±å¯ä»¥å°†è¿™ä¸ªæ–¹æ³•è®¾ç½®ä¸ºstaticã€‚æˆ‘ä»¬æœ€å¸¸è§çš„staticæ–¹æ³•å°±æ˜¯mainæ–¹æ³•ï¼Œè‡³äºŽä¸ºä»€ä¹ˆmainæ–¹æ³•å¿…é¡»æ˜¯staticçš„ï¼ŒçŽ°åœ¨å°±å¾ˆæ¸…æ¥šäº†ã€‚å› ä¸ºç¨‹åºåœ¨æ‰§è¡Œmainæ–¹æ³•çš„æ—¶å€™æ²¡æœ‰åˆ›å»ºä»»ä½•å¯¹è±¡ï¼Œå› æ­¤åªæœ‰é€šè¿‡ç±»åæ¥è®¿é—®ã€‚staticå˜é‡staticå˜é‡ä¹Ÿç§°ä½œé™æ€å˜é‡ï¼Œé™æ€å˜é‡å’Œéžé™æ€å˜é‡çš„åŒºåˆ«æ˜¯ï¼šé™æ€å˜é‡è¢«æ‰€æœ‰çš„å¯¹è±¡æ‰€å…±äº«ï¼Œåœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªå‰¯æœ¬ï¼Œå®ƒå½“ä¸”ä»…å½“åœ¨ç±»åˆæ¬¡åŠ è½½æ—¶ä¼šè¢«åˆå§‹åŒ–ã€‚è€Œéžé™æ€å˜é‡æ˜¯å¯¹è±¡æ‰€æ‹¥æœ‰çš„ï¼Œåœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™è¢«åˆå§‹åŒ–ï¼Œå­˜åœ¨å¤šä¸ªå‰¯æœ¬ï¼Œå„ä¸ªå¯¹è±¡æ‹¥æœ‰çš„å‰¯æœ¬äº’ä¸å½±å“ã€‚staticæˆå‘˜å˜é‡çš„åˆå§‹åŒ–é¡ºåºæŒ‰ç…§å®šä¹‰çš„é¡ºåºè¿›è¡Œåˆå§‹åŒ–ã€‚staticä»£ç å—staticå…³é”®å­—è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå…³é”®çš„ä½œç”¨å°±æ˜¯ ç”¨æ¥å½¢æˆé™æ€ä»£ç å—ä»¥ä¼˜åŒ–ç¨‹åºæ€§èƒ½ã€‚staticå—å¯ä»¥ç½®äºŽç±»ä¸­çš„ä»»ä½•åœ°æ–¹ï¼Œç±»ä¸­å¯ä»¥æœ‰å¤šä¸ªstaticå—ã€‚åœ¨ç±»åˆæ¬¡è¢«åŠ è½½çš„æ—¶å€™ï¼Œä¼šæŒ‰ç…§staticå—çš„é¡ºåºæ¥æ‰§è¡Œæ¯ä¸ªstaticå—ï¼Œå¹¶ä¸”åªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚12345678910111213class Person&#123; private Date birthDate; public Person(Date birthDate) &#123; this.birthDate = birthDate; &#125; boolean isBornBoomer() &#123; Date startDate = Date.valueOf(&quot;1946&quot;); Date endDate = Date.valueOf(&quot;1964&quot;); return birthDate.compareTo(startDate)&gt;=0 &amp;&amp; birthDate.compareTo(endDate) &lt; 0; &#125;&#125;isBornBoomeræ˜¯ç”¨æ¥è¿™ä¸ªäººæ˜¯å¦æ˜¯1946-1964å¹´å‡ºç”Ÿçš„ï¼Œè€Œæ¯æ¬¡isBornBoomerè¢«è°ƒç”¨çš„æ—¶å€™ï¼Œéƒ½ä¼šç”ŸæˆstartDateå’ŒbirthDateä¸¤ä¸ªå¯¹è±¡ï¼Œé€ æˆäº†ç©ºé—´æµªè´¹ï¼Œå¦‚æžœæ”¹æˆè¿™æ ·æ•ˆçŽ‡ä¼šæ›´å¥½ï¼š12345678910111213141516class Person&#123; private Date birthDate; private static Date startDate,endDate; static&#123; startDate = Date.valueOf(&quot;1946&quot;); endDate = Date.valueOf(&quot;1964&quot;); &#125; public Person(Date birthDate) &#123; this.birthDate = birthDate; &#125; boolean isBornBoomer() &#123; return birthDate.compareTo(startDate)&gt;=0 &amp;&amp; birthDate.compareTo(endDate) &lt; 0; &#125;&#125;staticå…³é”®å­—çš„è¯¯åŒºstaticå…³é”®å­—ä¼šæ”¹å˜ç±»ä¸­æˆå‘˜çš„è®¿é—®æƒé™å—ï¼ŸJavaä¸­çš„staticå…³é”®å­—ä¸ä¼šå½±å“åˆ°å˜é‡æˆ–è€…æ–¹æ³•çš„ä½œç”¨åŸŸã€‚åœ¨Javaä¸­èƒ½å¤Ÿå½±å“åˆ°è®¿é—®æƒé™çš„åªæœ‰privateã€publicã€protectedï¼ˆåŒ…æ‹¬åŒ…è®¿é—®æƒé™ï¼‰è¿™å‡ ä¸ªå…³é”®å­—ã€‚èƒ½é€šè¿‡thisè®¿é—®é™æ€æˆå‘˜å˜é‡å—ï¼Ÿé™æ€æˆå‘˜å˜é‡è™½ç„¶ç‹¬ç«‹äºŽå¯¹è±¡ï¼Œä½†æ˜¯ä¸ä»£è¡¨ä¸å¯ä»¥é€šè¿‡å¯¹è±¡åŽ»è®¿é—®ï¼Œæ‰€æœ‰çš„é™æ€æ–¹æ³•å’Œé™æ€å˜é‡éƒ½å¯ä»¥é€šè¿‡å¯¹è±¡è®¿é—®ï¼ˆåªè¦è®¿é—®æƒé™è¶³å¤Ÿï¼‰ã€‚123456789101112public class Main &#123; static int value = 33; public static void main(String[] args) throws Exception&#123; new Main().printValue(); &#125; private void printValue()&#123; int value = 3; System.out.println(this.value); //33 &#125;&#125;staticèƒ½ä½œç”¨äºŽå±€éƒ¨å˜é‡ä¹ˆï¼Ÿstaticæ˜¯ä¸å…è®¸ç”¨æ¥ä¿®é¥°å±€éƒ¨å˜é‡ã€‚å¸¸è§çš„ç¬”è¯•é¢è¯•é¢˜è¿™æ®µä»£ç çš„è¾“å‡ºç»“æžœæ˜¯ä»€ä¹ˆï¼Ÿ12345678910111213141516171819202122232425262728public class Test extends Base&#123; static&#123; System.out.println("test static"); &#125; public Test()&#123; System.out.println("test constructor"); &#125; public static void main(String[] args) &#123; new Test(); &#125;&#125; class Base&#123; static&#123; System.out.println("base static"); &#125; public Base()&#123; System.out.println("base constructor"); &#125;&#125;/* çˆ¶ç±»å…ˆäºŽå­ç±»ã€é™æ€å…ˆäºŽæ™®é€š base static test static base constructor test constructor*/è¿™æ®µä»£ç çš„è¾“å‡ºç»“æžœæ˜¯ä»€ä¹ˆï¼Ÿ12345678910111213141516171819202122232425262728293031323334353637383940public class Test &#123; Person person = new Person(&quot;Test&quot;); static&#123; System.out.println(&quot;test static&quot;); &#125; public Test() &#123; System.out.println(&quot;test constructor&quot;); &#125; public static void main(String[] args) &#123; new MyClass(); &#125;&#125;class Person&#123; static&#123; System.out.println(&quot;person static&quot;); &#125; public Person(String str) &#123; System.out.println(&quot;person &quot;+str); &#125;&#125;class MyClass extends Test &#123; Person person = new Person(&quot;MyClass&quot;); static&#123; System.out.println(&quot;myclass static&quot;); &#125; public MyClass() &#123; System.out.println(&quot;myclass constructor&quot;); &#125;&#125;/* test static myclass static person static person Test test constructor person MyClass myclass constructor*/é¦–å…ˆåŠ è½½Testç±»ï¼Œå› æ­¤ä¼šæ‰§è¡ŒTestç±»ä¸­çš„staticå—ã€‚æŽ¥ç€æ‰§è¡Œnew MyClass()ï¼Œè€ŒMyClassç±»è¿˜æ²¡æœ‰è¢«åŠ è½½ï¼Œå› æ­¤éœ€è¦åŠ è½½MyClassç±»ã€‚åœ¨åŠ è½½MyClassç±»çš„æ—¶å€™ï¼Œå‘çŽ°MyClassç±»ç»§æ‰¿è‡ªTestç±»ï¼Œä½†æ˜¯ç”±äºŽTestç±»å·²ç»è¢«åŠ è½½äº†ï¼Œæ‰€ä»¥åªéœ€è¦åŠ è½½MyClassç±»ï¼Œé‚£ä¹ˆå°±ä¼šæ‰§è¡ŒMyClassç±»çš„ä¸­çš„staticå—ã€‚åœ¨åŠ è½½å®Œä¹‹åŽï¼Œå°±é€šè¿‡æž„é€ å™¨æ¥ç”Ÿæˆå¯¹è±¡ã€‚è€Œåœ¨ç”Ÿæˆå¯¹è±¡çš„æ—¶å€™ï¼Œå¿…é¡»å…ˆåˆå§‹åŒ–çˆ¶ç±»çš„æˆå‘˜å˜é‡ï¼Œå› æ­¤ä¼šæ‰§è¡ŒTestä¸­çš„Person person = new Person()ï¼Œè€ŒPersonç±»è¿˜æ²¡æœ‰è¢«åŠ è½½è¿‡ï¼Œå› æ­¤ä¼šå…ˆåŠ è½½Personç±»å¹¶æ‰§è¡ŒPersonç±»ä¸­çš„staticå—ï¼ŒæŽ¥ç€æ‰§è¡Œçˆ¶ç±»çš„æž„é€ å™¨ï¼Œå®Œæˆäº†çˆ¶ç±»çš„åˆå§‹åŒ–ï¼Œç„¶åŽå°±æ¥åˆå§‹åŒ–è‡ªèº«äº†ï¼Œå› æ­¤ä¼šæŽ¥ç€æ‰§è¡ŒMyClassä¸­çš„Person person = new Person()ï¼Œæœ€åŽæ‰§è¡ŒMyClassçš„æž„é€ å™¨ã€‚finalä¿®é¥°ç±»å½“ç”¨finalä¿®é¥°ä¸€ä¸ªç±»æ—¶ï¼Œè¡¨æ˜Žè¿™ä¸ªç±»ä¸èƒ½è¢«ç»§æ‰¿ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœä¸€ä¸ªç±»ä½ æ°¸è¿œä¸ä¼šè®©ä»–è¢«ç»§æ‰¿ï¼Œå°±å¯ä»¥ç”¨finalè¿›è¡Œä¿®é¥°ã€‚finalç±»ä¸­çš„æˆå‘˜å˜é‡å¯ä»¥æ ¹æ®éœ€è¦è®¾ä¸ºfinalï¼Œä½†æ˜¯è¦æ³¨æ„finalç±»ä¸­çš„æ‰€æœ‰æˆå‘˜æ–¹æ³•éƒ½ä¼šè¢«éšå¼åœ°æŒ‡å®šä¸ºfinalæ–¹æ³•ã€‚ä¿®é¥°æ–¹æ³•åªæœ‰åœ¨æƒ³æ˜Žç¡®ç¦æ­¢è¯¥æ–¹æ³•åœ¨å­ç±»ä¸­è¢«è¦†ç›–çš„æƒ…å†µä¸‹æ‰å°†æ–¹æ³•è®¾ç½®ä¸ºfinalçš„ã€‚å³çˆ¶ç±»çš„finalæ–¹æ³•æ˜¯ä¸èƒ½è¢«å­ç±»æ‰€è¦†ç›–çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å­ç±»æ˜¯ä¸èƒ½å¤Ÿå­˜åœ¨å’Œçˆ¶ç±»ä¸€æ¨¡ä¸€æ ·çš„æ–¹æ³•çš„ã€‚finalä¿®é¥°çš„æ–¹æ³•è¡¨ç¤ºæ­¤æ–¹æ³•å·²ç»æ˜¯â€œæœ€åŽçš„ã€æœ€ç»ˆçš„â€å«ä¹‰ï¼Œäº¦å³æ­¤æ–¹æ³•ä¸èƒ½è¢«é‡å†™ï¼ˆå¯ä»¥é‡è½½å¤šä¸ªfinalä¿®é¥°çš„æ–¹æ³•ï¼‰ã€‚æ­¤å¤„éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼šå› ä¸ºé‡å†™çš„å‰ææ˜¯å­ç±»å¯ä»¥ä»Žçˆ¶ç±»ä¸­ç»§æ‰¿æ­¤æ–¹æ³•ï¼Œå¦‚æžœçˆ¶ç±»ä¸­finalä¿®é¥°çš„æ–¹æ³•åŒæ—¶è®¿é—®æŽ§åˆ¶æƒé™ä¸ºprivateï¼Œå°†ä¼šå¯¼è‡´å­ç±»ä¸­ä¸èƒ½ç›´æŽ¥ç»§æ‰¿åˆ°æ­¤æ–¹æ³•ï¼Œå› æ­¤ï¼Œæ­¤æ—¶å¯ä»¥åœ¨å­ç±»ä¸­å®šä¹‰æ–¹æ³•ç­¾åç›¸åŒçš„æ–¹æ³•ï¼Œæ­¤æ—¶ä¸å†äº§ç”Ÿé‡å†™ä¸Žfinalçš„çŸ›ç›¾ï¼Œè€Œæ˜¯åœ¨å­ç±»ä¸­é‡æ–°å®šä¹‰äº†æ–°çš„æ–¹æ³•ã€‚ï¼ˆæ³¨ï¼šç±»çš„privateæ–¹æ³•ä¼šéšå¼åœ°è¢«æŒ‡å®šä¸ºfinalæ–¹æ³•ã€‚ï¼‰123456789101112131415161718192021222324252627public class B extends A &#123; public static void main(String[] args) &#123; &#125; public void getName() &#123; &#125;&#125;class A &#123; /** * å› ä¸ºprivateä¿®é¥°ï¼Œå­ç±»ä¸­ä¸èƒ½ç»§æ‰¿åˆ°æ­¤æ–¹æ³•ï¼Œå› æ­¤ï¼Œå­ç±»ä¸­çš„getNameæ–¹æ³•æ˜¯é‡æ–°å®šä¹‰çš„ã€ * å±žäºŽå­ç±»æœ¬èº«çš„æ–¹æ³•ï¼Œç¼–è¯‘æ­£å¸¸ */ private final void getName() &#123; &#125; /* å› ä¸ºpblicä¿®é¥°ï¼Œå­ç±»å¯ä»¥ç»§æ‰¿åˆ°æ­¤æ–¹æ³•ï¼Œå¯¼è‡´é‡å†™äº†çˆ¶ç±»çš„finalæ–¹æ³•ï¼Œç¼–è¯‘å‡ºé”™ public final void getName() &#123; &#125; */&#125;ä¿®é¥°å˜é‡finalæˆå‘˜å˜é‡è¡¨ç¤ºå¸¸é‡ï¼Œåªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡ï¼Œèµ‹å€¼åŽå€¼ä¸å†æ”¹å˜ã€‚å½“finalä¿®é¥°ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»åž‹æ—¶ï¼Œè¡¨ç¤ºè¯¥åŸºæœ¬æ•°æ®ç±»åž‹çš„å€¼ä¸€æ—¦åœ¨åˆå§‹åŒ–åŽä¾¿ä¸èƒ½å‘ç”Ÿå˜åŒ–ï¼›å¦‚æžœfinalä¿®é¥°ä¸€ä¸ªå¼•ç”¨ç±»åž‹æ—¶ï¼Œåˆ™åœ¨å¯¹å…¶åˆå§‹åŒ–ä¹‹åŽä¾¿ä¸èƒ½å†è®©å…¶æŒ‡å‘å…¶ä»–å¯¹è±¡äº†ï¼Œä½†è¯¥å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡çš„å†…å®¹æ˜¯å¯ä»¥å‘ç”Ÿå˜åŒ–çš„ã€‚æœ¬è´¨ä¸Šæ˜¯ä¸€å›žäº‹ï¼Œå› ä¸ºå¼•ç”¨çš„å€¼æ˜¯ä¸€ä¸ªåœ°å€ï¼Œfinalè¦æ±‚å€¼ï¼Œå³åœ°å€çš„å€¼ä¸å‘ç”Ÿå˜åŒ–ã€‚finalä¿®é¥°ä¸€ä¸ªæˆå‘˜å˜é‡ï¼ˆå±žæ€§ï¼‰ï¼Œå¿…é¡»è¦æ˜¾ç¤ºåˆå§‹åŒ–ã€‚è¿™é‡Œæœ‰ä¸¤ç§åˆå§‹åŒ–æ–¹å¼ï¼Œä¸€ç§æ˜¯åœ¨å˜é‡å£°æ˜Žçš„æ—¶å€™åˆå§‹åŒ–ï¼›ç¬¬äºŒç§æ–¹æ³•æ˜¯åœ¨å£°æ˜Žå˜é‡çš„æ—¶å€™ä¸èµ‹åˆå€¼ï¼Œä½†æ˜¯è¦åœ¨è¿™ä¸ªå˜é‡æ‰€åœ¨çš„ç±»çš„æ‰€æœ‰çš„æž„é€ å‡½æ•°ä¸­å¯¹è¿™ä¸ªå˜é‡èµ‹åˆå€¼ã€‚å½“å‡½æ•°çš„å‚æ•°ç±»åž‹å£°æ˜Žä¸ºfinalæ—¶ï¼Œè¯´æ˜Žè¯¥å‚æ•°æ˜¯åªè¯»åž‹çš„ã€‚å³ä½ å¯ä»¥è¯»å–ä½¿ç”¨è¯¥å‚æ•°ï¼Œä½†æ˜¯æ— æ³•æ”¹å˜è¯¥å‚æ•°çš„å€¼ã€‚abstractæŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•éƒ½ä½¿ç”¨å…³é”®å­—abstractã€‚æŠ½è±¡ç±»ä¸­å¯ä»¥æœ‰å·²è¢«å®žçŽ°çš„æ–¹æ³•ã€‚æŠ½è±¡æ–¹æ³•å¿…é¡»å­˜åœ¨äºŽæŠ½è±¡ç±»ä¸­ã€‚ç»§æ‰¿æŠ½è±¡ç±»çš„å­ç±»è¦ä¸å®žçŽ°å…¶å…¨éƒ¨çš„æŠ½è±¡æ–¹æ³•ï¼Œè¦ä¸å­ç±»ä¹Ÿè¦è¢«è¯´æ˜Žä¸ºabstractçš„ã€‚æŠ½è±¡ç±»ä¸èƒ½ç”¨æ¥å®žä¾‹åŒ–å¯¹è±¡ï¼Œåªèƒ½å¼•ç”¨å…¶å­ç±»çš„å®žä¾‹ã€‚æŠ½è±¡ç±»ä½œä¸ºæ–¹æ³•è¿”å›žå€¼çš„æ—¶å€™ï¼Œéœ€è¦è¿”å›žä¸€ä¸ªç»§æ‰¿æŠ½è±¡ç±»å¹¶å®žçŽ°æ‰€æœ‰æŠ½è±¡æ–¹æ³•çš„å­ç±»å¯¹è±¡ã€‚è¢«finalã€staticã€privateç¾¤æ®´çš„abstractfinalï¼šè¢«abstractä¿®é¥°çš„æ–¹æ³•å¼ºåˆ¶å­ç±»é‡å†™ï¼Œè¢«finalä¿®é¥°çš„ä¸è®©å­ç±»é‡å†™ï¼Œæ‰€ä»¥ä»–ä¿©æ˜¯çŸ›ç›¾çš„ã€‚staticï¼šè¢«staticä¿®é¥°çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨ç±»åè¢«è°ƒç”¨ï¼Œè€ŒæŠ½è±¡æ–¹æ³•ä¸èƒ½ç›´æŽ¥è¢«è°ƒç”¨ï¼Œä¸éœ€è¦å­ç±»å®žçŽ°æŠ½è±¡æ–¹æ³•å°±å¯ä»¥ä½¿ç”¨ç±»åæ¥è°ƒç”¨å’ŒæŠ½è±¡æ–¹æ³•ä¸èƒ½ç›´æŽ¥è¢«è°ƒç”¨çŸ›ç›¾ã€‚privateï¼šè¢«privateä¿®é¥°çš„æ–¹æ³•ä¸èƒ½è¢«ç»§æ‰¿è‡ªç„¶ä¸èƒ½è¢«é‡å†™ã€‚è€Œabstractä¿®é¥°çš„æ–¹æ³•å¿…é¡»è¢«å­ç±»å®žçŽ°ã€‚instanceofåˆ¤æ–­æŸå¯¹è±¡æ˜¯ä¸æ˜¯æŸç±»æˆ–å…¶çˆ¶ç±»çš„å¯¹è±¡ã€‚åˆ¤æ–­æŸå¯¹è±¡æ˜¯ä¸æ˜¯æŸæŽ¥å£æˆ–å…¶çˆ¶æŽ¥å£çš„å®žçŽ°ç±»çš„å¯¹è±¡ã€‚å…¶å®žå¦‚a instanceof Bã€‚åªè¦Bç±»çš„å¯¹è±¡å¼•ç”¨èƒ½å¼•ç”¨aå°±æ˜¯trueï¼Œå¦åˆ™æ˜¯falseã€‚ä½†æ˜¯açš„ç±»åž‹å’ŒBå¿…é¡»åœ¨ä¸€æ¡ç»§æ‰¿é“¾ä¸­ï¼Œå¦åˆ™ä¼šç¼–è¯‘é”™è¯¯ã€‚å‚è€ƒhttps://www.cnblogs.com/xiaoxi/p/6392154.htmlhttps://www.cnblogs.com/dolphin0520/p/3799052.html]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¼‚å¸¸]]></title>
    <url>%2F2019%2F%E5%BC%82%E5%B8%B8%2F</url>
    <content type="text"><![CDATA[å¼‚å¸¸ä»‹ç»å¼‚å¸¸æ˜¯ç¨‹åºåœ¨è¿è¡Œæ—¶å‡ºçŽ°çš„ä¼šå¯¼è‡´ç¨‹åºè¿è¡Œç»ˆæ­¢çš„é”™è¯¯ã€‚è¿™ç§é”™è¯¯æ˜¯ä¸èƒ½é€šè¿‡ç¼–è¯‘ç³»ç»Ÿæ£€æŸ¥å‡ºæ¥çš„ã€‚å¸¸è§çš„å¼‚å¸¸çš„å‘ç”ŸåŽŸå› ä¸ºç³»ç»Ÿèµ„æºé”™è¯¯å’Œç”¨æˆ·æ“æ‰€é”™è¯¯ä¸¤ç§ã€‚JavaæŠŠå¼‚å¸¸ä¿¡æ¯å°è£…æˆä¸€ä¸ªç±»ã€‚å½“å‘ç”ŸæŸç§å¼‚å¸¸æ—¶å°†æŸç§å¯¹åº”çš„ç±»ä½œä¸ºå¼‚å¸¸ä¿¡æ¯æŠ›å‡ºã€‚å¼‚å¸¸çš„æ ¹ç±»æ—¶Throwableï¼Œå…¶æœ‰ä¸¤ä¸ªç›´æŽ¥å­ç±»Errorå’ŒExceptionã€‚Erroræ˜¯æè¿°ç³»ç»Ÿèµ„æºé”™è¯¯çš„ç±»ã€‚Exceptionæ˜¯æè¿°ç”¨æˆ·æ“ä½œé”™è¯¯çš„ç±»ã€‚å‘ç”Ÿäº†Errorå°±æ˜¯å¿…é¡»ä¿®æ”¹ä»£ç æˆ–è°ƒæ•´å¤–éƒ¨çŽ¯å¢ƒé—®é¢˜ï¼Œç¨‹åºè‚¯å®šä¼šç»ˆæ­¢ã€‚æ¯”å¦‚éœ€è¦å¼€è¾Ÿä¸€ä¸ªå†…å­˜å¤§å°ä¸º99999999ä¸ªintçš„æ•°ç»„ã€‚ä¸€èˆ¬æ¥è¯´Errorå¾ˆå°‘å‘ç”Ÿã€‚å‘ç”Ÿäº†Exceptionå°±è¦è¿›è¡Œå¤„ç†ï¼Œä½¿ç¨‹åºè¿è¡Œä¸‹åŽ»ï¼Œå¦‚æ•°ç»„è¶Šç•Œå¼‚å¸¸ã€‚è€ŒExceptionåˆå¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯ç¨‹åºæœ¬èº«å­˜åœ¨çš„é—®é¢˜å¼•å‘çš„å¼‚å¸¸ï¼ˆå¥å£®æ€§ä¸å¤Ÿï¼‰ï¼Œå³ï¼šRuntimeExceptionï¼›ä¸€ç§æ˜¯ç¨‹åºæœ¬èº«å¯èƒ½æ²¡æœ‰é—®é¢˜ï¼Œä½†é‡åˆ°è¯¸å¦‚æ–‡ä»¶ä¸å­˜åœ¨æ‰€å¯¼è‡´çš„é”™è¯¯ï¼ŒExcptionä¸­é™¤äº†RuntimeExceptionå¤–éƒ½æ˜¯æ­¤ç§å¼‚å¸¸ã€‚è€ŒRuntimeExceptionæ˜¯ä¸å…è®¸å­˜åœ¨çš„ï¼Œé‡åˆ°RuntimeExceptionå°±è¯´æ˜Žç¨‹åºæœ‰é—®é¢˜ï¼Œéœ€è¦ä¿®æ”¹ä»£ç ã€‚å—æŸ¥å¼‚å¸¸ã€éžå—æŸ¥å¼‚å¸¸Javaè¯­è¨€è§„èŒƒè§„å®šæ´¾ç”ŸäºŽErrorç±»æˆ–RuntimeExceptionç±»çš„å¼‚å¸¸éƒ½ç§°ä¸ºéžå—æŸ¥å¼‚å¸¸ï¼Œå…¶ä½™å¼‚å¸¸éƒ½è¢«æˆä¸ºå—æŸ¥å¼‚å¸¸ã€‚å—æŸ¥å¼‚å¸¸å°±æ˜¯å¿…é¡»å‘Šè¯‰å®ƒçš„è°ƒç”¨è€…å¯èƒ½ä¼šå‡ºçŽ°å¼‚å¸¸ï¼Œè®©å…¶è°ƒç”¨è€…æŠ›å‡ºæˆ–è€…æ•èŽ·å¤„ç†ï¼Œè¿™ç±»å¼‚å¸¸å¦‚æžœæ²¡æœ‰åœ¨ç¨‹åºä¸­è¿›è¡Œå¼‚å¸¸å¤„ç†ï¼Œç¼–è¯‘ä¸é€šè¿‡ã€‚éžå—æŸ¥å¼‚å¸¸åˆ™ä¸éœ€è¦ã€‚å£°æ˜Žå—æŸ¥å¼‚å¸¸ï¼ˆthrowsï¼‰é™¤äº†Errorå’ŒRuntimeExceptionçš„å¼‚å¸¸éƒ½æ˜¯å—æŸ¥å¼‚å¸¸ï¼Œè¿™äº›å¼‚å¸¸å¦‚ï¼šIOExceptionã€SQLExceptionç­‰ï¼Œåœ¨å¯èƒ½å‘ç”Ÿçš„æ–¹æ³•ä¸­éœ€è¦è¢«å£°æ˜Žã€‚åŒæ—¶éžå—æŸ¥å¼‚å¸¸æœ€å¥½ä¸è¦è¢«å£°æ˜Žã€‚éœ€è¦ä½¿ç”¨throwså£°æ˜Žå¼‚å¸¸åŽçš„æƒ…å†µå¦‚ä¸‹ï¼šè°ƒç”¨ä¸€ä¸ªæŠ›å‡ºå—æŸ¥å¼‚å¸¸çš„æ–¹æ³•ï¼špublic int read() throws IOExceptionæ–¹æ³•ä¸­ä½¿ç”¨throwè¯­å¥æŠ›å‡ºäº†å—æŸ¥å¼‚å¸¸ã€‚æŠ›å‡ºå¼‚å¸¸ï¼ˆthrowï¼‰throwå¯ä»¥ç”¨äºŽæŠ›å‡ºå¼‚å¸¸å¯¹è±¡ï¼Œä¸€èˆ¬æ˜¯å—æŸ¥å¼‚å¸¸å¯¹è±¡ã€‚æ ¼å¼å¦‚ä¸‹ä¾‹ï¼š123public static void demo() throws Exception&#123; throw new Exception(&quot;å‡ºçŽ°å¼‚å¸¸&quot;);&#125;æ•èŽ·å¼‚å¸¸ç›´æŽ¥å¤„ç†å¼‚å¸¸éœ€è¦ä½¿ç”¨tryã€catchã€finallyï¼ˆéžå¿…éœ€ï¼‰å…³é”®å­—ï¼Œä»£ç æ ¼å¼å¦‚ä¸‹ï¼š1234567try&#123; æœ‰å¯èƒ½å‘ç”Ÿè¿è¡Œæ—¶å¼‚å¸¸çš„ä»£ç &#125;catch(XxxException e)&#123; å¤„ç†æˆ–è€…å‘å¤–æŠ›å‡º&#125;finally&#123; è‚¯å®šè¢«æ‰§è¡Œçš„ä»£ç ï¼Œä¸€èˆ¬ç”¨äºŽå…³é—­èµ„æº&#125;returnå’Œfinallyçš„å†³æ–—ä¸€æ—¦è¿›å…¥try â€¦ catch â€¦çš„å¼‚å¸¸æ•èŽ·ç»“æž„ï¼Œæ— è®ºtryå’Œcatchçš„è¯­å¥å—æœ‰æ²¡æœ‰returnè¯­å¥ï¼Œfinallyä¸€å®šä¼šè¢«æ‰§è¡Œï¼Œä½†æ˜¯å¦‚æžœfinallyä¸­è¿˜æœ‰returnè¯­å¥ï¼Œreturnä¹‹åŽçš„ä¸ä¼šè¢«æ‰§è¡Œã€‚åŒæ—¶åŽæ¥çš„returnå€¼ä¼šè¦†ç›–ä¹‹å‰çš„returnå€¼ã€‚ä½†è‹¥æœªè¿›å…¥å¼‚å¸¸æ•èŽ·ç»“æž„åˆ™returnåŽä¸å…è®¸æœ‰è¯­å¥ï¼Œå› ä¸ºå³ä½¿æœ‰ä¹Ÿä¸€å®šä¸ä¼šè¢«æ‰§è¡Œã€‚å¤šcatchåŽŸåˆ™è¦æ±‚å¤šä¸ªcatchä¸­çš„å¼‚å¸¸ä¸èƒ½ç›¸åŒï¼Œå¹¶ä¸”è‹¥catchä¸­çš„å¤šä¸ªå¼‚å¸¸æœ‰ç»§æ‰¿å®žçŽ°å…³ç³»ï¼Œé‚£ä¹ˆå­ç±»å¼‚å¸¸è¦æ±‚åœ¨ä¸Šé¢çš„catchå¤„ç†ï¼Œçˆ¶ç±»å¼‚å¸¸åœ¨ä¸‹é¢çš„catchå¤„ç†ã€‚å¼‚å¸¸å¤„ç†è§£è€¦å°±æ˜¯è®©ä¸€ä¸ªtryå¯¹åº”ä¸€ä¸ªcatchã€‚æ¯ä¸€ä¸ªå¯èƒ½çš„å¼‚å¸¸éƒ½å¯¹åº”ä¸€ä¸ªtryâ€¦catchâ€¦ä»£ç å—ã€‚è‡ªå®šä¹‰å¼‚å¸¸è‹¥æŸç±»ç»§æ‰¿Throwableæˆ–å…¶å­ç±»ï¼Œåˆ™ç§°æ­¤ç±»ä¸ºè‡ªå®šä¹‰çš„å¼‚å¸¸ç±»ã€‚éœ€è¦é‡å†™é»˜è®¤çš„æž„é€ å‡½æ•°å’Œå¸¦æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°çš„æž„é€ å‡½æ•°ã€‚éžå—æŸ¥å¼‚å¸¸çš„ç‰¹ç‚¹éžå—æŸ¥å¼‚å¸¸æœ‰ä¸¤ç§å¯èƒ½ï¼Œä¸€æ˜¯æ— æ³•è§£å†³ï¼Œå³Errorï¼›äºŒæ˜¯å¿…é¡»è¢«è§£å†³ï¼Œå³RuntimeExceptionã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æžœå‘ç”Ÿäº†Errorï¼Œåˆ™éœ€è¦æ›´æ¢ç¡¬ä»¶æˆ–æ£€æŸ¥å¤–éƒ¨çŽ¯å¢ƒæ˜¯å¦æ­£ç¡®ã€‚å¦‚æžœå‘ç”Ÿäº†RuntimeExceptionåˆ™å¿…é¡»ä¿®æ”¹ç¨‹åºï¼Œå› ä¸ºæ­¤æ—¶çš„ç¨‹åºå¥å£®æ€§ä¸å¤Ÿã€‚å‘ç”Ÿå¼‚å¸¸çš„ä»£ç çš„åŽç»­ä»£ç æ‰§è¡Œä¸Žå¦é—®é¢˜ä½¿ç”¨throwæŠ›å‡ºå¼‚å¸¸ï¼šåŽç»­ä»£ç ä¸ä¼šå…¨éƒ¨ä¸ä¼šè¢«æ‰§è¡Œã€‚å¦‚ä¸‹123456try&#123; throw new Exception("å‚æ•°è¶Šç•Œ"); &#125;catch(Exception e) &#123; e.printStackTrace();&#125;System.out.println("å¼‚å¸¸åŽ");//å¯ä»¥æ‰§è¡Œä½¿ç”¨try â€¦ catch â€¦ è§£å†³å¼‚å¸¸ï¼štryä¸­å‘ç”Ÿå¼‚å¸¸ä»£ç çš„åŽç»­ä»£ç ä¸ä¼šè¢«æ‰§è¡Œï¼Œä½†catchå’Œfinallyä¸­çš„ä»£ç ä¼šè¢«å®Œå…¨æ‰§è¡Œã€‚å¦‚æžœæœªå‘ç”Ÿå¼‚å¸¸ï¼Œcatchä¸­çš„ä»£ç å®Œå…¨ä¸ä¼šè¢«æ‰§è¡Œï¼Œtryå’Œfinallyä¸­çš„ä»£ç ä¼šè¢«å®Œå…¨æ‰§è¡Œã€‚æ— è®ºæœ‰æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œå¼‚å¸¸å¤„ç†ä»£ç å—ä¹‹å¤–çš„ä»£ç éƒ½ä¼šè¢«æ‰§è¡Œã€‚å¼‚å¸¸åœ¨æ–¹æ³•é‡å†™ä¸­çš„è¦æ±‚çˆ¶ç±»ä¸­æ–¹æ³•å¦‚æžœå£°æ˜Žå—æŸ¥å¼‚å¸¸ï¼Œå­ç±»å¯ä»¥å£°æ˜Žå¼‚å¸¸ä¹Ÿå¯ä»¥ä¸å£°æ˜Žå¼‚å¸¸ï¼Œä½†å­ç±»å¦‚æžœé€‰æ‹©å£°æ˜Žï¼Œåªèƒ½å£°æ˜Žçˆ¶ç±»å¼‚å¸¸æˆ–è€…çˆ¶ç±»å¼‚å¸¸çš„å­ç±»ã€‚å¦‚æžœçˆ¶ç±»æ²¡æœ‰å£°æ˜Žå—æŸ¥å¼‚å¸¸ï¼Œåˆ™å­ç±»ä¸èƒ½å£°æ˜Žå—æŸ¥å¼‚å¸¸ã€‚è®¾å­ç±»ä¸­æ–¹æ³•èƒ½å£°æ˜Žå¼‚å¸¸çš„é›†åˆä¸ºAï¼Œè‹¥æ­¤æ–¹æ³•è°ƒç”¨çš„æ–¹æ³•æŠ›å‡ºäº†é›†åˆAæ„å¤–çš„å¼‚å¸¸ï¼Œåˆ™åªèƒ½æ•èŽ·å¤„ç†è€Œä¸èƒ½å‘ä¸ŠæŠ›å‡ºã€‚æŠ›å‡ºå¼‚å¸¸å’Œæ•èŽ·å¼‚å¸¸é€‰æ‹©åœ¨è¢«è°ƒæ–¹æ³•ä¸­çš„å¼‚å¸¸å¦‚æžœèƒ½åœ¨è¢«è°ƒæ–¹æ³•ä¸­å¦¥å–„çš„å¤„ç†åˆ™å»ºè®®åœ¨è¢«è°ƒæ–¹æ³•ä¸­å¤„ç†ã€‚å¦‚æžœä¸èƒ½å¤„ç†å°±å‘ä¸ŠæŠ›å‡ºï¼Œä¸Šçº§ä¸èƒ½å¤„ç†å°±å†å‘ä¸ŠæŠ›å‡ºç›´è‡³è¢«å¤„ç†ã€‚å¼‚å¸¸ä¸­çš„å¸¸ç”¨æ–¹æ³•åœ¨Throwableä¸­æœ‰ä¸‰ä¸ªæ–¹æ³•ç”¨äºŽæ˜¾ç¤ºå¼‚å¸¸çš„ä¿¡æ¯ã€‚String getMessage()ï¼šè¿”å›žè¯¥å¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯å­—ç¬¦ä¸²ï¼Œå³å¼‚å¸¸æç¤ºä¿¡æ¯ï¼›String toString()ï¼šè¿”å›žè¯¥å¼‚å¸¸çš„åç§°ä¸Žè¯¦ç»†ä¿¡æ¯å­—ç¬¦ä¸²ï¼›void printStackTrace()ï¼šåœ¨æŽ§åˆ¶å°è¾“å‡ºè¯¥å¼‚å¸¸çš„åç§°ä¸Žè¯¦ç»†ä¿¡æ¯å­—ç¬¦ä¸²ã€å¼‚å¸¸å‡ºçŽ°çš„ä»£ç ä½ç½®ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ³›åž‹]]></title>
    <url>%2F2019%2F%E6%B3%9B%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡è½¬è‡³ï¼šhttps://blog.csdn.net/s10461/article/details/53941091æ¦‚è¿°æ³›åž‹ï¼Œå³â€œå‚æ•°åŒ–ç±»åž‹â€ã€‚ä¸€æåˆ°å‚æ•°ï¼Œæœ€ç†Ÿæ‚‰çš„å°±æ˜¯å®šä¹‰æ–¹æ³•æ—¶æœ‰å½¢å‚ï¼Œç„¶åŽè°ƒç”¨æ­¤æ–¹æ³•æ—¶ä¼ é€’å®žå‚ã€‚é‚£ä¹ˆå‚æ•°åŒ–ç±»åž‹æ€Žä¹ˆç†è§£å‘¢ï¼Ÿé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å°†ç±»åž‹ç”±åŽŸæ¥çš„å…·ä½“çš„ç±»åž‹å‚æ•°åŒ–ï¼Œç±»ä¼¼äºŽæ–¹æ³•ä¸­çš„å˜é‡å‚æ•°ï¼Œæ­¤æ—¶ç±»åž‹ä¹Ÿå®šä¹‰æˆå‚æ•°å½¢å¼ï¼ˆå¯ä»¥ç§°ä¹‹ä¸ºç±»åž‹å½¢å‚ï¼‰ï¼Œç„¶åŽåœ¨ä½¿ç”¨/è°ƒç”¨æ—¶ä¼ å…¥å…·ä½“çš„ç±»åž‹ï¼ˆç±»åž‹å®žå‚ï¼‰ã€‚æ³›åž‹çš„æœ¬è´¨æ˜¯ä¸ºäº†å‚æ•°åŒ–ç±»åž‹ï¼ˆåœ¨ä¸åˆ›å»ºæ–°çš„ç±»åž‹çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡æ³›åž‹æŒ‡å®šçš„ä¸åŒç±»åž‹æ¥æŽ§åˆ¶å½¢å‚å…·ä½“é™åˆ¶çš„ç±»åž‹ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨æ³›åž‹ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæ“ä½œçš„æ•°æ®ç±»åž‹è¢«æŒ‡å®šä¸ºä¸€ä¸ªå‚æ•°ï¼Œè¿™ç§å‚æ•°ç±»åž‹å¯ä»¥ç”¨åœ¨ç±»ã€æŽ¥å£å’Œæ–¹æ³•ä¸­ï¼Œåˆ†åˆ«è¢«ç§°ä¸ºæ³›åž‹ç±»ã€æ³›åž‹æŽ¥å£ã€æ³›åž‹æ–¹æ³•ã€‚ä¸€ä¸ªè¢«ä¸¾äº†æ— æ•°æ¬¡çš„ä¾‹å­ï¼š12345678List arrayList = new ArrayList();arrayList.add("aaaa");arrayList.add(100);for(int i = 0; i&lt; arrayList.size();i++)&#123; String item = (String)arrayList.get(i); Log.d("æ³›åž‹æµ‹è¯•","item = " + item);&#125;æ¯«æ— ç–‘é—®ï¼Œç¨‹åºçš„è¿è¡Œç»“æžœä¼šä»¥å´©æºƒç»“æŸï¼š1java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.StringArrayListå¯ä»¥å­˜æ”¾ä»»æ„ç±»åž‹ï¼Œä¾‹å­ä¸­æ·»åŠ äº†ä¸€ä¸ªStringç±»åž‹ï¼Œæ·»åŠ äº†ä¸€ä¸ªIntegerç±»åž‹ï¼Œå†ä½¿ç”¨æ—¶éƒ½ä»¥Stringçš„æ–¹å¼ä½¿ç”¨ï¼Œå› æ­¤ç¨‹åºå´©æºƒäº†ã€‚ä¸ºäº†è§£å†³ç±»ä¼¼è¿™æ ·çš„é—®é¢˜ï¼ˆåœ¨ç¼–è¯‘é˜¶æ®µå°±å¯ä»¥è§£å†³ï¼‰ï¼Œæ³›åž‹åº”è¿è€Œç”Ÿã€‚æˆ‘ä»¬å°†ç¬¬ä¸€è¡Œå£°æ˜Žåˆå§‹åŒ–listçš„ä»£ç æ›´æ”¹ä¸€ä¸‹ï¼Œç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå°±èƒ½å¤Ÿå¸®æˆ‘ä»¬å‘çŽ°ç±»ä¼¼è¿™æ ·çš„é—®é¢˜ã€‚123List&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();...//arrayList.add(100); åœ¨ç¼–è¯‘é˜¶æ®µï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ç‰¹æ€§æ³›åž‹åªåœ¨ç¼–è¯‘é˜¶æ®µæœ‰æ•ˆã€‚çœ‹ä¸‹é¢çš„ä»£ç ï¼š1234567891011121314151617181920package test;import java.util.ArrayList;import java.util.List;public class Test &#123; public static void main(String[] args) &#123; List&lt;String&gt; stringArrayList = new ArrayList&lt;String&gt;(); List&lt;Integer&gt; integerArrayList = new ArrayList&lt;Integer&gt;(); Class classStringArrayList = stringArrayList.getClass(); Class classIntegerArrayList = integerArrayList.getClass(); if(classStringArrayList.equals(classIntegerArrayList))&#123; System.out.println("ç±»åž‹ç›¸åŒ"); &#125; &#125;&#125;é€šè¿‡ä¸Šé¢çš„ä¾‹å­å¯ä»¥è¯æ˜Žï¼Œåœ¨ç¼–è¯‘ä¹‹åŽç¨‹åºä¼šé‡‡å–åŽ»æ³›åž‹åŒ–çš„æŽªæ–½ã€‚ä¹Ÿå°±æ˜¯è¯´Javaä¸­çš„æ³›åž‹ï¼Œåªåœ¨ç¼–è¯‘é˜¶æ®µæœ‰æ•ˆã€‚åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œæ­£ç¡®æ£€éªŒæ³›åž‹ç»“æžœåŽï¼Œä¼šå°†æ³›åž‹çš„ç›¸å…³ä¿¡æ¯æ“¦å‡ºï¼Œå¹¶ä¸”åœ¨å¯¹è±¡è¿›å…¥å’Œç¦»å¼€æ–¹æ³•çš„è¾¹ç•Œå¤„æ·»åŠ ç±»åž‹æ£€æŸ¥å’Œç±»åž‹è½¬æ¢çš„æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ³›åž‹ä¿¡æ¯ä¸ä¼šè¿›å…¥åˆ°è¿è¡Œæ—¶é˜¶æ®µã€‚å¯¹æ­¤æ€»ç»“æˆä¸€å¥è¯ï¼šæ³›åž‹ç±»åž‹åœ¨é€»è¾‘ä¸Šå¯ä»¥çœ‹æˆæ˜¯å¤šä¸ªä¸åŒçš„ç±»åž‹ï¼Œå®žé™…ä¸Šéƒ½æ˜¯ç›¸åŒçš„åŸºæœ¬ç±»åž‹ã€‚æ³›åž‹çš„ä½¿ç”¨æ³›åž‹æœ‰ä¸‰ç§ä½¿ç”¨æ–¹å¼ï¼Œåˆ†åˆ«ä¸ºï¼šæ³›åž‹ç±»ã€æ³›åž‹æŽ¥å£ã€æ³›åž‹æ–¹æ³•ã€‚æ³›åž‹ç±»æ³›åž‹ç±»åž‹ç”¨äºŽç±»çš„å®šä¹‰ä¸­ï¼Œè¢«ç§°ä¸ºæ³›åž‹ç±»ã€‚é€šè¿‡æ³›åž‹å¯ä»¥å®Œæˆå¯¹ä¸€ç»„ç±»çš„æ“ä½œå¯¹å¤–å¼€æ”¾ç›¸åŒçš„æŽ¥å£ã€‚æœ€å…¸åž‹çš„å°±æ˜¯å„ç§å®¹å™¨ç±»ï¼Œå¦‚ï¼šListã€Setã€Mapã€‚æ³›åž‹ç±»çš„æœ€åŸºæœ¬å†™æ³•ï¼ˆè¿™ä¹ˆçœ‹å¯èƒ½ä¼šæœ‰ç‚¹æ™•ï¼Œä¼šåœ¨ä¸‹é¢çš„ä¾‹å­ä¸­è¯¦è§£ï¼‰ï¼š1234class ç±»åç§° &lt;æ³›åž‹æ ‡è¯†ï¼šå¯ä»¥éšä¾¿å†™ä»»æ„æ ‡è¯†å·ï¼Œæ ‡è¯†æŒ‡å®šçš„æ³›åž‹çš„ç±»åž‹&gt;&#123; private æ³›åž‹æ ‡è¯† var; .....&#125;ä¸€ä¸ªæœ€æ™®é€šçš„æ³›åž‹ç±»ï¼š1234567891011121314//æ­¤å¤„Tå¯ä»¥éšä¾¿å†™ä¸ºä»»æ„æ ‡è¯†ï¼Œå¸¸è§çš„å¦‚Tã€Eã€Kã€Vç­‰å½¢å¼çš„å‚æ•°å¸¸ç”¨äºŽè¡¨ç¤ºæ³›åž‹//åœ¨å®žä¾‹åŒ–æ³›åž‹ç±»æ—¶ï¼Œå¿…é¡»æŒ‡å®šTçš„å…·ä½“ç±»åž‹public class Generic&lt;T&gt;&#123; //keyè¿™ä¸ªæˆå‘˜å˜é‡çš„ç±»åž‹ä¸ºT,Tçš„ç±»åž‹ç”±å¤–éƒ¨æŒ‡å®š private T key; public Generic(T key) &#123; //æ³›åž‹æž„é€ æ–¹æ³•å½¢å‚keyçš„ç±»åž‹ä¹Ÿä¸ºTï¼ŒTçš„ç±»åž‹ç”±å¤–éƒ¨æŒ‡å®š this.key = key; &#125; public T getKey()&#123; //æ³›åž‹æ–¹æ³•getKeyçš„è¿”å›žå€¼ç±»åž‹ä¸ºTï¼ŒTçš„ç±»åž‹ç”±å¤–éƒ¨æŒ‡å®š return key; &#125;&#125;12345678//æ³›åž‹çš„ç±»åž‹å‚æ•°åªèƒ½æ˜¯ç±»ç±»åž‹ï¼ˆåŒ…æ‹¬è‡ªå®šä¹‰ç±»ï¼‰ï¼Œä¸èƒ½æ˜¯ç®€å•ç±»åž‹//ä¼ å…¥çš„å®žå‚ç±»åž‹éœ€ä¸Žæ³›åž‹çš„ç±»åž‹å‚æ•°ç±»åž‹ç›¸åŒï¼Œå³ä¸ºInteger.Generic&lt;Integer&gt; genericInteger = new Generic&lt;Integer&gt;(123456);//ä¼ å…¥çš„å®žå‚ç±»åž‹éœ€ä¸Žæ³›åž‹çš„ç±»åž‹å‚æ•°ç±»åž‹ç›¸åŒï¼Œå³ä¸ºString.Generic&lt;String&gt; genericString = new Generic&lt;String&gt;(&quot;key_vlaue&quot;);System.out.println(&quot;key is &quot; + genericInteger.getKey());System.out.println(&quot;key is &quot; + genericString.getKey());æ³›åž‹æŽ¥å£çš„å®žçŽ°1234//å®šä¹‰ä¸€ä¸ªæ³›åž‹æŽ¥å£public interface Generator&lt;T&gt; &#123; public T next();&#125;å½“å®žçŽ°æ³›åž‹æŽ¥å£çš„ç±»ï¼Œæœªä¼ å…¥æ³›åž‹å®žå‚æ—¶ï¼š1234567891011/** * æœªä¼ å…¥æ³›åž‹å®žå‚æ—¶ï¼Œä¸Žæ³›åž‹ç±»çš„å®šä¹‰ç›¸åŒï¼Œåœ¨å£°æ˜Žç±»çš„æ—¶å€™ï¼Œéœ€å°†æ³›åž‹çš„å£°æ˜Žä¹Ÿä¸€èµ·åŠ åˆ°ç±»ä¸­ * å³ï¼šclass FruitGenerator&lt;T&gt; implements Generator&lt;T&gt;&#123; * å¦‚æžœä¸å£°æ˜Žæ³›åž‹ï¼Œå¦‚ï¼šclass FruitGenerator implements Generator&lt;T&gt;ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š&quot;Unknown class&quot; */class FruitGenerator&lt;T&gt; implements Generator&lt;T&gt;&#123; @Override public T next() &#123; return null; &#125;&#125;å½“å®žçŽ°æ³›åž‹æŽ¥å£çš„ç±»ï¼Œä¼ å…¥æ³›åž‹å®žå‚æ—¶ï¼š1234567891011121314151617/** * ä¼ å…¥æ³›åž‹å®žå‚æ—¶ï¼š * å®šä¹‰ä¸€ä¸ªç”Ÿäº§å™¨å®žçŽ°è¿™ä¸ªæŽ¥å£,è™½ç„¶æˆ‘ä»¬åªåˆ›å»ºäº†ä¸€ä¸ªæ³›åž‹æŽ¥å£Generator&lt;T&gt; * ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä¸ºTä¼ å…¥æ— æ•°ä¸ªå®žå‚ï¼Œå½¢æˆæ— æ•°ç§ç±»åž‹çš„GeneratoræŽ¥å£ã€‚ * åœ¨å®žçŽ°ç±»å®žçŽ°æ³›åž‹æŽ¥å£æ—¶ï¼Œå¦‚å·²å°†æ³›åž‹ç±»åž‹ä¼ å…¥å®žå‚ç±»åž‹ï¼Œåˆ™æ‰€æœ‰ä½¿ç”¨æ³›åž‹çš„åœ°æ–¹éƒ½è¦æ›¿æ¢æˆä¼ å…¥çš„å®žå‚ç±»åž‹ * å³ï¼šGenerator&lt;T&gt;ï¼Œpublic T next();ä¸­çš„çš„Téƒ½è¦æ›¿æ¢æˆä¼ å…¥çš„Stringç±»åž‹ã€‚ */public class FruitGenerator implements Generator&lt;String&gt; &#123; private String[] fruits = new String[]&#123;&quot;Apple&quot;, &quot;Banana&quot;, &quot;Pear&quot;&#125;; @Override public String next() &#123; Random rand = new Random(); return fruits[rand.nextInt(3)]; &#125;&#125;æ³›åž‹é€šé…ç¬¦æˆ‘ä»¬çŸ¥é“Ingeteræ˜¯Numberçš„ä¸€ä¸ªå­ç±»ï¼ŒåŒæ—¶åœ¨ç‰¹æ€§ç« èŠ‚ä¸­æˆ‘ä»¬ä¹ŸéªŒè¯è¿‡Generic&lt;Ingeter&gt;ä¸ŽGeneric&lt;Number&gt;å®žé™…ä¸Šæ˜¯ç›¸åŒçš„ä¸€ç§åŸºæœ¬ç±»åž‹ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œåœ¨ä½¿ç”¨Generic&lt;Number&gt;ä½œä¸ºå½¢å‚çš„æ–¹æ³•ä¸­ï¼Œèƒ½å¦ä½¿ç”¨Generic&lt;Ingeter&gt;çš„å®žä¾‹ä¼ å…¥å‘¢ï¼Ÿåœ¨é€»è¾‘ä¸Šç±»ä¼¼äºŽGeneric&lt;Number&gt;å’ŒGeneric&lt;Ingeter&gt;æ˜¯å¦å¯ä»¥çœ‹æˆå…·æœ‰çˆ¶å­å…³ç³»çš„æ³›åž‹ç±»åž‹å‘¢ï¼Ÿä¸ºäº†å¼„æ¸…æ¥šè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨Generic&lt;T&gt;è¿™ä¸ªæ³›åž‹ç±»ç»§ç»­çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š123public void showKeyValue1(Generic&lt;Number&gt; obj)&#123; System.out.println(&quot;key value is &quot; + obj.getKey());&#125;12345678Generic&lt;Integer&gt; gInteger = new Generic&lt;Integer&gt;(123);Generic&lt;Number&gt; gNumber = new Generic&lt;Number&gt;(456);showKeyValue(gNumber);// showKeyValueè¿™ä¸ªæ–¹æ³•ç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬æŠ¥é”™ï¼šGeneric&lt;java.lang.Integer&gt; // cannot be applied to Generic&lt;java.lang.Number&gt;// showKeyValue(gInteger);é€šè¿‡æç¤ºä¿¡æ¯æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Generic&lt;Integer&gt;ä¸èƒ½è¢«çœ‹ä½œä¸ºGeneric&lt;Number&gt;çš„å­ç±»ã€‚ç”±æ­¤å¯ä»¥çœ‹å‡º:åŒä¸€ç§æ³›åž‹å¯ä»¥å¯¹åº”å¤šä¸ªç‰ˆæœ¬ï¼ˆå› ä¸ºå‚æ•°ç±»åž‹æ˜¯ä¸ç¡®å®šçš„ï¼‰ï¼Œä¸åŒç‰ˆæœ¬çš„æ³›åž‹ç±»å®žä¾‹æ˜¯ä¸å…¼å®¹çš„ã€‚å›žåˆ°ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚ä½•è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Ÿæ€»ä¸èƒ½ä¸ºäº†å®šä¹‰ä¸€ä¸ªæ–°çš„æ–¹æ³•æ¥å¤„ç†Generic&lt;Integer&gt;ç±»åž‹çš„ç±»ï¼Œè¿™æ˜¾ç„¶ä¸Žjavaä¸­çš„å¤šå°ç†å¿µç›¸è¿èƒŒã€‚å› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªåœ¨é€»è¾‘ä¸Šå¯ä»¥è¡¨ç¤ºåŒæ—¶æ˜¯Generic&lt;Integer&gt;å’ŒGeneric&lt;Number&gt;çˆ¶ç±»çš„å¼•ç”¨ç±»åž‹ã€‚ç”±æ­¤ç±»åž‹é€šé…ç¬¦åº”è¿è€Œç”Ÿã€‚æˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„æ–¹æ³•æ”¹ä¸€ä¸‹ï¼š123public void showKeyValue1(Generic&lt;?&gt; obj)&#123; System.out.println(&quot;key value is &quot; + obj.getKey());&#125;ç±»åž‹é€šé…ç¬¦ä¸€èˆ¬æ˜¯ä½¿ç”¨ï¼Ÿä»£æ›¿å…·ä½“çš„ç±»åž‹å®žå‚ï¼Œæ³¨æ„äº†ï¼Œæ­¤å¤„ï¼Ÿæ˜¯ç±»åž‹å®žå‚ï¼Œè€Œä¸æ˜¯ç±»åž‹å½¢å‚ ã€‚å†ç›´ç™½ç‚¹çš„æ„æ€å°±æ˜¯ï¼Œæ­¤å¤„çš„ï¼Ÿå’ŒNumberã€Stringã€Integerä¸€æ ·éƒ½æ˜¯ä¸€ç§å®žé™…çš„ç±»åž‹ï¼Œå¯ä»¥æŠŠï¼Ÿçœ‹æˆæ‰€æœ‰ç±»åž‹çš„çˆ¶ç±»ã€‚æ˜¯ä¸€ç§çœŸå®žçš„ç±»åž‹ã€‚å¯ä»¥è§£å†³å½“å…·ä½“ç±»åž‹ä¸ç¡®å®šçš„æ—¶å€™ï¼Œè¿™ä¸ªé€šé…ç¬¦å°±æ˜¯ ? ï¼›å½“æ“ä½œç±»åž‹æ—¶ï¼Œä¸éœ€è¦ä½¿ç”¨ç±»åž‹çš„å…·ä½“åŠŸèƒ½æ—¶ï¼Œåªä½¿ç”¨Objectç±»ä¸­çš„åŠŸèƒ½ã€‚é‚£ä¹ˆå¯ä»¥ç”¨ ? é€šé…ç¬¦æ¥è¡¨æœªçŸ¥ç±»åž‹ã€‚æ³›åž‹æ–¹æ³•åœ¨Javaä¸­ï¼Œæ³›åž‹ç±»çš„å®šä¹‰éžå¸¸ç®€å•ï¼Œä½†æ˜¯æ³›åž‹æ–¹æ³•å°±æ¯”è¾ƒå¤æ‚äº†ã€‚å°¤å…¶æ˜¯æˆ‘ä»¬è§åˆ°çš„å¤§å¤šæ•°æ³›åž‹ç±»ä¸­çš„æˆå‘˜æ–¹æ³•ä¹Ÿéƒ½ä½¿ç”¨äº†æ³›åž‹ï¼Œæœ‰çš„ç”šè‡³æ³›åž‹ç±»ä¸­ä¹ŸåŒ…å«ç€æ³›åž‹æ–¹æ³•ï¼Œè¿™æ ·åœ¨åˆå­¦è€…ä¸­éžå¸¸å®¹æ˜“å°†æ³›åž‹æ–¹æ³•ç†è§£é”™äº†ã€‚æ³›åž‹ç±»ï¼Œæ˜¯åœ¨å®žä¾‹åŒ–ç±»çš„æ—¶å€™æŒ‡æ˜Žæ³›åž‹çš„å…·ä½“ç±»åž‹ï¼›æ³›åž‹æ–¹æ³•ï¼Œæ˜¯åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™æŒ‡æ˜Žæ³›åž‹çš„å…·ä½“ç±»åž‹ ã€‚123456789101112131415/** * æ³›åž‹æ–¹æ³•çš„åŸºæœ¬ä»‹ç» * @param tClass ä¼ å…¥çš„æ³›åž‹å®žå‚ * @return T è¿”å›žå€¼ä¸ºTç±»åž‹ * è¯´æ˜Žï¼š * 1ï¼‰public ä¸Ž è¿”å›žå€¼ä¸­é—´&lt;T&gt;éžå¸¸é‡è¦ï¼Œå¯ä»¥ç†è§£ä¸ºå£°æ˜Žæ­¤æ–¹æ³•ä¸ºæ³›åž‹æ–¹æ³•ã€‚ * 2ï¼‰åªæœ‰å£°æ˜Žäº†&lt;T&gt;çš„æ–¹æ³•æ‰æ˜¯æ³›åž‹æ–¹æ³•ï¼Œæ³›åž‹ç±»ä¸­çš„ä½¿ç”¨äº†æ³›åž‹çš„æˆå‘˜æ–¹æ³•å¹¶ä¸æ˜¯æ³›åž‹æ–¹æ³•ã€‚ * 3ï¼‰&lt;T&gt;è¡¨æ˜Žè¯¥æ–¹æ³•å°†ä½¿ç”¨æ³›åž‹ç±»åž‹Tï¼Œæ­¤æ—¶æ‰å¯ä»¥åœ¨æ–¹æ³•ä¸­ä½¿ç”¨æ³›åž‹ç±»åž‹Tã€‚ * 4ï¼‰ä¸Žæ³›åž‹ç±»çš„å®šä¹‰ä¸€æ ·ï¼Œæ­¤å¤„Tå¯ä»¥éšä¾¿å†™ä¸ºä»»æ„æ ‡è¯†ï¼Œå¸¸è§çš„å¦‚Tã€Eã€Kã€Vç­‰å½¢å¼çš„å‚æ•°å¸¸ç”¨äºŽè¡¨ç¤ºæ³›åž‹ã€‚ */public &lt;T&gt; T genericMethod(Class&lt;T&gt; tClass)throws InstantiationException , IllegalAccessException&#123; T instance = tClass.newInstance(); return instance;&#125;1Object obj = genericMethod(Class.forName(&quot;com.test.test&quot;));æ³›åž‹æ–¹æ³•çš„è¯¦ç»†ä¸¾ä¾‹å…‰çœ‹ä¸Šé¢çš„ä¾‹å­æœ‰çš„åŒå­¦å¯èƒ½ä¾ç„¶ä¼šéžå¸¸è¿·ç³Šï¼Œæˆ‘ä»¬å†é€šè¿‡ä¸€ä¸ªä¾‹å­ï¼ŒæŠŠæˆ‘æ³›åž‹æ–¹æ³•å†æ€»ç»“ä¸€ä¸‹ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970public class GenericTest &#123; //è¿™ä¸ªç±»æ˜¯ä¸ªæ³›åž‹ç±»ï¼Œåœ¨ä¸Šé¢å·²ç»ä»‹ç»è¿‡ public class Generic&lt;T&gt;&#123; private T key; public Generic(T key) &#123; this.key = key; &#125; //æˆ‘æƒ³è¯´çš„å…¶å®žæ˜¯è¿™ä¸ªï¼Œè™½ç„¶åœ¨æ–¹æ³•ä¸­ä½¿ç”¨äº†æ³›åž‹ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæ³›åž‹æ–¹æ³•ã€‚ //è¿™åªæ˜¯ç±»ä¸­ä¸€ä¸ªæ™®é€šçš„æˆå‘˜æ–¹æ³•ï¼Œåªä¸è¿‡ä»–çš„è¿”å›žå€¼æ˜¯åœ¨å£°æ˜Žæ³›åž‹ç±»å·²ç»å£°æ˜Žè¿‡çš„æ³›åž‹ã€‚ //æ‰€ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ‰å¯ä»¥ç»§ç»­ä½¿ç”¨ T è¿™ä¸ªæ³›åž‹ã€‚ public T getKey()&#123; return key; &#125; /** * è¿™ä¸ªæ–¹æ³•æ˜¾ç„¶æ˜¯æœ‰é—®é¢˜çš„ï¼Œåœ¨ç¼–è¯‘å™¨ä¼šç»™æˆ‘ä»¬æç¤ºè¿™æ ·çš„é”™è¯¯ä¿¡æ¯&quot;cannot reslove symbol E&quot; * å› ä¸ºåœ¨ç±»çš„å£°æ˜Žä¸­å¹¶æœªå£°æ˜Žæ³›åž‹Eï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨Eåšå½¢å‚å’Œè¿”å›žå€¼ç±»åž‹æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ— æ³•è¯†åˆ«ã€‚ public E setKey(E key)&#123; this.key = keu &#125; */ &#125; /** * è¿™æ‰æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ³›åž‹æ–¹æ³•ã€‚ * é¦–å…ˆåœ¨publicä¸Žè¿”å›žå€¼ä¹‹é—´çš„&lt;T&gt;å¿…ä¸å¯å°‘ï¼Œè¿™è¡¨æ˜Žè¿™æ˜¯ä¸€ä¸ªæ³›åž‹æ–¹æ³•ï¼Œå¹¶ä¸”å£°æ˜Žäº†ä¸€ä¸ªæ³›åž‹T * è¿™ä¸ªTå¯ä»¥å‡ºçŽ°åœ¨è¿™ä¸ªæ³›åž‹æ–¹æ³•çš„ä»»æ„ä½ç½®. * æ³›åž‹çš„æ•°é‡ä¹Ÿå¯ä»¥ä¸ºä»»æ„å¤šä¸ª * å¦‚ï¼špublic &lt;T,K&gt; K showKeyName(Generic&lt;T&gt; container)&#123; * ... * &#125; */ public &lt;T&gt; T showKeyName(Generic&lt;T&gt; container)&#123; System.out.println(&quot;container key :&quot; + container.getKey()); //å½“ç„¶è¿™ä¸ªä¾‹å­ä¸¾çš„ä¸å¤ªåˆé€‚ï¼Œåªæ˜¯ä¸ºäº†è¯´æ˜Žæ³›åž‹æ–¹æ³•çš„ç‰¹æ€§ã€‚ T test = container.getKey(); return test; &#125; //è¿™ä¹Ÿä¸æ˜¯ä¸€ä¸ªæ³›åž‹æ–¹æ³•ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„æ–¹æ³•ï¼Œåªæ˜¯ä½¿ç”¨äº†Generic&lt;Number&gt;è¿™ä¸ªæ³›åž‹ç±»åšå½¢å‚è€Œå·²ã€‚ public void showKeyValue1(Generic&lt;Number&gt; obj)&#123; Log.d(&quot;æ³›åž‹æµ‹è¯•&quot;,&quot;key value is &quot; + obj.getKey()); &#125; //è¿™ä¹Ÿä¸æ˜¯ä¸€ä¸ªæ³›åž‹æ–¹æ³•ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šçš„æ–¹æ³•ï¼Œåªä¸è¿‡ä½¿ç”¨äº†æ³›åž‹é€šé…ç¬¦? //åŒæ—¶è¿™ä¹Ÿå°è¯äº†æ³›åž‹é€šé…ç¬¦ç« èŠ‚æ‰€æè¿°çš„ï¼Œ?æ˜¯ä¸€ç§ç±»åž‹å®žå‚ï¼Œå¯ä»¥çœ‹åšä¸ºNumberç­‰æ‰€æœ‰ç±»çš„çˆ¶ç±» public void showKeyValue2(Generic&lt;?&gt; obj)&#123; Log.d(&quot;æ³›åž‹æµ‹è¯•&quot;,&quot;key value is &quot; + obj.getKey()); &#125; /** * è¿™ä¸ªæ–¹æ³•æ˜¯æœ‰é—®é¢˜çš„ï¼Œç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬æç¤ºé”™è¯¯ä¿¡æ¯ï¼š&quot;UnKnown class &apos;E&apos; &quot; * è™½ç„¶æˆ‘ä»¬å£°æ˜Žäº†&lt;T&gt;,ä¹Ÿè¡¨æ˜Žäº†è¿™æ˜¯ä¸€ä¸ªå¯ä»¥å¤„ç†æ³›åž‹çš„ç±»åž‹çš„æ³›åž‹æ–¹æ³•ã€‚ * ä½†æ˜¯åªå£°æ˜Žäº†æ³›åž‹ç±»åž‹Tï¼Œå¹¶æœªå£°æ˜Žæ³›åž‹ç±»åž‹Eï¼Œå› æ­¤ç¼–è¯‘å™¨å¹¶ä¸çŸ¥é“è¯¥å¦‚ä½•å¤„ç†Eè¿™ä¸ªç±»åž‹ã€‚ public &lt;T&gt; T showKeyName(Generic&lt;E&gt; container)&#123; ... &#125; */ /** * è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯æœ‰é—®é¢˜çš„ï¼Œç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬æç¤ºé”™è¯¯ä¿¡æ¯ï¼š&quot;UnKnown class &apos;T&apos; &quot; * å¯¹äºŽç¼–è¯‘å™¨æ¥è¯´Tè¿™ä¸ªç±»åž‹å¹¶æœªé¡¹ç›®ä¸­å£°æ˜Žè¿‡ï¼Œå› æ­¤ç¼–è¯‘ä¹Ÿä¸çŸ¥é“è¯¥å¦‚ä½•ç¼–è¯‘è¿™ä¸ªç±»ã€‚ * æ‰€ä»¥è¿™ä¹Ÿä¸æ˜¯ä¸€ä¸ªæ­£ç¡®çš„æ³›åž‹æ–¹æ³•å£°æ˜Žã€‚ public void showkey(T genericObj)&#123; &#125; */&#125;ç±»ä¸­çš„æ³›åž‹æ–¹æ³•å½“ç„¶è¿™å¹¶ä¸æ˜¯æ³›åž‹æ–¹æ³•çš„å…¨éƒ¨ï¼Œæ³›åž‹æ–¹æ³•å¯ä»¥å‡ºçŽ°æ‚ä»»ä½•åœ°æ–¹å’Œä»»ä½•åœºæ™¯ä¸­ä½¿ç”¨ã€‚ä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µæ˜¯éžå¸¸ç‰¹æ®Šçš„ï¼Œå³å½“æ³›åž‹æ–¹æ³•å‡ºçŽ°åœ¨æ³›åž‹ç±»ä¸­æ—¶ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061package test;public class GenericFruit &#123; class Fruit&#123; @Override public String toString() &#123; return &quot;fruit&quot;; &#125; &#125; class Apple extends Fruit&#123; @Override public String toString() &#123; return &quot;apple&quot;; &#125; &#125; class Person&#123; @Override public String toString() &#123; return &quot;Person&quot;; &#125; &#125; class GenerateTest&lt;T&gt;&#123; //æ–¹æ³•ä¸­çš„Tå’Œç±»ä¸Šå£°æ˜Žçš„Tä¸€è‡´ public void show_1(T t)&#123; System.out.println(t.toString()); &#125; //åœ¨æ³›åž‹ç±»ä¸­å£°æ˜Žäº†ä¸€ä¸ªæ³›åž‹æ–¹æ³•ï¼Œä½¿ç”¨æ³›åž‹Eï¼Œè¿™ç§æ³›åž‹Eå¯ä»¥ä¸ºä»»æ„ç±»åž‹ã€‚å¯ä»¥ç±»åž‹ä¸ŽTç›¸åŒï¼Œä¹Ÿå¯ä»¥ä¸åŒã€‚ //ç”±äºŽæ³›åž‹æ–¹æ³•åœ¨å£°æ˜Žçš„æ—¶å€™ä¼šå£°æ˜Žæ³›åž‹&lt;E&gt;ï¼Œå› æ­¤å³ä½¿åœ¨æ³›åž‹ç±»ä¸­å¹¶æœªå£°æ˜Žæ³›åž‹ï¼Œç¼–è¯‘å™¨ä¹Ÿèƒ½å¤Ÿæ­£ç¡®è¯†åˆ«æ³›åž‹æ–¹æ³•ä¸­è¯†åˆ«çš„æ³›åž‹ã€‚ public &lt;E&gt; void show_3(E t)&#123; System.out.println(t.toString()); &#125; //åœ¨æ³›åž‹ç±»ä¸­å£°æ˜Žäº†ä¸€ä¸ªæ³›åž‹æ–¹æ³•ï¼Œä½¿ç”¨æ³›åž‹Tï¼Œæ³¨æ„è¿™ä¸ªTæ˜¯ä¸€ç§å…¨æ–°çš„ç±»åž‹ï¼Œå¯ä»¥ä¸Žæ³›åž‹ç±»ä¸­å£°æ˜Žçš„Tä¸æ˜¯åŒä¸€ç§ç±»åž‹ã€‚ public &lt;T&gt; void show_2(T t)&#123; System.out.println(t.toString()); &#125; &#125; public static void main(String[] args) &#123; Apple apple = new GenericFruit().new Apple(); Person person = new GenericFruit().new Person(); GenerateTest&lt;Fruit&gt; generateTest = new GenericFruit().new GenerateTest&lt;Fruit&gt;(); //appleæ˜¯Fruitçš„å­ç±»ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ generateTest.show_1(apple); //ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ³›åž‹ç±»åž‹å®žå‚æŒ‡å®šçš„æ˜¯Fruitï¼Œè€Œä¼ å…¥çš„å®žå‚ç±»æ˜¯Person //generateTest.show_1(person); //ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥æˆåŠŸ generateTest.show_2(apple); generateTest.show_2(person); //ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¹Ÿéƒ½å¯ä»¥æˆåŠŸ generateTest.show_3(apple); generateTest.show_3(person); &#125;&#125;æ³›åž‹æ–¹æ³•ä¸Žå¯å˜å‚æ•°å†çœ‹ä¸€ä¸ªæ³›åž‹æ–¹æ³•å’Œå¯å˜å‚æ•°çš„ä¾‹å­ï¼š12345public &lt;T&gt; void printMsg( T... args)&#123; for(T t : args)&#123; Log.d(&quot;æ³›åž‹æµ‹è¯•&quot;,&quot;t is &quot; + t); &#125;&#125;1printMsg(&quot;111&quot;,222,&quot;aaaa&quot;,&quot;2323.4&quot;,55.55);é™æ€æ–¹æ³•ä¸Žæ³›åž‹é™æ€æ–¹æ³•æœ‰ä¸€ç§æƒ…å†µéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œé‚£å°±æ˜¯åœ¨ç±»ä¸­çš„é™æ€æ–¹æ³•ä½¿ç”¨æ³›åž‹ï¼šé™æ€æ–¹æ³•æ— æ³•è®¿é—®ç±»ä¸Šå®šä¹‰çš„æ³›åž‹ï¼›å¦‚æžœé™æ€æ–¹æ³•æ“ä½œçš„å¼•ç”¨æ•°æ®ç±»åž‹ä¸ç¡®å®šçš„æ—¶å€™ï¼Œå¿…é¡»è¦å°†æ³›åž‹å®šä¹‰åœ¨æ–¹æ³•ä¸Šã€‚å³ï¼šå¦‚æžœé™æ€æ–¹æ³•è¦ä½¿ç”¨æ³›åž‹çš„è¯ï¼Œå¿…é¡»å°†é™æ€æ–¹æ³•ä¹Ÿå®šä¹‰æˆæ³›åž‹æ–¹æ³• ã€‚12345678910111213public class StaticGenerator&lt;T&gt; &#123; .... .... /** * å¦‚æžœåœ¨ç±»ä¸­å®šä¹‰ä½¿ç”¨æ³›åž‹çš„é™æ€æ–¹æ³•ï¼Œéœ€è¦æ·»åŠ é¢å¤–çš„æ³›åž‹å£°æ˜Žï¼ˆå°†è¿™ä¸ªæ–¹æ³•å®šä¹‰æˆæ³›åž‹æ–¹æ³•ï¼‰ * å³ä½¿é™æ€æ–¹æ³•è¦ä½¿ç”¨æ³›åž‹ç±»ä¸­å·²ç»å£°æ˜Žè¿‡çš„æ³›åž‹ä¹Ÿä¸å¯ä»¥ã€‚ * å¦‚ï¼špublic static void show(T t)&#123;..&#125;,æ­¤æ—¶ç¼–è¯‘å™¨ä¼šæç¤ºé”™è¯¯ä¿¡æ¯ï¼š &quot;StaticGenerator cannot be refrenced from static context&quot; */ public static &lt;T&gt; void show(T t)&#123; &#125;&#125;æ³›åž‹ä¸Šä¸‹è¾¹ç•Œåœ¨ä½¿ç”¨æ³›åž‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¸ºä¼ å…¥çš„æ³›åž‹ç±»åž‹å®žå‚è¿›è¡Œä¸Šä¸‹è¾¹ç•Œçš„é™åˆ¶ï¼Œå¦‚ï¼šç±»åž‹å®žå‚åªå‡†ä¼ å…¥æŸç§ç±»åž‹çš„çˆ¶ç±»æˆ–æŸç§ç±»åž‹çš„å­ç±»ã€‚ä¸Šè¾¹ç•Œä¸ºæ³›åž‹æ·»åŠ ä¸Šè¾¹ç•Œï¼Œå³ä¼ å…¥çš„ç±»åž‹å®žå‚å¿…é¡»æ˜¯æŒ‡å®šç±»åž‹çš„å­ç±»åž‹123public void showKeyValue1(Generic&lt;? extends Number&gt; obj)&#123; Log.d(&quot;æ³›åž‹æµ‹è¯•&quot;,&quot;key value is &quot; + obj.getKey());&#125;1234567891011Generic&lt;String&gt; generic1 = new Generic&lt;String&gt;(&quot;11111&quot;);Generic&lt;Integer&gt; generic2 = new Generic&lt;Integer&gt;(2222);Generic&lt;Float&gt; generic3 = new Generic&lt;Float&gt;(2.4f);Generic&lt;Double&gt; generic4 = new Generic&lt;Double&gt;(2.56);//è¿™ä¸€è¡Œä»£ç ç¼–è¯‘å™¨ä¼šæç¤ºé”™è¯¯ï¼Œå› ä¸ºStringç±»åž‹å¹¶ä¸æ˜¯Numberç±»åž‹çš„å­ç±»//showKeyValue1(generic1);showKeyValue1(generic2);showKeyValue1(generic3);showKeyValue1(generic4);å¦‚æžœæˆ‘ä»¬æŠŠæ³›åž‹ç±»çš„å®šä¹‰ä¹Ÿæ”¹ä¸€ä¸‹ï¼š1234567891011public class Generic&lt;T extends Number&gt;&#123; private T key; public Generic(T key) &#123; this.key = key; &#125; public T getKey()&#123; return key; &#125;&#125;12//è¿™ä¸€è¡Œä»£ç ä¹Ÿä¼šæŠ¥é”™ï¼Œå› ä¸ºStringä¸æ˜¯Numberçš„å­ç±»Generic&lt;String&gt; generic1 = new Generic&lt;String&gt;(&quot;11111&quot;);å†æ¥ä¸€ä¸ªæ³›åž‹æ–¹æ³•çš„ä¾‹å­ï¼š1234567//åœ¨æ³›åž‹æ–¹æ³•ä¸­æ·»åŠ ä¸Šä¸‹è¾¹ç•Œé™åˆ¶çš„æ—¶å€™ï¼Œå¿…é¡»åœ¨æƒé™å£°æ˜Žä¸Žè¿”å›žå€¼ä¹‹é—´çš„&lt;T&gt;ä¸Šæ·»åŠ ä¸Šä¸‹è¾¹ç•Œï¼Œå³åœ¨æ³›åž‹å£°æ˜Žçš„æ—¶å€™æ·»åŠ //public &lt;T&gt; T showKeyName(Generic&lt;T extends Number&gt; container)ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š&quot;Unexpected bound&quot;public &lt;T extends Number&gt; T showKeyName(Generic&lt;T&gt; container)&#123; System.out.println(&quot;container key :&quot; + container.getKey()); T test = container.getKey(); return test;&#125;é™åˆ¶æ¯”å¦‚Cç±»ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•ï¼švoid setC(T t)ã€‚åœ¨ä¼ å…¥&lt;? extends Fruit&gt;ä¹‹åŽå°±ä¼šå˜æˆï¼švoid setC(&lt;? extends Fruit&gt; t)ã€‚è¿™æ—¶ç¼–è¯‘å™¨å°±ä¸çŸ¥é“ä½ ä¼ è¿‡æ¥çš„æ˜¯ä»€ä¹ˆç±»åž‹ï¼Œç¼–è¯‘ä¸ä¼šé€šè¿‡ã€‚ä½†æ˜¯ç±»ä¸­çš„æ–¹æ³•å¯ä»¥è¿”å›žTï¼Œå› ä¸ºå·²ç»çŸ¥é“äº†å®ƒçš„ä¸Šé™æ˜¯Aï¼Œåœ¨è°ƒç”¨ä¹‹åŽç”¨Aæ¥æŽ¥æ”¶ä¸€ä¸‹è¿”å›žçš„å¯¹è±¡å°±å¯ä»¥äº†ã€‚12GenerateTest&lt;? extends Fruit&gt; generateTest2 = new GenericFruit().new GenerateTest&lt;&gt;();generateTest2.setC(apple); //æŠ¥é”™æ­¤æ—¶çš„é€šé…ç¬¦ï¼ˆ?ï¼‰æœ‰ä¸Šé™ï¼Œæ•…è¢«ç§°ä¸ºä¸Šé™é™å®šçš„é€šé…ç¬¦ã€‚ä¸Šé™é™å®šé€šé…ç¬¦çš„ç‰¹ç‚¹æ˜¯ï¼šå…¶ä¸­çš„æ–¹æ³•å¯ä»¥è¿”å›žæ³›åž‹å‚æ•°ï¼Œä½†ä¸èƒ½æŽ¥æ”¶æ³›åž‹å‚æ•°ã€‚ä¸‹è¾¹ç•Œ&lt;? super A&gt;è¡¨ç¤ºä¼ å…¥çš„åªèƒ½æ˜¯Açš„è¶…ç±»æˆ–è¶…æŽ¥å£ã€‚æ­¤æ—¶ï¼Œç±»ä¸­çš„æ–¹æ³•void setC(T t)å¯ä»¥ä¼ å…¥Aæˆ–Açš„å­ç±»ä½œä¸ºå‚æ•°ã€‚ä½†è¿”å›žæ—¶åªèƒ½è¿”å›žObjectå¯¹è±¡ã€‚12GenerateTest&lt;? super Apple&gt; generateTest2 = new GenericFruit().new GenerateTest&lt;&gt;();Object object = generateTest2.get();å…³äºŽæ³›åž‹æ•°ç»„è¦æä¸€ä¸‹çœ‹åˆ°äº†å¾ˆå¤šæ–‡ç« ä¸­éƒ½ä¼šæèµ·æ³›åž‹æ•°ç»„ï¼Œç»è¿‡æŸ¥çœ‹sunçš„è¯´æ˜Žæ–‡æ¡£ï¼Œåœ¨javaä¸­æ˜¯â€ä¸èƒ½åˆ›å»ºä¸€ä¸ªç¡®åˆ‡çš„æ³›åž‹ç±»åž‹çš„æ•°ç»„â€çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸‹é¢çš„è¿™ä¸ªä¾‹å­æ˜¯ä¸å¯ä»¥çš„ï¼š1List&lt;String&gt;[] ls = new ArrayList&lt;String&gt;[10];è€Œä½¿ç”¨é€šé…ç¬¦åˆ›å»ºæ³›åž‹æ•°ç»„æ˜¯å¯ä»¥çš„ï¼Œå¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š1List&lt;?&gt;[] ls = new ArrayList&lt;?&gt;[10];è¿™æ ·ä¹Ÿæ˜¯å¯ä»¥çš„ï¼š1List&lt;String&gt;[] ls = new ArrayList[10];ä¸‹é¢ä½¿ç”¨Sunçš„ä¸€ç¯‡æ–‡æ¡£çš„ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜Žè¿™ä¸ªé—®é¢˜ï¼š1234567891011List&lt;String&gt;[] lsa = new List&lt;String&gt;[10]; // Not really allowed. Object o = lsa; Object[] oa = (Object[]) o; List&lt;Integer&gt; li = new ArrayList&lt;Integer&gt;(); li.add(new Integer(3)); oa[1] = li; // Unsound, but passes run time store check String s = lsa[1].get(0); // Run-time error: ClassCastException./**è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºŽJVMæ³›åž‹çš„æ“¦é™¤æœºåˆ¶ï¼Œåœ¨è¿è¡Œæ—¶JVMæ˜¯ä¸çŸ¥é“æ³›åž‹ä¿¡æ¯çš„ï¼Œæ‰€ä»¥å¯ä»¥ç»™oa[1]èµ‹ä¸Šä¸€ä¸ªArrayListè€Œä¸ä¼šå‡ºçŽ°å¼‚å¸¸ï¼Œä½†æ˜¯åœ¨å–å‡ºæ•°æ®çš„æ—¶å€™å´è¦åšä¸€æ¬¡ç±»åž‹è½¬æ¢ï¼Œæ‰€ä»¥å°±ä¼šå‡ºçŽ°ClassCastExceptionï¼Œå¦‚æžœå¯ä»¥è¿›è¡Œæ³›åž‹æ•°ç»„çš„å£°æ˜Žï¼Œä¸Šé¢è¯´çš„è¿™ç§æƒ…å†µåœ¨ç¼–è¯‘æœŸå°†ä¸ä¼šå‡ºçŽ°ä»»ä½•çš„è­¦å‘Šå’Œé”™è¯¯ï¼Œåªæœ‰åœ¨è¿è¡Œæ—¶æ‰ä¼šå‡ºé”™ã€‚è€Œå¯¹æ³›åž‹æ•°ç»„çš„å£°æ˜Žè¿›è¡Œé™åˆ¶ï¼Œå¯¹äºŽè¿™æ ·çš„æƒ…å†µï¼Œå¯ä»¥åœ¨ç¼–è¯‘æœŸæç¤ºä»£ç æœ‰ç±»åž‹å®‰å…¨é—®é¢˜ï¼Œæ¯”æ²¡æœ‰ä»»ä½•æç¤ºè¦å¼ºå¾ˆå¤šã€‚*/ä¸‹é¢é‡‡ç”¨é€šé…ç¬¦çš„æ–¹å¼æ˜¯è¢«å…è®¸çš„:æ•°ç»„çš„ç±»åž‹ä¸å¯ä»¥æ˜¯ç±»åž‹å˜é‡ï¼Œé™¤éžæ˜¯é‡‡ç”¨é€šé…ç¬¦çš„æ–¹å¼ï¼Œå› ä¸ºå¯¹äºŽé€šé…ç¬¦çš„æ–¹å¼ï¼Œæœ€åŽå–å‡ºæ•°æ®æ˜¯è¦åšæ˜¾å¼çš„ç±»åž‹è½¬æ¢çš„ã€‚1234567List&lt;?&gt;[] lsa = new List&lt;?&gt;[10]; // OK, array of unbounded wildcard type. Object o = lsa; Object[] oa = (Object[]) o; List&lt;Integer&gt; li = new ArrayList&lt;Integer&gt;(); li.add(new Integer(3)); oa[1] = li; // Correct. Integer i = (Integer) lsa[1].get(0); // OK]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†…éƒ¨ç±»]]></title>
    <url>%2F2019%2F%E5%86%85%E9%83%A8%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[è½¬è‡³ï¼šhttps://www.cnblogs.com/dolphin0520/p/3811445.htmlå†…éƒ¨ç±»åˆ†ç±»æˆå‘˜å†…éƒ¨ç±»æˆå‘˜å†…éƒ¨ç±»æ˜¯æœ€æ™®é€šçš„å†…éƒ¨ç±»ï¼Œå®ƒçš„å®šä¹‰ä¸ºä½äºŽå¦ä¸€ä¸ªç±»çš„å†…éƒ¨ï¼Œå½¢å¦‚ä¸‹é¢çš„å½¢å¼ï¼š12345678910111213class Circle &#123; double radius = 0; public Circle(double radius) &#123; this.radius = radius; &#125; class Draw &#123; //å†…éƒ¨ç±» public void drawSahpe() &#123; System.out.println("drawshape"); &#125; &#125;&#125;è¿™æ ·çœ‹èµ·æ¥ï¼Œç±»Drawåƒæ˜¯ç±»Circleçš„ä¸€ä¸ªæˆå‘˜ï¼ŒCircleç§°ä¸ºå¤–éƒ¨ç±»ã€‚æˆå‘˜å†…éƒ¨ç±»å¯ä»¥æ— æ¡ä»¶è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜å±žæ€§å’Œæˆå‘˜æ–¹æ³•ï¼ˆåŒ…æ‹¬privateæˆå‘˜å’Œé™æ€æˆå‘˜ï¼‰ã€‚1234567891011121314151617181920212223242526package test;public class Outer &#123; private double radius = 0; private int test = 1; public static int count =1; public Outer(double radius) &#123; this.radius = radius; &#125; class Draw &#123; //å†…éƒ¨ç±» private int test = 2; public void drawSahpe() &#123; System.out.println(radius); //å¤–éƒ¨ç±»çš„privateæˆå‘˜ System.out.println(count); //å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ System.out.println(Outer.this.test); &#125; &#125; public static void main(String[] args) &#123; Draw draw = new Outer(20).new Draw(); draw.drawSahpe(); &#125; &#125;ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œå½“æˆå‘˜å†…éƒ¨ç±»æ‹¥æœ‰å’Œå¤–éƒ¨ç±»åŒåçš„æˆå‘˜å˜é‡æˆ–è€…æ–¹æ³•æ—¶ï¼Œä¼šå‘ç”Ÿéšè—çŽ°è±¡ï¼Œå³é»˜è®¤æƒ…å†µä¸‹è®¿é—®çš„æ˜¯æˆå‘˜å†…éƒ¨ç±»çš„æˆå‘˜ã€‚å¦‚æžœè¦è®¿é—®å¤–éƒ¨ç±»çš„åŒåæˆå‘˜ï¼Œéœ€è¦ä»¥ä¸‹é¢çš„å½¢å¼è¿›è¡Œè®¿é—®ï¼š12å¤–éƒ¨ç±».this.æˆå‘˜å˜é‡å¤–éƒ¨ç±».this.æˆå‘˜æ–¹æ³•è™½ç„¶æˆå‘˜å†…éƒ¨ç±»å¯ä»¥æ— æ¡ä»¶åœ°è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Œè€Œå¤–éƒ¨ç±»æƒ³è®¿é—®æˆå‘˜å†…éƒ¨ç±»çš„æˆå‘˜å´ä¸æ˜¯è¿™ä¹ˆéšå¿ƒæ‰€æ¬²äº†ã€‚åœ¨å¤–éƒ¨ç±»ä¸­å¦‚æžœè¦è®¿é—®æˆå‘˜å†…éƒ¨ç±»çš„æˆå‘˜ï¼Œå¿…é¡»å…ˆåˆ›å»ºä¸€ä¸ªæˆå‘˜å†…éƒ¨ç±»çš„å¯¹è±¡ï¼Œå†é€šè¿‡æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨æ¥è®¿é—®ï¼š123456789101112131415161718class Circle &#123; private double radius = 0; public Circle(double radius) &#123; this.radius = radius; getDrawInstance().drawSahpe(); //å¿…é¡»å…ˆåˆ›å»ºæˆå‘˜å†…éƒ¨ç±»çš„å¯¹è±¡ï¼Œå†è¿›è¡Œè®¿é—® &#125; private Draw getDrawInstance() &#123; return new Draw(); &#125; class Draw &#123; //å†…éƒ¨ç±» public void drawSahpe() &#123; System.out.println(radius); //å¤–éƒ¨ç±»çš„privateæˆå‘˜ &#125; &#125;&#125;æˆå‘˜å†…éƒ¨ç±»æ˜¯ä¾é™„å¤–éƒ¨ç±»è€Œå­˜åœ¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœè¦åˆ›å»ºæˆå‘˜å†…éƒ¨ç±»çš„å¯¹è±¡ï¼Œå‰ææ˜¯å¿…é¡»å­˜åœ¨ä¸€ä¸ªå¤–éƒ¨ç±»çš„å¯¹è±¡ã€‚åˆ›å»ºæˆå‘˜å†…éƒ¨ç±»å¯¹è±¡çš„ä¸€èˆ¬æ–¹å¼å¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829public class Test &#123; public static void main(String[] args) &#123; //ç¬¬ä¸€ç§æ–¹å¼ï¼š Outter outter = new Outter(); Outter.Inner inner = outter.new Inner(); //å¿…é¡»é€šè¿‡Outterå¯¹è±¡æ¥åˆ›å»º //ç¬¬äºŒç§æ–¹å¼ï¼š Outter.Inner inner1 = outter.getInnerInstance(); &#125;&#125; class Outter &#123; private Inner inner = null; public Outter() &#123; &#125; public Inner getInnerInstance() &#123; if(inner == null) inner = new Inner(); return inner; &#125; class Inner &#123; public Inner() &#123; &#125; &#125;&#125;å†…éƒ¨ç±»å¯ä»¥æ‹¥æœ‰privateè®¿é—®æƒé™ã€protectedè®¿é—®æƒé™ã€publicè®¿é—®æƒé™åŠåŒ…è®¿é—®æƒé™ã€‚å¦‚ä¸Šé¢çš„ä¾‹å­ï¼šprivateï¼šåˆ™åªèƒ½åœ¨å¤–éƒ¨ç±»çš„å†…éƒ¨è®¿é—®ï¼›publicï¼šåˆ™ä»»ä½•åœ°æ–¹éƒ½èƒ½è®¿é—®ï¼›protectedï¼šåªèƒ½åœ¨åŒä¸€ä¸ªåŒ…ä¸‹æˆ–è€…ç»§æ‰¿å¤–éƒ¨ç±»çš„æƒ…å†µä¸‹è®¿é—®ï¼›é»˜è®¤è®¿é—®æƒé™ï¼šåˆ™åªèƒ½åœ¨åŒä¸€ä¸ªåŒ…ä¸‹è®¿é—®ã€‚è¿™ä¸€ç‚¹å’Œå¤–éƒ¨ç±»æœ‰ä¸€ç‚¹ä¸ä¸€æ ·ï¼Œå¤–éƒ¨ç±»åªèƒ½è¢«publicå’ŒåŒ…è®¿é—®ä¸¤ç§æƒé™ä¿®é¥°ã€‚æˆ‘ä¸ªäººæ˜¯è¿™ä¹ˆç†è§£çš„ï¼Œç”±äºŽæˆå‘˜å†…éƒ¨ç±»çœ‹èµ·æ¥åƒæ˜¯å¤–éƒ¨ç±»çš„ä¸€ä¸ªæˆå‘˜ï¼Œæ‰€ä»¥å¯ä»¥åƒç±»çš„æˆå‘˜ä¸€æ ·æ‹¥æœ‰å¤šç§æƒé™ä¿®é¥°ã€‚å±€éƒ¨å†…éƒ¨ç±»å±€éƒ¨å†…éƒ¨ç±»æ˜¯å®šä¹‰åœ¨ä¸€ä¸ªæ–¹æ³•æˆ–è€…ä¸€ä¸ªä½œç”¨åŸŸé‡Œé¢çš„ç±»ï¼Œå®ƒå’Œæˆå‘˜å†…éƒ¨ç±»çš„åŒºåˆ«åœ¨äºŽå±€éƒ¨å†…éƒ¨ç±»çš„è®¿é—®ä»…é™äºŽæ–¹æ³•å†…æˆ–è€…è¯¥ä½œç”¨åŸŸå†…ã€‚123456789101112131415161718class People&#123; public People() &#123; &#125;&#125; class Man&#123; public Man()&#123; &#125; public People getWoman()&#123; class Woman extends People&#123; //å±€éƒ¨å†…éƒ¨ç±» int age =0; &#125; return new Woman(); &#125;&#125;æ³¨æ„ï¼Œå±€éƒ¨å†…éƒ¨ç±»å°±åƒæ˜¯æ–¹æ³•é‡Œé¢çš„ä¸€ä¸ªå±€éƒ¨å˜é‡ä¸€æ ·ï¼Œæ˜¯ä¸èƒ½æœ‰publicã€protectedã€privateä»¥åŠstaticä¿®é¥°ç¬¦çš„ã€‚åŒ¿åå†…éƒ¨ç±»åŒ¿åå†…éƒ¨ç±»åº”è¯¥æ˜¯å¹³æ—¶æˆ‘ä»¬ç¼–å†™ä»£ç æ—¶ç”¨å¾—æœ€å¤šçš„ï¼Œåœ¨ç¼–å†™äº‹ä»¶ç›‘å¬çš„ä»£ç æ—¶ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ä¸ä½†æ–¹ä¾¿ï¼Œè€Œä¸”ä½¿ä»£ç æ›´åŠ å®¹æ˜“ç»´æŠ¤ã€‚ä¸‹é¢è¿™æ®µä»£ç æ˜¯ä¸€æ®µAndroidäº‹ä»¶ç›‘å¬ä»£ç ï¼š1234567891011121314151617scan_bt.setOnClickListener(new OnClickListener() &#123; @Override public void onClick(View v) &#123; // TODO Auto-generated method stub &#125;&#125;); history_bt.setOnClickListener(new OnClickListener() &#123; @Override public void onClick(View v) &#123; // TODO Auto-generated method stub &#125;&#125;);åŒ¿åå†…éƒ¨ç±»æ˜¯å”¯ä¸€ä¸€ç§æ²¡æœ‰æž„é€ å™¨çš„ç±»ã€‚æ­£å› ä¸ºå…¶æ²¡æœ‰æž„é€ å™¨ï¼Œæ‰€ä»¥åŒ¿åå†…éƒ¨ç±»çš„ä½¿ç”¨èŒƒå›´éžå¸¸æœ‰é™ï¼Œå¤§éƒ¨åˆ†åŒ¿åå†…éƒ¨ç±»ç”¨äºŽæŽ¥å£å›žè°ƒã€‚åŒ¿åå†…éƒ¨ç±»åœ¨ç¼–è¯‘çš„æ—¶å€™ç”±ç³»ç»Ÿè‡ªåŠ¨èµ·åä¸ºOutter$æ•°å­—.classã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒåŒ¿åå†…éƒ¨ç±»ç”¨äºŽç»§æ‰¿å…¶ä»–ç±»æˆ–æ˜¯å®žçŽ°æŽ¥å£ï¼Œå¹¶ä¸éœ€è¦å¢žåŠ é¢å¤–çš„æ–¹æ³•ï¼Œåªæ˜¯å¯¹ç»§æ‰¿æ–¹æ³•çš„å®žçŽ°æˆ–æ˜¯é‡å†™ã€‚é™æ€å†…éƒ¨ç±»é™æ€å†…éƒ¨ç±»ä¹Ÿæ˜¯å®šä¹‰åœ¨å¦ä¸€ä¸ªç±»é‡Œé¢çš„ç±»ï¼Œåªä¸è¿‡åœ¨ç±»çš„å‰é¢å¤šäº†ä¸€ä¸ªå…³é”®å­—staticã€‚é™æ€å†…éƒ¨ç±»æ˜¯ä¸éœ€è¦ä¾èµ–äºŽå¤–éƒ¨ç±»çš„ï¼Œè¿™ç‚¹å’Œç±»çš„é™æ€æˆå‘˜å±žæ€§æœ‰ç‚¹ç±»ä¼¼ï¼Œå¹¶ä¸”å®ƒä¸èƒ½ä½¿ç”¨å¤–éƒ¨ç±»çš„éžstaticæˆå‘˜å˜é‡æˆ–è€…æ–¹æ³•ï¼Œè¿™ç‚¹å¾ˆå¥½ç†è§£ï¼Œå› ä¸ºåœ¨æ²¡æœ‰å¤–éƒ¨ç±»çš„å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥åˆ›å»ºé™æ€å†…éƒ¨ç±»çš„å¯¹è±¡ï¼Œå¦‚æžœå…è®¸è®¿é—®å¤–éƒ¨ç±»çš„éžstaticæˆå‘˜å°±ä¼šäº§ç”ŸçŸ›ç›¾ï¼Œå› ä¸ºå¤–éƒ¨ç±»çš„éžstaticæˆå‘˜å¿…é¡»ä¾é™„äºŽå…·ä½“çš„å¯¹è±¡ã€‚1234567891011121314151617public class Test &#123; public static void main(String[] args) &#123; Outter.Inner inner = new Outter.Inner(); &#125;&#125; class Outter &#123; public Outter() &#123; &#125; static class Inner &#123; public Inner() &#123; &#125; &#125;&#125;æ·±å…¥ç†è§£å†…éƒ¨ç±»ä¸ºä»€ä¹ˆæˆå‘˜å†…éƒ¨ç±»å¯ä»¥æ— æ¡ä»¶è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Ÿåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»è®¨è®ºè¿‡äº†æˆå‘˜å†…éƒ¨ç±»å¯ä»¥æ— æ¡ä»¶è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Œé‚£å…·ä½“ç©¶ç«Ÿæ˜¯å¦‚ä½•å®žçŽ°çš„å‘¢ï¼Ÿä¸‹é¢é€šè¿‡åç¼–è¯‘å­—èŠ‚ç æ–‡ä»¶çœ‹çœ‹ç©¶ç«Ÿã€‚äº‹å®žä¸Šï¼Œç¼–è¯‘å™¨åœ¨è¿›è¡Œç¼–è¯‘çš„æ—¶å€™ï¼Œä¼šå°†æˆå‘˜å†…éƒ¨ç±»å•ç‹¬ç¼–è¯‘æˆä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶ï¼Œä¸‹é¢æ˜¯Outter.javaçš„ä»£ç ï¼š123456789101112131415161718public class Outter &#123; private Inner inner = null; public Outter() &#123; &#125; public Inner getInnerInstance() &#123; if(inner == null) inner = new Inner(); return inner; &#125; protected class Inner &#123; public Inner() &#123; &#125; &#125;&#125;ç¼–è¯‘ä¹‹åŽï¼Œå‡ºçŽ°äº†ä¸¤ä¸ªå­—èŠ‚ç æ–‡ä»¶ï¼šåç¼–è¯‘Outter$Inner.classæ–‡ä»¶å¾—åˆ°ä¸‹é¢ä¿¡æ¯ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657E:\Workspace\Test\bin\com\cxh\test2&gt;javap -v Outter$InnerCompiled from &quot;Outter.java&quot;public class com.cxh.test2.Outter$Inner extends java.lang.Object SourceFile: &quot;Outter.java&quot; InnerClass: #24= #1 of #22; //Inner=class com/cxh/test2/Outter$Inner of class com/cxh/test2/Outter minor version: 0 major version: 50 Constant pool:const #1 = class #2; // com/cxh/test2/Outter$Innerconst #2 = Asciz com/cxh/test2/Outter$Inner;const #3 = class #4; // java/lang/Objectconst #4 = Asciz java/lang/Object;const #5 = Asciz this$0;const #6 = Asciz Lcom/cxh/test2/Outter;;const #7 = Asciz &lt;init&gt;;const #8 = Asciz (Lcom/cxh/test2/Outter;)V;const #9 = Asciz Code;const #10 = Field #1.#11; // com/cxh/test2/Outter$Inner.this$0:Lcom/cxh/test2/Outter;const #11 = NameAndType #5:#6;// this$0:Lcom/cxh/test2/Outter;const #12 = Method #3.#13; // java/lang/Object.&quot;&lt;init&gt;&quot;:()Vconst #13 = NameAndType #7:#14;// &quot;&lt;init&gt;&quot;:()Vconst #14 = Asciz ()V;const #15 = Asciz LineNumberTable;const #16 = Asciz LocalVariableTable;const #17 = Asciz this;const #18 = Asciz Lcom/cxh/test2/Outter$Inner;;const #19 = Asciz SourceFile;const #20 = Asciz Outter.java;const #21 = Asciz InnerClasses;const #22 = class #23; // com/cxh/test2/Outterconst #23 = Asciz com/cxh/test2/Outter;const #24 = Asciz Inner; &#123;final com.cxh.test2.Outter this$0; public com.cxh.test2.Outter$Inner(com.cxh.test2.Outter); Code: Stack=2, Locals=2, Args_size=2 0: aload_0 1: aload_1 2: putfield #10; //Field this$0:Lcom/cxh/test2/Outter; 5: aload_0 6: invokespecial #12; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V 9: return LineNumberTable: line 16: 0 line 18: 9 LocalVariableTable: Start Length Slot Name Signature 0 10 0 this Lcom/cxh/test2/Outter$Inner; &#125;ç¬¬11è¡Œåˆ°35è¡Œæ˜¯å¸¸é‡æ± çš„å†…å®¹ï¼Œä¸‹é¢æ³¨æ„ç¬¬38è¡Œçš„å†…å®¹ï¼š1final com.cxh.test2.Outter this$0;è¿™è¡Œæ˜¯ä¸€ä¸ªæŒ‡å‘å¤–éƒ¨ç±»å¯¹è±¡çš„æŒ‡é’ˆï¼Œçœ‹åˆ°è¿™é‡Œæƒ³å¿…å¤§å®¶è±ç„¶å¼€æœ—äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ç¼–è¯‘å™¨ä¼šé»˜è®¤ä¸ºæˆå‘˜å†…éƒ¨ç±»æ·»åŠ äº†ä¸€ä¸ªæŒ‡å‘å¤–éƒ¨ç±»å¯¹è±¡çš„å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼•ç”¨æ˜¯å¦‚ä½•èµ‹åˆå€¼çš„å‘¢ï¼Ÿä¸‹é¢æŽ¥ç€çœ‹å†…éƒ¨ç±»çš„æž„é€ å™¨ï¼š1public com.cxh.test2.Outter$Inner(com.cxh.test2.Outter);ä»Žè¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶æˆ‘ä»¬åœ¨å®šä¹‰çš„å†…éƒ¨ç±»çš„æž„é€ å™¨æ˜¯æ— å‚æž„é€ å™¨ï¼Œç¼–è¯‘å™¨è¿˜æ˜¯ä¼šé»˜è®¤æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°çš„ç±»åž‹ä¸ºæŒ‡å‘å¤–éƒ¨ç±»å¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨ï¼Œæ‰€ä»¥æˆå‘˜å†…éƒ¨ç±»ä¸­çš„Outter this&amp;0 æŒ‡é’ˆä¾¿æŒ‡å‘äº†å¤–éƒ¨ç±»å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥åœ¨æˆå‘˜å†…éƒ¨ç±»ä¸­éšæ„è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ã€‚ä»Žè¿™é‡Œä¹Ÿé—´æŽ¥è¯´æ˜Žäº†æˆå‘˜å†…éƒ¨ç±»æ˜¯ä¾èµ–äºŽå¤–éƒ¨ç±»çš„ï¼Œå¦‚æžœæ²¡æœ‰åˆ›å»ºå¤–éƒ¨ç±»çš„å¯¹è±¡ï¼Œåˆ™æ— æ³•å¯¹Outter this&amp;0å¼•ç”¨è¿›è¡Œåˆå§‹åŒ–èµ‹å€¼ï¼Œä¹Ÿå°±æ— æ³•åˆ›å»ºæˆå‘˜å†…éƒ¨ç±»çš„å¯¹è±¡äº†ã€‚ä¸ºä»€ä¹ˆå±€éƒ¨å†…éƒ¨ç±»å’ŒåŒ¿åå†…éƒ¨ç±»åªèƒ½è®¿é—®å±€éƒ¨finalå˜é‡ï¼Ÿæƒ³å¿…è¿™ä¸ªé—®é¢˜ä¹Ÿæ›¾ç»å›°æ‰°è¿‡å¾ˆå¤šäººï¼Œåœ¨è®¨è®ºè¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œå…ˆçœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š123456789101112131415public class Test &#123; public static void main(String[] args) &#123; &#125; public void test(final int b) &#123; final int a = 10; new Thread()&#123; public void run() &#123; System.out.println(a); System.out.println(b); &#125;; &#125;.start(); &#125;&#125;è¿™æ®µä»£ç ä¼šè¢«ç¼–è¯‘æˆä¸¤ä¸ªclassæ–‡ä»¶ï¼šTest.classå’ŒTest1.classã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šä¸ºåŒ¿åå†…éƒ¨ç±»å’Œå±€éƒ¨å†…éƒ¨ç±»èµ·åä¸ºOutter1.classã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šä¸ºåŒ¿åå†…éƒ¨ç±»å’Œå±€éƒ¨å†…éƒ¨ç±»èµ·åä¸ºOutter$x.classï¼ˆxä¸ºæ­£æ•´æ•°ï¼‰ã€‚ä¸Šæ®µä»£ç ä¸­ï¼Œå¦‚æžœæŠŠå˜é‡aå’Œbå‰é¢çš„ä»»ä¸€ä¸ªfinalåŽ»æŽ‰ï¼Œè¿™æ®µä»£ç éƒ½ç¼–è¯‘ä¸è¿‡ã€‚æˆ‘ä»¬å…ˆè€ƒè™‘è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šå½“testæ–¹æ³•æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œå˜é‡açš„ç”Ÿå‘½å‘¨æœŸå°±ç»“æŸäº†ï¼Œè€Œæ­¤æ—¶Threadå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå¾ˆå¯èƒ½è¿˜æ²¡æœ‰ç»“æŸï¼Œé‚£ä¹ˆåœ¨Threadçš„runæ–¹æ³•ä¸­ç»§ç»­è®¿é—®å˜é‡aå°±å˜æˆä¸å¯èƒ½äº†ï¼Œä½†æ˜¯åˆè¦å®žçŽ°è¿™æ ·çš„æ•ˆæžœï¼Œæ€Žä¹ˆåŠžå‘¢ï¼ŸJavaé‡‡ç”¨äº†å¤åˆ¶çš„æ‰‹æ®µæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å°†è¿™æ®µä»£ç çš„å­—èŠ‚ç åç¼–è¯‘å¯ä»¥å¾—åˆ°ä¸‹é¢çš„å†…å®¹ï¼šæˆ‘ä»¬çœ‹åˆ°åœ¨runæ–¹æ³•ä¸­æœ‰ä¸€æ¡æŒ‡ä»¤ï¼šbipush 10ã€‚è¿™æ¡æŒ‡ä»¤è¡¨ç¤ºå°†æ“ä½œæ•°10åŽ‹æ ˆï¼Œè¡¨ç¤ºä½¿ç”¨çš„æ˜¯ä¸€ä¸ªæœ¬åœ°å±€éƒ¨å˜é‡ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯åœ¨ç¼–è¯‘æœŸé—´ç”±ç¼–è¯‘å™¨é»˜è®¤è¿›è¡Œï¼Œå¦‚æžœè¿™ä¸ªå˜é‡çš„å€¼åœ¨ç¼–è¯‘æœŸé—´å¯ä»¥ç¡®å®šï¼Œåˆ™ç¼–è¯‘å™¨é»˜è®¤ä¼šåœ¨åŒ¿åå†…éƒ¨ç±»ï¼ˆå±€éƒ¨å†…éƒ¨ç±»ï¼‰çš„å¸¸é‡æ± ä¸­æ·»åŠ ä¸€ä¸ªå†…å®¹ç›¸ç­‰çš„å­—é¢é‡æˆ–ç›´æŽ¥å°†ç›¸åº”çš„å­—èŠ‚ç åµŒå…¥åˆ°æ‰§è¡Œå­—èŠ‚ç ä¸­ã€‚è¿™æ ·ä¸€æ¥ï¼ŒåŒ¿åå†…éƒ¨ç±»ä½¿ç”¨çš„å˜é‡æ˜¯å¦ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œåªä¸è¿‡å€¼å’Œæ–¹æ³•ä¸­å±€éƒ¨å˜é‡çš„å€¼ç›¸ç­‰ï¼Œå› æ­¤å’Œæ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡å®Œå…¨ç‹¬ç«‹å¼€ã€‚ä¸‹é¢å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š12345678910111213public class Test &#123; public static void main(String[] args) &#123; &#125; public void test(final int a) &#123; new Thread()&#123; public void run() &#123; System.out.println(a); &#125;; &#125;.start(); &#125;&#125;åç¼–è¯‘å¾—åˆ°ï¼šæˆ‘ä»¬çœ‹åˆ°åŒ¿åå†…éƒ¨ç±»Test$1çš„æž„é€ å™¨å«æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯æŒ‡å‘å¤–éƒ¨ç±»å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸€ä¸ªæ˜¯intåž‹å˜é‡ï¼Œå¾ˆæ˜¾ç„¶ï¼Œè¿™é‡Œæ˜¯å°†å˜é‡testæ–¹æ³•ä¸­çš„å½¢å‚aä»¥å‚æ•°çš„å½¢å¼ä¼ è¿›æ¥å¯¹åŒ¿åå†…éƒ¨ç±»ä¸­çš„æ‹·è´ï¼ˆå˜é‡açš„æ‹·è´ï¼‰è¿›è¡Œèµ‹å€¼åˆå§‹åŒ–ã€‚æ€»ç»“ä»¥ä¸Šä¸¤æ¬¡é¥­ç¼–è¯‘å¯å¾—ï¼šå¦‚æžœå±€éƒ¨å˜é‡çš„å€¼åœ¨ç¼–è¯‘æœŸé—´å°±å¯ä»¥ç¡®å®šï¼Œåˆ™ç›´æŽ¥åœ¨åŒ¿åå†…éƒ¨é‡Œé¢åˆ›å»ºä¸€ä¸ªæ‹·è´ã€‚å¦‚æžœå±€éƒ¨å˜é‡çš„å€¼æ— æ³•åœ¨ç¼–è¯‘æœŸé—´ç¡®å®šï¼Œåˆ™é€šè¿‡æž„é€ å™¨ä¼ å‚çš„æ–¹å¼æ¥å¯¹æ‹·è´è¿›è¡Œåˆå§‹åŒ–èµ‹å€¼ã€‚ä»Žä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œåœ¨runæ–¹æ³•ä¸­è®¿é—®çš„å˜é‡aæ ¹æœ¬å°±ä¸æ˜¯testæ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡aã€‚è¿™æ ·ä¸€æ¥å°±è§£å†³äº†å‰é¢æ‰€è¯´çš„ ç”Ÿå‘½å‘¨æœŸä¸ä¸€è‡´çš„é—®é¢˜ã€‚ä½†æ˜¯æ–°çš„é—®é¢˜åˆæ¥äº†ï¼Œæ—¢ç„¶åœ¨runæ–¹æ³•ä¸­è®¿é—®çš„å˜é‡aå’Œtestæ–¹æ³•ä¸­çš„å˜é‡aä¸æ˜¯åŒä¸€ä¸ªå˜é‡ï¼Œå½“åœ¨runæ–¹æ³•ä¸­æ”¹å˜å˜é‡açš„å€¼çš„è¯ï¼Œä¼šå‡ºçŽ°ä»€ä¹ˆæƒ…å†µï¼Ÿå¯¹ï¼Œä¼šé€ æˆæ•°æ®ä¸ä¸€è‡´æ€§ï¼Œè¿™æ ·å°±è¾¾ä¸åˆ°åŽŸæœ¬çš„æ„å›¾å’Œè¦æ±‚ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œjavaç¼–è¯‘å™¨å°±é™å®šå¿…é¡»å°†å˜é‡aé™åˆ¶ä¸ºfinalå˜é‡ï¼Œä¸å…è®¸å¯¹å˜é‡aè¿›è¡Œæ›´æ”¹ï¼ˆå¯¹äºŽå¼•ç”¨ç±»åž‹çš„å˜é‡ï¼Œæ˜¯ä¸å…è®¸æŒ‡å‘æ–°çš„å¯¹è±¡ï¼‰ï¼Œè¿™æ ·æ•°æ®ä¸ä¸€è‡´æ€§çš„é—®é¢˜å°±å¾—ä»¥è§£å†³äº†ã€‚åˆ°è¿™é‡Œï¼Œæƒ³å¿…å¤§å®¶åº”è¯¥æ¸…æ¥šä¸ºä½• æ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡å’Œå½¢å‚éƒ½å¿…é¡»ç”¨finalè¿›è¡Œé™å®šäº†ã€‚é™æ€å†…éƒ¨ç±»æœ‰ç‰¹æ®Šçš„åœ°æ–¹å—ï¼Ÿä»Žå‰é¢å¯ä»¥çŸ¥é“ï¼Œé™æ€å†…éƒ¨ç±»æ˜¯ä¸ä¾èµ–äºŽå¤–éƒ¨ç±»çš„ï¼Œä¹Ÿå°±è¯´å¯ä»¥åœ¨ä¸åˆ›å»ºå¤–éƒ¨ç±»å¯¹è±¡çš„æƒ…å†µä¸‹åˆ›å»ºå†…éƒ¨ç±»çš„å¯¹è±¡ã€‚å¦å¤–ï¼Œé™æ€å†…éƒ¨ç±»æ˜¯ä¸æŒæœ‰æŒ‡å‘å¤–éƒ¨ç±»å¯¹è±¡çš„å¼•ç”¨çš„ï¼Œè¿™ä¸ªè¯»è€…å¯ä»¥è‡ªå·±å°è¯•åç¼–è¯‘classæ–‡ä»¶çœ‹ä¸€ä¸‹å°±çŸ¥é“äº†ï¼Œæ˜¯æ²¡æœ‰Outter this&amp;0å¼•ç”¨çš„ã€‚1234567891011public class Test&#123; public static void main(String[] args)&#123; // åˆå§‹åŒ–Bean2 Test.Bean2 b2 = new Test.Bean2(); bean2.J++; &#125; static class Bean2&#123; public int J = 0; &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Springçš„AOP(æ³¨è§£æ–¹å¼)]]></title>
    <url>%2F2019%2FSpring%E7%9A%84AOP-%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[é…ç½®å’Œæ³¨è§£IOCä¸€æ ·ï¼Œä¹Ÿéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ä¿¡æ¯ï¼Œè®©SpringçŸ¥é“AOPä½¿ç”¨æ³¨è§£æ–¹å¼è¿›è¡Œã€‚12&lt;!-- æ‰“å¼€æ³¨è§£æ–¹å¼çš„AOP --&gt;&lt;aop:aspectj-autoproxy /&gt;å…¥é—¨ä½¿ç”¨@Aspectã€@Beforeã€@AfterReturningã€@Aroundæ³¨è§£1234567891011121314151617181920212223&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd"&gt;&lt;!-- æ‰“å¼€æ³¨è§£æ–¹å¼çš„AOP --&gt;&lt;aop:aspectj-autoproxy /&gt;&lt;bean id="userDao" class="com.spring.annotation.UserDaoImpl"&gt;&lt;/bean&gt;&lt;bean id="myAspectJ" class="com.spring.annotation.MyAspectJ"&gt;&lt;/bean&gt;&lt;/beans&gt;12345678910111213141516public class UserDaoImpl implements UserDao &#123; public void delete() &#123; System.out.println("ç®€ç®€å•å•çš„åˆ é™¤"); &#125; public Integer delete(String userId, Double type) &#123; System.out.println("delete : " + userId); System.out.println("delete : " + type); return 100; &#125; public Boolean delete(Double type, String userId) &#123; System.out.println("delete : " + userId + " " + type); return true; &#125;&#125;123456789101112131415161718192021222324252627282930313233343536373839import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.AfterReturning;import org.aspectj.lang.annotation.Around;import org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.Before;/* æ ‡è¯†è¿™ä¸ªç±»æ˜¯åˆ‡é¢ç±» */@Aspectpublic class MyAspectJ &#123; /** * å‰ç½®å¢žå¼ºï¼Œvalueè¡¨è¾¾å¼å’Œxmlæ–¹å¼ä¸€è‡´ */ @Before(value="execution(void com.spring.annotation.UserDaoImpl.delete())") public void before() &#123; System.out.println("before"); &#125; /** * åŽç½®å¢žå¼ºï¼Œvalueè¡¨è¾¾å¼å’Œxmlæ–¹å¼ä¸€è‡´ */ @AfterReturning(value="execution(Boolean com.spring.annotation.UserDaoImpl.delete(java.lang.Double, java.lang.String))", returning="ret") public void after(Boolean ret) &#123; System.out.println(ret); System.out.println("after"); &#125; @Around(value="execution(Integer com.spring.annotation.UserDaoImpl.delete(java.lang.String, java.lang.Double))") public Integer around(ProceedingJoinPoint pjp) throws Throwable &#123; Object[] args = pjp.getArgs(); for(Object o : args) System.out.println(o); //æ‰§è¡Œåˆ‡ç‚¹ Integer proceed = (Integer)pjp.proceed(); return proceed; &#125;&#125;1234567891011import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;public class Test &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); UserDao ud = (UserDao)ac.getBean("userDao"); Integer delete = ud.delete("HelloWorld", 11.0); System.out.println(delete); &#125;&#125;åˆ‡å…¥ç‚¹æ³¨è§£åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼ŒæŠŠæ³¨è§£åŠ åœ¨é€šçŸ¥çš„ä¸Šé¢ï¼Œç±»ä¼¼äºŽxmlæ–¹å¼çš„123&lt;aop:aspect ref="myAspectJ"&gt; &lt;aop:around method="around" pointcut-ref="cut1" /&gt;&lt;/aop:aspect&gt;ä½†æ˜¯è¿™æ ·çš„è¯åŽæœŸä¿®æ”¹å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥ä½¿ç”¨æ³¨è§£å®Œæˆç±»ä¼¼äºŽä¸‹é¢ï¼Œå¯ä»¥é€šè¿‡idæ·»åŠ é€šçŸ¥çš„æ“ä½œã€‚1&lt;aop:pointcut expression="execution(Integer com.spring.aopxml.UserDaoImpl.delete(..))" id="cut1"/&gt;12345678910111213141516@Around(value="MyAspectJ.cut1")public Integer around(ProceedingJoinPoint pjp) throws Throwable &#123; Object[] args = pjp.getArgs(); for(Object o : args) System.out.println(o); //æ‰§è¡Œåˆ‡ç‚¹ Integer proceed = (Integer)pjp.proceed(); return proceed;&#125;/* * ä¸èƒ½ä½¿ç”¨å±žæ€§ */@Pointcut(value="execution(Integer com.spring.annotation.UserDaoImpl.delete(java.lang.String, java.lang.Double))")private void cut1() &#123;&#125;]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Aæ˜Ÿå¯»è·¯ç®—æ³•]]></title>
    <url>%2F2019%2FA%E6%98%9F%E5%AF%BB%E8%B7%AF%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[é«˜æ ¡é€‰è¯¾æ•°æ®åº“èŒƒå¼åˆ†è§£]]></title>
    <url>%2F2019%2F%E9%AB%98%E6%A0%A1%E9%80%89%E8%AF%BE%E6%95%B0%E6%8D%AE%E5%BA%93%E8%8C%83%E5%BC%8F%E5%88%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[è¯¾ç¨‹ä¿¡æ¯é«˜æ ¡çš„è¯¾ç¨‹ä¸€èˆ¬éƒ½åˆ†ä¸ºå¿…é¡»è¯¾å’Œé€‰ä¿®è¯¾ï¼Œå…¶ä¸­é€‰ä¿®è¯¾åˆåˆ†ä¸ºä¸€å®šçš„ç±»åˆ«ï¼Œåšä¸»æ‰€åœ¨çš„ä¸­å›½æ°‘èˆªå¤§å­¦è¯¾ç¨‹ä¿¡æ¯å¦‚ä¸‹ï¼šé€‰ä¿®ä¸“ä¸šé€‰ä¿®å…¬å…±é€‰ä¿®å¿…ä¿®æ•°æ®é€šè¿‡çˆ¬è™«ä»Žé€‰è¯¾ç³»ç»Ÿçˆ¬ä¸‹æ¥çš„æ•°æ®å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼šä¸Šè¯¾æ—¶é—´ä¸­æ¯ä¸ªåˆ†å·åˆ†éš”çš„æ˜¯ä¸€ä¸ªä¸Šè¯¾çš„æ—¶é—´æ®µã€‚æ¯”å¦‚2`7`8`3`12;3`9`10`3`12æŒ‡çš„æ˜¯æœ‰ä¸¤ä¸ªä¸Šè¯¾çš„æ—¶é—´æ®µï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªæ—¶é—´æ®µæ˜¯ç¬¬3-12å‘¨ä¸­å‘¨2çš„7ã€8èŠ‚ï¼Œç¬¬äºŒä¸ªæ—¶é—´æ®µæ˜¯ç¬¬3-12å‘¨ä¸­å‘¨3çš„9ã€10èŠ‚ã€‚æœ‰çš„è¯¾æœ‰ä¸åŒçš„ä¸Šè¯¾æ—¶é—´æŒ‡çš„æ˜¯è¿™ä¸ªè¯¾æœ‰å¤šä¸ªæ•™å­¦ç­è¡¨è®¾è®¡]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Springçš„äº‹åŠ¡ç®¡ç†]]></title>
    <url>%2F2019%2FSpring%E7%9A%84%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86%2F</url>
    <content type="text"><![CDATA[Springäº‹åŠ¡ç®¡ç†APIç»“æž„PlatformTransactionManagerã€TransactionStatuså’ŒTransactionDefinitionæ˜¯Springäº‹åŠ¡ç®¡ç†çš„ä¸‰ä¸ªé¡¶å±‚æŽ¥å£ã€‚PlatformTransactionManagerSpringäº‹åŠ¡ç®¡ç†å™¨çš„æŽ¥å£æ˜¯org.springframework.transaction.PlatformTransactionManagerï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒSpringå¹¶ä¸ç›´æŽ¥ç®¡ç†äº‹åŠ¡ï¼Œé€šè¿‡è¿™ä¸ªæŽ¥å£ï¼ŒSpringä¸ºå„ä¸ªå¹³å°å¦‚JDBCã€Hibernateç­‰éƒ½æä¾›äº†å¯¹åº”çš„äº‹åŠ¡ç®¡ç†å™¨ï¼Œä¹Ÿå°±æ˜¯å°†äº‹åŠ¡ç®¡ç†çš„èŒè´£å§”æ‰˜ç»™Hibernateæˆ–è€…JDBCç­‰æŒä¹…åŒ–æœºåˆ¶æ‰€æä¾›çš„ç›¸å…³æ¡†æž¶çš„äº‹åŠ¡æ¥å®žçŽ°ã€‚æˆ‘ä»¬è¿›å…¥åˆ° PlatformTransactionManager æŽ¥å£ï¼ŒæŸ¥çœ‹æºç ï¼šTransactionStatusè¿™ä¸ªæŽ¥å£æè¿°çš„æ˜¯ä¸€äº›å¤„ç†äº‹åŠ¡æä¾›ç®€å•çš„æŽ§åˆ¶äº‹åŠ¡æ‰§è¡Œå’ŒæŸ¥è¯¢äº‹åŠ¡çŠ¶æ€çš„æ–¹æ³•ï¼Œåœ¨å›žæ»šæˆ–æäº¤çš„æ—¶å€™éœ€è¦åº”ç”¨å¯¹åº”çš„äº‹åŠ¡çŠ¶æ€ã€‚èŽ·å¾—æ–¹å¼å°±æ˜¯PlatformTransactionManagerçš„getTransaction(TransactionDefinition)ã€‚TransactionDefinitionä¸Šé¢è®²åˆ°çš„äº‹åŠ¡ç®¡ç†å™¨æŽ¥å£PlatformTransactionManageré€šè¿‡getTransaction(TransactionDefinition definition)æ–¹æ³•æ¥å¾—åˆ°äº‹åŠ¡ï¼Œè¿™ä¸ªæ–¹æ³•é‡Œé¢çš„å‚æ•°æ˜¯TransactionDefinitionç±»ï¼Œè¿™ä¸ªç±»å°±å®šä¹‰äº†ä¸€äº›åŸºæœ¬çš„äº‹åŠ¡å±žæ€§ã€‚ äº‹åŠ¡å±žæ€§å¯ä»¥ç†è§£æˆäº‹åŠ¡çš„ä¸€äº›åŸºæœ¬é…ç½®ï¼Œæè¿°äº†äº‹åŠ¡ç­–ç•¥å¦‚ä½•åº”ç”¨åˆ°æ–¹æ³•ä¸Šã€‚äº‹åŠ¡å±žæ€§åŒ…å«äº†5ä¸ªæ–¹é¢ï¼šéš”ç¦»çº§åˆ«æ˜¯å¦åªè¯»ï¼šç”±äºŽåªè¯»äº‹åŠ¡ä¸å­˜åœ¨æ•°æ®çš„ä¿®æ”¹ï¼Œå› æ­¤æ•°æ®åº“å°†ä¼šä¸ºåªè¯»äº‹åŠ¡æä¾›ä¸€äº›ä¼˜åŒ–æ‰‹æ®µã€‚äº‹åŠ¡è¶…æ—¶ä¼ æ’­è¡Œä¸ºï¼šåŽç»­è¯¦è§£ä¼ æ’­è¡Œä¸ºå½“å…·æœ‰äº‹åŠ¡çš„æ–¹æ³•è¢«å¦ä¸€ä¸ªå…·æœ‰äº‹åŠ¡æ–¹æ³•è°ƒç”¨æ—¶ï¼Œå¿…é¡»æŒ‡å®šäº‹åŠ¡åº”è¯¥å¦‚ä½•ä¼ æ’­ã€‚PROPAGATION_REQUIRED ï¼šrequired , å¿…é¡»ã€‚é»˜è®¤å€¼ï¼ŒAå¦‚æžœæœ‰äº‹åŠ¡ï¼ŒBå°†ä½¿ç”¨è¯¥äº‹åŠ¡ï¼›å¦‚æžœAæ²¡æœ‰äº‹åŠ¡ï¼ŒBå°†åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚PROPAGATION_SUPPORTSï¼šsupports ï¼Œæ”¯æŒã€‚Aå¦‚æžœæœ‰äº‹åŠ¡ï¼ŒBå°†ä½¿ç”¨è¯¥äº‹åŠ¡ï¼›å¦‚æžœAæ²¡æœ‰äº‹åŠ¡ï¼ŒBå°†ä»¥éžäº‹åŠ¡æ‰§è¡Œã€‚PROPAGATION_MANDATORYï¼šmandatory ï¼Œå¼ºåˆ¶ã€‚Aå¦‚æžœæœ‰äº‹åŠ¡ï¼ŒBå°†ä½¿ç”¨è¯¥äº‹åŠ¡ï¼›å¦‚æžœAæ²¡æœ‰äº‹åŠ¡ï¼ŒBå°†æŠ›å¼‚å¸¸ã€‚PROPAGATION_REQUIRES_NEW ï¼šrequires_newï¼Œå¿…é¡»æ–°çš„ã€‚å¦‚æžœAæœ‰äº‹åŠ¡ï¼Œå°†Açš„äº‹åŠ¡æŒ‚èµ·ï¼ŒBåˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼›å¦‚æžœAæ²¡æœ‰äº‹åŠ¡ï¼ŒBåˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚PROPAGATION_NOT_SUPPORTED ï¼šnot_supported ,ä¸æ”¯æŒã€‚å¦‚æžœAæœ‰äº‹åŠ¡ï¼Œå°†Açš„äº‹åŠ¡æŒ‚èµ·ï¼ŒBå°†ä»¥éžäº‹åŠ¡æ‰§è¡Œï¼›å¦‚æžœAæ²¡æœ‰äº‹åŠ¡ï¼ŒBå°†ä»¥éžäº‹åŠ¡æ‰§è¡Œã€‚PROPAGATION_NEVER ï¼šneverï¼Œä»Žä¸ã€‚å¦‚æžœAæœ‰äº‹åŠ¡ï¼ŒBå°†æŠ›å¼‚å¸¸ï¼›å¦‚æžœAæ²¡æœ‰äº‹åŠ¡ï¼ŒBå°†ä»¥éžäº‹åŠ¡æ‰§è¡Œã€‚PROPAGATION_NESTED ï¼šnested ï¼ŒåµŒå¥—ã€‚Aå’ŒBåº•å±‚é‡‡ç”¨ä¿å­˜ç‚¹æœºåˆ¶ï¼Œå½¢æˆåµŒå¥—äº‹åŠ¡ã€‚éš”ç¦»çº§åˆ«ISOLATION_DEFAULTï¼šä½¿ç”¨åŽç«¯æ•°æ®åº“é»˜è®¤çš„éš”ç¦»çº§åˆ«ISOLATION_READ_UNCOMMITTEDï¼šæœ€ä½Žçš„éš”ç¦»çº§åˆ«ï¼Œå…è®¸è¯»å–å°šæœªæäº¤çš„æ•°æ®å˜æ›´ï¼Œå¯èƒ½ä¼šå¯¼è‡´è„è¯»ã€å¹»è¯»æˆ–ä¸å¯é‡å¤è¯»ISOLATION_READ_COMMITTEDï¼šå…è®¸è¯»å–å¹¶å‘äº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®ï¼Œå¯ä»¥é˜»æ­¢è„è¯»ï¼Œä½†æ˜¯å¹»è¯»æˆ–ä¸å¯é‡å¤è¯»ä»æœ‰å¯èƒ½å‘ç”ŸISOLATION_REPEATABLE_READï¼šå¯¹åŒä¸€å­—æ®µçš„å¤šæ¬¡è¯»å–ç»“æžœéƒ½æ˜¯ä¸€è‡´çš„ï¼Œé™¤éžæ•°æ®æ˜¯è¢«æœ¬èº«äº‹åŠ¡è‡ªå·±æ‰€ä¿®æ”¹ï¼Œå¯ä»¥é˜»æ­¢è„è¯»å’Œä¸å¯é‡å¤è¯»ï¼Œä½†å¹»è¯»ä»æœ‰å¯èƒ½å‘ç”ŸISOLATION_SERIALIZABLEï¼šæœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œå®Œå…¨æœä»ŽACIDçš„éš”ç¦»çº§åˆ«ï¼Œç¡®ä¿é˜»æ­¢è„è¯»ã€ä¸å¯é‡å¤è¯»ä»¥åŠå¹»è¯»ï¼Œä¹Ÿæ˜¯æœ€æ…¢çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œå› ä¸ºå®ƒé€šå¸¸æ˜¯é€šè¿‡å®Œå…¨é”å®šäº‹åŠ¡ç›¸å…³çš„æ•°æ®åº“è¡¨æ¥å®žçŽ°çš„ç¼–ç¨‹å¼äº‹åŠ¡123456package com.tx.demo1;public interface AccountDao &#123; public void outMoney(String from ,Double money); public void inMoney(String to ,Double money);&#125;123456789101112131415161718package com.tx.demo1;import org.springframework.jdbc.core.support.JdbcDaoSupport;//JdbcDaoSupportæ˜¯Springä¸ºæˆ‘ä»¬æä¾›çš„ç®€ä¾¿Jdbcæ¨¡æ¿å¼€å‘çš„ç±»public class AccountDaoImpl extends JdbcDaoSupport implements AccountDao &#123; @Override public void outMoney(String from, Double money) &#123; this.getJdbcTemplate().update("update account set money = money - ? where name = ?", money,from); &#125; @Override public void inMoney(String to, Double money) &#123; this.getJdbcTemplate().update("update account set money = money + ? where name = ?", money ,to); &#125;&#125;1234567package com.tx.demo1;public interface AccountService &#123; public void transfer(String from,String to,Double money); &#125;12345678910111213141516171819202122232425262728293031323334353637package com.tx.demo1;import org.springframework.transaction.TransactionStatus;import org.springframework.transaction.support.TransactionCallbackWithoutResult;import org.springframework.transaction.support.TransactionTemplate;public class AccountServiceImpl implements AccountService &#123; // æ³¨å…¥DAO: private AccountDao accountDao; public void setAccountDao(AccountDao accountDao) &#123; this.accountDao = accountDao; &#125; // æ³¨å…¥äº‹åŠ¡ç®¡ç†çš„æ¨¡æ¿ï¼šè¿™ä¸ªç±»åº”ç”¨äºŽç¼–ç¨‹å¼äº‹åŠ¡ private TransactionTemplate trsactionTemplate; public void setTrsactionTemplate(TransactionTemplate trsactionTemplate) &#123; this.trsactionTemplate = trsactionTemplate; &#125; @Override public void transfer(final String from, final String to, final Double money) &#123; trsactionTemplate.execute(new TransactionCallbackWithoutResult() &#123; @Override protected void doInTransactionWithoutResult(TransactionStatus transactionStatus) &#123; accountDao.outMoney(from, money); int d = 1/0; accountDao.inMoney(to, money); &#125; &#125;); &#125;&#125;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"&gt; &lt;!-- é…ç½®Service============= --&gt; &lt;bean id="accountService" class="com.tx.demo1.AccountServiceImpl"&gt; &lt;property name="accountDao" ref="accountDao"/&gt; &lt;property name="trsactionTemplate" ref="transactionTemplate"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®DAO================= --&gt; &lt;bean id="accountDao" class="com.tx.demo1.AccountDaoImpl"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®è¿žæŽ¥æ± å’ŒJDBCçš„æ¨¡æ¿ --&gt; &lt;context:property-placeholder location="classpath:jdbc.properties"/&gt; &lt;!-- é…ç½®C3P0è¿žæŽ¥æ± =============================== --&gt; &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;property name="driverClass" value="$&#123;jdbc.driverClass&#125;"/&gt; &lt;property name="jdbcUrl" value="$&#123;jdbc.url&#125;"/&gt; &lt;property name="user" value="$&#123;jdbc.username&#125;"/&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®å¹³å°äº‹åŠ¡ç®¡ç†å™¨ --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†çš„æ¨¡æ¿ --&gt; &lt;bean id="transactionTemplate" class="org.springframework.transaction.support.TransactionTemplate"&gt; &lt;property name="transactionManager" ref="transactionManager"/&gt; &lt;/bean&gt;&lt;/beans&gt;XMLæ–¹å¼å£°æ˜Žå¼äº‹åŠ¡ä¿®æ”¹AccountServiceImplï¼š1234567891011121314151617181920package com.tx.demo2;public class AccountServiceImpl implements AccountService &#123; private AccountDao accountDao; public void setAccountDao(AccountDao accountDao) &#123; this.accountDao = accountDao; &#125; @Override public void transfer( String from, String to, Double money) &#123; accountDao.outMoney(from, money); int d = 1/0; accountDao.inMoney(to, money); &#125;&#125;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"&gt; &lt;!-- é…ç½®Service============= --&gt; &lt;bean id="accountService" class="com.tx.demo2.AccountServiceImpl"&gt; &lt;property name="accountDao" ref="accountDao"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®DAO================= --&gt; &lt;bean id="accountDao" class="com.tx.demo2.AccountDaoImpl"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®è¿žæŽ¥æ± å’ŒJDBCçš„æ¨¡æ¿ --&gt; &lt;context:property-placeholder location="classpath:jdbc.properties"/&gt; &lt;!-- é…ç½®C3P0è¿žæŽ¥æ± =============================== --&gt; &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;property name="driverClass" value="$&#123;jdbc.driverClass&#125;"/&gt; &lt;property name="jdbcUrl" value="$&#123;jdbc.url&#125;"/&gt; &lt;property name="user" value="$&#123;jdbc.username&#125;"/&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨=============================== --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®äº‹åŠ¡çš„å¢žå¼º=============================== --&gt; &lt;tx:advice id="txAdvice" transaction-manager="transactionManager"&gt; &lt;tx:attributes&gt; &lt;!-- * è¡¨ç¤ºæ‰€æœ‰æ–¹æ³• --&gt; &lt;tx:method name="*" propagation="REQUIRED" read-only="false" isolation="DEFAULT"/&gt; &lt;/tx:attributes&gt; &lt;/tx:advice&gt; &lt;!-- aopçš„é…ç½® --&gt; &lt;aop:config&gt; &lt;aop:pointcut expression="execution(* com.tx.demo2.AccountServiceImpl.*(..))" id="pointcut1"/&gt; &lt;aop:advisor advice-ref="txAdvice" pointcut-ref="pointcut1"/&gt; &lt;/aop:config&gt;&lt;/beans&gt;æ³¨è§£æ–¹å¼å£°æ˜Žå¼äº‹åŠ¡ä¿®æ”¹AccountServiceImplï¼š1234567891011121314151617181920212223242526package com.tx.demo3;import org.springframework.transaction.annotation.Isolation;import org.springframework.transaction.annotation.Propagation;import org.springframework.transaction.annotation.Transactional;@Transactional(isolation=Isolation.DEFAULT,propagation=Propagation.REQUIRED)public class AccountServiceImpl implements AccountService &#123; // æ³¨å…¥DAO: private AccountDao accountDao; public void setAccountDao(AccountDao accountDao) &#123; this.accountDao = accountDao; &#125; @Override public void transfer( String from, String to, Double money) &#123; accountDao.outMoney(from, money); int d = 1/0; accountDao.inMoney(to, money); &#125;&#125;1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"&gt; &lt;!-- é…ç½®Service============= --&gt; &lt;bean id="accountService" class="com.tx.demo3.AccountServiceImpl"&gt; &lt;property name="accountDao" ref="accountDao"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®DAO================= --&gt; &lt;bean id="accountDao" class="com.tx.demo3.AccountDaoImpl"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®è¿žæŽ¥æ± å’ŒJDBCçš„æ¨¡æ¿ --&gt; &lt;context:property-placeholder location="classpath:jdbc.properties"/&gt; &lt;!-- é…ç½®C3P0è¿žæŽ¥æ± =============================== --&gt; &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;property name="driverClass" value="$&#123;jdbc.driverClass&#125;"/&gt; &lt;property name="jdbcUrl" value="$&#123;jdbc.url&#125;"/&gt; &lt;property name="user" value="$&#123;jdbc.username&#125;"/&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;"/&gt; &lt;/bean&gt; &lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨=============================== --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;/bean&gt; &lt;!-- å¼€å¯æ³¨è§£äº‹åŠ¡================================ --&gt; &lt;tx:annotation-driven transaction-manager="transactionManager"/&gt;&lt;/beans&gt;]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Springçš„AOP-xmlæ–¹å¼]]></title>
    <url>%2F2019%2FSpring%E7%9A%84AOP-xml%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[AOPæ¦‚å¿µAOPï¼ˆAspect Oriented Programmingï¼‰ï¼Œå³é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œå¯ä»¥è¯´æ˜¯OOPï¼ˆObject Oriented Programmingï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼‰çš„è¡¥å……å’Œå®Œå–„ã€‚OOPå¼•å…¥å°è£…ã€ç»§æ‰¿ã€å¤šæ€ç­‰æ¦‚å¿µæ¥å»ºç«‹ä¸€ç§å¯¹è±¡å±‚æ¬¡ç»“æž„ï¼Œç”¨äºŽæ¨¡æ‹Ÿå…¬å…±è¡Œä¸ºçš„ä¸€ä¸ªé›†åˆã€‚ä¸è¿‡OOPå…è®¸å¼€å‘è€…å®šä¹‰çºµå‘çš„å…³ç³»ï¼Œä½†å¹¶ä¸é€‚åˆå®šä¹‰æ¨ªå‘çš„å…³ç³»ï¼Œä¾‹å¦‚æ—¥å¿—åŠŸèƒ½ã€‚æ—¥å¿—ä»£ç å¾€å¾€æ¨ªå‘åœ°æ•£å¸ƒåœ¨æ‰€æœ‰å¯¹è±¡å±‚æ¬¡ä¸­ï¼Œè€Œä¸Žå®ƒå¯¹åº”çš„å¯¹è±¡çš„æ ¸å¿ƒåŠŸèƒ½æ¯«æ— å…³ç³»å¯¹äºŽå…¶ä»–ç±»åž‹çš„ä»£ç ï¼Œå¦‚å®‰å…¨æ€§ã€å¼‚å¸¸å¤„ç†å’Œé€æ˜Žçš„æŒç»­æ€§ä¹Ÿéƒ½æ˜¯å¦‚æ­¤ï¼Œè¿™ç§æ•£å¸ƒåœ¨å„å¤„çš„æ— å…³çš„ä»£ç è¢«ç§°ä¸ºæ¨ªåˆ‡ï¼ˆcross cuttingï¼‰ï¼Œåœ¨OOPè®¾è®¡ä¸­ï¼Œå®ƒå¯¼è‡´äº†å¤§é‡ä»£ç çš„é‡å¤ï¼Œè€Œä¸åˆ©äºŽå„ä¸ªæ¨¡å—çš„é‡ç”¨ã€‚AOPæŠ€æœ¯æ°æ°ç›¸åï¼Œå®ƒåˆ©ç”¨ä¸€ç§ç§°ä¸ºâ€æ¨ªåˆ‡â€çš„æŠ€æœ¯ï¼Œå‰–è§£å¼€å°è£…çš„å¯¹è±¡å†…éƒ¨ï¼Œå¹¶å°†é‚£äº›å½±å“äº†å¤šä¸ªç±»çš„å…¬å…±è¡Œä¸ºå°è£…åˆ°ä¸€ä¸ªå¯é‡ç”¨æ¨¡å—ï¼Œå¹¶å°†å…¶å‘½åä¸ºâ€Aspectâ€ï¼Œå³åˆ‡é¢ã€‚æ‰€è°“â€åˆ‡é¢â€ï¼Œç®€å•è¯´å°±æ˜¯é‚£äº›ä¸Žä¸šåŠ¡æ— å…³ï¼Œå´ä¸ºä¸šåŠ¡æ¨¡å—æ‰€å…±åŒè°ƒç”¨çš„é€»è¾‘æˆ–è´£ä»»å°è£…èµ·æ¥ï¼Œä¾¿äºŽå‡å°‘ç³»ç»Ÿçš„é‡å¤ä»£ç ï¼Œé™ä½Žæ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦ï¼Œå¹¶æœ‰åˆ©äºŽæœªæ¥çš„å¯æ“ä½œæ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ä½¿ç”¨â€æ¨ªåˆ‡â€æŠ€æœ¯ï¼ŒAOPæŠŠè½¯ä»¶ç³»ç»Ÿåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šæ ¸å¿ƒå…³æ³¨ç‚¹å’Œæ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚ä¸šåŠ¡å¤„ç†çš„ä¸»è¦æµç¨‹æ˜¯æ ¸å¿ƒå…³æ³¨ç‚¹ï¼Œä¸Žä¹‹å…³ç³»ä¸å¤§çš„éƒ¨åˆ†æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚æ¨ªåˆ‡å…³æ³¨ç‚¹çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯ï¼Œä»–ä»¬ç»å¸¸å‘ç”Ÿåœ¨æ ¸å¿ƒå…³æ³¨ç‚¹çš„å¤šå¤„ï¼Œè€Œå„å¤„åŸºæœ¬ç›¸ä¼¼ï¼Œæ¯”å¦‚æƒé™è®¤è¯ã€æ—¥å¿—ã€äº‹ç‰©ã€‚AOPçš„ä½œç”¨åœ¨äºŽåˆ†ç¦»ç³»ç»Ÿä¸­çš„å„ç§å…³æ³¨ç‚¹ï¼Œå°†æ ¸å¿ƒå…³æ³¨ç‚¹å’Œæ¨ªåˆ‡å…³æ³¨ç‚¹åˆ†ç¦»å¼€æ¥ã€‚AOPçš„æœ¯è¯­è¿žæŽ¥ç‚¹ï¼ˆjoin pointï¼‰å¯ä»¥è¢«æ‹¦æˆªåˆ°çš„ç‚¹ï¼Œæˆ–è€…è¯´å¯ä»¥è¢«å¢žå¼ºçš„æ–¹æ³•ï¼Œå› ä¸ºSpringåªæ”¯æŒæ–¹æ³•ç±»åž‹çš„è¿žæŽ¥ç‚¹ï¼Œæ‰€ä»¥åœ¨Springä¸­è¿žæŽ¥ç‚¹æŒ‡çš„å°±æ˜¯è¢«æ‹¦æˆªåˆ°çš„æ–¹æ³•ï¼Œå…¶ä»–è¯­è¨€æˆ–æ¡†æž¶ä¸­çš„è¿žæŽ¥ç‚¹è¿˜å¯ä»¥æ˜¯å­—æ®µæˆ–è€…æž„é€ å™¨ã€‚åˆ‡å…¥ç‚¹ï¼ˆpoint cutï¼‰çœŸæ­£è¢«æ‹¦æˆªåˆ°çš„è¿žæŽ¥ç‚¹ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥å¯¹å¢žåˆ æŸ¥æ”¹æ–¹æ³•è¿›è¡Œæ‹¦æˆªæ¥è®°å½•æ—¥å¿—ï¼Œä½†æ˜¯å®žé™…å¼€å‘ä¸­åªéœ€è¦çŸ¥é“å¯¹æ•°æ®åº“è¿›è¡Œäº†å“ªäº›updateæ“ä½œï¼Œè€Œå¿½è§†æŸ¥è¯¢æ“ä½œï¼Œæ­¤æ—¶å¢žåˆ æ”¹æ–¹æ³•å°±æ˜¯åˆ‡å…¥ç‚¹ï¼Œè€ŒæŸ¥è¯¢æ–¹æ³•ä¸æ˜¯ã€‚é€šçŸ¥ï¼ˆadviceï¼‰æŒ‡æ‹¦æˆªåˆ°åˆ‡å…¥ç‚¹ä¹‹åŽè¦æ‰§è¡Œçš„ä»£ç ï¼Œé€šçŸ¥åˆ†ä¸ºå‰ç½®ã€åŽç½®ã€å¼‚å¸¸ã€æœ€ç»ˆã€çŽ¯ç»•é€šçŸ¥äº”ç±»ã€‚å¼•ä»‹ï¼ˆIntroductionï¼‰å€¼ç±»æ–¹é¢çš„å¢žå¼ºï¼Œå®ƒæè¿°çš„æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œæ¯”å¦‚åœ¨ç±»ä¸­åŠ¨æ€çš„å¢žåŠ ä¸€ä¸ªæ–¹æ³•ã€‚ç›®æ ‡ï¼ˆtargetï¼‰è¢«å¢žå¼ºçš„å¯¹è±¡ï¼Œä¹Ÿå³è¢«ä»£ç†çš„å¯¹è±¡ï¼Œæ¯”å¦‚å¯¹å¯¹è±¡userDaoè¿›è¡Œå¢žå¼ºï¼Œåˆ™userDaoå°±æ˜¯ç›®æ ‡ã€‚ç»‡å…¥ï¼ˆWeavingï¼‰å°†adviceåº”ç”¨åˆ°ç›®æ ‡çš„è¿‡ç¨‹ã€‚ä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰AOPçš„åº•å±‚æ˜¯ä½¿ç”¨åŠ¨æ€æŠ€æœ¯çš„ï¼Œæ‰€ä»¥ä»£ç†å¯¹è±¡å°±æ˜¯Springä¸ºæˆ‘ä»¬æä¾›çš„å¢žå¼ºåŽçš„å¯¹è±¡ã€‚åˆ‡é¢ï¼ˆAspectï¼‰ç±»æ˜¯å¯¹ç‰©ä½“ç‰¹å¾çš„æŠ½è±¡ï¼Œåˆ‡é¢å°±æ˜¯å¯¹æ¨ªåˆ‡å…³æ³¨ç‚¹çš„æŠ½è±¡ä½¿ç”¨Springçš„AOPæˆ‘ä»¬ä¹‹å‰è™½ç„¶ä¸€å…±ä»‹ç»äº†å…«ä¸ªæœ¯è¯­ï¼Œä½†æ˜¯åœ¨å€ŸåŠ©Springä¹‹åŽåªæœ‰ä¸‰ä¸ªè¿‡ç¨‹æ˜¯æˆ‘ä»¬ç¼–å†™çš„ï¼šç¼–å†™ç›®æ ‡ç±»ç¼–å†™åˆ‡é¢ç±»ç»‡å…¥ç¼–å†™ç›®æ ‡ç±»1234567891011package test.dao;public interface TestDao &#123; void save(); void update(); void delete(); void insert();&#125;123456789101112131415161718192021222324252627import org.springframework.stereotype.Service;import test.dao.TestDao;@Servicepublic class TestDaoImpl implements TestDao &#123; @Override public void save() &#123; System.out.println("save"); &#125; @Override public void update() &#123; System.out.println("update"); &#125; @Override public void delete() &#123; System.out.println("delete"); &#125; @Override public void insert() &#123; System.out.println("insert"); &#125;&#125;ç¼–å†™åˆ‡é¢ç±»1234567package test.aop;public class MyAspectXML &#123; public void checkPri() &#123; System.out.println("æ ¡éªŒæƒé™..."); &#125;&#125;ç»‡å…¥123456789101112131415161718&lt;!-- é…ç½® æ‰«æ @Service --&gt;&lt;context:component-scan base-package="test.dao" /&gt;&lt;!-- é…ç½®åˆ‡é¢ç±»ï¼šå°†åˆ‡é¢ç±»äº¤ç»™Springæ¥ç®¡ç† --&gt;&lt;bean id="myAspect" class="test.aop.MyAspectXML"&gt;&lt;/bean&gt;&lt;!-- é€šè¿‡AOPçš„é…ç½®å®Œæˆå¯¹ç›®æ ‡ç±»äº§ç”Ÿä»£ç† --&gt;&lt;aop:config&gt; &lt;!-- è¡¨è¾¾å¼é…ç½®å“ªäº›ç±»çš„å“ªäº›æ–¹æ³•éœ€è¦è¿›è¡Œå¢žå¼º --&gt; &lt;aop:pointcut expression="execution(* test.dao.impl.TestDaoImpl.save(..))" id="pointcut1"/&gt; &lt;!-- å°†åˆ‡é¢ç±»çš„æ–¹æ³•åº”ç”¨åœ¨æŒ‡å®šçš„pointcutä¸Š --&gt; &lt;aop:aspect ref="myAspect"&gt; &lt;aop:before method="checkPri" pointcut-ref="pointcut1"/&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt;æµ‹è¯•12345678910111213141516171819202122232425262728293031package test;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import test.dao.TestDao;@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration("classpath:applicationContext-service.xml")public class Demo1 &#123; @Autowired private TestDao testDao; @Test public void test() &#123; testDao.insert(); testDao.save(); testDao.update(); testDao.delete(); &#125; &#125;é€šçŸ¥çš„ç±»åž‹å‰ç½®é€šçŸ¥åœ¨ç›®æ ‡æ–¹æ³•ä¹‹å‰è¿›è¡Œæ“ä½œã€‚å¯ä»¥èŽ·å¾—åˆ‡å…¥ç‚¹ä¿¡æ¯ã€‚123public void checkPri(JoinPoint joinPoint) &#123; System.out.println(joinPoint);&#125;åŽç½®é€šçŸ¥åœ¨ç›®æ ‡æ–¹æ³•ä¹‹åŽè¿›è¡Œæ“ä½œã€‚å¯ä»¥èŽ·å¾—ç›®æ ‡æ–¹æ³•çš„è¿”å›žå€¼ã€‚123public void writeLog(Object str) &#123; System.out.println(str);&#125;12&lt;aop:pointcut expression="execution(* test.dao.impl.TestDaoImpl.delete(..))" id="pointcut2"/&gt;&lt;aop:after-returning method="writeLog" pointcut-ref="pointcut2" returning="str"/&gt;é…ç½®ä¸­çš„returningå¯¹åº”çš„å±žæ€§å€¼å¿…é¡»å’Œåˆ‡é¢ç±»æ–¹æ³•çš„å‚æ•°åç›¸åŒã€‚çŽ¯ç»•é€šçŸ¥åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰å’Œä¹‹åŽè¿›è¡Œæ“ä½œã€‚123456789public Object around(ProceedingJoinPoint joinPoint) throws Throwable&#123; System.out.println(&quot;ç›®æ ‡æ–¹æ³•æ‰§è¡Œå‰...&quot;); //ç›¸å½“äºŽæ‰§è¡Œç›®æ ‡ç¨‹åº Object object = joinPoint.proceed(); System.out.println(&quot;ç›®æ ‡æ–¹æ³•æ‰§è¡ŒåŽ...&quot;); return object;&#125;12&lt;aop:pointcut expression="execution(* test.dao.impl.TestDaoImpl.update(..))" id="pointcut3"/&gt;&lt;aop:around method="around" pointcut-ref="pointcut3"/&gt;å¼‚å¸¸é€šçŸ¥åœ¨ç¨‹åºå‡ºçŽ°å¼‚å¸¸çš„æ—¶å€™è¿›è¡Œçš„æ“ä½œã€‚å¯ä»¥èŽ·å¾—å¼‚å¸¸ä¿¡æ¯ï¼Œthrowingçš„å±žæ€§å€¼å’Œå‚æ•°åä¸€è‡´1&lt;aop:after-throwing method="" pointcut-ref="" throwing="ex"/&gt;123public void afterThrowing(Throwable ex) &#123; ex.printStackTrace();&#125;æœ€ç»ˆé€šçŸ¥æ— è®ºä»£ç æ˜¯å¦æœ‰å¼‚å¸¸æ€»æ˜¯ä¼šæ‰§è¡Œã€‚1&lt;aop:after method="" pointcut-ref=""/&gt;è¡¨è¾¾å¼çš„ä¹¦å†™ç”±äºŽSpringåˆ‡é¢ç²’åº¦æœ€å°æ˜¯è¾¾åˆ°æ–¹æ³•çº§åˆ«ï¼Œè€Œexecutionè¡¨è¾¾å¼å¯ä»¥ç”¨äºŽæ˜Žç¡®æŒ‡å®šæ–¹æ³•è¿”å›žç±»åž‹ï¼Œç±»åï¼Œæ–¹æ³•åå’Œå‚æ•°åç­‰ä¸Žæ–¹æ³•ç›¸å…³çš„éƒ¨ä»¶ï¼Œå¹¶ä¸”åœ¨Springä¸­ï¼Œå¤§éƒ¨åˆ†éœ€è¦ä½¿ç”¨AOPçš„ä¸šåŠ¡åœºæ™¯ä¹Ÿåªéœ€è¦è¾¾åˆ°æ–¹æ³•çº§åˆ«å³å¯ï¼Œå› è€Œexecutionè¡¨è¾¾å¼çš„ä½¿ç”¨æ˜¯æœ€ä¸ºå¹¿æ³›çš„ã€‚å¦‚ä¸‹æ˜¯executionè¡¨è¾¾å¼çš„è¯­æ³•ï¼š1execution([modifiers-pattern] ret-type-pattern declaring-type-pattern.name-pattern(param-pattern) throws-pattern?)modifiers-patternï¼šæ–¹æ³•çš„å¯è§æ€§ï¼Œå¦‚publicï¼Œprotectedï¼›ret-type-patternï¼šæ–¹æ³•çš„è¿”å›žå€¼ç±»åž‹ï¼Œå¦‚intï¼Œvoidç­‰ï¼›declaring-type-patternï¼šæ–¹æ³•æ‰€åœ¨ç±»çš„å…¨è·¯å¾„åï¼Œå¦‚com.spring.Aspectï¼›name-patternï¼šæ–¹æ³•åç±»åž‹ï¼Œå¦‚buisinessService()ï¼›param-patternï¼šæ–¹æ³•çš„å‚æ•°ç±»åž‹ï¼Œå¦‚java.lang.Stringï¼›throws-patternï¼šæ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ç±»åž‹ï¼Œå¦‚java.lang.Exceptionï¼›ä¾‹å­12execution (public * com.spring.service.BusinessObject.businessService(java.lang.String,..))ä¸Šè¿°åˆ‡ç‚¹è¡¨è¾¾å¼å°†ä¼šåŒ¹é…ä½¿ç”¨publicä¿®é¥°ï¼Œè¿”å›žå€¼ä¸ºä»»æ„ç±»åž‹ï¼Œå¹¶ä¸”æ˜¯com.spring.BusinessObjectç±»ä¸­åç§°ä¸ºbusinessServiceçš„æ–¹æ³•ï¼Œæ–¹æ³•å¯ä»¥æœ‰å¤šä¸ªå‚æ•°ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯java.lang.Stringç±»åž‹çš„æ–¹æ³•ã€‚ä¸Šè¿°ç¤ºä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨äº†..é€šé…ç¬¦ï¼Œå…³äºŽé€šé…ç¬¦çš„ç±»åž‹ï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼š*é€šé…ç¬¦ï¼Œè¯¥é€šé…ç¬¦ä¸»è¦ç”¨äºŽåŒ¹é…å•ä¸ªå•è¯ï¼Œæˆ–è€…æ˜¯ä»¥æŸä¸ªè¯ä¸ºå‰ç¼€æˆ–åŽç¼€çš„å•è¯ã€‚å¦‚ä¸‹ç¤ºä¾‹è¡¨ç¤ºè¿”å›žå€¼ä¸ºä»»æ„ç±»åž‹ï¼Œåœ¨com.spring.service.BusinessObjectç±»ä¸­ï¼Œå¹¶ä¸”å‚æ•°ä¸ªæ•°ä¸ºé›¶çš„æ–¹æ³•ï¼š1execution(* com.spring.service.BusinessObject.*())ä¸‹è¿°ç¤ºä¾‹è¡¨ç¤ºè¿”å›žå€¼ä¸ºä»»æ„ç±»åž‹ï¼Œåœ¨com.spring.serviceåŒ…ä¸­ï¼Œä»¥Businessä¸ºå‰ç¼€çš„ç±»ï¼Œå¹¶ä¸”æ˜¯ç±»ä¸­å‚æ•°ä¸ªæ•°ä¸ºé›¶æ–¹æ³•ï¼š1execution(* com.spring.service.Business*.*())..é€šé…ç¬¦ï¼Œè¯¥é€šé…ç¬¦è¡¨ç¤º0ä¸ªæˆ–å¤šä¸ªé¡¹ï¼Œä¸»è¦ç”¨äºŽdeclaring-type-patternå’Œparam-patternä¸­ï¼Œå¦‚æžœç”¨äºŽdeclaring-type-patternä¸­ï¼Œåˆ™è¡¨ç¤ºåŒ¹é…å½“å‰åŒ…åŠå…¶å­åŒ…ï¼Œå¦‚æžœç”¨äºŽparam-patternä¸­ï¼Œåˆ™è¡¨ç¤ºåŒ¹é…0ä¸ªæˆ–å¤šä¸ªå‚æ•°ã€‚å¦‚ä¸‹ç¤ºä¾‹è¡¨ç¤ºåŒ¹é…è¿”å›žå€¼ä¸ºä»»æ„ç±»åž‹ï¼Œå¹¶ä¸”æ˜¯com.spring.serviceåŒ…åŠå…¶å­åŒ…ä¸‹çš„ä»»æ„ç±»çš„åç§°ä¸ºbusinessServiceçš„æ–¹æ³•ï¼Œè€Œä¸”è¯¥æ–¹æ³•ä¸èƒ½æœ‰ä»»ä½•å‚æ•°ï¼š1execution(* com.spring.service..*.businessService())è¿™é‡Œéœ€è¦è¯´æ˜Žçš„æ˜¯ï¼ŒåŒ…è·¯å¾„service...businessService()ä¸­çš„..åº”è¯¥ç†è§£ä¸ºå»¶ç»­å‰é¢çš„serviceè·¯å¾„ï¼Œè¡¨ç¤ºåˆ°serviceè·¯å¾„ä¸ºæ­¢ï¼Œæˆ–è€…ç»§ç»­å»¶ç»­serviceè·¯å¾„ï¼Œä»Žè€ŒåŒ…æ‹¬å…¶å­åŒ…è·¯å¾„ï¼›åŽé¢çš„.businessService()ï¼Œè¿™é‡Œçš„*è¡¨ç¤ºåŒ¹é…ä¸€ä¸ªå•è¯ï¼Œå› ä¸ºæ˜¯åœ¨æ–¹æ³•åå‰ï¼Œå› è€Œè¡¨ç¤ºåŒ¹é…ä»»æ„çš„ç±»ã€‚å¦‚ä¸‹ç¤ºä¾‹æ˜¯ä½¿ç”¨..è¡¨ç¤ºä»»æ„ä¸ªæ•°çš„å‚æ•°çš„ç¤ºä¾‹ï¼Œéœ€è¦æ³¨æ„ï¼Œè¡¨ç¤ºå‚æ•°çš„æ—¶å€™å¯ä»¥åœ¨æ‹¬å·ä¸­äº‹å…ˆæŒ‡å®šæŸäº›ç±»åž‹çš„å‚æ•°ï¼Œè€Œå…¶ä½™çš„å‚æ•°åˆ™ç”±..è¿›è¡ŒåŒ¹é…ï¼š1execution(* com.spring.service.BusinessObject.businessService(java.lang.String,..))]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RPC]]></title>
    <url>%2F2019%2FRPC%2F</url>
    <content type="text"><![CDATA[RPCRemote Procedure Callï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ã€‚å¦‚ä¸‹å›¾å°†æœåŠ¡Aæƒ³å°†è®¡ç®—çš„åŠŸèƒ½è®©æœåŠ¡Bæ¥å®žçŽ°ï¼ŒæœåŠ¡Bè®¡ç®—å®ŒæˆåŽå†æŠŠæ•°æ®è¿”å›žæœåŠ¡Aï¼Œä¸¤ä¸ªæœåŠ¡åœ¨ä¸¤ä¸ªä¸åŒçš„æœºå­ä¸Šã€‚æœ€ç®€å•çš„å®žçŽ°æ–¹æ³•æ˜¯æœåŠ¡Bæš´éœ²ä¸€ä¸ªå€Ÿå£ï¼Œè®©Aå¯ä»¥åŽ»è®¿é—®ã€‚å¦‚ä½¿ç”¨httpæˆ–è€…æ˜¯ç›´æŽ¥ä½¿ç”¨TCP/UDPã€‚é‚£æ¯æ¬¡è°ƒç”¨æ—¶ï¼Œæ˜¯ä¸æ˜¯éƒ½éœ€è¦å†™ä¸€ä¸²å‘èµ·httpè¯·æ±‚çš„ä»£ç å‘¢ï¼Ÿæ¯”å¦‚httpClient.sendRequestâ€¦ä¹‹ç±»çš„ï¼Œèƒ½ä¸èƒ½åƒæœ¬åœ°è°ƒç”¨ä¸€æ ·ï¼ŒåŽ»å‘èµ·è¿œç¨‹è°ƒç”¨ï¼Œè®©ä½¿ç”¨è€…æ„ŸçŸ¥ä¸åˆ°è¿œç¨‹è°ƒç”¨çš„è¿‡ç¨‹å‘¢ï¼Œåƒè¿™æ ·ï¼š12345@Referenceprivate Calculator calculator;...calculator.add(1,2);...è¿™å°±å¯ä»¥ä½¿ç”¨ä»£ç†æ¨¡å¼+IOCæ¥åšã€‚é€šè¿‡Springæ³¨å…¥calculatorå¯¹è±¡ï¼Œæ³¨å…¥æ—¶ï¼Œå¦‚æžœæ‰«æåˆ°å¯¹è±¡åŠ äº†@Referenceæ³¨è§£ï¼Œé‚£ä¹ˆå°±ç»™å®ƒç”Ÿæˆä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå°†è¿™ä¸ªä»£ç†å¯¹è±¡æ”¾è¿›å®¹å™¨ä¸­ã€‚è€Œè¿™ä¸ªä»£ç†å¯¹è±¡çš„å†…éƒ¨ï¼Œå°±æ˜¯é€šè¿‡httpClientæ¥å®žçŽ°RPCè¿œç¨‹è¿‡ç¨‹è°ƒç”¨çš„ã€‚å®Œæ•´çš„RPCè¿‡ç¨‹ï¼Œéƒ½å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ å›¾æ¥æè¿°RPCè¦è§£å†³çš„ä¸¤ä¸ªé—®é¢˜ï¼šè§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒæœåŠ¡ä¹‹é—´çš„è°ƒç”¨é—®é¢˜ã€‚è¿œç¨‹è°ƒç”¨æ—¶ï¼Œè¦èƒ½å¤Ÿåƒæœ¬åœ°è°ƒç”¨ä¸€æ ·æ–¹ä¾¿ï¼Œè®©è°ƒç”¨è€…æ„ŸçŸ¥ä¸åˆ°è¿œç¨‹è°ƒç”¨çš„é€»è¾‘ã€‚RMIRMIæ˜¯Javaæä¾›çš„ä¸€ç§è®¿é—®è¿œç¨‹å¯¹è±¡çš„åè®®ï¼Œæ˜¯å·²ç»å®žçŽ°å¥½äº†çš„ï¼Œå¯ä»¥ç›´æŽ¥ç”¨äº†ã€‚ç»™ä¸€ä¸ªå°æ¡ˆä¾‹ï¼š1234567891011121314151617181920212223242526272829303132333435package pojo;import java.io.Serializable;public class User implements Serializable &#123; private static final long serialVersionUID = -8400949180923337013L; private String id; private String name; private int age; public String getId() &#123; return id; &#125; public void setId(String id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getAge() &#123; return age; &#125; public void setAge(int age) &#123; this.age = age; &#125;&#125;12345678910package service;import java.rmi.Remote;import java.rmi.RemoteException;import pojo.User;public interface UserService extends Remote &#123; public User getUserById(String id)throws RemoteException;&#125;1234567891011121314151617181920212223242526package service.impl;import java.rmi.RemoteException;import java.rmi.server.UnicastRemoteObject;import service.UserService;import pojo.User;public class UserServiceImpl extends UnicastRemoteObject implements UserService &#123; private static final long serialVersionUID = 6222175854495075991L; public UserServiceImpl() throws RemoteException &#123; super(); &#125; @Override public User getUserById(String id) &#123; User user=new User(); user.setId(id); user.setAge(100); user.setName("æ¸¬è¯•"); return user; &#125;&#125;1234567891011121314151617181920212223242526272829303132package test;import java.net.MalformedURLException;import java.nio.channels.AlreadyBoundException;import java.rmi.Naming;import java.rmi.RemoteException;import java.rmi.registry.LocateRegistry;import service.UserService;import service.impl.UserServiceImpl;public class Server &#123; public static void main(String[] args) &#123; try &#123; UserService userService = new UserServiceImpl(); // æ³¨å†Šé€šè®¯ç«¯å£ LocateRegistry.createRegistry(6600); // æ³¨å†Šé€šè®¯è·¯å¾„ Naming.rebind("rmi://127.0.0.1:6600/userService", userService); System.out.println("Service Start!"); &#125; catch (RemoteException e) &#123; System.out.println("åˆ›å»ºè¿œç¨‹å¯¹è±¡å‘ç”Ÿå¼‚å¸¸ï¼"); e.printStackTrace(); &#125; catch (AlreadyBoundException e) &#123; System.out.println("å‘ç”Ÿåå¤ç»‘å®šå¯¹è±¡å¼‚å¸¸ï¼"); e.printStackTrace(); &#125; catch (MalformedURLException e) &#123; System.out.println("å‘ç”ŸURLç•¸å½¢å¼‚å¸¸ï¼"); e.printStackTrace(); &#125; &#125;&#125;12345678910111213141516171819package test;import java.rmi.Naming;import pojo.User;import service.UserService;public class Client &#123; public static void main(String[] args) &#123; try &#123; // è°ƒç”¨è¿œç¨‹å¯¹è±¡ï¼Œæ³¨æ„RMIè·¯å¾„ä¸ŽæŽ¥å£å¿…é¡»ä¸Žserveré…ç½®ä¸€è‡´ UserService userService = (UserService) Naming.lookup("rmi://127.0.0.1:6600/userService"); User user = userService.getUserById("1245"); System.out.println(user.getName()); &#125; catch (Exception ex) &#123; ex.printStackTrace(); &#125; &#125;&#125;å‚è€ƒhttps://www.cnblogs.com/mfmdaoyou/p/6816797.html]]></content>
      <categories>
        <category>Javaåˆ†å¸ƒå¼</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java-NIO]]></title>
    <url>%2F2019%2FJava-NIO%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°æœåŠ¡å™¨ç¨‹åºåªéœ€è¦ä¸€ä¸ªçº¿ç¨‹å°±èƒ½åŒæ—¶è´Ÿè´£æŽ¥æ”¶å®¢æˆ·çš„è¿žæŽ¥ã€æŽ¥æ”¶å„ä¸ªå®¢æˆ·å‘é€çš„æ•°æ®ï¼Œä»¥åŠå‘å„ä¸ªå®¢æˆ·å‘é€å“åº”æ•°æ®ã€‚æœåŠ¡å™¨ç¨‹åºçš„å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š12345678while(ä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°æœ‰æŽ¥æ”¶è¿žæŽ¥å°±ç»ªäº‹ä»¶ã€è¯»å°±ç»ªäº‹ä»¶æˆ–å†™å°±ç»ªäº‹ä»¶å‘ç”Ÿ)&#123; //é˜»å¡ž if(æœ‰å®¢æˆ·è¿žæŽ¥) æŽ¥æ”¶å®¢æˆ·çš„è¿žæŽ¥; //éžé˜»å¡ž if(æŸä¸ªSocketçš„è¾“å…¥æµä¸­æœ‰å¯è¯»æ•°æ®) ä»Žè¾“å…¥æµä¸­è¯»æ•°æ®; //éžé˜»å¡ž if(æŸä¸ªSocketçš„è¾“å‡ºæµå¯ä»¥å†™æ•°æ®) å‘è¾“å‡ºæµå†™æ•°æ®; //éžé˜»å¡ž&#125;ä»¥ä¸Šå¤„ç†æµç¨‹é‡‡ç”¨äº†è½®è¯¢çš„å·¥ä½œæ–¹å¼ï¼Œå½“æŸä¸€ç§æ“ä½œå°±ç»ªï¼Œå°±æ‰§è¡Œè¯¥æ“ä½œï¼Œå¦åˆ™å°±å¯Ÿçœ‹æ˜¯å¦è¿˜æœ‰å…¶ä»–å°±ç»ªçš„æ“ä½œå¯ä»¥æ‰§è¡Œã€‚çº¿ç¨‹ä¸ä¼šå› ä¸ºæŸä¸€ä¸ªæ“ä½œè¿˜æ²¡æœ‰å°±ç»ªï¼Œå°±è¿›å…¥é˜»å¡žçŠ¶æ€ï¼Œä¸€ç›´å‚»å‚»çš„åœ¨é‚£é‡Œç­‰å¾…è¿™ä¸ªæ“ä½œå°±ç»ªã€‚SelectorSelectorï¼ˆé€‰æ‹©å™¨ï¼‰æ˜¯Java NIOä¸­èƒ½å¤Ÿæ£€æµ‹ä¸€åˆ°å¤šä¸ªNIOé€šé“ï¼Œå¹¶èƒ½å¤ŸçŸ¥æ™“é€šé“æ˜¯å¦ä¸ºè¯¸å¦‚è¯»å†™äº‹ä»¶åšå¥½å‡†å¤‡çš„ç»„ä»¶ã€‚è¿™æ ·ï¼Œä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹å¯ä»¥ç®¡ç†å¤šä¸ªchannelï¼Œä»Žè€Œç®¡ç†å¤šä¸ªç½‘ç»œè¿žæŽ¥ã€‚Selectorçš„åˆ›å»ºé€šè¿‡è°ƒç”¨Selector.open()æ–¹æ³•åˆ›å»ºä¸€ä¸ªSelectorï¼Œå¦‚ä¸‹ï¼š1Selector selector = Selector.open();å‘Selectoræ³¨å†Œé€šé“ä¸ºäº†å°†Channelå’ŒSelectoré…åˆä½¿ç”¨ï¼Œå¿…é¡»å°†channelæ³¨å†Œåˆ°selectorä¸Šã€‚é€šè¿‡SelectableChannel.register()æ–¹æ³•æ¥å®žçŽ°ï¼Œå¦‚ä¸‹ï¼š12channel.configureBlocking(false);SelectionKey key = channel.register(selector, Selectionkey.OP_READ);ä¸ŽSelectorä¸€èµ·ä½¿ç”¨æ—¶ï¼ŒChannelå¿…é¡»å¤„äºŽéžé˜»å¡žæ¨¡å¼ä¸‹ã€‚è¿™æ„å‘³ç€ä¸èƒ½å°†FileChannelä¸ŽSelectorä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸ºFileChannelä¸èƒ½åˆ‡æ¢åˆ°éžé˜»å¡žæ¨¡å¼ã€‚è€Œå¥—æŽ¥å­—é€šé“éƒ½å¯ä»¥ã€‚æ³¨æ„register()æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚è¿™æ˜¯ä¸€ä¸ªâ€œinteresté›†åˆâ€ï¼Œæ„æ€æ˜¯åœ¨é€šè¿‡Selectorç›‘å¬Channelæ—¶å¯¹ä»€ä¹ˆäº‹ä»¶æ„Ÿå…´è¶£ã€‚å¯ä»¥ç›‘å¬å››ç§ä¸åŒç±»åž‹çš„äº‹ä»¶ï¼šSelectionKey.OP_ACCEPTï¼šæŽ¥æ”¶è¿žæŽ¥å°±ç»ªäº‹ä»¶ï¼Œè¡¨ç¤ºæœåŠ¡å™¨ç›‘å¬åˆ°äº†å®¢æˆ·è¿žæŽ¥ï¼ŒæœåŠ¡å™¨å¯ä»¥æŽ¥æ”¶è¿™ä¸ªè¿žæŽ¥äº†ã€‚å¸¸é‡å€¼ä¸º16SelectionKey.OP_CONNECTï¼šè¿žæŽ¥å°±ç»ªäº‹ä»¶ï¼Œè¡¨ç¤ºå®¢æˆ·ä¸ŽæœåŠ¡å™¨çš„è¿žæŽ¥å·²ç»å»ºç«‹æˆåŠŸã€‚å¸¸é‡å€¼ä¸º8ã€‚SelectionKey.OP_READï¼šè¯»å°±ç»ªäº‹ä»¶ï¼Œè¡¨ç¤ºé€šé“ä¸­å·²ç»æœ‰äº†å¯è¯»æ•°æ®ï¼Œå¯ä»¥æ‰§è¡Œè¯»æ“ä½œäº†ã€‚å¸¸é‡å€¼ä¸º1ã€‚SelectionKey.OP_WRITEï¼šå†™å°±ç»ªäº‹ä»¶ï¼Œè¡¨ç¤ºå·²ç»å¯ä»¥å‘é€šé“å†™æ•°æ®äº†ã€‚å¸¸é‡å€¼ä¸º4ã€‚ä»¥ä¸Šå¸¸é‡åˆ†åˆ«å å±…ä¸åŒçš„äºŒè¿›åˆ¶ä½ï¼Œå› æ­¤å¯ä»¥é€šè¿‡äºŒè¿›åˆ¶çš„æˆ–è¿ç®—â€œ|â€ï¼Œæ¥å°†å®ƒä»¬è¿›è¡Œä»»æ„ç»„åˆã€‚æ€»ç»“æ¥è¯´ï¼šé€šé“è§¦å‘äº†ä¸€ä¸ªäº‹ä»¶æ„æ€æ˜¯è¯¥äº‹ä»¶å·²ç»å°±ç»ªã€‚æ‰€ä»¥ï¼ŒæŸä¸ªchannelæˆåŠŸè¿žæŽ¥åˆ°å¦ä¸€ä¸ªæœåŠ¡å™¨ç§°ä¸ºâ€œè¿žæŽ¥å°±ç»ªâ€ã€‚ä¸€ä¸ªserverSocketChannelå‡†å¤‡å¥½æŽ¥æ”¶æ–°è¿›å…¥çš„è¿žæŽ¥ç§°ä¸ºâ€œæŽ¥æ”¶å°±ç»ªâ€ã€‚ä¸€ä¸ªæœ‰æ•°æ®å¯è¯»çš„é€šé“å¯ä»¥è¯´æ˜¯â€œè¯»å°±ç»ªâ€ã€‚ç­‰å¾…å†™æ•°æ®çš„é€šé“å¯ä»¥è¯´æ˜¯â€œå†™å°±ç»ªâ€ã€‚SelectionKeyåœ¨ä¸Šä¸€å°èŠ‚ä¸­ï¼Œå½“å‘Selectoræ³¨å†ŒChannelæ—¶ï¼Œregister()æ–¹æ³•ä¼šè¿”å›žä¸€ä¸ªSelectionKeyå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡åŒ…å«äº†ä¸€äº›ä½ æ„Ÿå…´è¶£çš„å±žæ€§ï¼šinteresté›†åˆreadyé›†åˆChannelSelectoré™„åŠ çš„å¯¹è±¡ï¼ˆå¯é€‰ï¼‰interesté›†åˆå°±åƒå‘Selectoræ³¨å†Œé€šé“ä¸€èŠ‚ä¸­æ‰€æè¿°çš„ï¼Œinteresté›†åˆæ˜¯ä½ æ‰€é€‰æ‹©çš„æ„Ÿå…´è¶£çš„äº‹ä»¶é›†åˆã€‚å¯ä»¥é€šè¿‡SelectionKeyè¯»å†™interesté›†åˆï¼Œåƒè¿™æ ·ï¼š1234int interestSet = selectionKey.interestOps();boolean isInterestedInAccept = (interestSet &amp; SelectionKey.OP_ACCEPT) == SelectionKey.OP_ACCEPTï¼›// å…¶ä»–çš„ä¹Ÿç±»ä¼¼...readyé›†åˆready é›†åˆæ˜¯é€šé“å·²ç»å‡†å¤‡å°±ç»ªçš„æ“ä½œçš„é›†åˆã€‚åœ¨ä¸€æ¬¡é€‰æ‹©ï¼ˆSelectionï¼‰ä¹‹åŽï¼Œä½ ä¼šé¦–å…ˆè®¿é—®è¿™ä¸ªready setã€‚Selectionå°†åœ¨ä¸‹ä¸€å°èŠ‚è¿›è¡Œè§£é‡Šã€‚å¯ä»¥è¿™æ ·è®¿é—®readyé›†åˆï¼šintreadySet = selectionKey.readyOps();å¯ä»¥ç”¨åƒæ£€æµ‹interesté›†åˆé‚£æ ·çš„æ–¹æ³•ï¼Œæ¥æ£€æµ‹channelä¸­ä»€ä¹ˆäº‹ä»¶æˆ–æ“ä½œå·²ç»å°±ç»ªã€‚ä½†æ˜¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å››ä¸ªæ–¹æ³•ï¼Œå®ƒä»¬éƒ½ä¼šè¿”å›žä¸€ä¸ªå¸ƒå°”ç±»åž‹ï¼š1234selectionKey.isAcceptable();selectionKey.isConnectable();selectionKey.isReadable();selectionKey.isWritable();Channel + Selectorä»ŽSelectionKeyè®¿é—®Channelå’ŒSelectorå¾ˆç®€å•ã€‚å¦‚ä¸‹ï¼š12Channel channel = selectionKey.channel();Selector selector = selectionKey.selector();é™„åŠ çš„å¯¹è±¡å¯ä»¥å°†ä¸€ä¸ªå¯¹è±¡æˆ–è€…æ›´å¤šä¿¡æ¯é™„ç€åˆ°SelectionKeyä¸Šï¼Œè¿™æ ·å°±èƒ½æ–¹ä¾¿çš„è¯†åˆ«æŸä¸ªç»™å®šçš„é€šé“ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é™„åŠ  ä¸Žé€šé“ä¸€èµ·ä½¿ç”¨çš„Bufferï¼Œæˆ–æ˜¯åŒ…å«èšé›†æ•°æ®çš„æŸä¸ªå¯¹è±¡ã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š12selectionKey.attach(theObject);Object attachedObj = selectionKey.attachment();è¿˜å¯ä»¥åœ¨ç”¨register()æ–¹æ³•å‘Selectoræ³¨å†ŒChannelçš„æ—¶å€™é™„åŠ å¯¹è±¡ã€‚å¦‚ï¼š1SelectionKey key = channel.register(selector, SelectionKey.OP_READ, theObject);é€šè¿‡Selectoré€‰æ‹©é€šé“ä¸€æ—¦å‘Selectoræ³¨å†Œäº†ä¸€æˆ–å¤šä¸ªé€šé“ï¼Œå°±å¯ä»¥è°ƒç”¨å‡ ä¸ªé‡è½½çš„select()æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•è¿”å›žä½ æ‰€æ„Ÿå…´è¶£çš„äº‹ä»¶ï¼ˆå¦‚è¿žæŽ¥ã€æŽ¥å—ã€è¯»æˆ–å†™ï¼‰å·²ç»å‡†å¤‡å°±ç»ªçš„é‚£äº›é€šé“ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æžœä½ å¯¹â€œè¯»å°±ç»ªâ€çš„é€šé“æ„Ÿå…´è¶£ï¼Œselect()æ–¹æ³•ä¼šè¿”å›žè¯»äº‹ä»¶å·²ç»å°±ç»ªçš„é‚£äº›é€šé“ã€‚ä¸‹é¢æ˜¯select()æ–¹æ³•ï¼šint select()ï¼šé˜»å¡žåˆ°è‡³å°‘æœ‰ä¸€ä¸ªé€šé“åœ¨ä½ æ³¨å†Œçš„äº‹ä»¶ä¸Šå°±ç»ªäº†ã€‚int select(long timeout)ï¼šå’Œselect()ä¸€æ ·ï¼Œé™¤äº†æœ€é•¿ä¼šé˜»å¡žtimeoutæ¯«ç§’(å‚æ•°)ã€‚int selectNow()ï¼šä¸ä¼šé˜»å¡žï¼Œä¸ç®¡ä»€ä¹ˆé€šé“å°±ç»ªéƒ½ç«‹åˆ»è¿”å›žï¼ˆæ­¤æ–¹æ³•æ‰§è¡Œéžé˜»å¡žçš„é€‰æ‹©æ“ä½œã€‚å¦‚æžœè‡ªä»Žå‰ä¸€æ¬¡é€‰æ‹©æ“ä½œåŽï¼Œæ²¡æœ‰é€šé“å˜æˆå¯é€‰æ‹©çš„ï¼Œåˆ™æ­¤æ–¹æ³•ç›´æŽ¥è¿”å›žé›¶ã€‚ï¼‰ã€‚select()æ–¹æ³•è¿”å›žçš„intå€¼è¡¨ç¤ºæœ‰å¤šå°‘é€šé“å·²ç»å°±ç»ªã€‚äº¦å³ï¼Œè‡ªä¸Šæ¬¡è°ƒç”¨select()æ–¹æ³•åŽæœ‰å¤šå°‘é€šé“å˜æˆå°±ç»ªçŠ¶æ€ã€‚å¦‚æžœè°ƒç”¨select()æ–¹æ³•ï¼Œå› ä¸ºæœ‰ä¸€ä¸ªé€šé“å˜æˆå°±ç»ªçŠ¶æ€ï¼Œè¿”å›žäº†1ï¼Œè‹¥å†æ¬¡è°ƒç”¨select()æ–¹æ³•ï¼Œå¦‚æžœå¦ä¸€ä¸ªé€šé“å°±ç»ªäº†ï¼Œå®ƒä¼šå†æ¬¡è¿”å›ž1ã€‚å¦‚æžœå¯¹ç¬¬ä¸€ä¸ªå°±ç»ªçš„channelæ²¡æœ‰åšä»»ä½•æ“ä½œï¼ŒçŽ°åœ¨å°±æœ‰ä¸¤ä¸ªå°±ç»ªçš„é€šé“ï¼Œä½†åœ¨æ¯æ¬¡select()æ–¹æ³•è°ƒç”¨ä¹‹é—´ï¼Œåªæœ‰ä¸€ä¸ªé€šé“å°±ç»ªäº†ã€‚selectedKeys()ä¸€æ—¦è°ƒç”¨äº†select()æ–¹æ³•ï¼Œå¹¶ä¸”è¿”å›žå€¼è¡¨æ˜Žæœ‰ä¸€ä¸ªæˆ–æ›´å¤šä¸ªé€šé“å°±ç»ªäº†ï¼Œç„¶åŽå¯ä»¥é€šè¿‡è°ƒç”¨selectorçš„selectedKeys()æ–¹æ³•ï¼Œè®¿é—®â€œå·²é€‰æ‹©é”®é›†ï¼ˆselected key setï¼‰â€ä¸­çš„å°±ç»ªé€šé“ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š1Set selectedKeys = selector.selectedKeys();å½“åƒSelectoræ³¨å†ŒChannelæ—¶ï¼ŒChannel.register()æ–¹æ³•ä¼šè¿”å›žä¸€ä¸ªSelectionKey å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ä»£è¡¨äº†æ³¨å†Œåˆ°è¯¥Selectorçš„é€šé“ã€‚å¯ä»¥é€šè¿‡SelectionKeyçš„selectedKeySet()æ–¹æ³•è®¿é—®è¿™äº›å¯¹è±¡ã€‚å¯ä»¥éåŽ†è¿™ä¸ªå·²é€‰æ‹©çš„é”®é›†åˆæ¥è®¿é—®å°±ç»ªçš„é€šé“ã€‚å¦‚ä¸‹ï¼š123456789101112131415Set selectedKeys = selector.selectedKeys();Iterator keyIterator = selectedKeys.iterator();while(keyIterator.hasNext()) &#123; SelectionKey key = keyIterator.next(); if(key.isAcceptable()) &#123; // a connection was accepted by a ServerSocketChannel. &#125; else if (key.isConnectable()) &#123; // a connection was established with a remote server. &#125; else if (key.isReadable()) &#123; // a channel is ready for reading &#125; else if (key.isWritable()) &#123; // a channel is ready for writing &#125; keyIterator.remove();&#125;è¿™ä¸ªå¾ªçŽ¯éåŽ†å·²é€‰æ‹©é”®é›†ä¸­çš„æ¯ä¸ªé”®ï¼Œå¹¶æ£€æµ‹å„ä¸ªé”®æ‰€å¯¹åº”çš„é€šé“çš„å°±ç»ªäº‹ä»¶ã€‚æ³¨æ„æ¯æ¬¡è¿­ä»£æœ«å°¾çš„keyIterator.remove()è°ƒç”¨ã€‚Selectorä¸ä¼šè‡ªå·±ä»Žå·²é€‰æ‹©é”®é›†ä¸­ç§»é™¤SelectionKeyå®žä¾‹ã€‚å¿…é¡»åœ¨å¤„ç†å®Œé€šé“æ—¶è‡ªå·±ç§»é™¤ã€‚ä¸‹æ¬¡è¯¥é€šé“å˜æˆå°±ç»ªæ—¶ï¼ŒSelectorä¼šå†æ¬¡å°†å…¶æ”¾å…¥å·²é€‰æ‹©é”®é›†ä¸­ã€‚SelectionKey.channel()æ–¹æ³•è¿”å›žçš„é€šé“éœ€è¦è½¬åž‹æˆä½ è¦å¤„ç†çš„ç±»åž‹ï¼Œå¦‚ServerSocketChannelæˆ–SocketChannelç­‰ã€‚SocketChannelæ‰“å¼€ SocketChannelä¸‹é¢æ˜¯SocketChannelçš„æ‰“å¼€æ–¹å¼ï¼š12SocketChannel socketChannel = SocketChannel.open();socketChannel.connect(new InetSocketAddress(&quot;127.0.0.1&quot;, 20000));å…³é—­ SocketChannel1socketChannel.close();ServerSocketChannelJava NIOä¸­çš„ ServerSocketChannel æ˜¯ä¸€ä¸ªå¯ä»¥ç›‘å¬æ–°è¿›æ¥çš„TCPè¿žæŽ¥çš„é€šé“, å°±åƒæ ‡å‡†IOä¸­çš„ServerSocketä¸€æ ·ã€‚ServerSocketChannelç±»åœ¨ java.nio.channelsåŒ…ä¸­ã€‚æ‰“å¼€ ServerSocketChannelé€šè¿‡è°ƒç”¨ ServerSocketChannel.open() æ–¹æ³•æ¥æ‰“å¼€ServerSocketChannelï¼Œå¦‚ï¼š1ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();å…³é—­ ServerSocketChannelé€šè¿‡è°ƒç”¨ServerSocketChannel.close() æ–¹æ³•æ¥å…³é—­ServerSocketChannelï¼Œå¦‚ï¼š1serverSocketChannel.close();ç›‘å¬æ–°è¿›æ¥çš„è¿žæŽ¥é€šè¿‡ ServerSocketChannel.accept() æ–¹æ³•ç›‘å¬æ–°è¿›æ¥çš„è¿žæŽ¥ã€‚å½“ accept()æ–¹æ³•è¿”å›žçš„æ—¶å€™,å®ƒè¿”å›žä¸€ä¸ªåŒ…å«æ–°è¿›æ¥çš„è¿žæŽ¥çš„ SocketChannelã€‚å› æ­¤, accept()æ–¹æ³•ä¼šä¸€ç›´é˜»å¡žåˆ°æœ‰æ–°è¿žæŽ¥åˆ°è¾¾ã€‚é€šå¸¸ä¸ä¼šä»…ä»…åªç›‘å¬ä¸€ä¸ªè¿žæŽ¥,åœ¨whileå¾ªçŽ¯ä¸­è°ƒç”¨ accept()æ–¹æ³•ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­ï¼š123456while(true)&#123; SocketChannel socketChannel = serverSocketChannel.accept(); //do something with socketChannel...&#125;å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨whileå¾ªçŽ¯ä¸­ä½¿ç”¨é™¤äº†trueä»¥å¤–çš„å…¶å®ƒé€€å‡ºå‡†åˆ™ã€‚éžé˜»å¡žæ¨¡å¼ServerSocketChannelå¯ä»¥è®¾ç½®æˆéžé˜»å¡žæ¨¡å¼ã€‚åœ¨éžé˜»å¡žæ¨¡å¼ä¸‹ï¼Œaccept() æ–¹æ³•ä¼šç«‹åˆ»è¿”å›žï¼Œå¦‚æžœè¿˜æ²¡æœ‰æ–°è¿›æ¥çš„è¿žæŽ¥,è¿”å›žçš„å°†æ˜¯nullã€‚ å› æ­¤ï¼Œéœ€è¦æ£€æŸ¥è¿”å›žçš„SocketChannelæ˜¯å¦æ˜¯nullï¼Œå¦‚ï¼š12345678910111213ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();serverSocketChannel.socket().bind(new InetSocketAddress(9999));serverSocketChannel.configureBlocking(false);while(true)&#123; SocketChannel socketChannel = serverSocketChannel.accept(); if(socketChannel != null)&#123; //do something with socketChannel... &#125;&#125;æœåŠ¡å™¨ä½¿ç”¨NIOå‘å®¢æˆ·ç«¯Echoæ•°æ®çš„ä¾‹å­123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134package com.core;import java.io.BufferedInputStream;import java.io.FileInputStream;import java.io.IOException;import java.net.InetSocketAddress;import java.nio.ByteBuffer;import java.nio.channels.ClosedChannelException;import java.nio.channels.SelectionKey;import java.nio.channels.Selector;import java.nio.channels.ServerSocketChannel;import java.nio.channels.SocketChannel;import java.nio.charset.Charset;import java.util.ArrayList;import java.util.Date;import java.util.Iterator;import java.util.List;import java.util.Scanner;import java.util.Set;public class EchoSeverZJH &#123; private Selector selector; private ServerSocketChannel serverSocketChannel; private int port = 8000; private Charset charset = Charset.forName("utf-8"); private List&lt;String&gt; list = new ArrayList&lt;&gt;(); private int num; public EchoSeverZJH()&#123; try &#123; selector = Selector.open(); serverSocketChannel = ServerSocketChannel.open(); serverSocketChannel.configureBlocking(false); serverSocketChannel.socket().setReuseAddress(true); serverSocketChannel.socket().bind(new InetSocketAddress(port)); &#125; catch (IOException e1) &#123; e1.printStackTrace(); &#125; System.out.println("æœåŠ¡å™¨å¼€å¯æˆåŠŸ... : " + new Date()); list.add("ä¸€å…±æœ‰18018æ¡èˆªç­æ•°æ®"); try (Scanner cin = new Scanner(new BufferedInputStream(new FileInputStream("copy")))) &#123; String line = null; while(cin.hasNext()) &#123; line = cin.nextLine(); list.add(line); &#125; list.add("no data"); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; num = list.size(); System.out.println("æ•°æ®å·²å‡†å¤‡å¥½... : " + new Date()); &#125; public void service()&#123; try &#123; serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT); &#125; catch (ClosedChannelException e) &#123; e.printStackTrace(); &#125; while (true) &#123; //æ²¡æœ‰è¿žæŽ¥å°±ä¼šé˜»å¡ž int n = 0; try &#123; n = selector.select(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; if (n == 0) continue; Set&lt;SelectionKey&gt; readkeys = selector.selectedKeys(); Iterator&lt;SelectionKey&gt; iterator = readkeys.iterator(); while (iterator.hasNext()) &#123; SelectionKey key = iterator.next(); if(!key.isValid()) &#123; iterator.remove(); continue; &#125; if (key.isAcceptable()) &#123; accept(key); &#125; if (key.isWritable()) &#123; send(key); &#125; iterator.remove(); &#125; &#125; &#125; // å¤„ç†æŽ¥æ”¶è¿žæŽ¥å°±ç»ªäº‹ä»¶ private void accept(SelectionKey key)&#123; // è¿”å›žä¸€ä¸ªå¯¹è±¡ SocketChannel socketChannel; try &#123; socketChannel = serverSocketChannel.accept(); System.out.println("æ”¶åˆ°äº†å®¢æˆ·ç«¯è¿žæŽ¥ï¼Œæ¥è‡ª ï¼š " + socketChannel.getRemoteAddress()); socketChannel.configureBlocking(false); //æ³¨å†Œåˆ°selector socketChannel.register(selector, SelectionKey.OP_WRITE, 0); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; // å¤„ç†å†™å°±ç»ªäº‹ä»¶ private void send(SelectionKey key)&#123; SocketChannel socketChannel = (SocketChannel) key.channel(); int index = (int)key.attachment(); key.attach((index + 1) % num); String line = list.get(index); ByteBuffer outputBuffer = charset.encode(line + "\r\n"); while (outputBuffer.hasRemaining()) &#123; try &#123; socketChannel.write(outputBuffer); &#125; catch (IOException e) &#123; key.cancel(); try &#123; System.out.println(socketChannel.getRemoteAddress() + " æ–­å¼€è¿žæŽ¥----"); socketChannel.socket().close(); socketChannel.close(); outputBuffer.clear(); break; &#125; catch (IOException e1) &#123; e1.printStackTrace(); &#125; e.printStackTrace(); &#125; &#125; &#125; public static void main(String[] args)&#123; new EchoSeverZJH().service(); &#125;&#125;1234567891011121314151617181920212223242526272829303132333435package com.core;import java.io.IOException;import java.net.InetAddress;import java.net.Socket;import java.util.Scanner;public class ReadFromSocket&#123; public static void main(String[] args) &#123; Socket socket = null; Scanner sc = null; try &#123; socket = new Socket(InetAddress.getByName("127.0.0.1"), 8000); String line = null; sc = new Scanner(socket.getInputStream()); line = sc.nextLine(); System.out.println(line); while (sc.hasNext()) &#123; Thread.sleep(1000); line = sc.nextLine(); System.out.println(line); &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125;finally &#123; try &#123; socket.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; sc.close(); &#125; &#125;&#125;Selectorç»´æŠ¤çš„é›†åˆå¯¹ä¸Šé¢çš„ä»£ç æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç–‘é—®ï¼Œå³æœåŠ¡å™¨ç«¯ä¸ºä»€ä¹ˆè¦è¿›è¡Œiterator.remove();ã€‚è§£ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰æˆ‘ä»¬å…ˆæ¥ç†ä¸€ä¸‹æ€è·¯ï¼šæœåŠ¡å™¨ç«¯æœ‰ä¸€ä¸ªServerSocketChannelï¼Œå®ƒç»‘å®šäº†ç«¯å£å·ï¼Œä¸”è®¾ç½®ä¸ºéžé˜»å¡žæ¨¡å¼ï¼Œå®ƒå…ˆå‘Selectorä¸­æ³¨å†Œï¼šserverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);ã€‚ServerSocketChannelåœ¨æ³¨å†Œçš„æ—¶å€™æŒ‡å®šçš„äº‹ä»¶æ˜¯ï¼šOP_ACCEPT`ï¼Œè¡¨ç¤ºæŽ¥æ”¶è¿žæŽ¥å°±ç»ªäº‹ä»¶ï¼Œå³æœåŠ¡å™¨åœ¨ç›‘å¬å®¢æˆ·è¿žæŽ¥ã€‚æ¯ä¸€ä¸ªæ³¨å†Œåˆ°selectorä¸Šçš„channeléƒ½ä¼šè¢«åŠ å…¥ä¸€ä¸ªé›†åˆï¼ˆkey setï¼‰ï¼Œè¿™ä¸ªé›†åˆå¯ä»¥é€šè¿‡selector.keys()æ–¹æ³•è¿”å›žã€‚ç„¶åŽåˆ¤æ–­å·²ç»å‡†å¤‡å¥½çš„è¿žæŽ¥n = selector.select();æœ‰å‡ ä¸ªï¼Œå¦‚æžœç­‰äºŽ0åˆ™è¡¨ç¤ºæ²¡æœ‰å‡†å¤‡å¥½çš„è¿žæŽ¥ï¼Œæ­¤æ—¶éœ€è¦continueã€‚å…¶ä¸­ï¼Œå·²ç»å‡†å¤‡å¥½çš„è¿žæŽ¥å¯ä»¥æŒ‰å¦‚ä¸‹èŽ·å¾—ï¼šSet&lt;SelectionKey&gt; readkeys = selector.selectedKeys();ã€‚å³æ‰€æœ‰å·²ç»å‡†å¤‡å¥½channeléƒ½åœ¨ä¸€ä¸ªé›†åˆï¼ˆselected-keyï¼‰ä¸­ã€‚ä½†æ˜¯selected-keyæœ¬èº«å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥åœ¨å¤„ç†çš„æ—¶å€™éœ€è¦åˆ¤æ–­å…¶æ˜¯ä¸æ˜¯å·²ç»åˆæ³•çš„ï¼Œæ¯”å¦‚å¦‚æžœå®¢æˆ·ç«¯ä¸­æ–­äº†è®¿é—®ï¼Œåˆ™ä¸èƒ½åœ¨ä¼ è¾“æ•°æ®ï¼Œå³å…¶å®žä¸åˆæ³•çš„ã€‚åŒæ—¶ï¼Œæ¯ä¸ªéƒ½æ’¤é”€çš„channeléƒ½åœ¨cancelled-key setä¸­ï¼Œä½†æ˜¯æ‰€å…³è”channelè¿˜æ²¡æœ‰è¢«æ’¤é”€ç™»è®°ã€‚å…¶ä¸èƒ½å¤Ÿè¢«ç›´æŽ¥è¿”å›žï¼Œä½†ä¹Ÿä¸€å®šæ˜¯key setçš„å­é›†ã€‚æ‰€ä»¥æˆ‘ä»¬ç§»å‡ºçš„å…¶å®žåªæ˜¯å·²å‡†å¤‡å¥½çš„channelçš„keyã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JavaWeb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java-Channelå’ŒBuffer]]></title>
    <url>%2F2019%2FJava-Channel%E5%92%8CBuffer%2F</url>
    <content type="text"><![CDATA[ChannelJava NIOçš„é€šé“ç±»ä¼¼æµï¼Œä½†åˆæœ‰äº›ä¸åŒï¼šæ—¢å¯ä»¥ä»Žé€šé“ä¸­è¯»å–æ•°æ®ï¼Œåˆå¯ä»¥å†™æ•°æ®åˆ°é€šé“ã€‚ä½†æµçš„è¯»å†™é€šå¸¸æ˜¯å•å‘çš„ã€‚é€šé“å¯ä»¥å¼‚æ­¥åœ°è¯»å†™ã€‚é€šé“ä¸­çš„æ•°æ®æ€»æ˜¯è¦å…ˆè¯»åˆ°ä¸€ä¸ªBufferï¼Œæˆ–è€…æ€»æ˜¯è¦ä»Žä¸€ä¸ªBufferä¸­å†™å…¥ã€‚java.nio.channels.ChannelæŽ¥å£åªå£°æ˜Žäº†ä¸¤ä¸ªæ–¹æ³•ï¼šclose()ï¼šå…³é—­é€šé“ã€‚isOpen()ï¼šåˆ¤æ–­é€šé“æ˜¯å¦æ‰“å¼€ã€‚é€šé“åœ¨åˆ›å»ºæ—¶è¢«æ‰“å¼€ï¼Œä¸€æ—¦å…³é—­é€šé“ï¼Œå°±ä¸èƒ½é‡æ–°æ‰“å¼€å®ƒã€‚Channelçš„å®žçŽ°è¿™äº›æ˜¯Java NIOä¸­æœ€é‡è¦çš„é€šé“çš„å®žçŽ°ï¼šFileChannelï¼šä»Žæ–‡ä»¶ä¸­è¯»å†™æ•°æ®ã€‚DatagramChannelï¼šèƒ½é€šè¿‡UDPè¯»å†™ç½‘ç»œä¸­çš„æ•°æ®ã€‚SocketChannelï¼šèƒ½é€šè¿‡TCPè¯»å†™ç½‘ç»œä¸­çš„æ•°æ®ã€‚ServerSocketChannelï¼šå¯ä»¥ç›‘å¬æ–°è¿›æ¥çš„TCPè¿žæŽ¥ï¼ŒåƒWebæœåŠ¡å™¨é‚£æ ·ã€‚å¯¹æ¯ä¸€ä¸ªæ–°è¿›æ¥çš„è¿žæŽ¥éƒ½ä¼šåˆ›å»ºä¸€ä¸ªSocketChannelã€‚BufferJava NIOä¸­çš„Bufferç”¨äºŽå’ŒNIOé€šé“è¿›è¡Œäº¤äº’ã€‚å¦‚ä½ æ‰€çŸ¥ï¼Œæ•°æ®æ˜¯ä»Žé€šé“è¯»å…¥ç¼“å†²åŒºï¼Œä»Žç¼“å†²åŒºå†™å…¥åˆ°é€šé“ä¸­çš„ã€‚ç¼“å†²åŒºæœ¬è´¨ä¸Šæ˜¯ä¸€å—å¯ä»¥å†™å…¥æ•°æ®ï¼Œç„¶åŽå¯ä»¥ä»Žä¸­è¯»å–æ•°æ®çš„å†…å­˜ã€‚è¿™å—å†…å­˜è¢«åŒ…è£…æˆNIO Bufferå¯¹è±¡ï¼Œå¹¶æä¾›äº†ä¸€ç»„æ–¹æ³•ï¼Œç”¨æ¥æ–¹ä¾¿çš„è®¿é—®è¯¥å—å†…å­˜ã€‚ç¼“å†²åŒºæœ¬è´¨ä¸Šæ˜¯ä¸€å—å¯ä»¥å†™å…¥æ•°æ®ï¼Œç„¶åŽå¯ä»¥ä»Žä¸­è¯»å–æ•°æ®çš„å†…å­˜ã€‚è¿™å—å†…å­˜è¢«åŒ…è£…æˆNIO Bufferå¯¹è±¡ï¼Œå¹¶æä¾›äº†ä¸€ç»„æ–¹æ³•ï¼Œç”¨æ¥æ–¹ä¾¿çš„è®¿é—®è¯¥å—å†…å­˜ã€‚ä¸ºäº†ç†è§£Bufferçš„å·¥ä½œåŽŸç†ï¼Œéœ€è¦ç†Ÿæ‚‰å®ƒçš„ä¸‰ä¸ªå±žæ€§ï¼šcapacityï¼šä½œä¸ºä¸€ä¸ªå†…å­˜å—ï¼ŒBufferæœ‰ä¸€ä¸ªå›ºå®šçš„å¤§å°å€¼ï¼Œå«â€œcapacityâ€ã€‚ä½ åªèƒ½å¾€å¯¹åº”çš„Bufferé‡Œå†™capacityä¸ªbyteã€longï¼Œcharç­‰ç±»åž‹ã€‚ä¸€æ—¦Bufferæ»¡äº†ï¼Œéœ€è¦å°†å…¶æ¸…ç©ºï¼ˆé€šè¿‡è¯»æ•°æ®æˆ–è€…æ¸…é™¤æ•°æ®ï¼‰æ‰èƒ½ç»§ç»­å†™æ•°æ®å¾€é‡Œå†™æ•°æ®ã€‚positionï¼šå½“ä½ å†™æ•°æ®åˆ°Bufferä¸­æ—¶ï¼Œpositionè¡¨ç¤ºå½“å‰çš„ä½ç½®ã€‚åˆå§‹çš„positionå€¼ä¸º0ï¼Œå½“ä¸€ä¸ªbyteã€longç­‰æ•°æ®å†™åˆ°BufferåŽï¼Œ positionä¼šå‘å‰ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå¯æ’å…¥æ•°æ®çš„Bufferå•å…ƒã€‚positionæœ€å¤§å¯ä¸ºcapacity â€“ 1ã€‚å½“è¯»å–æ•°æ®æ—¶ï¼Œä¹Ÿæ˜¯ä»ŽæŸä¸ªç‰¹å®šä½ç½®è¯»ã€‚å½“å°†Bufferä»Žå†™æ¨¡å¼åˆ‡æ¢åˆ°è¯»æ¨¡å¼ï¼Œpositionä¼šè¢«é‡ç½®ä¸º0. å½“ä»ŽBufferçš„positionå¤„è¯»å–æ•°æ®æ—¶ï¼Œpositionå‘å‰ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå¯è¯»çš„ä½ç½®ã€‚limitï¼šå†™æ¨¡å¼ä¸‹ï¼ŒBufferçš„limitè¡¨ç¤ºä½ æœ€å¤šèƒ½å¾€Bufferé‡Œå†™å¤šå°‘æ•°æ®ï¼Œæ­¤æ—¶limitç­‰äºŽBufferçš„capacityã€‚å½“åˆ‡æ¢Bufferåˆ°è¯»æ¨¡å¼æ—¶ï¼Œ limitè¡¨ç¤ºä½ æœ€å¤šèƒ½è¯»åˆ°å¤šå°‘æ•°æ®ã€‚å› æ­¤ï¼Œå½“åˆ‡æ¢Bufferåˆ°è¯»æ¨¡å¼æ—¶ï¼Œlimitä¼šè¢«è®¾ç½®æˆå†™æ¨¡å¼ä¸‹çš„positionå€¼ã€‚æ¢å¥è¯è¯´ï¼Œä½ èƒ½è¯»åˆ°ä¹‹å‰å†™å…¥çš„æ‰€æœ‰æ•°æ®ï¼ˆlimitè¢«è®¾ç½®æˆå·²å†™æ•°æ®çš„æ•°é‡ï¼Œè¿™ä¸ªå€¼åœ¨å†™æ¨¡å¼ä¸‹å°±æ˜¯positionï¼‰Bufferçš„å®žçŽ°Java NIO æœ‰ä»¥ä¸‹Bufferç±»åž‹ByteBufferMappedByteBufferCharBufferDoubleBufferFloatBufferIntBufferLongBufferShortBufferBufferè¯¦è§£åœ¨æˆ‘ä»¬åˆšæ‰çš„è¯´æ˜Žä¸­æåˆ°äº†å†™æ¨¡å¼å’Œè¯»æ¨¡å¼ï¼Œä½†æ˜¯å®žé™…ä¸Šè¿™åªæ˜¯è¢«å¼ºè¡Œèµ‹äºˆçš„ï¼Œå³JDKä¸­å¹¶æ²¡æœ‰è¯´æ³•ï¼Œè¿™ä¹ˆè¯´åªæ˜¯ä¸ºäº†æ›´æ–¹ä¾¿çš„ç†è§£ï¼Œæ‰€ä»¥ä¸‹é¢æˆ‘ä»¬æ¥è§£è¯»ä¸€ä¸‹Bufferçš„APIåŠæ€Žä¹ˆåœ¨ä¸¤ç§æ¨¡å¼ä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚éœ€è¦æŒ‡å‡ºï¼šå†™æ¨¡å¼æŒ‡çš„æ˜¯æƒ³Bufferå†™å…¥ï¼Œè¯»æ¨¡å¼æ˜¯ä»ŽBufferé‡Œè¯»å‡ºã€‚Bufferçš„åˆ†é…è¦æƒ³èŽ·å¾—ä¸€ä¸ªBufferå¯¹è±¡é¦–å…ˆè¦è¿›è¡Œåˆ†é…ã€‚ æ¯ä¸€ä¸ªBufferç±»éƒ½æœ‰ä¸€ä¸ªallocateæ–¹æ³•ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåˆ†é…48å­—èŠ‚capacityçš„ByteBufferçš„ä¾‹å­ã€‚ByteBuffer buf = ByteBuffer.allocate(48);è¿™æ˜¯åˆ†é…ä¸€ä¸ªå¯å­˜å‚¨1024ä¸ªå­—ç¬¦çš„CharBufferï¼šCharBuffer buf = CharBuffer.allocate(1024);åˆšèŽ·å¾—çš„Bufferé»˜è®¤æ˜¯å†™æ¨¡å¼ã€‚### å‘Bufferä¸­å†™æ•°æ®å†™æ•°æ®åˆ°Bufferæœ‰ä¸¤ç§æ–¹å¼ï¼š- ä»ŽChannelå†™åˆ°Bufferï¼šint bytesRead = inChannel.read(buf); //read into buffer- bytesReadæŒ‡è¯»å‡ºçš„æ•°æ®å¤§å°ã€‚å½“bytesReadä¸º-1æ—¶è¡¨ç¤ºç¼“å­˜åŒºä¸­ä¸å†æœ‰æ•°æ®ã€‚- é€šè¿‡Bufferçš„put()æ–¹æ³•å†™åˆ°Bufferé‡Œï¼šbuf.put(127);- put()ï¼šç›¸å¯¹å†™ã€‚å‘ç¼“å†²åŒºçš„å½“å‰ä½ç½®å†™å…¥ä¸€ä¸ªå•å…ƒçš„æ•°æ®ï¼Œå†™å®ŒåŽæŠŠä½ç½®åŠ 1ã€‚- put(int index)ï¼šç»å¯¹å†™ã€‚å‘å‚æ•°indexæŒ‡å®šçš„ä½ç½®å†™å…¥ä¸€ä¸ªå•å…ƒçš„æ•°æ®ã€‚12345678910111213141516171819202122232425262728293031323334package com.test;import java.io.RandomAccessFile;import java.nio.ByteBuffer;import java.nio.channels.FileChannel;import java.nio.charset.Charset;public class Demo1 &#123; private static Charset charset = Charset.forName("UTF-8"); public static void main(String[] args) throws Exception &#123; /** * test_inæ˜¯æœ‰æ•°æ®çš„æ–‡ä»¶ï¼Œç”¨äºŽè¢«è¯»å…¥è‡³Javaç¨‹åº */ RandomAccessFile fileIn = new RandomAccessFile("test_in", "rw"); FileChannel inChannel = fileIn.getChannel(); ByteBuffer buf = ByteBuffer.allocate(48); int bytesRead = inChannel.read(buf); while (bytesRead != -1) &#123; System.out.println("Read " + bytesRead); buf.flip(); //å†™æ¨¡å¼åˆ‡æ¢ä¸ºè¯»æ¨¡å¼ System.out.println(charset.decode(buf).toString()); buf.clear(); bytesRead = inChannel.read(buf); &#125; fileIn.close(); &#125;&#125;inChannel.read(buf);ä¹‹åŽï¼Œbuf.flip();ä¹‹å‰Bufferçš„çŠ¶æ€ï¼šå‘Channelä¸­å†™æ•°æ®12345678910111213141516171819202122232425262728293031323334353637package com.test;import java.io.RandomAccessFile;import java.nio.ByteBuffer;import java.nio.channels.FileChannel;import java.nio.charset.Charset;public class Demo2 &#123; private static Charset charset = Charset.forName("UTF-8"); public static void main(String[] args) throws Exception &#123; /** * test_inæ˜¯æœ‰æ•°æ®çš„æ–‡ä»¶ï¼Œç”¨äºŽè¢«è¯»å…¥è‡³Javaç¨‹åº * test_outä¸­æ²¡æœ‰æ•°æ®ï¼Œç”¨äºŽJavaç¨‹åºçš„å†™å‡º */ RandomAccessFile fileIn = new RandomAccessFile("test_in", "rw"); RandomAccessFile fileOut = new RandomAccessFile("test_out", "rw"); FileChannel inChannel = fileIn.getChannel(); FileChannel outChannel = fileOut.getChannel(); ByteBuffer buf = ByteBuffer.allocate(48); int bytesRead = -1; do &#123; bytesRead = inChannel.read(buf); System.out.println("Read " + bytesRead); buf.flip(); //å†™æ¨¡å¼åˆ‡æ¢ä¸ºè¯»æ¨¡å¼ outChannel.write(buf); buf.clear(); &#125;while(bytesRead != -1); fileIn.close(); fileOut.close(); &#125;&#125;buf.flip();ä¹‹åŽï¼ŒoutChannel.write(buf);ä¹‹å‰Bufferçš„çŠ¶æ€ã€‚æµ‹è¯•limit1234567891011121314151617181920212223242526272829303132333435363738package com.test;import java.io.RandomAccessFile;import java.nio.ByteBuffer;import java.nio.channels.FileChannel;import java.nio.charset.Charset;public class Demo2 &#123; private static Charset charset = Charset.forName("UTF-8"); public static void main(String[] args) throws Exception &#123; /** * test_inæ˜¯æœ‰æ•°æ®çš„æ–‡ä»¶ï¼Œç”¨äºŽè¢«è¯»å…¥è‡³Javaç¨‹åº * test_outä¸­æ²¡æœ‰æ•°æ®ï¼Œç”¨äºŽJavaç¨‹åºçš„å†™å‡º */ RandomAccessFile fileIn = new RandomAccessFile("test_in", "rw"); RandomAccessFile fileOut = new RandomAccessFile("test_out", "rw"); FileChannel inChannel = fileIn.getChannel(); FileChannel outChannel = fileOut.getChannel(); ByteBuffer buf = ByteBuffer.allocate(48); int bytesRead = -1; do &#123; bytesRead = inChannel.read(buf); System.out.println("å†™æ¨¡å¼ä¸‹ï¼š " + buf.limit()); buf.flip(); //å†™æ¨¡å¼åˆ‡æ¢ä¸ºè¯»æ¨¡å¼ System.out.println("è¯»æ¨¡å¼ä¸‹ï¼š " + buf.limit()); outChannel.write(buf); buf.clear(); &#125;while(bytesRead != -1); fileIn.close(); fileOut.close(); &#125;&#125;rewind()æ–¹æ³•Buffer.rewind()å°†positionè®¾å›ž0ï¼Œæ‰€ä»¥ä½ å¯ä»¥é‡è¯»Bufferä¸­çš„æ‰€æœ‰æ•°æ®ã€‚limitä¿æŒä¸å˜ï¼Œä»ç„¶è¡¨ç¤ºèƒ½ä»ŽBufferä¸­è¯»å–å¤šå°‘ä¸ªå…ƒç´ ï¼ˆbyteã€charç­‰ï¼‰ã€‚clear()ä¸Žcompact()æ–¹æ³•ä¸€æ—¦è¯»å®ŒBufferä¸­çš„æ•°æ®ï¼Œéœ€è¦è®©Bufferå‡†å¤‡å¥½å†æ¬¡è¢«å†™å…¥ã€‚å¯ä»¥é€šè¿‡clear()æˆ–compact()æ–¹æ³•æ¥å®Œæˆã€‚å¦‚æžœè°ƒç”¨çš„æ˜¯clear()æ–¹æ³•ï¼Œpositionå°†è¢«è®¾å›ž0ï¼Œlimitè¢«è®¾ç½®æˆ capacityçš„å€¼ã€‚æ¢å¥è¯è¯´ï¼ŒBufferè¢«æ¸…ç©ºäº†ã€‚Bufferä¸­çš„æ•°æ®å¹¶æœªæ¸…é™¤ã€‚å¦‚æžœBufferä¸­æœ‰ä¸€äº›æœªè¯»çš„æ•°æ®ï¼Œè°ƒç”¨clear()æ–¹æ³•ï¼Œæ•°æ®å°†â€œè¢«é—å¿˜â€ï¼Œæ„å‘³ç€ä¸å†æœ‰ä»»ä½•æ ‡è®°ä¼šå‘Šè¯‰ä½ å“ªäº›æ•°æ®è¢«è¯»è¿‡ï¼Œå“ªäº›è¿˜æ²¡æœ‰ã€‚å¦‚æžœBufferä¸­ä»æœ‰æœªè¯»çš„æ•°æ®ï¼Œä¸”åŽç»­è¿˜éœ€è¦è¿™äº›æ•°æ®ï¼Œä½†æ˜¯æ­¤æ—¶æƒ³è¦å…ˆå…ˆå†™äº›æ•°æ®ï¼Œé‚£ä¹ˆä½¿ç”¨compact()æ–¹æ³•ã€‚compact()æ–¹æ³•å°†æ‰€æœ‰æœªè¯»çš„æ•°æ®æ‹·è´åˆ°Bufferèµ·å§‹å¤„ã€‚ç„¶åŽå°†positionè®¾åˆ°æœ€åŽä¸€ä¸ªæœªè¯»å…ƒç´ æ­£åŽé¢ã€‚limitå±žæ€§ä¾ç„¶åƒclear()æ–¹æ³•ä¸€æ ·ï¼Œè®¾ç½®æˆcapacityã€‚çŽ°åœ¨Bufferå‡†å¤‡å¥½å†™æ•°æ®äº†ï¼Œä½†æ˜¯ä¸ä¼šè¦†ç›–æœªè¯»çš„æ•°æ®ã€‚mark()ä¸Žreset()æ–¹æ³•é€šè¿‡è°ƒç”¨Buffer.mark()æ–¹æ³•ï¼Œå¯ä»¥æ ‡è®°Bufferä¸­çš„ä¸€ä¸ªç‰¹å®šä½ç½®ã€‚ä¹‹åŽå¯ä»¥é€šè¿‡è°ƒç”¨Buffer.reset()æ–¹æ³•å°†positionç½®äºŽè¿™ä¸ªä½ç½®ã€‚equals()ä¸ŽcompareTo()æ–¹æ³•equals()å½“æ»¡è¶³ä¸‹åˆ—æ¡ä»¶æ—¶ï¼Œè¡¨ç¤ºä¸¤ä¸ªBufferç›¸ç­‰ï¼šæœ‰ç›¸åŒçš„ç±»åž‹ï¼ˆbyteã€charã€intç­‰ï¼‰ã€‚Bufferä¸­å‰©ä½™çš„byteã€charç­‰çš„ä¸ªæ•°ç›¸ç­‰ã€‚Bufferä¸­æ‰€æœ‰å‰©ä½™çš„byteã€charç­‰éƒ½ç›¸åŒã€‚å¦‚ä½ æ‰€è§ï¼Œequalsåªæ˜¯æ¯”è¾ƒBufferçš„ä¸€éƒ¨åˆ†ï¼Œä¸æ˜¯æ¯ä¸€ä¸ªåœ¨å®ƒé‡Œé¢çš„å…ƒç´ éƒ½æ¯”è¾ƒã€‚å®žé™…ä¸Šï¼Œå®ƒåªæ¯”è¾ƒBufferä¸­çš„å‰©ä½™å…ƒç´ ã€‚compareTo()æ–¹æ³•compareTo()æ–¹æ³•æ¯”è¾ƒä¸¤ä¸ªBufferçš„å‰©ä½™å…ƒç´ (byteã€charç­‰)ï¼Œ å¦‚æžœæ»¡è¶³ä¸‹åˆ—æ¡ä»¶ï¼Œåˆ™è®¤ä¸ºä¸€ä¸ªBufferâ€œå°äºŽâ€å¦ä¸€ä¸ªBufferï¼šç¬¬ä¸€ä¸ªä¸ç›¸ç­‰çš„å…ƒç´ å°äºŽå¦ä¸€ä¸ªBufferä¸­å¯¹åº”çš„å…ƒç´  ã€‚æ‰€æœ‰å…ƒç´ éƒ½ç›¸ç­‰ï¼Œä½†ç¬¬ä¸€ä¸ªBufferæ¯”å¦ä¸€ä¸ªå…ˆè€—å°½ï¼ˆç¬¬ä¸€ä¸ªBufferçš„å…ƒç´ ä¸ªæ•°æ¯”å¦ä¸€ä¸ªå°‘ï¼‰ã€‚Scatter/Gatherscatterï¼šåˆ†æ•£ï¼Œä»ŽChannelä¸­è¯»å–æ˜¯æŒ‡åœ¨è¯»æ“ä½œæ—¶å°†è¯»å–çš„æ•°æ®å†™å…¥å¤šä¸ªbufferä¸­ã€‚å› æ­¤ï¼ŒChannelå°†ä»ŽChannelä¸­è¯»å–çš„æ•°æ®â€œåˆ†æ•£ï¼ˆscatterï¼‰â€åˆ°å¤šä¸ªBufferä¸­ã€‚Scattering Readsæ˜¯æŒ‡æ•°æ®ä»Žä¸€ä¸ªchannelè¯»å–åˆ°å¤šä¸ªbufferä¸­ã€‚å¦‚ä¸‹å›¾æè¿°ï¼š12345678910111213141516171819202122232425package com.test;import java.io.RandomAccessFile;import java.nio.ByteBuffer;import java.nio.channels.FileChannel;import java.nio.charset.Charset;public class Demo3 &#123; private static Charset charset = Charset.forName("UTF-8"); public static void main(String[] args) throws Exception &#123; RandomAccessFile file = new RandomAccessFile("test_in", "rw"); FileChannel channel = file.getChannel(); ByteBuffer header = ByteBuffer.allocate(6); ByteBuffer body = ByteBuffer.allocate(64); ByteBuffer[] bufferArray = &#123; header, body &#125;; long read = channel.read(bufferArray); System.out.println(read); header.flip(); body.flip(); System.out.println(charset.decode(header).toString()); System.out.println(charset.decode(body).toString()); &#125;&#125;read()æ–¹æ³•æŒ‰ç…§bufferåœ¨æ•°ç»„ä¸­çš„é¡ºåºå°†ä»Žchannelä¸­è¯»å–çš„æ•°æ®å†™å…¥åˆ°bufferï¼Œå½“ä¸€ä¸ªbufferè¢«å†™æ»¡åŽï¼Œchannelç´§æŽ¥ç€å‘å¦ä¸€ä¸ªbufferä¸­å†™ã€‚Scattering Readsåœ¨ç§»åŠ¨ä¸‹ä¸€ä¸ªbufferå‰ï¼Œå¿…é¡»å¡«æ»¡å½“å‰çš„bufferï¼Œè¿™ä¹Ÿæ„å‘³ç€å®ƒä¸é€‚ç”¨äºŽåŠ¨æ€æ¶ˆæ¯ï¼ˆæ¶ˆæ¯å¤§å°ä¸å›ºå®šï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æžœå­˜åœ¨æ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“ï¼Œæ¶ˆæ¯å¤´å¿…é¡»å®Œæˆå¡«å……ï¼ˆä¾‹å¦‚ 128byteï¼‰ï¼ŒScattering Readsæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚gatherï¼šèšé›†ï¼Œå†™å…¥Channelæ˜¯æŒ‡åœ¨å†™æ“ä½œæ—¶å°†å¤šä¸ªbufferçš„æ•°æ®å†™å…¥åŒä¸€ä¸ªChannelï¼Œå› æ­¤ï¼ŒChannel å°†å¤šä¸ªBufferä¸­çš„æ•°æ®â€œèšé›†ï¼ˆgatherï¼‰â€åŽå‘é€åˆ°Channelã€‚Gathering Writesæ˜¯æŒ‡æ•°æ®ä»Žå¤šä¸ªbufferå†™å…¥åˆ°åŒä¸€ä¸ªchannelã€‚å¦‚ä¸‹å›¾æè¿°ï¼š123456789101112131415161718192021222324252627package com.test;import java.io.RandomAccessFile;import java.nio.ByteBuffer;import java.nio.channels.FileChannel;public class Demo4 &#123; public static void main(String[] args) throws Exception &#123; RandomAccessFile fileOut = new RandomAccessFile("test_out", "rw"); FileChannel channelOut = fileOut.getChannel(); ByteBuffer header = ByteBuffer.allocate(6); ByteBuffer body = ByteBuffer.allocate(64); header.put("é™ˆ".getBytes()); body.put("é’°çªæ˜¯ä¸ªå¤§å¯çˆ±".getBytes()); ByteBuffer[] bufferArray = &#123; header, body &#125;; header.flip(); body.flip(); channelOut.write(bufferArray); fileOut.close(); &#125;&#125;é€šé“ä¹‹é—´çš„æ•°æ®ä¼ è¾“åœ¨Java NIOä¸­ï¼Œå¦‚æžœä¸¤ä¸ªé€šé“ä¸­æœ‰ä¸€ä¸ªæ˜¯FileChannelï¼Œé‚£ä½ å¯ä»¥ç›´æŽ¥å°†æ•°æ®ä»Žä¸€ä¸ªchannelä¼ è¾“åˆ°å¦å¤–ä¸€ä¸ªchannelã€‚transferFrom()FileChannelçš„transferFrom()æ–¹æ³•å¯ä»¥å°†æ•°æ®ä»Žæºé€šé“ä¼ è¾“åˆ°FileChannelä¸­ï¼ˆè¿™ä¸ªæ–¹æ³•åœ¨JDKæ–‡æ¡£ä¸­çš„è§£é‡Šä¸ºå°†å­—èŠ‚ä»Žç»™å®šçš„å¯è¯»å–å­—èŠ‚é€šé“ä¼ è¾“åˆ°æ­¤é€šé“çš„æ–‡ä»¶ä¸­ï¼‰ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š123456789101112131415161718192021222324package com.test;import java.io.RandomAccessFile;import java.nio.channels.FileChannel;public class Demo5 &#123; public static void main(String[] args) throws Exception &#123; RandomAccessFile fromFile = new RandomAccessFile("test_in", "rw"); FileChannel fromChannel = fromFile.getChannel(); RandomAccessFile toFile = new RandomAccessFile("test_out", "rw"); FileChannel toChannel = toFile.getChannel(); long position = 0; long count = fromChannel.size(); toChannel.transferFrom(fromChannel, position, count); fromFile.close(); toFile.close(); &#125;&#125;transferTo()å°†æ•°æ®ä»ŽFileChannelä¼ è¾“åˆ°å…¶ä»–çš„channeä¸­ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š123456789101112131415161718192021222324package com.test;import java.io.RandomAccessFile;import java.nio.channels.FileChannel;public class Demo6 &#123; public static void main(String[] args) throws Exception &#123; RandomAccessFile fromFile = new RandomAccessFile("test_in", "rw"); FileChannel fromChannel = fromFile.getChannel(); RandomAccessFile toFile = new RandomAccessFile("test_out", "rw"); FileChannel toChannel = toFile.getChannel(); long position = 0; long count = fromChannel.size(); fromChannel.transferTo(position, count, toChannel); fromFile.close(); toFile.close(); &#125;&#125;å‚è€ƒhttp://ifeve.com/Java-Channelå’ŒBuffer-all/]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Javaç½‘ç»œç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java-åºåˆ—åŒ–]]></title>
    <url>%2F2019%2FJava-%E5%BA%8F%E5%88%97%E5%8C%96%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°æŠŠJavaå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹ç§°ä¸ºå¯¹è±¡çš„åºåˆ—åŒ–ï¼›æŠŠå­—èŠ‚åºåˆ—æ¢å¤ä¸ºJavaå¯¹è±¡çš„è¿‡ç¨‹ç§°ä¸ºå¯¹è±¡çš„ååºåˆ—åŒ–ã€‚å¯¹è±¡çš„åºåˆ—åŒ–ä¸»è¦æœ‰ä¸¤ç§ç”¨é€”ï¼šæŠŠå¯¹è±¡çš„å­—èŠ‚åºåˆ—æ°¸ä¹…çš„ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼Œé€šå¸¸å­˜æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚åœ¨ç½‘ç»œä¸Šä¼ é€å¯¹è±¡çš„å­—èŠ‚åºåˆ—ã€‚é»˜è®¤åºåˆ—åŒ–123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172package cn.isjinhao.pojo;import java.io.FileInputStream;import java.io.FileOutputStream;import java.io.ObjectInputStream;import java.io.ObjectOutputStream;import java.io.Serializable;import java.nio.file.Path;import java.nio.file.Paths;public class Server &#123; public static void main(String[] args) throws Exception &#123; Path path = Paths.get("test"); Person temp = new Person("é™ˆé’°çª", 19, "411x2x19xx1x2x6x1x", 20000d); ObjectOutputStream out=new ObjectOutputStream(new FileOutputStream(path.toFile())); out.writeObject(temp); ObjectInputStream in=new ObjectInputStream(new FileInputStream(path.toFile())); Person readObject = (Person)in.readObject(); System.out.println(readObject); &#125;&#125;class Person implements Serializable&#123; private static final long serialVersionUID = -485348963313276072L; private String name; private Integer age; private String id; private Double money; public Person(String name, Integer age, String id, Double money) &#123; super(); this.name = name; this.age = age; this.id = id; this.money = money; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125; public String getId() &#123; return id; &#125; public void setId(String id) &#123; this.id = id; &#125; public Double getMoney() &#123; return money; &#125; public void setMoney(Double money) &#123; this.money = money; &#125; @Override public String toString() &#123; return "Person [name=" + name + ", age=" + age + ", id=" + id + ", money=" + money + "]"; &#125;&#125;ç‰ˆæœ¬å·ç‰ˆæœ¬å·æ˜¯ä¸ºäº†æŽ§åˆ¶å¯¹è±¡çš„ç‰ˆæœ¬è€Œå­˜åœ¨çš„ï¼Œç‰ˆæœ¬å·ä¸€è‡´æ‰å¯è®¤ä¸ºå¯ä»¥è¿›è¡Œå¯¹åº”çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚æ¯”å¦‚æˆ‘ä»¬ä½¿ç”¨ä¸Šé¢çš„ä»£ç æŠŠä¸€ä¸ªPersonå†™å…¥tempæ–‡ä»¶äº†ï¼Œç„¶åŽä¿®æ”¹serialVersionUID = 485348963313276072L;ï¼Œä¼šå‘çŽ°çˆ†å‡ºjava.io.InvalidClassExceptionã€‚12345678910111213import java.io.FileInputStream;import java.io.ObjectInputStream;import java.nio.file.Path;import java.nio.file.Paths;public class Client &#123; public static void main(String[] args) throws Exception &#123; Path path = Paths.get("test"); ObjectInputStream in=new ObjectInputStream(new FileInputStream(path.toFile())); Person readObject = (Person)in.readObject(); System.out.println(readObject); &#125;&#125;åºåˆ—åŒ–å›¾åœ¨é»˜è®¤æ–¹å¼ä¸‹ï¼Œå¯¹è±¡è¾“å‡ºæµä¼šå¯¹æ•´ä¸ªå¯¹è±¡å›¾è¿›è¡Œåºåˆ—åŒ–ã€‚æŽ§åˆ¶åºåˆ—åŒ–ä¸ä¼šåºåˆ—åŒ–å¯¹è±¡çš„transientä¿®é¥°çš„çš„å˜é‡ã€‚ä¸ä¼šåºåˆ—åŒ–é™æ€å˜é‡ã€‚å•ä¾‹çš„å¤„ç†12345678910public final class MySingleton implements Serializable&#123; private MySingleton() &#123; &#125; private static final MySingleton INSTANCE = new MySingleton(); public static MySingleton getInstance() &#123; return INSTANCE; &#125; private Object readResolve() throws ObjectStreamException &#123; // instead of the object we're on, // return the class variable INSTANCE return INSTANCE; &#125; &#125;ååºåˆ—åŒ–â€ç»„è£…â€ä¸€ä¸ªæ–°å¯¹è±¡æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªreadResolveæ–¹æ³•æ¥è¿”å›žæˆ‘ä»¬æŒ‡å®šå¥½çš„å¯¹è±¡äº†ï¼Œå•ä¾‹è§„åˆ™ä¹Ÿå°±å¾—åˆ°äº†ä¿è¯ã€‚ExternalizableExternalizableæŽ¥å£extends SerializableæŽ¥å£ï¼Œè€Œä¸”åœ¨å…¶åŸºç¡€ä¸Šå¢žåŠ äº†ä¸¤ä¸ªæ–¹æ³•ï¼šwriteExternal()å’ŒreadExternal()ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•ä¼šåœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–è¿˜åŽŸçš„è¿‡ç¨‹ä¸­è¢«è‡ªåŠ¨è°ƒç”¨ï¼Œä»¥ä¾¿æ‰§è¡Œä¸€äº›ç‰¹æ®Šçš„æ“ä½œã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445package test.serializable;import java.io.Externalizable;import java.io.IOException;import java.io.ObjectInput;import java.io.ObjectOutput;public class Blip implements Externalizable &#123; private int i ; private String s;//æ²¡æœ‰åˆå§‹åŒ– public Blip() &#123; //é»˜è®¤æž„é€ å‡½æ•°å¿…é¡»æœ‰ï¼Œè€Œä¸”å¿…é¡»æ˜¯public System.out.println("Blipé»˜è®¤æž„é€ å‡½æ•°"); &#125; public Blip(String s ,int i) &#123; //s,iåªæ˜¯åœ¨å¸¦å‚æ•°çš„æž„é€ å‡½æ•°ä¸­è¿›è¡Œåˆå§‹åŒ–ã€‚ System.out.println("Blipå¸¦å‚æ•°æž„é€ å‡½æ•°"); this.s = s; this.i = i; &#125; public String toString() &#123; return s + i ; &#125; @Override public void readExternal(ObjectInput in) throws IOException, ClassNotFoundException &#123; System.out.println("è°ƒç”¨readExternalï¼ˆï¼‰æ–¹æ³•"); s = (String)in.readObject();//åœ¨ååºåˆ—åŒ–æ—¶ï¼Œéœ€è¦åˆå§‹åŒ–så’Œiï¼Œå¦åˆ™åªæ˜¯è°ƒç”¨é»˜è®¤æž„é€ å‡½æ•°ï¼Œå¾—ä¸åˆ°så’Œiçš„å€¼ i = in.readInt(); &#125; @Override public void writeExternal(ObjectOutput out) throws IOException &#123; System.out.println("è°ƒç”¨writeExternalï¼ˆï¼‰æ–¹æ³•"); out.writeObject(s); //å¦‚æžœæˆ‘ä»¬ä¸å°†så’Œiçš„å€¼å†™å…¥çš„è¯ï¼Œé‚£ä¹ˆåœ¨ååºåˆ—åŒ–çš„æ—¶å€™ï¼Œå°±ä¸ä¼šå¾—åˆ°è¿™äº›å€¼ã€‚ out.writeInt(i); &#125;&#125;12345678910111213141516171819202122232425262728293031package test.serializable;import java.io.ByteArrayInputStream;import java.io.ByteArrayOutputStream;import java.io.IOException;import java.io.ObjectInputStream;import java.io.ObjectOutputStream;public class ExternalizableTest &#123; /** * @param args * @throws IOException * @throws ClassNotFoundException */ public static void main(String[] args) throws IOException, ClassNotFoundException &#123; System.out.println("åºåˆ—åŒ–ä¹‹å‰"); Blip b = new Blip("This String is " , 47); System.out.println(b); System.out.println("åºåˆ—åŒ–æ“ä½œï¼ŒwriteObject"); ByteArrayOutputStream out = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(out); oos.writeObject(b); System.out.println("ååºåˆ—åŒ–ä¹‹åŽ,readObject"); ByteArrayInputStream in = new ByteArrayInputStream(out.toByteArray()); ObjectInputStream ois = new ObjectInputStream(in); Blip bb = (Blip)ois.readObject(); System.out.println(bb); &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Javaç½‘ç»œç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åå°„]]></title>
    <url>%2F2019%2F%E5%8F%8D%E5%B0%84%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°é€šå¸¸èƒ½å¤Ÿåˆ†æžç±»èƒ½åŠ›çš„ç¨‹åºç§°ä¸ºåå°„ï¼ˆreflectiveï¼‰ã€‚ç¨‹åºå‘˜é€šè¿‡åå°„åº“ï¼ˆåŒ…æ‹¬Classç±»ï¼ŒConstructorç±»ç­‰ï¼‰å®Œæˆä¸šåŠ¡åŠŸèƒ½ï¼Œä¾¿æ˜¯ä½¿ç”¨åˆ°äº†åå°„æŠ€æœ¯ã€‚åå°„çš„ä¸»è¦åŠŸèƒ½æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶åˆ†æžç±»ã€‚ä¸€æåˆ°è¿è¡Œæ—¶åˆ†æžç±»å¤§å®¶è‚¯å®šç¬¬ä¸€ä¸ªæƒ³åˆ°çš„æ˜¯è¿è¡Œæ—¶å¤šæ€ã€‚è€Œåå°„ä¹Ÿå’Œè¿è¡Œæ—¶å¤šæ€çš„åŠŸèƒ½ä¸€è‡´ï¼Œå¢žå¼ºç¨‹åºçš„å¯ç»´æŠ¤æ€§å’Œå¯æ‹“å±•æ€§ã€‚è¿ç”¨åå°„æŠ€æœ¯æ¥å®žçŽ°åŠŸèƒ½ä¸€èˆ¬åˆ†ä¸ºå››æ­¥ï¼šèŽ·å¾—Classå¯¹è±¡ã€èŽ·å¾—æž„é€ å™¨ã€èŽ·å¾—ç±»çš„å®žä¾‹ã€è¿è¡Œã€‚åå°„æŠ€æœ¯ç”šè‡³å¯ä»¥èŽ·å¾—ç§æœ‰ä¿¡æ¯ã€‚èŽ·å¾—Classå¯¹è±¡Classå¯¹è±¡æ˜¯åœ¨ç±»åŠ è½½æ—¶ç”±Javaè™šæ‹Ÿæœºåˆ›å»ºçš„å°è£…æŸç±»åž‹ä¿¡æ¯çš„å¯¹è±¡ã€‚æœ‰ä¸‰ç§èŽ·å¾—æ–¹å¼ï¼š123456789101112131415public class TestClazz &#123; @SuppressWarnings("rawtypes") public static void main(String[] args) throws ClassNotFoundException &#123; //1ã€é€šè¿‡Objectç±»çš„getClass()æ–¹æ³• TestClazz tc = new TestClazz(); Class clazz1 = tc.getClass(); //2ã€é€šè¿‡ç±»çš„é™æ€classå±žæ€§ã€‚ Class clazz2 = TestClazz.class; //3ã€é€šè¿‡Classç±»ä¸­çš„æ–¹æ³•æž„é€ ã€‚è¿™ç§å¯æ‹“å±•æ€§æ›´å¼ºï¼Œæ ¹æœ¬ä¸éœ€è¦çŸ¥é“ç±»åž‹ï¼Œé€šè¿‡å­—ç¬¦ä¸²å°±èƒ½èŽ·å¾—ã€‚ //ä½†æ˜¯ä¹Ÿæ­£æ˜¯è¿™ä¸ªåŽŸå› ï¼Œå¯èƒ½å‘ç”ŸClassNotFoundExceptionï¼ˆmainå‡½æ•°çš„æ­¤å¼‚å¸¸ä¸Žå‰ä¸¤è€…æ— å…³ï¼‰ Class clazz3 = Class.forName("com.first.TestClazz"); &#125;&#125;èŽ·å¾—æž„é€ å™¨èŽ·å¾—æ‰€æœ‰å…¬å…±æƒé™çš„æž„é€ æ–¹æ³•ï¼ˆåŒ…æ‹¬ç»§æ‰¿çš„ï¼‰ï¼šclazz.getConstructors();123456789101112131415161718import java.lang.reflect.Constructor;public class TestClazz &#123; public TestClazz(String msg) &#123; System.out.println(msg); &#125; public TestClazz() &#123; &#125; private TestClazz(int i) &#123; System.out.println(i); &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Constructor[] constructors = clazz.getConstructors(); for(Constructor e:constructors) System.out.println(e); /*Consoleï¼š public com.first.TestClazz(java.lang.String) public com.first.TestClazz() */ &#125;&#125;èŽ·å¾—æŒ‡å®šå‚æ•°çš„å…¬å…±æž„é€ å™¨ï¼ˆå¯ä»¥èŽ·å¾—ç»§æ‰¿çš„ï¼‰ï¼šclazz.getConstructor((Class... parameterTypes);12345678910111213141516171819import java.lang.reflect.Constructor;public class TestClazz &#123; public TestClazz(String msg) &#123; System.out.println(msg); &#125; public TestClazz() &#123; &#125; private TestClazz(int i) &#123; System.out.println(i); &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Constructor con1 = clazz.getConstructor(); Constructor con2 = clazz.getConstructor(String.class); System.out.println(con1); System.out.println(con2); /*Console: public com.first.TestClazz() public com.first.TestClazz(java.lang.String) */ &#125;&#125;èŽ·å¾—æ‰€æœ‰çš„æž„é€ å™¨ï¼ˆä¸åŒ…æ‹¬ç»§æ‰¿çš„ï¼‰ï¼šclazz.getDeclaredConstructors();12345678910111213141516171819import java.lang.reflect.Constructor;public class TestClazz &#123; private TestClazz(int i) &#123; System.out.println(i); &#125; public TestClazz(String msg) &#123; System.out.println(msg); &#125; public TestClazz() &#123; &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Constructor []cons = clazz.getDeclaredConstructors(); for(Constructor e : cons) System.out.println(e); /*Console: public com.first.TestClazz() public com.first.TestClazz(java.lang.String) private com.first.TestClazz(int) */ &#125;&#125;èŽ·å¾—æŒ‡å®šçš„æž„é€ å™¨ï¼ˆä¸åŒ…æ‹¬ç»§æ‰¿çš„ï¼‰ï¼šclazz.getDeclaredConstructor((Class... parameterTypes);12345678910111213141516import java.lang.reflect.Constructor;public class TestClazz &#123; private TestClazz(int i) &#123; System.out.println(i); &#125; public TestClazz(String msg) &#123; System.out.println(msg); &#125; public TestClazz() &#123; &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Constructor con = clazz.getDeclaredConstructor(int.class); System.out.println(con); /*Console: private com.first.TestClazz(int) */ &#125;&#125;åˆ›å»ºå¯¹è±¡é€šè¿‡å…¬å…±æž„é€ å™¨åˆ›å»ºå¯¹è±¡ï¼šconstructor.newInstance(Object... initargs)æ–¹æ³•ã€‚ä¼ å…¥çš„å‚æ•°ç±»åž‹å’Œæž„é€ å™¨çš„å‚æ•°ç±»åž‹ä¸€è‡´ã€‚12345678910111213141516171819202122232425import java.lang.reflect.Constructor;public class TestClazz &#123; private TestClazz(int i) &#123; System.out.println(i); &#125; public TestClazz(String msg) &#123; System.out.println(msg); &#125; public TestClazz() &#123; &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Constructor con1 = clazz.getConstructor(String.class); Object obj1 = con1.newInstance("HelloWorld!"); System.out.println(obj1); System.out.println("-----------------------"); Constructor con2 = clazz.getConstructor(); Object obj2 = con2.newInstance(); System.out.println(obj2); /*Console: HelloWorld! com.first.TestClazz@7852e922 ----------------------- com.first.TestClazz@4e25154f */ &#125;&#125;é€šè¿‡å½“å‰ç±»ä¸å¯è®¿é—®çš„æž„é€ å™¨åˆ›å»ºå¯¹è±¡ï¼šconstructor.setAccessible(true);123456789101112131415161718192021import java.lang.reflect.Constructor;public class TestClazz &#123; private TestClazz(int i) &#123; System.out.println(i); &#125; public TestClazz(String msg) &#123; System.out.println(msg); &#125; TestClazz() &#123; &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Constructor constructor = clazz.getDeclaredConstructor(int.class); //åœ¨æœ¬ä¾‹ä¸­ä¸å†™è¿™å¥ä¹Ÿèƒ½æ‰§è¡Œï¼Œå› ä¸ºè¢«åå°„çš„ç±»å’Œå½“å‰ç±»æ˜¯åŒä¸€ä¸ªç±»ï¼Œprivateçš„æž„é€ æ–¹æ³•æ˜¯å¯ä»¥è¢«è®¿é—®çš„ //å¦‚æžœæŸä¸ªæž„é€ å™¨æ˜¯å½“å‰ç±»ä¸å¯è®¿é—®çš„ï¼Œæ­¤æ–¹æ³•å¯ä»¥ä½¿å…¶å˜æˆå¯è®¿é—®çš„ç±»åž‹ constructor.setAccessible(true); Object object = constructor.newInstance(1); System.out.println(object); /*Console: 1 com.first.TestClazz@7852e922 */ &#125;&#125;å¿«é€ŸèŽ·å¾—å¯¹è±¡å¦‚æžœè¢«åå°„çš„ç±»æœ‰è¢«å½“å‰ç±»å¯è®¿é—®çš„æ— å‚æž„é€ å‡½æ•°ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨clazz.newInstance();12345678910111213141516import java.lang.reflect.Constructor;public class TestClazz &#123; private TestClazz(int i) &#123; System.out.println(i); &#125; public TestClazz(String msg) &#123; System.out.println(msg); &#125; TestClazz() &#123; &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Object object = clazz.newInstance(); System.out.println(object); /*Console: com.first.TestClazz@7852e922 */ &#125;&#125;èŽ·å¾—æˆå‘˜å˜é‡èŽ·å¾—æ‰€æœ‰å…¬å…±ç±»åž‹çš„å±žæ€§ï¼ˆåŒ…æ‹¬ç»§æ‰¿çš„ï¼‰ï¼šclazz.getFields();123456789101112131415import java.lang.reflect.Field;public class TestClazz &#123; public String msg; private int i; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Field[] fields = clazz.getFields(); for(Field f : fields) System.out.println(f); /*Console: public java.lang.String com.first.TestClazz.msg */ &#125;&#125;èŽ·å¾—æŒ‡å®šå…¬å…±ç±»åž‹çš„å±žæ€§ï¼ˆåŒ…æ‹¬ç»§æ‰¿çš„ï¼‰ï¼šclazz.getField(String name);1234567891011121314import java.lang.reflect.Field;public class TestClazz &#123; public String msg; private int i; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Field field = clazz.getField("msg"); System.out.println(field); /*Console: public java.lang.String com.first.TestClazz.msg */ &#125;&#125;èŽ·å¾—æ‰€æœ‰çš„å±žæ€§ï¼ˆä¸åŒ…æ‹¬ç»§æ‰¿çš„ï¼‰ï¼šclazz.getDeclaredFields();12345678910111213141516import java.lang.reflect.Field;public class TestClazz &#123; public String msg; private int i; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Field []fields = clazz.getDeclaredFields(); for(Field f : fields) System.out.println(f); /*Console: public java.lang.String com.first.TestClazz.msg private int com.first.TestClazz.i */ &#125;&#125;èŽ·å¾—æŒ‡å®šçš„å±žæ€§ï¼ˆä¸åŒ…æ‹¬ç»§æ‰¿çš„ï¼‰ï¼šclazz.getDeclaredField(String name);1234567891011121314import java.lang.reflect.Field;public class TestClazz &#123; public String msg; private int i; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Field field = clazz.getDeclaredField("i"); System.out.println(field); /*Console: private int com.first.TestClazz.i */ &#125;&#125;è®¾ç½®æˆå‘˜å˜é‡çš„å€¼è®¾ç½®å¯è®¿é—®çš„å˜é‡çš„å€¼ï¼šfield.set(Object obj, Object value);1234567891011121314151617import java.lang.reflect.Field;public class TestClazz &#123; public String msg; private int i; TestClazz() &#123; &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); TestClazz object = (TestClazz)clazz.newInstance(); Field field = clazz.getDeclaredField("msg"); field.set(object, "HelloWorld!"); System.out.println(object.msg); /*Console: HelloWorld! */ &#125;&#125;è®¾ç½®ä¸å¯è®¿é—®çš„å˜é‡çš„å€¼ï¼šfield.setAccessible(true);1234567891011121314151617181920import java.lang.reflect.Field;public class TestClazz &#123; public String msg; private int i; TestClazz() &#123; &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); TestClazz object = (TestClazz)clazz.newInstance(); Field field = clazz.getDeclaredField("i"); //åœ¨æœ¬ä¾‹ä¸­ä¸å†™è¿™å¥ä¹Ÿèƒ½æ‰§è¡Œï¼Œå› ä¸ºè¢«åå°„çš„ç±»å’Œå½“å‰ç±»æ˜¯åŒä¸€ä¸ªç±»ï¼Œprivateçš„å±žæ€§æ˜¯å¯ä»¥è¢«è®¿é—®çš„ //å¦‚æžœæŸä¸ªå±žæ€§æ˜¯å½“å‰ç±»ä¸å¯è®¿é—®çš„ï¼Œæ­¤æ–¹æ³•å¯ä»¥ä½¿å…¶å˜æˆå¯è®¿é—®çš„ç±»åž‹ field.setAccessible(true); field.set(object, 65535); System.out.println(object.i); /*Console: 65535 */ &#125;&#125;ä¸€ä¸ªç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼çš„ä¾‹å­1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public class Regs &#123; //èˆªç­å”¯ä¸€æ ‡è¯† public static final String FLID = "((flid=)&#123;1&#125;)\\d&#123;7&#125;"; //èˆªç­æ ‡è¯† public static final String FFID = "((ffid=)&#123;1&#125;)\\w&#123;2&#125;-\\w&#123;3,6&#125;-\\d&#123;8&#125;-\\w"; //ç»“æŸç™»æœºæ—¶é—´ public static final String POKT = "((pokt=)&#123;1&#125;)(\\d&#123;14&#125;|null)"; //é¢„è®¡èµ·é£žæ—¶é—´ public static final String FETT = "((fett=)&#123;1&#125;)(\\d&#123;14&#125;|null)"; //å®žé™…èµ·é£žæ—¶é—´ public static final String FRTT = "((frtt=)&#123;1&#125;)(\\d&#123;14&#125;|null)"; //å€¼æœºæŸœå° public static final String CODE = "((code=)&#123;1&#125;)[A-Z]\\d&#123;2&#125;"; //èˆªç­å· public static final String FLNO = "((flno=)&#123;1&#125;)[A-Za-z0-9]&#123;3,6&#125;"; //å‡ºå‘åœ° public static final String ARNO1 = "((1, apcd=)&#123;1&#125;)(\\w&#123;3,4&#125;|null)"; //ç»åœåœ° public static final String ARNO2 = "((2, apcd=)&#123;1&#125;)(\\w&#123;3,4&#125;|null)"; //ç›®çš„åœ° public static final String ARNO3 = "((3, apcd=)&#123;1&#125;)(\\w&#123;3,4&#125;|null)"; //å…±äº«èˆªç­å· public static final String SFNO = "((sfno=)&#123;1&#125;)[A-Za-z0-9]&#123;3,6&#125;"; /** * &lt;p&gt;Title: get&lt;/p&gt; * &lt;p&gt;Description: èŽ·å¾—ç›¸åº”çš„Pattern&lt;/p&gt; * @param regNameï¼Œæ­£åˆ™è¡¨è¾¾å¼å¯¹åº”çš„å±žæ€§å * @return Pattern * @throws Exception */ public Pattern get(String regName) throws Exception &#123; Class clazz = Class.forName("com.core.Regs"); String reg = (String) clazz.getField(regName).get(regName); return changeToPattern(reg); &#125; //ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ private static Pattern changeToPattern(String reg) &#123; return Pattern.compile(reg); &#125;&#125;èŽ·å¾—æˆå‘˜æ–¹æ³•èŽ·å¾—æ‰€æœ‰å…¬å…±çš„æ–¹æ³•ï¼ˆåŒ…æ‹¬ç»§æ‰¿çš„å’Œæž„é€ å™¨ï¼‰ï¼šclazz.getMethods();12345678910111213141516171819202122232425import java.lang.reflect.Method;public class TestClazz &#123; private int getI() &#123; return i; &#125; TestClazz() &#123; &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Method[] methods = clazz.getMethods(); for(Method m : methods) System.out.println(m); /*Console: public static void com.first.TestClazz.main(java.lang.String[]) throws java.lang.Exception public final void java.lang.Object.wait() throws java.lang.InterruptedException public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException public boolean java.lang.Object.equals(java.lang.Object) public java.lang.String java.lang.Object.toString() public native int java.lang.Object.hashCode() public final native java.lang.Class java.lang.Object.getClass() public final native void java.lang.Object.notify() public final native void java.lang.Object.notifyAll() */ &#125;&#125;èŽ·å¾—æŒ‡å®šçš„å…¬å…±æ–¹æ³•ï¼ˆåŒ…æ‹¬ç»§æ‰¿çš„ï¼Œä¸åŒ…æ‹¬æž„é€ å™¨ï¼‰ï¼šclazz.getMethod(String name, Class&lt;?&gt;... parameterTypes);123456789101112131415import java.lang.reflect.Method;public class TestClazz&#123; public void show(String msg) &#123; System.out.println(msg); &#125; TestClazz() &#123; &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Method m = clazz.getMethod("show", String.class); System.out.println(m); /*Console: public void com.first.TestClazz.show(java.lang.String) */ &#125;&#125;èŽ·å¾—æ‰€æœ‰çš„æ–¹æ³•ï¼ˆä¸åŒ…æ‹¬ç»§æ‰¿çš„ï¼Œä¸åŒ…æ‹¬æž„é€ å™¨ï¼‰ï¼šclazz.getDeclaredMethods();12345678910111213141516import java.lang.reflect.Method;public class TestClazz&#123; private int getI() &#123; return i; &#125; TestClazz() &#123; &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Method[] methods = clazz.getDeclaredMethods(); for(Method m : methods) System.out.println(m); /*Console: public static void com.first.TestClazz.main(java.lang.String[]) throws java.lang.Exception private int com.first.TestClazz.getI() */ &#125;&#125;èŽ·å¾—æŒ‡å®šçš„æ–¹æ³•ï¼ˆä¸åŒ…æ‹¬ç»§æ‰¿çš„ï¼Œä¸åŒ…æ‹¬æž„é€ å™¨ï¼‰ï¼šclazz.getDeclaredMethod(String name, Class&lt;?&gt;... parameterTypes);1234567891011121314import java.lang.reflect.Method;public class TestClazz&#123; private void show(String msg) &#123; System.out.println(msg); &#125; TestClazz() &#123; &#125; @SuppressWarnings("rawtypes") public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName("com.first.TestClazz"); Method m = clazz.getDeclaredMethod("show", String.class); System.out.println(m); /*Console: public void com.first.TestClazz.show(java.lang.String) */ &#125;&#125;æ‰§è¡Œæ–¹æ³•æ‰§è¡Œå…¬å…±æ–¹æ³•ï¼šmethod.invoke(Object obj, Object... args);123456789101112131415import java.lang.reflect.Method;public class TestClazz&#123; public void show(String msg) &#123; System.out.println(msg); &#125; TestClazz() &#123; &#125; @SuppressWarnings(&quot;rawtypes&quot;) public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName(&quot;com.first.TestClazz&quot;); Object object = clazz.newInstance(); Method m = clazz.getDeclaredMethod(&quot;show&quot;, String.class); m.invoke(object, &quot;HelloWorld!&quot;); /*Console: HelloWorld */ &#125;&#125;æ‰§è¡Œç§æœ‰æ–¹æ³•ï¼šmethod.invoke(Object obj, Object... args);12345678910111213141516import java.lang.reflect.Method;public class TestClazz&#123; private void show(String msg) &#123; System.out.println(msg); &#125; TestClazz() &#123; &#125; @SuppressWarnings(&quot;rawtypes&quot;) public static void main(String[] args) throws Exception &#123; Class clazz = Class.forName(&quot;com.first.TestClazz&quot;); Object object = clazz.newInstance(); Method m = clazz.getDeclaredMethod(&quot;show&quot;, String.class); m.setAccessible(true); m.invoke(object, &quot;HelloWorld!&quot;); /*Console: HelloWorld */ &#125;&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[æ–¹æ³•åŠŸèƒ½çš„å¢žå¼º]]></title>
    <url>%2F2019%2F%E6%96%B9%E6%B3%95%E5%8A%9F%E8%83%BD%E7%9A%84%E5%A2%9E%E5%BC%BA%2F</url>
    <content type="text"><![CDATA[å¼•è¨€æ–¹æ³•åŠŸèƒ½çš„å¢žå¼ºæ˜¯å¼€å‘æ—¶å¸¸åšçš„äº‹æƒ…ï¼Œå½“å®˜æ–¹æˆ–è€…ç¬¬ä¸‰æ–¹æä¾›çš„APIä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€è¦æ—¶ï¼Œå¯ä»¥åœ¨åŽŸæœ‰APIçš„åŸºç¡€ä¸ŠåŠ ä¸Šæˆ‘ä»¬è‡ªå®šä¹‰çš„åŠŸèƒ½æ¥å®žçŽ°éœ€æ±‚ã€‚å¸¸è§çš„åŠŸèƒ½å¢žå¼ºçš„æ–¹å¼æœ‰ä¸‰ç§ï¼šç»§æ‰¿ã€è£…é¥°è€…æ¨¡å¼ã€åŠ¨æ€ä»£ç†ã€‚å‡†å¤‡å·¥ä½œä»¥æœ€è¿‘çœ‹çš„æŸç å†œåŸ¹è®­ç­çš„è§†é¢‘ç»“åˆè‡ªå·±çš„ç†è§£ç»™å‡ºä¸ªä¾‹å­æ¥ç†è§£ã€‚çŽ°åœ¨æœ‰ä¸€ä¸ªå¾ˆç«çš„æ¦‚å¿µï¼šæ— äººé©¾é©¶ã€‚å‡è®¾æ— äººé©¾é©¶çš„æ ‡å‡†æ˜¯Oracleå…¬å¸åˆ¶å®šçš„ï¼ŒGoogleæƒ³ä½¿ç”¨Javaè¯­è¨€æ¥å¼€å‘æ— äººé©¾é©¶ç³»ç»Ÿï¼Œé‚£ä¹ˆé¦–å…ˆå®ƒéœ€è¦åˆ›å»ºä¸€ä¸ªç±»å®žçŽ°Oracleå…¬å¸æä¾›çš„æ— äººé©¾é©¶çš„æŽ¥å£ï¼ˆæŽ¥å£ä¸ºAIDrivingï¼Œç±»ä¸ºGoogleAIDrivingï¼‰ã€‚AIDriving1234public interface AIDriving &#123; public void start(); //æ— äººé©¾é©¶æ±½è½¦å¯åŠ¨çš„æ–¹æ³• public void stop(); //æ— äººé©¾é©¶æ±½è½¦åœæ­¢çš„æ–¹æ³•&#125;GoogleAIDriving12345678public class GoogleAIDriving implements AIDriving &#123; public void start() &#123; System.out.println("Googleæ±½è½¦å¯åŠ¨äº†..."); &#125; public void stop() &#123; System.out.println("Googleæ±½è½¦åœæ­¢äº†..."); &#125;&#125;ç»§æ‰¿è¿™ä¸ªæ—¶å€™å›½å†…æŸæ±½è½¦åˆ¶é€ å…¬å¸ï¼ˆè®¾ä¸ºAå…¬å¸ï¼‰æƒ³ä½¿ç”¨Googleæä¾›çš„æ— äººé©¾é©¶ç³»ç»Ÿã€‚ä½†æ˜¯Googleæä¾›çš„ç³»ç»Ÿä¸å¤ªé€‚åˆæˆ‘å›½å›½æƒ…ï¼Œæ‰€ä»¥Aå…¬å¸çš„å·¥ç¨‹å¸ˆå°±æƒ³åœ¨Googleç³»ç»Ÿçš„åŸºç¡€ä¸Šè¿›è¡Œå®šåˆ¶ã€‚ä»–ä»¬é€‰æ‹©çš„æ–¹å¼æ˜¯ç»§æ‰¿GoogleAIDrivingï¼Œåˆ›å»ºä¸€ä¸ªè‡ªå·±çš„ç±»ï¼šA1GoogleAIDrivingã€‚12345678910public class A1GoogleAIDriving extends GoogleAIDriving&#123; public void start() &#123; System.out.println("åœ¨ä¸­å›½å¯åŠ¨æ±½è½¦"); super.start(); &#125; public void stop() &#123; System.out.println("åœ¨ä¸­å›½åœæ­¢æ±½è½¦"); super.stop(); &#125;&#125;è£…é¥°è€…æ¨¡å¼ä½†ç†æƒ³å¾ˆç¾Žå¥½ï¼ŒçŽ°å®žå¾ˆæ®‹å¿ã€‚GoogleAIDrivingè¢«å®šä¹‰ä¸ºä¸€ä¸ªfinalç±»ï¼ˆä¸èƒ½è¢«ç»§æ‰¿ï¼‰ï¼Œè¿™ä¸ªæ˜¯å¯ä»¥ç†è§£çš„ï¼Œå› ä¸ºå¦‚æžœGoogleAIDrivingä¸æ˜¯ä¸€ä¸ªfinalç±»ï¼Œä»»ä½•ç»§æ‰¿GoogleAIDrivingçš„ç±»éƒ½å¯ä»¥å¯¹å…¶start()ã€stop()æ–¹æ³•è¿›è¡Œè¦†ç›–ï¼Œå¦‚æžœè¦†ç›–æ—¶å‡ºçŽ°bugå°±å¯èƒ½ä¼šå‡ºçŽ°å¤§é—®é¢˜ã€‚æ‰€ä»¥åƒå¯åŠ¨ã€åœæ­¢è¿™ç§æ ¸å¿ƒåŠŸèƒ½æ˜¯ä¸å…è®¸æ±½è½¦åˆ¶é€ å•†éšæ„ä¿®æ”¹çš„ã€‚Aå…¬å¸çš„å·¥ç¨‹å¸ˆå°±æƒ³åˆ°äº†ä½¿ç”¨è£…é¥°è€…æ¨¡å¼æ¥å¢žå¼ºåŠŸèƒ½ï¼ˆè®¾ç±»ä¸ºA2GoogleAIDrivingï¼‰ã€‚è£…é¥°è€…æ¨¡å¼è¯¥æ€Žä¹ˆåšå‘¢ï¼Ÿé¦–å…ˆï¼Œè£…é¥°ç±»å¾—å’Œè¢«è£…é¥°ç±»å®žçŽ°ç›¸åŒçš„æŽ¥å£ï¼Œå³AIDrivingï¼›ç¬¬äºŒï¼Œåœ¨è£…é¥°ç±»ä¸­å®šä¹‰ä¸€ä¸ªAIDrivingç±»åž‹çš„å±žæ€§ï¼Œå³AIDriving carï¼›ç¬¬ä¸‰ï¼Œæœ‰ä¸€ä¸ªå‚æ•°ä¸ºAIDrivingç±»åž‹çš„æž„é€ å‡½æ•°ï¼Œå³A2GoogleAIDriving(AIDriving car)ï¼›ç¬¬å››ï¼Œè£…é¥°ç±»çš„æ¯ä¸ªæ–¹æ³•éƒ½è¦è°ƒç”¨è¢«è£…é¥°ç±»ç›¸åº”çš„æ–¹æ³•ï¼›ç¬¬äº”ï¼Œä½¿ç”¨ç¬¬ä¸‰æ­¥ä¸­çš„æž„é€ å‡½æ•°åˆ›å»ºè£…é¥°ç±»ï¼›ç¬¬å…­ï¼Œåœ¨è£…é¥°ç±»çš„æ–¹æ³•ä¸­è‡ªå®šä¹‰åŠŸèƒ½ã€‚åˆ›å»ºè£…é¥°ç±»123456789101112131415public class A2GoogleAIDriving implements AIDriving &#123; private AIDriving car; public A2GoogleAIDriving(AIDriving car) &#123; this.car = car; &#125; public void start() &#123; System.out.println("åœ¨ä¸­å›½å¯åŠ¨æ±½è½¦..."); car.start(); &#125; public void stop() &#123; System.out.println("åœ¨ä¸­å›½åœæ­¢æ±½è½¦..."); car.stop(); &#125;&#125;è°ƒç”¨è£…é¥°ç±»12345678910public class Test &#123; public static void main(String[] args) &#123; GoogleAIDriving car = new GoogleAIDriving(); A2GoogleAIDriving aCar = new A2GoogleAIDriving(car); aCar.start(); /* Console : åœ¨ä¸­å›½å¯åŠ¨æ±½è½¦... Googleæ±½è½¦å¯åŠ¨äº†... */ &#125;&#125;åŠ¨æ€ä»£ç†Aå…¬å¸å·¥ç¨‹å¸ˆæ­£æ²‰æµ¸åœ¨èƒœåˆ©åˆ°æ¥å‰çš„å–œæ‚¦ä¸­ï¼Œçªç„¶ä»–ä»¬å‘çŽ°AIDrivingæŽ¥å£æœ‰1000ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥åœ¨è£…é¥°ç±»ä¸­å…¶ä»–ä¸éœ€è¦åŠ å…¥è‡ªå®šä¹‰åŠ¨èƒ½çš„998ä¸ªæ–¹æ³•æˆ‘ä»¬ä¹Ÿè¦è°ƒç”¨ã€‚è¿™ä¸€çœ‹å°±ä¸æ˜¯ä¸€ä¸ªå¥½çš„è§£å†³æ–¹æ¡ˆï¼ŒAå…¬å¸çš„æŸå¤§ä½¬å°±æƒ³èµ·æ¥åŠ¨æ€ä»£ç†ã€‚åŠ¨æ€ä»£ç†çš„è¯¦ç»†è®²è§£è¯·è§è¿™é‡Œã€‚åŠ¨æ€ä»£ç†ä¸­å¯ä»¥ä½¿ç”¨åå°„æŠ€æœ¯å¾—åˆ°æ–¹æ³•çš„ä¿¡æ¯ï¼Œå¦‚æžœæ˜¯start()æˆ–è€…stop()æ–¹æ³•å°±åŠ ä¸Šè‡ªå®šä¹‰çš„åŠŸèƒ½ï¼Œå…¶ä»–æ–¹æ³•ç›´æŽ¥æ‰§è¡Œã€‚A3GoogleAIDriving123456789101112131415161718192021222324252627public class A3GoogleAIDriving&#123; private AIDriving car; public A3GoogleAIDriving(AIDriving car) &#123; this.car = car; &#125; public AIDriving getIns() &#123; AIDriving a3GoogleAIDriving = (AIDriving)Proxy.newProxyInstance( GoogleAIDriving.class.getClassLoader(), GoogleAIDriving.class.getInterfaces(), new InvocationHandler() &#123; public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; if(method.getName().equals("start") &amp;&amp;method.getParameterTypes().length == 0) &#123; System.out.println("åœ¨ä¸­å›½å¯åŠ¨æ±½è½¦..."); return method.invoke(car, args); &#125;else if (method.getName().equals("stop") &amp;&amp;method.getParameterTypes().length == 0) &#123; System.out.println("åœ¨ä¸­å›½åœæ­¢æ±½è½¦..."); return method.invoke(car, args); &#125; return method.invoke(car, args); &#125; &#125;); return a3GoogleAIDriving; &#125;&#125;æ‰§è¡ŒA3GoogleAIDriving123456789101112public static void main(String[] args) throws Exception &#123; GoogleAIDriving car = new GoogleAIDriving(); A3GoogleAIDriving a3GoogleAIDriving = new A3GoogleAIDriving(car); AIDriving ins = a3GoogleAIDriving.getIns(); ins.start(); ins.stop(); /* Console : åœ¨ä¸­å›½å¯åŠ¨æ±½è½¦... Googleæ±½è½¦å¯åŠ¨äº†... åœ¨ä¸­å›½åœæ­¢æ±½è½¦... Googleæ±½è½¦åœæ­¢äº†... */&#125;ä¸‰ç§æ–¹å¼æ€»ç»“åˆ†æžäº†ä¸‰ç§æ–¹å¼çš„åŠŸèƒ½å¢žå¼ºï¼Œå„ä½å¤§è…¿æ˜¯ä¸æ˜¯è¢«å°ç å†œå¸¦å…¥äº†ä¸€ä¸ªè¯¯åŒºï¼šåŽè€…æ¯”å‰è€…æ›´å¥½ï¼ŸæŒ‰ç…§å­˜åœ¨å³åˆç†çš„è§£é‡Šï¼Œè‚¯å®šä¸æ˜¯è¿™æ ·çš„ã€‚ç›¸åï¼Œä¸‰ç§æ–¹æ³•ä¸­ç»§æ‰¿å´æ˜¯æœ€å¸¸è§çš„å¢žå¼ºæ–¹å¼ï¼Œå› ä¸ºå®ƒç»“æž„ç®€å•ã€æ˜“äºŽç†è§£ã€‚è€ŒåŽä¸¤ç§éƒ½æ˜¯è®¾è®¡æ¨¡å¼ï¼Œä¸€èˆ¬åœ¨å¤§åž‹è½¯ä»¶å¼€å‘æ—¶æ‰ä¼šç”¨åˆ°ã€‚è€Œä¸”å¯¹äºŽè£…é¥°è€…æ¨¡å¼å’ŒåŠ¨æ€ä»£ç†çš„åŒºåˆ«æ˜¯ï¼šè£…é¥°è€…æ¨¡å¼ä¸€èˆ¬ç”¨äºŽå¢žå¼ºåŠŸèƒ½ï¼ŒåŠ¨æ€ä»£ç†ä¸€èˆ¬ç”¨äºŽæ‹¦æˆªå¯¹æ–¹æ³•çš„è¯·æ±‚ã€‚è£…é¥°è€…æ¨¡å¼è§£å†³Webå¼€å‘ä¹±ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768import java.io.UnsupportedEncodingException;import java.util.Map;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletRequestWrapper;/** * @ClassName: RequestEncodingUtils * @Description: TODO(è§£å†³requestä¹±ç çš„å·¥å…·ç±») * @author è©¹é‡‘æµ© * @date 2018å¹´3æœˆ11æ—¥ ä¸‹åˆ2:27:04 */public class RequestEncodingUtils extends HttpServletRequestWrapper &#123; private HttpServletRequest request; private Boolean isEncoded = false; public RequestEncodingUtils(HttpServletRequest request) &#123; super(request); this.request = request; &#125; @Override public Map&lt;String, String[]&gt; getParameterMap() &#123; String method = request.getMethod(); Map&lt;String, String[]&gt; parameterMap = request.getParameterMap(); //å¤„ç†Postè¯·æ±‚ if(method.equalsIgnoreCase("post")) &#123; try &#123; request.setCharacterEncoding("utf-8"); parameterMap = request.getParameterMap(); &#125; catch (UnsupportedEncodingException e) &#123; e.printStackTrace(); &#125; &#125;else if (method.equalsIgnoreCase("get")) &#123; //å¤„ç†Getè¯·æ±‚ //ä¿è¯ç¼–ç åªè¢«æ‰§è¡Œä¸€æ¬¡ if(!isEncoded) &#123; for(String key : parameterMap.keySet()) &#123; String []values = parameterMap.get(key); if(values != null) &#123; for(int i = 0; i &lt; values.length; i++) &#123; try &#123; values[i] = new String(values[i].getBytes("ISO-8859-1"),"utf-8"); &#125; catch (UnsupportedEncodingException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125; &#125; isEncoded = true; &#125; return parameterMap; &#125; @Override public String[] getParameterValues(String name) &#123; Map&lt;String, String[]&gt; parameterMap = this.getParameterMap(); String []values = parameterMap.get(name); return values; &#125; @Override public String getParameter(String name) &#123; String []values = getParameterValues(name); return values!=null?values[0]:null; &#125;&#125;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253import java.io.IOException;import javax.servlet.Filter;import javax.servlet.FilterChain;import javax.servlet.FilterConfig;import javax.servlet.ServletException;import javax.servlet.ServletRequest;import javax.servlet.ServletResponse;import javax.servlet.annotation.WebFilter;import javax.servlet.http.HttpServletRequest;import com.sys.utils.RequestEncodingUtils;/** * @ClassName: GlobalEncoding * @Description: TODO(è§£å†³å…¨å±€ç¼–ç çš„filter) * @author è©¹é‡‘æµ© * @date 2018å¹´3æœˆ10æ—¥ ä¸‹åˆ10:26:09 */@WebFilter("/*")public class GlobalEncoding implements Filter &#123; /** * Default constructor. */ public GlobalEncoding() &#123; // TODO Auto-generated constructor stub &#125; public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123; response.setContentType("text/html;charset=UTF-8"); RequestEncodingUtils myRequest = new RequestEncodingUtils((HttpServletRequest)request); chain.doFilter(myRequest, response); &#125; /** * @see Filter#destroy() */ public void destroy() &#123; // TODO Auto-generated method stub &#125; /** * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain) */ /** * @see Filter#init(FilterConfig) */ public void init(FilterConfig fConfig) throws ServletException &#123; // TODO Auto-generated method stub &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ¨æ€ä»£ç†]]></title>
    <url>%2F2019%2F%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%2F</url>
    <content type="text"><![CDATA[ç†è§£ä»£ç†ä»£ç†è¿™ä¸ªè¯å¯¹äºŽå¹¿å‘Šæ»¡å¤©é£žçš„çŽ°ä»£ç¤¾ä¼šåº”è¯¥æ˜¯å¾ˆå¸¸è§äº†ï¼Œå’Œå®ƒå…·æœ‰ç›¸åŒæ„ä¹‰è¿˜æœ‰ä¸­ä»‹ã€ç»çºªäººç­‰è¯ã€‚æˆ‘ä»¬å°±ä»¥æ‰¾å½±è§†æ˜Žæ˜Ÿæ‹ç‰‡ä¸ºä¾‹æ¥ç†è§£ä»£ç†ã€‚å‡å¦‚ä½ æœ‰ä¸€ä¸ªå¾ˆå¥½çš„å‰§æœ¬ï¼ŒçŽ°åœ¨æƒ³æ‰¾Aæ˜Žæ˜Ÿæ¥åšä¸»è§’ï¼Œå¯ä»¥ä¸¤ç§æ–¹å¼ï¼šç¬¬ä¸€ç§æ˜¯ç›´æŽ¥æ‰¾Aæ˜Žæ˜Ÿæœ¬äººï¼Œç¬¬äºŒç§æ˜¯æ‰¾Aæ˜Žæ˜Ÿçš„ç»çºªäººã€‚ä½†æ˜¯æ˜Žæ˜Ÿçš„ä¸»è¦åŠŸèƒ½æ˜¯æ‹æˆï¼Œå¦‚æžœè¯¸å¦‚æŠ¥é…¬ã€æ¡£æœŸã€å®£ä¼ ç­‰å·¥ä½œä¹Ÿè®©Aæ˜Žæ˜Ÿæ¥è´Ÿè´£ï¼ŒåŠ¿å¿…ä¼šå‡å°‘ä»–/å¥¹çš„æ‹æˆæ—¶é—´ï¼Œæ‰€ä»¥æ›´å¥½çš„æ–¹å¼æ˜¯åŽ»å¯»æ±‚ä»–/å¥¹çš„ç»çºªäººï¼Œè®©ç»çºªäººæ¥åšè¿™äº›æ‹æˆä»¥å¤–çš„å·¥ä½œã€‚ä½†åŒæ—¶ç»æµŽäººä¹Ÿå¾—æœ‰å’Œæ˜Žæ˜ŸAä¸€æ ·çš„åŠŸèƒ½ï¼Œæ¯”å¦‚Aä¼šæ¼”æˆã€å”±æ­Œã€è·³èˆžï¼Œé‚£ä¹ˆç»çºªäººä¹Ÿå¾—æœ‰è¿™äº›åŠŸèƒ½ï¼Œåªä¸è¿‡ç»çºªäººçš„åŠŸèƒ½æ˜¯è®©æ˜Žæ˜ŸAåŽ»å®Œæˆçš„ï¼Œç»çºªäººæœ¬èº«åªæä¾›è¿™ç§æœåŠ¡çš„æŽ¥å£ã€‚è€Œæˆ‘ä»¬æ‰€è¯´çš„æ˜Žæ˜ŸAä¾¿æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œç»çºªäººä¾¿æ˜¯ä»£ç†å¯¹è±¡ã€‚å¯¹äºŽJavaä¸­çš„ä»£ç†ï¼Œå‡å¦‚æœ‰ä¸€ä¸ªæ–¹æ³•ï¼ˆè®¾ä¸ºM1ï¼‰çš„åŠŸèƒ½æ˜¯æŠŠUTF-8ç¼–ç ä¸‹çš„å­—ç¬¦è½¬åŒ–æˆGBKç¼–ç ä¸‹çš„å­—ç¬¦ã€‚é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•çš„åŠŸèƒ½å°±æ˜¯è¿›è¡Œè½¬åŒ–ã€å¯¹äºŽåˆ¤æ–­ä¼ å…¥çš„æ˜¯ä¸æ˜¯UTF-8ç¼–ç ä¸‹çš„å­—ç¬¦è¿™ç§äº‹æƒ…åº”è¯¥ä¼ å…¥ä¹‹å‰å°±å¤„ç†å®Œæˆï¼Œæ‰€ä»¥è¿™æ—¶å€™å°±è¦æœ‰ä¸€ä¸ªä»£ç†æ–¹æ³•ï¼ˆè®¾ä¸ºM2ï¼‰åœ¨M1æ‰§è¡Œä¹‹å‰åšä¸ªå¤„ç†ã€‚å½“ç„¶M1æ‰§è¡Œå®Œæ¯•ä¹‹åŽä¹Ÿå¯èƒ½å­˜åœ¨M3è¿›è¡Œä¸€äº›å¤„ç†ã€‚ä»£ç†å¯¹è±¡çš„è¦ç‚¹ä»£ç†å¯¹è±¡å­˜åœ¨çš„ä»·å€¼ä¸»è¦ç”¨äºŽæ‹¦æˆªå¯¹ç›®æ ‡å¯¹è±¡çš„è®¿é—®ã€‚ä»£ç†å¯¹è±¡åº”è¯¥å…·æœ‰å’Œç›®æ ‡å¯¹è±¡ç›¸åŒçš„æ–¹æ³•ã€‚åŠ¨æ€ä»£ç†åœ¨æˆ‘ä»¬åˆšæ‰çš„è§£é‡Šä¸­ï¼Œæ¯ä¸ªç›®æ ‡å¯¹è±¡éƒ½è¦æœ‰ä¸€ä¸ªå®žåœ¨çš„ä»£ç†å¯¹è±¡ï¼Œè¿™åœ¨å®žé™…å¼€å‘ä¸­æ˜¯å¾ˆè€—è´¹ç²¾åŠ›çš„ä¸€ä»¶äº‹ï¼Œä½†å¦‚æžœè¯´èƒ½åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ç»™æˆ‘ä»¬åŠ¨æ€ç”Ÿæˆä¸€ä¸ªä»£ç†å¯¹è±¡å¯ä»¥å¤§å¤§å‡å°ç¼–å†™çš„ä»£ç çš„åŽ‹åŠ›ã€‚æ‰€ä»¥åŠ¨æ€ä»£ç†çš„æ¦‚å¿µå°±æ˜¯ï¼šä¸ç”¨æ‰‹åŠ¨ç¼–å†™ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œä¸éœ€è¦ç¼–å†™ä¸Žç›®æ ‡å¯¹è±¡ç›¸åŒçš„æ–¹æ³•ï¼Œè¿è¡Œæ—¶åœ¨å†…å­˜ä¸­åŠ¨æ€ç”Ÿæˆä»£ç†å¯¹è±¡ï¼ˆå­—èŠ‚ç å¯¹è±¡çº§åˆ«çš„ä»£ç†å¯¹è±¡ï¼‰ã€‚JDKæä¾›çš„åŠ¨æ€ä»£ç†JDK1.5ä¹‹åŽä¸ºæˆ‘ä»¬æä¾›äº†ç”¨äºŽä¸“ç”¨äºŽåŠ¨æ€ç”Ÿæˆä»£ç†å¯¹è±¡çš„ç±»ï¼šjava.lang.reflect.Proxyã€‚æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„é™æ€æ–¹æ³•ï¼š12static Object newProxyInstance (ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHander h)åœ¨è§£é‡Šå‚æ•°ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªæŽ¥å£InvocationHanderï¼ŒJDKå¯¹å®ƒçš„è§£é‡Šæ˜¯ï¼šEach proxy instance has an associated invocation handler. When a method is invoked on a proxy instance, the method invocation is encoded and dispatched to the method of its invocation handler.ï¼ˆæ¯ä¸ªä»£ç†å®žä¾‹éƒ½æœ‰ä¸€ä¸ªå…³è”çš„è°ƒç”¨å¤„ç†ç¨‹åºã€‚å½“åœ¨ä»£ç†å®žä¾‹ä¸Šè°ƒç”¨æ–¹æ³•æ—¶ï¼Œå°†æ–¹æ³•è°ƒç”¨ç¼–ç å¹¶è°ƒåº¦åˆ°å…¶è°ƒç”¨å¤„ç†ç¨‹åºçš„æ–¹æ³•ã€‚ï¼‰ å®ƒåªæœ‰ä¸€ä¸ªinvoke()æ–¹æ³•ã€‚æˆ‘ä»¬ä¹‹åŽæ‰§è¡Œæ—¶çœŸæ­£èµ·ä½œç”¨çš„ä¹Ÿæ˜¯è¿™ä¸ªæ–¹æ³•ã€‚public Object invoke(Object proxy, Method method, Object[] args) throws Throwable;å¯¹newProxyInstance()æ–¹æ³•å‚æ•°çš„è§£é‡Šåœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ã€‚æ˜Žæ˜ŸæŽ¥å£12345public interface BrightStar &#123; public void sing(); public String dancing(); public String ShootFilm(String filmName);&#125;Aæ˜Žæ˜Ÿç±»1234567891011121314public class StarA implements BrightStar&#123; @Override public void sing() &#123; System.out.println("A is singing..."); &#125; @Override public String dancing() &#123; return "Hai cao wu"; &#125; @Override public String ShootFilm(String filmName) &#123; return filmName; &#125;&#125;æµ‹è¯•åŠ¨æ€ä»£ç†123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051public class Test &#123; public static void main(String[] args) &#123; StarA starA = new StarA(); BrightStar newProxyInstance = (BrightStar)Proxy.newProxyInstance( //ä»£ç†ç±»çš„ç±»åŠ è½½å™¨ï¼ŒèŽ·å–ç›®æ ‡ç±»åŠ è½½å™¨å³å¯ StarA.class.getClassLoader(), //ä»£ç†ç±»åº”è¯¥å®žçŽ°çš„æŽ¥å£ï¼Œç”±äºŽä»£ç†ç±»å’Œç›®æ ‡ç±»éœ€è¦ç»§æ‰¿ç›¸åŒçš„æŽ¥å£ï¼Œä½¿ç”¨ç›®æ ‡ç±»çš„æŽ¥å£å³å¯ StarA.class.getInterfaces(), //ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ä¼ å…¥InvocationHandlerçš„å®žä¾‹ new InvocationHandler() &#123; /* * proxyï¼šä¼ å…¥ä»£ç†å¯¹è±¡ã€‚ * methodï¼šè¢«æ‰§è¡Œçš„æ–¹æ³•ã€‚ * argsï¼šä¼ å…¥çš„å‚æ•°ã€‚ * ä¾‹å­ï¼š newProxyInstance.ShootFilm("æˆ‘ä¸æ˜¯è¯ç¥ž"); * proxyï¼šnewProxyInstanceï¼› methodï¼šShootFilmï¼› argsï¼š"æˆ‘ä¸æ˜¯è¯ç¥ž" */ public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; //æ‰§è¡Œå‰çš„æ“ä½œ System.out.println("before"); Object invoke = method.invoke(starA, args); //æ‰§è¡ŒåŽçš„æ“ä½œ System.out.println("after"); return invoke; &#125; &#125;); //è°ƒç”¨æ–¹æ³• newProxyInstance.sing(); System.out.println("------------------------------------"); String dancing = newProxyInstance.dancing(); System.out.println(dancing); System.out.println("------------------------------------"); String film = newProxyInstance.ShootFilm("æˆ‘ä¸æ˜¯è¯ç¥ž"); System.out.println(film); /* Console : before A is singing... after ------------------------------------ before after Hai cao wu ------------------------------------ before after æˆ‘ä¸æ˜¯è¯ç¥ž */ &#125;&#125;ä¸‹é¢ä»‹ç»ä¸€ä¸ªç»å…¸æ¡ˆä¾‹ï¼Œä½¿ç”¨åŠ¨æ€ä»£ç†è§£å†³Webå·¥ç¨‹çš„å…¨å±€ç¼–ç é—®é¢˜ã€‚å‰ç«¯ä»£ç 1234567891011121314151617181920212223&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt; &lt;title&gt;Insert_Title_Here&lt;/title&gt; &lt;/head&gt; &lt;style&gt; &lt;/style&gt; &lt;body&gt; &lt;!--ä¸»ä½“éƒ¨åˆ†--&gt; &lt;h2&gt;getæ–¹å¼&lt;/h2&gt; &lt;form action="/ProxySolveCoding/test" method="get"&gt; &lt;input name="name" type="text"/&gt; &lt;input type="submit" value="æäº¤"/&gt; &lt;/form&gt; &lt;h2&gt;postæ–¹å¼&lt;/h2&gt; &lt;form action="/ProxySolveCoding/test" method="post"&gt; &lt;input name="name" type="text"/&gt; &lt;input type="submit" value="æäº¤"/&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt;Servlet1234567891011121314@WebServlet("/test")public class Test extends HttpServlet &#123; private static final long serialVersionUID = 1L; public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; String name = request.getParameter("name"); System.out.println(name); &#125; public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; doGet(request, response); &#125;&#125;filter12345678910111213141516171819202122232425262728293031@WebFilter(urlPatterns="/*")public class FilterCoding implements Filter &#123; public void init(FilterConfig filterConfig) throws ServletException &#123; &#125; public void destroy() &#123; &#125; public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123; final HttpServletRequest req = (HttpServletRequest)request; HttpServletRequest proReq = (HttpServletRequest)Proxy.newProxyInstance( req.getClass().getClassLoader(), req.getClass().getInterfaces(), new InvocationHandler() &#123; public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; if(method.getName().equalsIgnoreCase("getParameter")) &#123; String gm = req.getMethod(); if(gm.equalsIgnoreCase("get")) &#123; //å¤„ç†getæ–¹å¼çš„è¯·æ±‚ String before = (String) method.invoke(req, args); System.out.println(before); String after = new String(before.getBytes("iso-8859-1"), "utf-8"); return after; &#125;else &#123; //å¤„ç†postå½¢å¼çš„è¯·æ±‚ req.setCharacterEncoding("utf-8"); &#125; &#125; return method.invoke(req, args); &#125; &#125;); chain.doFilter(proReq, response); &#125;&#125;JDKåŠ¨æ€ä»£ç†çš„ç‰¹ç‚¹èƒ½è¢«ä»£ç†çš„å¯¹è±¡å¿…é¡»å­˜åœ¨æŽ¥å£ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ä¸”è¢«å¢žå¼ºçš„æ–¹æ³•ä¸€å®šæ˜¯åœ¨æŽ¥å£ä¸­æœ‰ç›¸åŒçš„æ–¹æ³•ç­¾åã€‚å› ä¸ºå®ƒç”Ÿæˆä»£ç†å¯¹è±¡çš„æ–¹å¼æ˜¯æ‹¿åˆ°ç±»çš„æ‰€æœ‰æŽ¥å£ï¼Œç„¶åŽæ ¹æ®è¿™äº›æŽ¥å£å’Œæˆ‘ä»¬å®žçŽ°çš„InvocationHandlerä¸­çš„invoke()åŠ¨æ€åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚Cglibæ¦‚è¿°æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ï¼Œé«˜æ€§èƒ½ï¼Œé«˜è´¨é‡çš„Codeç”Ÿæˆç±»åº“ï¼Œå®ƒå¯ä»¥åœ¨è¿è¡ŒæœŸæ‰©å±•Javaç±»ä¸Žå®žçŽ°JavaæŽ¥å£ã€‚å®ƒæ˜¯ç¬¬ä¸‰æ–¹å®žçŽ°çš„ï¼Œæ‰€ä»¥éœ€è¦å¯¼å…¥jaråŒ…ã€‚ç‰¹ç‚¹å’ŒJDKæä¾›çš„åŠ¨æ€ä»£ç†ç›¸æ¯”ï¼ŒCglibæ›´åŠ çµæ´»ï¼Œä¸éœ€è¦ç±»ä¸Šå­˜åœ¨æŽ¥å£ï¼Œå› ä¸ºå®ƒç”Ÿæˆä»£ç†å¯¹è±¡æ˜¯é€šè¿‡çŽ°æœ‰çš„ç±»æ´¾ç”Ÿå‡ºä¸€ä¸ªå­ç±»ï¼Œåœ¨å­ç±»ä¸­åŠ å…¥æˆ‘ä»¬æ–°çš„æ¡ä»¶ã€‚æ‰€ä»¥è¢«ä»£ç†çš„ç±»ä¸èƒ½ä½¿ç”¨finalä¿®é¥°ã€‚ä½¿ç”¨çš„ä¾‹å­123public interface UserDao &#123; void save();&#125;1234567891011121314import org.springframework.beans.factory.annotation.Value;public class UserDaoImpl implements UserDao &#123; @Value("HelloWorld") private String name; public void save() &#123; System.out.println("ä¿å­˜..."); &#125; public void talk() &#123; System.out.println("æŽ¥å£ä¸­æ²¡æœ‰æˆ‘"); &#125; public String toString() &#123; return "UserDaoImpl [name=" + name + "]"; &#125;&#125;1234567891011121314151617181920212223242526272829303132333435363738394041import java.lang.reflect.Method;import com.spring.secondday.UserDao;import com.spring.secondday.UserDaoImpl;import net.sf.cglib.proxy.Enhancer;import net.sf.cglib.proxy.MethodInterceptor;import net.sf.cglib.proxy.MethodProxy;public class CglibProxy &#123; private UserDao ud; public CglibProxy(UserDao ud) &#123; this.ud = ud; &#125; public UserDaoImpl getProxy()&#123; Enhancer en = new Enhancer(); en.setSuperclass(ud.getClass()); en.setCallback(new MethodInterceptor() &#123; //proxyï¼šè¢«ä»£ç†çš„å¯¹è±¡ mï¼šè¢«å¢žå¼ºçš„æ–¹æ³• argsï¼šæ–¹æ³•æ‰€éœ€çš„å‚æ•° methodProxyï¼šå¢žå¼ºåŽçš„æ–¹æ³• public Object intercept(Object proxy, Method m, Object[] args, MethodProxy methodProxy) throws Throwable &#123; System.out.println("before"); Object super1 = methodProxy.invokeSuper(proxy, args); System.out.println("after"); return super1; &#125; &#125;); UserDaoImpl proxy = (UserDaoImpl)en.create(); return proxy; &#125; public static void main(String[] args) &#123; UserDaoImpl ud = new UserDaoImpl(); UserDaoImpl proxy = new CglibProxy(ud).getProxy(); /*Console: before æŽ¥å£ä¸­æ²¡æœ‰æˆ‘ after */ proxy.talk(); &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç­–ç•¥æ¨¡å¼]]></title>
    <url>%2F2019%2F%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡è½¬è‡³ï¼šhttps://blog.csdn.net/u011240877/article/details/52346671ä½œè€…åŸºäºŽç½‘ç»œå°è¯´çš„å¥—è·¯ï¼Œè®²è§£äº†ç”¨ä»£ç å¦‚ä½•å®žçŽ°â€œå¦‚ä½•ç”¨å›ºå®šå¥—è·¯å†™å°è¯´â€å…ˆå®šä¹‰ä¸€ä¸ªæ•…äº‹æ¢—æ¦‚æŽ¥å£ Synopsis ï¼Œé‡Œé¢è®¾å®šäº†ä¸»è¦æƒ…èŠ‚ä¸å¹¸çš„å¼€å§‹çªç„¶æœ‰å¤©é‡åˆ°ç¥žäºº/æ¡åˆ°ç¥žå™¨ä»¥å¼±èƒœå¼ºï¼Œæš‚éœ²å…‰èŠ’å¼€æŒ‚ä¼¼çš„å‡çº§è¶…å¿«ç»„å›¢åˆ·æ€ªä¹æ­»ä¸€ç”Ÿï¼ˆä¸»è§’æ€Žä¹ˆä¹Ÿæ­»ä¸äº†ï¼‰åŠŸæˆåå°± + å¦»å¦¾æˆç¾¤1234567891011121314151617181920212223242526272829303132333435363738394041/** * ç½‘ç»œçŽ„å¹»å°è¯´çš„æ•…äº‹æ¢—æ¦‚æŽ¥å£ * å›ºå®šçš„ä¸€äº›å¥—è·¯ * Created by zhangshixin on 8/27/2016. */public interface Synopsis &#123; /** * ç©·å›°æ½¦å€’çš„å¼€å§‹ */ void badStart(); /** * çªç„¶æœ‰å¤©é‡åˆ°ç¥žäºº/æ¡åˆ°ç¥žå™¨ï¼Œå®žåŠ›å¤§æ¶¨ */ void adventure(); /** * åœ¨ä¸€åœºæˆ˜æ–—ä¸­ä»¥å¼±èƒœå¼º */ void winABattle(); /** * ä»Žæ­¤é£žé€Ÿæˆé•¿ */ void growFast(); /** * ç»„å›¢åˆ·æ€ª,ç»åŽ†ä¹æ­»ä¸€ç”Ÿï¼ˆä¸»è§’æ€Žä¹ˆä¹Ÿæ­»ä¸äº†ï¼‰ */ void manyFights(); /** * æœ€ç»ˆåŠŸæˆåå°±ï¼Œå¦»å¦¾æˆç¾¤ */ void succeed(); /** * ç»„åˆèµ·æ¥å°±æ˜¯å°è¯´å†…å®¹ */ void getContent();&#125;æœ‰äº†æ¢—æ¦‚å‰©ä¸‹çš„å°±æ˜¯å¡«å†…å®¹äº†ï¼Œæˆ‘ä»¬åˆ†åˆ«åˆ›å»ºä¸¤ä¸ªå…·ä½“å°è¯´ç±» StoryA ã€ StoryBæ•…äº‹ A ï¼Œè·³èˆžçš„æ¶é­”æ³•åˆ™123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051/** * æ•…äº‹ A ï¼Œæ¶é­”æ³•åˆ™ * Created by zhangshixin on 8/27/2016. */public class StoryA implements Synopsis &#123; private String mName; public StoryA(String name) &#123; mName = name; &#125; @Override public void badStart() &#123; System.out.println(mName + " æ— æ•…ç©¿è¶Šï¼Œå› ä¸ºæ²¡æœ‰é­”æ³•èƒ½åŠ›ï¼Œæˆä¸ºå°†å†›å®¶çš„åºŸç‰©ï¼Œä¸å—å¾…è§ã€‚"); &#125; @Override public void adventure() &#123; System.out.println(mName + " å› ä¸ºæ„å¤–æ¥åˆ°æ¶é­”å²›ï¼Œåœ¨æ¶é­”å²›ä¸Šé‡è§äº†æ¶é­”çš„ä»†äººï¼ŒèŽ·å¾—äº†ä¸€ç›´æƒ³è¦çš„ä½¿ç”¨é­”æ³•çš„èƒ½åŠ›"); &#125; @Override public void winABattle() &#123; System.out.println(mName + " ååŠ©è¾°çš‡å­å¤ºå¾—äº†å¸å›½çš„æƒåŠ›ï¼Œæˆä¸ºéƒé‡‘é¦™å…¬çˆµ"); &#125; @Override public void growFast() &#123; System.out.println(mName + " å…ˆåŽåœ¨æ›¾æ›¾æ›¾ç¥–æ¯ã€æ¶é­”ä»†äººã€åœ£éª‘å£«ã€é­”å¯¼å¸ˆçš„å¸®åŠ©ä¸‹é£žé€Ÿæˆé•¿"); &#125; @Override public void manyFights() &#123; System.out.println(mName + " å»ºç«‹é­”æ³•å­¦é™¢å’Œé­”æ³•å­¦ä¼šï¼Œä¸Žé­”æ³•å·¥ä¼šåˆ†åº­æŠ—ç¤¼ã€‚åæ‹¥è¥¿åŒ—åä¸‡é›„å…µï¼Œæ­¼ç­è¥¿åŒ—å†›å›¢ï¼Œæ‰“é€€è‰åŽŸäººï¼Œå¸¦é¢†äººç±»å…¨æ—å‡»é€€åŒ—æ–¹çš„å¼‚æ—å†›é˜Ÿã€‚"); &#125; @Override public void succeed() &#123; System.out.println(mName + " å¨¶äº†å¥³çš‡ä¸ºå¦»å­ï¼Œæˆä¸ºç½—å…°å¸å›½çš„è‹±é›„ã€‚"); &#125; @Override public void getContent() &#123; badStart(); adventure(); winABattle(); growFast(); manyFights(); succeed(); &#125;&#125;æ•…äº‹ B ï¼Œè§é¼Žçš„è¯›ä»™1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253/** * æ•…äº‹ B ,è¯›ä»™ * Created by zhangshixin on 8/27/2016. */public class StoryB implements Synopsis &#123; private String mName; public StoryB(String name) &#123; mName = name; &#125; @Override public void badStart() &#123; System.out.println(mName + " å…¨æ‘è¢«å± ï¼ŒæŠ•å…¥é’äº‘ä¸ƒè„‰ä¸­äººæ•°æœ€å°‘çš„å¤§ç«¹å³°ã€‚"); &#125; @Override public void adventure() &#123; System.out.println(mName + " åœ¨ä¸€æ¬¡ä¼ç«¹è¿‡ç¨‹ä¸­ï¼Œä¸ºè¿½ä¸€åªä¸‰çœ¼çµçŒ´ï¼Œå…¥é’äº‘å±±æ·±å¤„å¾—åˆ°äº†çƒ§ç«æ£ã€‚"); &#125; @Override public void winABattle() &#123; System.out.println(mName + " åœ¨ä¸ƒè„‰ä¼šæ­¦ä¸­ä¾¥å¹¸è¿›äº†å‰ 4ï¼Œå’Œé™†é›ªçªç­‰äººä¸€èµ·ä¸‡è å¤çªŸåŽ†ç»ƒã€‚"); &#125; @Override public void growFast() &#123; System.out.println(mName + " åœ¨é­”æ•™åå¹´ï¼Œæ·±å¾—é¬¼çŽ‹å™¨é‡å’ŒçœŸä¼ ã€‚"); &#125; @Override public void manyFights() &#123; System.out.println(mName + " ç»åŽ†æ— æ•°æˆ˜æ–—ï¼Œå…ˆæ˜¯ä¸ºé¬¼çŽ‹å–å‘½ï¼ŒåŽæ¥ä¸Žé¬¼çŽ‹å¤§æˆ˜ã€‚"); &#125; @Override public void succeed() &#123; System.out.println("å¤©åœ°ä¸ä»ï¼Œä»¥ä¸‡ç‰©ä¸ºåˆç‹—ã€‚ " + mName +" æœ€åŽæˆä¸ºæœ€æœ‰èµ„æ ¼æ‹¥æœ‰å¤©ä¹¦çš„äººã€‚"); &#125; @Override public void getContent() &#123; badStart(); adventure(); winABattle(); growFast(); manyFights(); succeed(); &#125;&#125;æ•…äº‹æ¢—æ¦‚ã€å…·ä½“å†…å®¹éƒ½æœ‰äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯é‡äº§äº†123456789101112131415161718192021222324252627282930313233/** * å†™å°è¯´ * Created by zhangshixin on 8/28/2016. */public class WriteNovel &#123; private Synopsis mSynopsis; //æ•…äº‹æ¢—æ¦‚ private String mMainActorName; //ä¸»è§’åç§° /** * æ¢—æ¦‚ã€å†…å®¹éƒ½å·®ä¸å¤šç¡®å®šåŽï¼Œæ¢ä¸ªåç§°å°±æ˜¯å¦ä¸€éƒ¨å°è¯´ * @param mainName */ public WriteNovel(String mainName)&#123; switch (mainName)&#123; case "å¼ å°å‡¡": mSynopsis = new StoryB(mainName); break; case "æœç»´": mSynopsis = new StoryA(mainName); break; default: mSynopsis = new StoryB(mainName); break; &#125; &#125; /** * èŽ·å–å°è¯´å†…å®¹ */ public void getNovelDetail()&#123; mSynopsis.getContent(); &#125;&#125;å®¢æˆ·ç«¯åªè¦è¾“å…¥ä¸»è§’åç§°ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€éƒ¨å°è¯´ï¼Œæ¯”å¦‚å†™ä¸€éƒ¨ç±»ä¼¼è¯›ä»™çš„å°è¯´ï¼Œä¸»è§’åç§°ä¸ºå¼ æ‹­å¿ƒ12345@Testpublic void testGetNovelDetail() throws Exception &#123; WriteNovel writeNovel = new WriteNovel("å¼ æ‹­å¿ƒ"); writeNovel.getNovelDetail();&#125;æˆ‘ä»¬å¯ä»¥æŠŠ WriteNovel ç±»ä¸­çš„ default è®¾ç½®ä¸º StoryB ï¼Œå³ è¯›ä»™ï¼š12345678public WriteNovel(String mainName)&#123; switch (mainName)&#123; //...çœç•¥æŽ‰ä¸å…³é”®çš„å†…å®¹ default: mSynopsis = new StoryB(mainName); break; &#125;&#125;å‡å¦‚çŽ°åœ¨éœ€æ±‚å˜äº†ï¼Œè¦å†™ä¸€éƒ¨ç©¿è¶Šçš„å°è¯´ï¼Œä¸»è§’è¿˜æ˜¯ å¼ æ‹­å¿ƒï¼Œè¿™æ—¶åªéœ€ä¿®æ”¹ WriteNovel ä¸­çš„ default è®¾ç½®ä¸º StoryA ï¼Œå³ æ¶é­”æ³•åˆ™ å³å¯ï¼Œå®¢æˆ·ç«¯ä¸éœ€è¦ä¿®æ”¹1234567891011121314151617/** * æ¢—æ¦‚ã€å†…å®¹éƒ½å·®ä¸å¤šç¡®å®šåŽï¼Œæ¢ä¸ªåç§°å°±æ˜¯å¦ä¸€éƒ¨å°è¯´ * @param mainName */public WriteNovel(String mainName)&#123; switch (mainName)&#123; case &quot;å¼ å°å‡¡&quot;: mSynopsis = new StoryB(mainName); break; case &quot;æœç»´&quot;: mSynopsis = new StoryA(mainName); break; default: mSynopsis = new StoryA(mainName); break; &#125;&#125;æˆ‘ä»¬å°†å…¬å…±çš„æƒ…èŠ‚æå–åˆ°æ¢—æ¦‚æŽ¥å£ Synopsis ä¸­ï¼Œç„¶åŽåˆ›å»ºä¸åŒçš„æ•…äº‹ç±»ï¼Œå†™å°è¯´æ—¶WriteNovel ä¸­æœ‰ä¸€ä¸ªæŽ¥å£çš„å¼•ç”¨ï¼Œæ ¹æ®å®¢æˆ·ç«¯ä¼ å…¥ä¸»è§’åç§°åˆ›å»ºä¸åŒçš„å®žçŽ°ç±»ã€‚å…¶å®žè¿™å°±æ˜¯ä¼ è¯´ä¸­çš„ ç­–ç•¥æ¨¡å¼ã€‚åªè¦é‡åˆ°å¾ˆå¤š if-else æˆ–è€…æœ‰å¾ˆå¤š case çš„ switchï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨ç­–ç•¥æ¨¡å¼äº†ï¼Œå°†è¿™äº›è¡Œä¸ºç‹¬ç«‹çš„å°è£…èµ·æ¥ï¼Œå¯ä»¥åœ¨å…¬å…±ç±»ä¸­æ¶ˆé™¤æ¡ä»¶è¯­å¥ã€‚åœ¨å®žè·µä¸­ï¼Œåªè¦å¬åˆ°éœ€è¦åœ¨ä¸åŒæƒ…å†µä¸‹åº”ç”¨ä¸åŒçš„ä¸šåŠ¡ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨ç­–ç•¥æ¨¡å¼æ¥å°è£…è¿™ç§å˜åŒ–çš„å¯èƒ½æ€§ã€‚]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Comparableå’ŒComparator]]></title>
    <url>%2F2019%2FComparable%E5%92%8CComparator%2F</url>
    <content type="text"><![CDATA[è¿™ä¿©éƒ½æ˜¯Javaé›†åˆæ¡†æž¶çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸”éƒ½æ˜¯å’Œé›†åˆæŽ’åºæœ‰å…³ã€‚ComparableComparable åœ¨ java.lang åŒ…ä¸‹ï¼Œæ˜¯ä¸€ä¸ªæŽ¥å£ï¼Œå†…éƒ¨åªæœ‰ä¸€ä¸ªæ–¹æ³• compareTo()ï¼š123public interface Comparable&lt;T&gt; &#123; public int compareTo(T o);&#125;compareTo æ–¹æ³•çš„è¿”å›žå€¼æœ‰ä¸‰ç§æƒ…å†µï¼še1.compareTo(e2) &gt; 0 å³ e1 &gt; e2e1.compareTo(e2) = 0 å³ e1 = e2e1.compareTo(e2) &lt; 0 å³ e1 &lt; e2This interface imposes a total ordering on the objects of each class that implements it. This ordering is referred to as the classâ€™s natural ordering, and the classâ€™s compareTo method is referred to as its natural comparison method.Lists (and arrays) of objects that implement this interface can be sorted automatically by Collections.sort (and Arrays.sort). Objects that implement this interface can be used as keys in a sorted map or as elements in a sorted set, without the need to specify a comparator.1234567891011121314151617181920212223242526272829303132333435363738394041424344454647package test;import java.io.IOException;import java.util.HashSet;import java.util.Iterator;import java.util.Set;public class Test &#123; public static void main(String[] args) throws IOException &#123; Set&lt;Person&gt; set = new TreeSet&lt;&gt;(); set.add(new Person(50)); set.add(new Person(30)); set.add(new Person(90)); Iterator&lt;Person&gt; iterator = set.iterator(); while(iterator.hasNext()) System.out.println(iterator.next()); &#125; &#125;class Person implements Comparable&lt;Person&gt;&#123; private Integer age; public Person(Integer age) &#123; super(); this.age = age; &#125; @Override public int compareTo(Person o) &#123; if(age &gt; o.age) return 1; else if(age &lt; o.age) return -1; return 0; &#125; @Override public String toString() &#123; return "Person [age=" + age + "]"; &#125; &#125;Note that null is not an instance of any class, and e.compareTo(null) should throw a NullPointerException even though e.equals(null)returns false.The natural ordering for a class C is said to be consistent with equals if and only if e1.compareTo(e2) == 0 has the same boolean value as e1.equals(e2) for every e1 and e2 of class C. It is strongly recommended (though not required) that natural orderings be consistent with equals. This is so because sorted sets (and sorted maps)without explicit comparators behave â€œstrangelyâ€ when they are used with elements (or keys) whose natural ordering is inconsistent with equals. In particular, such a sorted set (or sorted map) violates the general contract for set (or map), which is defined in terms of the equals method.For example, if one adds two keys a and b such that (!a.equals(b) &amp;&amp; a.compareTo(b) == 0) to a sorted set that does not use an explicit comparator, the second add operation returns false (and the size of the sorted set does not increase) because a and b are equivalent from the sorted setâ€™s perspective.è¿™æ®µè¯çš„æ„æ€æ˜¯å¦‚æžœcompareToè§„åˆ™å’Œequalsè§„åˆ™ä¸åŒå°±ä¼šå‘ç”Ÿå¥‡æ€ªçš„é—®é¢˜ï¼Œå³åœ¨!a.equals(b) &amp;&amp; a.compareTo(b) == 0è¿™ç§æƒ…å†µä¸‹ï¼Œä¸èƒ½æ’å…¥é›†åˆä¸­ï¼Œä½†æ˜¯ä»ŽæŽ’åºé›†åˆçš„è§’åº¦æ¥çœ‹å®ƒä»¬æ˜¯ä¸åŒçš„ã€‚ï¼ˆæŽ’åºé›†åˆé€šè¿‡equalsè§„åˆ™åˆ¤æ–­æ˜¯å¦ä¸€è‡´ï¼‰12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package test;import java.io.IOException;import java.util.Iterator;import java.util.Set;import java.util.TreeSet;public class Test &#123; public static void main(String[] args) throws IOException &#123; Set&lt;Person&gt; set = new TreeSet&lt;&gt;(); set.add(new Person(50)); set.add(new Person(50)); set.add(new Person(90)); Iterator&lt;Person&gt; iterator = set.iterator(); while(iterator.hasNext()) System.out.println(iterator.next()); &#125; &#125;class Person implements Comparable&lt;Person&gt;&#123; private Integer age; public Person(Integer age) &#123; super(); this.age = age; &#125; @Override public int compareTo(Person o) &#123; if(age &gt; o.age) return 1; else if(age &lt; o.age) return -1; return 0; &#125; @Override public String toString() &#123; return "Person [age=" + age + "]"; &#125; @Override public boolean equals(Object obj) &#123; Person p = (Person)obj; if(p.age == age + 1) return true; return false; &#125; &#125;Comparatoræ ¸å¿ƒæ–¹æ³•å¦‚ä¸‹ï¼š12345public interface Comparator&lt;T&gt; &#123; public int compare(T lhs, T rhs); public boolean equals(Object object);&#125;ä½¿ç”¨è‡ªç„¶æŽ’åºéœ€è¦ç±»å®žçŽ° Comparableï¼Œå¹¶ä¸”åœ¨å†…éƒ¨é‡å†™ comparaTo æ–¹æ³•ã€‚è€Œ Comparator åˆ™æ˜¯åœ¨å¤–éƒ¨åˆ¶å®šæŽ’åºè§„åˆ™ï¼Œç„¶åŽä½œä¸ºæŽ’åºç­–ç•¥å‚æ•°ä¼ é€’ç»™æŸäº›ç±»ï¼Œæ¯”å¦‚ Collections.sort(), Arrays.sort(), æˆ–è€…ä¸€äº›å†…éƒ¨æœ‰åºçš„é›†åˆï¼ˆæ¯”å¦‚ SortedSetï¼ŒSortedMap ç­‰ï¼‰ã€‚ä½¿ç”¨æ–¹å¼ä¸»è¦åˆ†ä¸‰æ­¥ï¼šåˆ›å»ºä¸€ä¸ª Comparator æŽ¥å£çš„å®žçŽ°ç±»ï¼Œå¹¶èµ‹å€¼ç»™ä¸€ä¸ªå¯¹è±¡ã€‚åœ¨ compare æ–¹æ³•ä¸­é’ˆå¯¹è‡ªå®šä¹‰ç±»å†™æŽ’åºè§„åˆ™ã€‚å°† Comparator å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™ æŽ’åºç±»çš„æŸä¸ªæ–¹æ³•å‘æŽ’åºç±»ä¸­æ·»åŠ  compare æ–¹æ³•ä¸­ä½¿ç”¨çš„è‡ªå®šä¹‰ç±»12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758package test;import java.io.IOException;import java.util.Comparator;import java.util.Iterator;import java.util.Set;import java.util.TreeSet;public class Test &#123; public static void main(String[] args) throws IOException &#123; Comparator&lt;Person&gt; com = new Comparator&lt;Person&gt;() &#123; @Override public int compare(Person o1, Person o2) &#123; if(o1.getAge() &gt; o2.getAge()) return -1; else if(o1.getAge() &lt; o2.getAge()) return 1; return 0; &#125; &#125;; Set&lt;Person&gt; set = new TreeSet&lt;&gt;(com); set.add(new Person(50)); set.add(new Person(20)); set.add(new Person(90)); Iterator&lt;Person&gt; iterator = set.iterator(); while(iterator.hasNext()) System.out.println(iterator.next()); &#125; &#125;class Person&#123; private Integer age; public Person(Integer age) &#123; super(); this.age = age; &#125; @Override public String toString() &#123; return "Person [age=" + age + "]"; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125;&#125;æ€»ç»“Java ä¸­çš„ä¸¤ç§æŽ’åºæ–¹å¼ï¼šComparable è‡ªç„¶æŽ’åºã€‚ï¼ˆå®žä½“ç±»å®žçŽ°ï¼‰Comparator æ˜¯å®šåˆ¶æŽ’åºã€‚ï¼ˆæ— æ³•ä¿®æ”¹å®žä½“ç±»æ—¶ï¼Œç›´æŽ¥åœ¨è°ƒç”¨æ–¹åˆ›å»ºï¼‰åŒæ—¶å­˜åœ¨æ—¶é‡‡ç”¨ Comparatorï¼ˆå®šåˆ¶æŽ’åºï¼‰çš„è§„åˆ™è¿›è¡Œæ¯”è¾ƒã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566package test;import java.io.IOException;import java.util.Comparator;import java.util.Iterator;import java.util.Set;import java.util.TreeSet;public class Test &#123; public static void main(String[] args) throws IOException &#123; Comparator&lt;Person&gt; com = new Comparator&lt;Person&gt;() &#123; @Override public int compare(Person o1, Person o2) &#123; if(o1.getAge() &gt; o2.getAge()) return -1; else if(o1.getAge() &lt; o2.getAge()) return 1; return 0; &#125; &#125;; Set&lt;Person&gt; set = new TreeSet&lt;&gt;(com); set.add(new Person(50)); set.add(new Person(20)); set.add(new Person(90)); Iterator&lt;Person&gt; iterator = set.iterator(); while(iterator.hasNext()) System.out.println(iterator.next()); &#125; &#125;class Person implements Comparable&lt;Person&gt;&#123; private Integer age; public Person(Integer age) &#123; super(); this.age = age; &#125; @Override public String toString() &#123; return "Person [age=" + age + "]"; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125; @Override public int compareTo(Person o) &#123; if(age &gt; o.age) return 1; else if(age &lt; o.age) return -1; return 0; &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java8-Stream]]></title>
    <url>%2F2019%2FJava8-Stream%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[lambda]]></title>
    <url>%2F2019%2Flambda%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[requsetçš„getå¼€å¤´æ— å‚æ–¹æ³•æµ‹è¯•]]></title>
    <url>%2F2019%2Frequset%E7%9A%84get%E5%BC%80%E5%A4%B4%E6%97%A0%E5%8F%82%E6%96%B9%E6%B3%95%E6%B5%8B%E8%AF%95%2F</url>
    <content type="text"><![CDATA[ç¬”è€…ä¸€ç›´éƒ½å¯¹request.get*()æ–¹æ³•è§‰å¾—è¿·æƒ‘ï¼Œåˆ†ä¸æ¸…è¿”å›žçš„åˆ°åº•æ˜¯ä»€ä¹ˆä¸œè¥¿ã€‚æ‰€ä»¥åšä¸ªæµ‹è¯•ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546package test;import java.io.IOException;import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;@WebServlet("/test")public class Test extends HttpServlet &#123; private static final long serialVersionUID = 1L; protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; System.out.println(request.getRequestURL().toString()); System.out.println(request.getRequestURI().toString()); System.out.println(request.getServletPath()); System.out.println(request.getServerPort()); System.out.println(request.getScheme()); System.out.println(request.getRemoteUser()); System.out.println(request.getRemotePort()); System.out.println(request.getRemoteHost()); System.out.println(request.getRemoteAddr()); System.out.println(request.getQueryString()); System.out.println(request.getProtocol()); System.out.println(request.getPathTranslated()); System.out.println(request.getAuthType()); System.out.println(request.getCharacterEncoding()); System.out.println(request.getContentLength()); System.out.println(request.getContentLengthLong()); System.out.println(request.getContentType()); System.out.println(request.getContextPath()); System.out.println(request.getLocalAddr()); System.out.println(request.getLocalName()); System.out.println(request.getLocalPort()); System.out.println(request.getMethod()); System.out.println(request.getPathInfo()); &#125; protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; // TODO Auto-generated method stub doGet(request, response); &#125;&#125;å®¢æˆ·ç«¯IPï¼š10.5.70.87æœåŠ¡å™¨IPï¼š10.5.69.2041234567891011121314151617181920212223242526getAuthType : nullgetCharacterEncoding : nullgetContentLength : -1getContentLengthLong : -1getContentType : nullgetContextPath : /Test-URI //webappsä¸‹çš„é¡¹ç›®æ–‡ä»¶å¤¹åç§°getLocalAddr : 10.5.69.204 //ç›¸å¯¹Webåº”ç”¨æ¥è¯´æ˜¯Localï¼Œå¯¹B/Sç»“æž„æ¥è¯´æ˜¯SgetLocalName : DESKTOP-OI1K2LH //Sçš„åç§°getLocalPort : 80 //Sçš„ç«¯å£å·getMethod : GETgetPathInfo : nullgetPathTranslated : nullgetProtocol : HTTP/1.1getQueryString : id=10getRemoteAddr : 10.5.70.87 //B/Sçš„Bçš„åœ°å€getRemoteHost : 10.5.70.87getRemotePort : 52897 //Bçš„ç«¯å£å·getRemoteUser : nullgetRequestedSessionId : nullgetRequestURI : /Test-URI/test //ç›¸å¯¹äºŽé¡¹ç›®çš„åœ°å€getScheme : http //åè®®ç±»åž‹getServerName : 10.5.69.204getServerPort : 80getServletPath : /test //Servletæ˜ å°„çš„åœ°å€getAttributeNames : java.util.Collections$3@1994a730getRequestURL : http://10.5.69.204/Test-URI/test //æµè§ˆå™¨ä¸­è¾“å…¥åœ°å€]]></content>
      <categories>
        <category>Java Web</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java Web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Fileå’ŒPathå’ŒFiles]]></title>
    <url>%2F2019%2FFile%E5%92%8CPath%E5%92%8CFiles%2F</url>
    <content type="text"><![CDATA[Fileæž„é€ 123456789public File(String filepath);ç»å¯¹è·¯å¾„:ä»¥ç›˜ç¬¦å¼€å¤´çš„è·¯å¾„ç›¸å¯¹è·¯å¾„:ç›¸å¯¹å½“å‰é¡¹ç›®çš„æ ¹ç›®å½•public File(String parent, String child);public File(File parent,String child);public File(URI uri);123456789101112public class Demo1 &#123; public static void main(String[] args) &#123; File aFile; try &#123; aFile = new File(new URI("file:///https://isjinhao.github.io/2019/Maven%E5%9F%BA%E7%A1%80/%E4%BC%A0%E7%BB%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91.png")); System.out.println(aFile.getName());// false &#125; catch (URISyntaxException e) &#123; e.printStackTrace(); &#125; &#125;&#125;èŽ·å–æ–¹æ³•123456789public String getAbsolutePath();//èŽ·å–ç»å¯¹è·¯å¾„public String getName();//èŽ·å–å½“å‰Fileå¯¹è±¡çš„åå­—public String getPath();//èŽ·å–åˆ›å»ºFileå¯¹è±¡æ—¶ ä¼ é€’çš„è·¯å¾„public long length();//èŽ·å–è¡¨ç¤ºæ–‡ä»¶çš„Fileå¯¹è±¡çš„å ç”¨çš„å­—èŠ‚æ•°//å¦‚æžœæ˜¯æ–‡ä»¶å¤¹çš„Fileå¯¹è±¡,è¿”å›žç›®å½•æœ¬èº«çš„å¤§å°,ä¸æ˜¯ç›®å½•åŠå…¶æ‰€æœ‰å­©å­çš„å¤§å°åˆ›å»ºå’Œåˆ é™¤åˆ›å»ºæ–¹æ³•åˆ›å»ºæ–‡ä»¶1public boolean createNewFile();//åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶(åªèƒ½æ˜¯æ–‡ä»¶,ä¸èƒ½æ˜¯æ–‡ä»¶å¤¹),è¿”å›žæ˜¯å¦åˆ›å»ºæˆåŠŸåˆ›å»ºæ–‡ä»¶å¤¹1public boolean mkdir();//åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹,è¿”å›žæ˜¯å¦åˆ›å»ºæˆåŠŸåˆ¤æ–­æ–¹æ³•åˆ¤æ–­Fileå¯¹è±¡æ‰€è¡¨ç¤ºçš„æ–‡ä»¶åœ¨OSä¸­æ˜¯å¦å­˜åœ¨1public boolean exists(); //è¿”å›žè¯¥File å¯¹è±¡æ˜¯å¦å­˜åœ¨åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶1public boolean isFile();//è¿”å›žæ˜¯å¦æ˜¯æ–‡ä»¶åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶å¤¹1public boolean isDirectory();//è¿”å›žæ˜¯å¦æ˜¯æ–‡ä»¶å¤¹åˆ é™¤æ–¹æ³•1public boolean delete();//åˆ é™¤æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ã€‚å¯ä»¥åˆ é™¤çš„æ˜¯å•ä¸ªæ–‡ä»¶,æˆ–è€…ç©ºæ–‡ä»¶å¤¹Fileç±»çš„listå’ŒlistFilesæ–¹æ³•123public String[] list();public File[] listFiles();//åªèƒ½åˆ—å‡ºå½“å‰æ–‡ä»¶å¤¹ä¸‹çš„ä¸€çº§å­æ–‡ä»¶æˆ–è€…å­æ–‡ä»¶å¤¹æ–‡ä»¶è¿‡æ»¤123456789101112131415161718192021222324252627package file;import java.io.File;import java.io.FileFilter;public class Demo2 &#123; public static void main(String[] args) &#123; File fileDir = new File("D:\\blog\\isjinhao\\source\\_posts\\04-è¿›ç¨‹ç®¡ç†"); //åˆ—å‡ºfileä¸‹æ‰€æœ‰fileå¯¹è±¡ MyFileFilter ff = new MyFileFilter(); File[] files = fileDir.listFiles(ff); for (File file : files) &#123; System.out.println(file); &#125; &#125;&#125;class MyFileFilter implements FileFilter&#123; @Override public boolean accept(File pathname) &#123; String name = pathname.getName(); if(name.endsWith(".png") || name.endsWith(".PNG")) return true; return false; &#125;&#125;PathPathæ˜¯JDK7ä¸­è¡¨è¾¾è·¯å¾„çš„ä¸€ä¸ªæ–°æ–¹å¼ï¼Œåœ¨Pathä¸­ï¼Œå®ƒæŠŠæ–‡ä»¶çš„è·¯å¾„çœ‹åšå‡ ä¸ªéƒ¨ä»¶ç»„æˆçš„ï¼Œæ¯”å¦‚/usr/develop/tomcatå¯ä»¥è¢«çœ‹å‡ºä¸¤ä¸ªéƒ¨ä»¶ç»„æˆï¼š/usrå’Œ/develop/tomcatï¼Œå½“ç„¶ä¹Ÿå¯ä»¥çœ‹åšä¸‰ä¸ªéƒ¨ä»¶/usrã€/developå’Œ/tomcatç»„æˆçš„ã€‚ä»¥æ ¹éƒ¨ä»¶å¼€å§‹çš„æ˜¯ç»å¯¹è·¯å¾„ï¼Œåœ¨ç±»Unixç³»ç»Ÿä¸­æ˜¯\ï¼Œåœ¨Windowsç³»ç»Ÿä¸­æ˜¯C:\ç­‰ã€‚APIèŽ·å¾—Pathé€šè¿‡Pathsçš„é™æ€æ–¹æ³•ï¼šstatic Path get(String first, String ... more);public static Path get(URI uri);é€šè¿‡è¿žæŽ¥ç»™å®šçš„å­—ç¬¦ä¸²åˆ›å»ºä¸€ä¸ªè·¯å¾„ã€‚æŒ‰å½“å‰è·¯å¾„è§£æžè·¯å¾„Path resolve(Path other);Path resolve(String other);å¦‚æžœotheræ˜¯ç»å¯¹è·¯å¾„ï¼Œé‚£ä¹ˆè¿”å›žotherï¼›å¦åˆ™ï¼Œè¿”å›žé€šè¿‡è¿žæŽ¥thiså’ŒotherèŽ·å¾—è·¯å¾„ã€‚12345678910111213public class PathTest &#123; public static void main(String[] args) &#123; Path path1 = Paths.get("D:\\", "data.csv"); Path path2 = Paths.get("test\\test", "é€‰ä¿®è¯¾æ•°æ®ä¿®æ”¹.csv"); Path path3 = path1.resolve(path2); Path path4 = path2.resolve(path1); System.out.println(path3); //D:\data.csv\test\test\é€‰ä¿®è¯¾æ•°æ®ä¿®æ”¹.csv System.out.println(path4); //D:\data.csv &#125;&#125;æŒ‰å½“å‰è·¯å¾„è§£æžè·¯å¾„Path resolveSibling(Path other);Path resolveSibling(String other);å¦‚æžœotheræ˜¯ç»å¯¹è·¯å¾„ï¼Œé‚£ä¹ˆè¿”å›žotherï¼›å¦åˆ™ï¼Œè¿”å›žé€šè¿‡è¿žæŽ¥thisçš„çˆ¶è·¯å¾„å’ŒotherèŽ·å¾—è·¯å¾„ã€‚æŒ‰ç›¸å¯¹è·¯å¾„è¿›è¡Œè§£æž12345678910111213import java.nio.file.Path;import java.nio.file.Paths;public class PathTest &#123; public static void main(String[] args) &#123; Path path1 = Paths.get("D:\\", "data.csv"); Path path2 = Paths.get("D:\\test\\test", "é€‰ä¿®è¯¾æ•°æ®ä¿®æ”¹.csv"); Path path3 = path2.relativize(path1); System.out.println(path3); //è¿”å›žç›¸å¯¹äºŽpath2çš„path1çš„ç»å¯¹è·¯å¾„ &#125;&#125;å…¶ä»–APIç§»é™¤è¯¸å¦‚.å’Œ..ç­‰çš„å†—ä½™å…ƒç´ ï¼šPath normalize();è¿”å›žå’Œå½“å‰è·¯å¾„ç›¸ç­‰ä»·çš„ç»å¯¹è·¯å¾„ï¼šPath toAbsolutePath();è¿”å›žçˆ¶è·¯å¾„ï¼ˆæ²¡æœ‰æ—¶è¿”å›žnullï¼‰ï¼šPath getParent();è¿”å›žè¯¥è·¯å¾„çš„æœ€åŽä¸€ä¸ªéƒ¨ä»¶ï¼šPath getFileName();è¿”å›žè¯¥è·¯å¾„çš„æ ¹éƒ¨ä»¶ï¼ˆæ²¡æœ‰æ—¶è¿”å›žnullï¼‰ï¼šPath getRoot();ç”±Pathåˆ›å»ºä¸€ä¸ªFileå¯¹è±¡ï¼šFile toFile();Fileså¤„ç†å°åž‹æ–‡æœ¬æ–‡ä»¶public static byte[] readAllBytes(Path path) throws IOException12345678910public static void main(String[] args) &#123; try &#123; byte[] bytes = Files.readAllBytes(Paths.get("filestest")); String string = new String(bytes, "UTF-8"); System.out.println(string); &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125;&#125;public static List&lt;String&gt; readAllLines(Path path) throws IOException123456public static void main(String[] args) throws Exception &#123; List&lt;String&gt; lines = Files.readAllLines(Paths.get("filestest")); Iterator&lt;String&gt; iterator = lines.iterator(); while(iterator.hasNext()) System.out.println(iterator.next());&#125;public static Path write(Path path, byte[] bytes, OpenOption... options) throws IOException123public static void main(String[] args) throws Exception &#123; Files.write(Paths.get("filestest"), "æ·±é™·çªä¸­ï¼Œé’°ç½¢ä¸èƒ½".getBytes(), StandardOpenOption.APPEND);&#125;èŽ·å¾—IOæµpublic static InputStream newInputStream(Path path, OpenOption... options)public static OutputStream newOutputStream(Path path, OpenOption... options)public static BufferedReader newBufferedReader(Path path, Charset cs)public static BufferedReader newBufferedReader(Path path)æ›¿æ¢FileFiles.exists()Files.exists()æ–¹æ³•æ£€æŸ¥ç»™å®šçš„Pathåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æ˜¯å¦å­˜åœ¨ã€‚å¯ä»¥åˆ›å»ºåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ä¸å­˜åœ¨çš„Pathå®žä¾‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœæ‚¨è®¡åˆ’åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼Œæ‚¨é¦–å…ˆè¦åˆ›å»ºç›¸åº”çš„Pathå®žä¾‹ï¼Œç„¶åŽåˆ›å»ºç›®å½•ã€‚ç”±äºŽPathå®žä¾‹å¯èƒ½æŒ‡å‘ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰æŒ‡å‘æ–‡ä»¶ç³»ç»Ÿä¸­å­˜åœ¨çš„è·¯å¾„ï¼Œä½ å¯ä»¥ä½¿ç”¨Files.exists()æ–¹æ³•æ¥ç¡®å®šå®ƒä»¬æ˜¯å¦å­˜åœ¨(å¦‚æžœéœ€è¦æ£€æŸ¥çš„è¯)ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªJava Files.exists()çš„ä¾‹å­ï¼š1234Path path = Paths.get(&quot;data/logging.properties&quot;);boolean pathExists = Files.exists(path, new LinkOption[]&#123; LinkOption.NOFOLLOW_LINKS &#125;);è¿™ä¸ªä¾‹å­é¦–å…ˆåˆ›å»ºä¸€ä¸ªPathå®žä¾‹æŒ‡å‘ä¸€ä¸ªè·¯å¾„ï¼Œæˆ‘ä»¬æƒ³è¦æ£€æŸ¥è¿™ä¸ªè·¯å¾„æ˜¯å¦å­˜åœ¨ã€‚ç„¶åŽï¼Œè¿™ä¸ªä¾‹å­è°ƒç”¨Files.exists()æ–¹æ³•ï¼Œç„¶åŽå°†Pathå®žä¾‹ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚æ³¨æ„Files.exists()æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚è¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé€‰é¡¹æ•°ç»„ï¼Œå®ƒå½±å“Files.exists()å¦‚ä½•ç¡®å®šè·¯å¾„æ˜¯å¦å­˜åœ¨ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­çš„æ•°ç»„åŒ…å«LinkOption.NOFOLLOW_LINKSï¼Œè¿™æ„å‘³ç€Files.exists()æ–¹æ³•ä¸åº”è¯¥åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­è·Ÿè¸ªç¬¦å·é“¾æŽ¥ï¼Œä»¥ç¡®å®šæ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€‚Files.createDirectory()Files.createDirectory()æ–¹æ³•ï¼Œç”¨äºŽæ ¹æ®Pathå®žä¾‹åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼š123456789Path path = Paths.get(&quot;data/subdir&quot;);try &#123; Path newDir = Files.createDirectory(path);&#125; catch(FileAlreadyExistsException e)&#123; // ç›®å½•å·²ç»å­˜åœ¨&#125; catch (IOException e) &#123; // å…¶ä»–å‘ç”Ÿçš„å¼‚å¸¸ e.printStackTrace();&#125;ç¬¬ä¸€è¡Œåˆ›å»ºè¡¨ç¤ºè¦åˆ›å»ºçš„ç›®å½•çš„Pathå®žä¾‹ã€‚åœ¨try-catchå—ä¸­ï¼Œç”¨è·¯å¾„ä½œä¸ºå‚æ•°è°ƒç”¨Files.createDirectory()æ–¹æ³•ã€‚å¦‚æžœåˆ›å»ºç›®å½•æˆåŠŸï¼Œå°†è¿”å›žä¸€ä¸ªPathå®žä¾‹ï¼Œè¯¥å®žä¾‹æŒ‡å‘æ–°åˆ›å»ºçš„è·¯å¾„ã€‚å¦‚æžœè¯¥ç›®å½•å·²ç»å­˜åœ¨ï¼Œåˆ™æ˜¯æŠ›å‡ºä¸€ä¸ªjava.nio.file.FileAlreadyExistsExceptionã€‚å¦‚æžœå‡ºçŽ°å…¶ä»–é”™è¯¯ï¼Œå¯èƒ½ä¼šæŠ›å‡ºIOExceptionã€‚ä¾‹å¦‚ï¼Œå¦‚æžœæƒ³è¦çš„æ–°ç›®å½•çš„çˆ¶ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™å¯èƒ½ä¼šæŠ›å‡ºIOExceptionã€‚çˆ¶ç›®å½•æ˜¯æ‚¨æƒ³è¦åˆ›å»ºæ–°ç›®å½•çš„ç›®å½•ã€‚å› æ­¤ï¼Œå®ƒè¡¨ç¤ºæ–°ç›®å½•çš„çˆ¶ç›®å½•ã€‚Files.copy()Files.copy()æ–¹æ³•ä»Žä¸€ä¸ªè·¯å¾„æ‹·è´ä¸€ä¸ªæ–‡ä»¶åˆ°å¦å¤–ä¸€ä¸ªç›®å½•ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªJava Files.copy()ä¾‹å­ï¼š1234567891011Path sourcePath = Paths.get(&quot;data/logging.properties&quot;);Path destinationPath = Paths.get(&quot;data/logging-copy.properties&quot;);try &#123; Files.copy(sourcePath, destinationPath);&#125; catch(FileAlreadyExistsException e) &#123; // ç›®å½•å·²ç»å­˜åœ¨&#125; catch (IOException e) &#123; // å…¶ä»–å‘ç”Ÿçš„å¼‚å¸¸ e.printStackTrace();&#125;é¦–å…ˆï¼Œè¯¥ç¤ºä¾‹åˆ›å»ºä¸€ä¸ªæºå’Œç›®æ ‡Pathå®žä¾‹ã€‚ç„¶åŽï¼Œè¿™ä¸ªä¾‹å­è°ƒç”¨Files.copy()ï¼Œå°†ä¸¤ä¸ªPathå®žä¾‹ä½œä¸ºå‚æ•°ä¼ é€’ã€‚è¿™å¯ä»¥è®©æºè·¯å¾„å¼•ç”¨çš„æ–‡ä»¶è¢«å¤åˆ¶åˆ°ç›®æ ‡è·¯å¾„å¼•ç”¨çš„æ–‡ä»¶ä¸­ã€‚å¦‚æžœç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªjava.nio.file.FileAlreadyExistsExceptionå¼‚å¸¸ã€‚å¦‚æžœæœ‰å…¶ä»–é”™è¯¯ï¼Œåˆ™ä¼šæŠ›å‡ºä¸€ä¸ªIOExceptionã€‚ä¾‹å¦‚ï¼Œå¦‚æžœå°†è¯¥æ–‡ä»¶å¤åˆ¶åˆ°ä¸å­˜åœ¨çš„ç›®å½•ï¼Œåˆ™ä¼šæŠ›å‡ºIOExceptionã€‚é‡å†™å·²å­˜åœ¨çš„æ–‡ä»¶å¯ä»¥å¼ºåˆ¶Files.copy()è¦†ç›–çŽ°æœ‰çš„æ–‡ä»¶ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨Files.copy()è¦†ç›–çŽ°æœ‰æ–‡ä»¶ã€‚1234567891011Path sourcePath = Paths.get(&quot;data/logging.properties&quot;);Path destinationPath = Paths.get(&quot;data/logging-copy.properties&quot;);try &#123; Files.copy(sourcePath, destinationPath, StandardCopyOption.REPLACE_EXISTING);&#125; catch(FileAlreadyExistsException e) &#123; // ç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨&#125; catch (IOException e) &#123; // å…¶ä»–å‘ç”Ÿçš„å¼‚å¸¸ e.printStackTrace();&#125;è¯·æ³¨æ„Files.copy()æ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚å¦‚æžœç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œè¿™ä¸ªå‚æ•°æŒ‡ç¤ºcopy()æ–¹æ³•è¦†ç›–çŽ°æœ‰çš„æ–‡ä»¶ã€‚Files.move()Java NIO Filesè¿˜åŒ…å«ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºŽå°†æ–‡ä»¶ä»Žä¸€ä¸ªè·¯å¾„ç§»åŠ¨åˆ°å¦ä¸€ä¸ªè·¯å¾„ã€‚ç§»åŠ¨æ–‡ä»¶ä¸Žé‡å‘½åç›¸åŒï¼Œä½†æ˜¯ç§»åŠ¨æ–‡ä»¶æ—¢å¯ä»¥ç§»åŠ¨åˆ°ä¸åŒçš„ç›®å½•ï¼Œä¹Ÿå¯ä»¥åœ¨ç›¸åŒçš„æ“ä½œä¸­æ›´æ”¹å®ƒçš„åç§°ã€‚æ˜¯çš„,java.io.Fileç±»ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒçš„renameTo()æ–¹æ³•æ¥å®Œæˆè¿™ä¸ªæ“ä½œï¼Œä½†æ˜¯çŽ°åœ¨å·²ç»åœ¨java.nio.file.Filesä¸­æœ‰äº†æ–‡ä»¶ç§»åŠ¨åŠŸèƒ½ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªJava Files.move()ä¾‹å­ï¼š123456789Path sourcePath = Paths.get(&quot;data/logging-copy.properties&quot;);Path destinationPath = Paths.get(&quot;data/subdir/logging-moved.properties&quot;);try &#123; Files.move(sourcePath, destinationPath, StandardCopyOption.REPLACE_EXISTING);&#125; catch (IOException e) &#123; //ç§»åŠ¨æ–‡ä»¶å¤±è´¥ e.printStackTrace();&#125;é¦–å…ˆåˆ›å»ºæºè·¯å¾„å’Œç›®æ ‡è·¯å¾„ã€‚æºè·¯å¾„æŒ‡å‘è¦ç§»åŠ¨çš„æ–‡ä»¶ï¼Œè€Œç›®æ ‡è·¯å¾„æŒ‡å‘æ–‡ä»¶åº”è¯¥ç§»åŠ¨åˆ°çš„ä½ç½®ã€‚ç„¶åŽè°ƒç”¨Files.move()æ–¹æ³•ã€‚è¿™ä¼šå¯¼è‡´æ–‡ä»¶è¢«ç§»åŠ¨ã€‚è¯·æ³¨æ„ä¼ é€’ç»™Files.move()çš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚è¿™ä¸ªå‚æ•°å‘Šè¯‰Files.move()æ–¹æ³•æ¥è¦†ç›–ç›®æ ‡è·¯å¾„ä¸Šçš„ä»»ä½•çŽ°æœ‰æ–‡ä»¶ã€‚è¿™ä¸ªå‚æ•°å®žé™…ä¸Šæ˜¯å¯é€‰çš„ã€‚å¦‚æžœç§»åŠ¨æ–‡ä»¶å¤±è´¥ï¼ŒFiles.move()æ–¹æ³•å¯èƒ½æŠ›å‡ºä¸€ä¸ªIOExceptionã€‚ä¾‹å¦‚ï¼Œå¦‚æžœä¸€ä¸ªæ–‡ä»¶å·²ç»å­˜åœ¨äºŽç›®æ ‡è·¯å¾„ä¸­ï¼Œå¹¶ä¸”æ‚¨å·²ç»æŽ’é™¤äº†StandardCopyOption.REPLACE_EXISTINGé€‰é¡¹ï¼Œæˆ–è€…è¢«ç§»åŠ¨çš„æ–‡ä»¶ä¸å­˜åœ¨ç­‰ç­‰ã€‚Files.delete()Files.delete()æ–¹æ³•å¯ä»¥åˆ é™¤ä¸€ä¸ªæ–‡ä»¶æˆ–è€…ç›®å½•ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªJava Files.delete()ä¾‹å­ï¼š12345678Path path = Paths.get(&quot;data/subdir/logging-moved.properties&quot;);try &#123; Files.delete(path);&#125; catch (IOException e) &#123; // åˆ é™¤æ–‡ä»¶å¤±è´¥ e.printStackTrace();&#125;é¦–å…ˆï¼Œåˆ›å»ºæŒ‡å‘è¦åˆ é™¤çš„æ–‡ä»¶çš„Pathã€‚ç„¶åŽè°ƒç”¨Files.delete()æ–¹æ³•ã€‚å¦‚æžœFiles.delete()ç”±äºŽæŸç§åŽŸå› ä¸èƒ½åˆ é™¤æ–‡ä»¶(ä¾‹å¦‚ï¼Œæ–‡ä»¶æˆ–ç›®å½•ä¸å­˜åœ¨)ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªIOExceptionã€‚æ–‡ä»¶æœç´¢Files.walkFileTree()Files.walkFileTree()æ–¹æ³•åŒ…å«é€’å½’éåŽ†ç›®å½•æ ‘çš„åŠŸèƒ½ã€‚walkFileTree()æ–¹æ³•å°†Pathå®žä¾‹å’ŒFileVisitorä½œä¸ºå‚æ•°ã€‚Pathå®žä¾‹æŒ‡å‘æ‚¨æƒ³è¦éåŽ†çš„ç›®å½•ã€‚FileVisitoråœ¨éåŽ†æœŸé—´è¢«è°ƒç”¨ã€‚åœ¨æˆ‘è§£é‡ŠéåŽ†æ˜¯å¦‚ä½•å·¥ä½œä¹‹å‰ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆäº†è§£FileVisitoræŽ¥å£:12345678910111213public interface FileVisitor &#123; public FileVisitResult preVisitDirectory( Path dir, BasicFileAttributes attrs) throws IOException; public FileVisitResult visitFile( Path file, BasicFileAttributes attrs) throws IOException; public FileVisitResult visitFileFailed( Path file, IOException exc) throws IOException; public FileVisitResult postVisitDirectory( Path dir, IOException exc) throws IOException &#123;&#125;æ‚¨å¿…é¡»è‡ªå·±å®žçŽ°FileVisitoræŽ¥å£ï¼Œå¹¶å°†å®žçŽ°çš„å®žä¾‹ä¼ é€’ç»™walkFileTree()æ–¹æ³•ã€‚åœ¨ç›®å½•éåŽ†è¿‡ç¨‹ä¸­ï¼Œæ‚¨çš„FileVisitorå®žçŽ°çš„æ¯ä¸ªæ–¹æ³•éƒ½å°†è¢«è°ƒç”¨ã€‚å¦‚æžœä¸éœ€è¦å®žçŽ°æ‰€æœ‰è¿™äº›æ–¹æ³•ï¼Œé‚£ä¹ˆå¯ä»¥æ‰©å±•SimpleFileVisitorç±»ï¼Œå®ƒåŒ…å«FileVisitoræŽ¥å£ä¸­æ‰€æœ‰æ–¹æ³•çš„é»˜è®¤å®žçŽ°ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªwalkFileTree()çš„ä¾‹å­ï¼š12345678910111213141516171819202122232425Files.walkFileTree(path, new FileVisitor&lt;Path&gt;() &#123; @Override public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException &#123; System.out.println(&quot;pre visit dir:&quot; + dir); return FileVisitResult.CONTINUE; &#125; @Override public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException &#123; System.out.println(&quot;visit file: &quot; + file); return FileVisitResult.CONTINUE; &#125; @Override public FileVisitResult visitFileFailed(Path file, IOException exc) throws IOException &#123; System.out.println(&quot;visit file failed: &quot; + file); return FileVisitResult.CONTINUE; &#125; @Override public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOException &#123; System.out.println(&quot;post visit directory: &quot; + dir); return FileVisitResult.CONTINUE; &#125;&#125;);FileVisitorå®žçŽ°ä¸­çš„æ¯ä¸ªæ–¹æ³•åœ¨éåŽ†è¿‡ç¨‹ä¸­çš„ä¸åŒæ—¶é—´éƒ½è¢«è°ƒç”¨:åœ¨è®¿é—®ä»»ä½•ç›®å½•ä¹‹å‰è°ƒç”¨preVisitDirectory()æ–¹æ³•ã€‚åœ¨è®¿é—®ä¸€ä¸ªç›®å½•ä¹‹åŽè°ƒç”¨postVisitDirectory()æ–¹æ³•ã€‚è°ƒç”¨visitFile()åœ¨æ–‡ä»¶éåŽ†è¿‡ç¨‹ä¸­è®¿é—®çš„æ¯ä¸€ä¸ªæ–‡ä»¶ã€‚å®ƒä¸ä¼šè®¿é—®ç›®å½•-åªä¼šè®¿é—®æ–‡ä»¶ã€‚åœ¨è®¿é—®æ–‡ä»¶å¤±è´¥æ—¶è°ƒç”¨visitFileFailed()æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœæ‚¨æ²¡æœ‰æ­£ç¡®çš„æƒé™ï¼Œæˆ–è€…å…¶ä»–ä»€ä¹ˆåœ°æ–¹å‡ºé”™äº†ã€‚è¿™å››ä¸ªæ–¹æ³•ä¸­çš„æ¯ä¸ªéƒ½è¿”å›žä¸€ä¸ªFileVisitResultæžšä¸¾å®žä¾‹ã€‚FileVisitResultæžšä¸¾åŒ…å«ä»¥ä¸‹å››ä¸ªé€‰é¡¹:CONTINUE ç»§ç»­TERMINATE ç»ˆæ­¢SKIP_SIBLING è·³è¿‡åŒçº§SKIP_SUBTREE è·³è¿‡å­çº§é€šè¿‡è¿”å›žå…¶ä¸­ä¸€ä¸ªå€¼ï¼Œè°ƒç”¨æ–¹æ³•å¯ä»¥å†³å®šå¦‚ä½•ç»§ç»­æ‰§è¡Œæ–‡ä»¶ã€‚CONTINUEç»§ç»­æ„å‘³ç€æ–‡ä»¶çš„æ‰§è¡Œåº”è¯¥åƒæ­£å¸¸ä¸€æ ·ç»§ç»­ã€‚TERMINATEç»ˆæ­¢æ„å‘³ç€æ–‡ä»¶éåŽ†çŽ°åœ¨åº”è¯¥ç»ˆæ­¢ã€‚SKIP_SIBLINGSè·³è¿‡åŒçº§æ„å‘³ç€æ–‡ä»¶éåŽ†åº”è¯¥ç»§ç»­ï¼Œä½†ä¸éœ€è¦è®¿é—®è¯¥æ–‡ä»¶æˆ–ç›®å½•çš„ä»»ä½•åŒçº§ã€‚SKIP_SUBTREEè·³è¿‡å­çº§æ„å‘³ç€æ–‡ä»¶éåŽ†åº”è¯¥ç»§ç»­ï¼Œä½†æ˜¯ä¸éœ€è¦è®¿é—®è¿™ä¸ªç›®å½•ä¸­çš„å­ç›®å½•ã€‚è¿™ä¸ªå€¼åªæœ‰ä»ŽpreVisitDirectory()è¿”å›žæ—¶æ‰æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å¦‚æžœä»Žä»»ä½•å…¶ä»–æ–¹æ³•è¿”å›žï¼Œå®ƒå°†è¢«è§£é‡Šä¸ºä¸€ä¸ªCONTINUEç»§ç»­ã€‚æ–‡ä»¶æœç´¢è¿™é‡Œæ˜¯ä¸€ä¸ªç”¨äºŽæ‰©å±•SimpleFileVisitorçš„walkFileTree()ï¼Œä»¥æŸ¥æ‰¾ä¸€ä¸ªåä¸ºREADME.txtçš„æ–‡ä»¶:123456789101112131415161718192021Path rootPath = Paths.get(&quot;data&quot;);String fileToFind = File.separator + &quot;README.txt&quot;;try &#123; Files.walkFileTree(rootPath, new SimpleFileVisitor&lt;Path&gt;() &#123; @Override public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException &#123; String fileString = file.toAbsolutePath().toString(); //System.out.println(&quot;pathString = &quot; + fileString); if(fileString.endsWith(fileToFind))&#123; System.out.println(&quot;file found at path: &quot; + file.toAbsolutePath()); return FileVisitResult.TERMINATE; &#125; return FileVisitResult.CONTINUE; &#125; &#125;);&#125; catch(IOException e)&#123; e.printStackTrace();&#125;é€’å½’åˆ é™¤ç›®å½•Files.walkFileTree()ä¹Ÿå¯ä»¥ç”¨æ¥åˆ é™¤åŒ…å«æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•çš„ç›®å½•ã€‚Files.delete()æ–¹æ³•åªä¼šåˆ é™¤ä¸€ä¸ªç›®å½•ï¼Œå¦‚æžœå®ƒæ˜¯ç©ºçš„ã€‚é€šè¿‡éåŽ†æ‰€æœ‰ç›®å½•å¹¶åˆ é™¤æ¯ä¸ªç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶(åœ¨visitFile())ä¸­ï¼Œç„¶åŽåˆ é™¤ç›®å½•æœ¬èº«(åœ¨postVisitDirectory()ä¸­)ï¼Œæ‚¨å¯ä»¥åˆ é™¤åŒ…å«æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶çš„ç›®å½•ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªé€’å½’ç›®å½•åˆ é™¤ç¤ºä¾‹:123456789101112131415161718192021Path rootPath = Paths.get(&quot;data/to-delete&quot;);try &#123; Files.walkFileTree(rootPath, new SimpleFileVisitor&lt;Path&gt;() &#123; @Override public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException &#123; System.out.println(&quot;delete file: &quot; + file.toString()); Files.delete(file); return FileVisitResult.CONTINUE; &#125; @Override public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOException &#123; Files.delete(dir); System.out.println(&quot;delete dir: &quot; + dir.toString()); return FileVisitResult.CONTINUE; &#125; &#125;);&#125; catch(IOException e)&#123; e.printStackTrace();&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Java-æ–‡ä»¶å¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java-æ­£åˆ™è¡¨è¾¾å¼]]></title>
    <url>%2F2019%2FJava-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°æ­£åˆ™è¡¨è¾¾å¼(regular expression)æè¿°äº†ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…çš„æ¨¡å¼ï¼ˆpatternï¼‰ï¼Œå¯ä»¥ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªä¸²æ˜¯å¦å«æœ‰æŸç§å­ä¸²ã€å°†åŒ¹é…çš„å­ä¸²æ›¿æ¢æˆ–è€…ä»ŽæŸä¸ªä¸²ä¸­å–å‡ºç¬¦åˆæŸä¸ªæ¡ä»¶çš„å­ä¸²ç­‰ã€‚ä½†æ˜¯ä¸Šé¢çš„å™è¿°ï¼Œå¯¹äºŽä¹‹å‰æ²¡æœ‰æŽ¥è§¦è¿‡æ­£åˆ™è¡¨è¾¾å¼çš„äººè¿˜æ˜¯å¾ˆè¿·ï¼Œæˆ‘ä»¬æ‰“ä¸ªæ¯”æ–¹ï¼Œæœ‰ä¸€ä¸²å­—ç¬¦ï¼š123xyz234å’Œä¸€ä¸ªæ¨¡å¼ï¼š*^*ï¼Œæˆ‘ä»¬å‡è®¾*è¡¨ç¤ºä»»æ„é•¿åº¦çš„ç”±æ•°å­—ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œ^è¡¨ç¤ºä»»æ„é•¿åº¦çš„ç”±è‹±æ–‡å­—ç¬¦è¡¨ç¤ºçš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è¯´è¿™ä¸ªå­—ç¬¦ä¸²èƒ½åŒ¹é…ä¸Šè¿™ä¸ªæ¨¡å¼ã€‚å› ä¸º123å¯ä»¥åŒ¹é…ä¸Š*ï¼Œxyzå¯ä»¥åŒ¹é…ä¸Š^ï¼Œ234å¯ä»¥åŒ¹é…ä¸Š*ã€‚åŒæ ·çš„ï¼Œå‡å¦‚æˆ‘ä»¬å†æœ‰ä¸€ä¸ªæ¨¡å¼ï¼š*^ï¼Œæˆ‘ä»¬ç”¨è¿™ä¸ªæ¨¡å¼åœ¨å­—ç¬¦ä¸²ä¸­æå–ï¼Œå¯ä»¥æå–å‡ºæ¥ï¼š123ã€123xã€123xyzã€234 ç­‰ç­‰ï¼Œä½†æ˜¯ä¸èƒ½æå–å‡ºæ¥z234ã€123xyz234ã€‚å› ä¸ºæˆ‘ä»¬èƒ½æå–å‡ºæ¥çš„éƒ½æ˜¯ç¬¦åˆè¿™ä¸ªæ¨¡å¼çš„ï¼Œè¿™ä¸ªæ¨¡å¼å°±æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚è¯­æ³•ä¸åŒçš„è¯­è¨€åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸Šçš„è¯­æ³•æ˜¯æœ‰å·®è·çš„ï¼Œä½†æ˜¯ç›¸åŒç‚¹è¿œè¿œå¤§äºŽä¸åŒç‚¹ã€‚æˆ‘ä»¬åœ¨è¿™ä½¿ç”¨Javaè¯­è¨€ä¸­æ­£åˆ™è¡¨è¾¾å¼ã€‚ä¸è¿‡æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•éžå¸¸éš¾è®°ï¼Œåœ¨è¿™ä¹Ÿæ˜¯ä¸¾ä¾‹å‡ºä¸€äº›å¸¸ç”¨çš„è¯­æ³•ï¼Œå…·ä½“ä½¿ç”¨è¿˜æ˜¯å¾—æŸ¥æ–‡æ¡£ã€‚æœ€ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼åœ¨æˆ‘ä»¬åˆšæ‰çš„ä¸¾ä¾‹ä¸­å¯ä»¥çœ‹å‡ºæ­£åˆ™è¡¨è¾¾å¼å…¶å®žå°±æ˜¯ä¸€ç§åŒ¹é…è§„åˆ™ï¼Œé‚£ä¹ˆæ¯ä¸ªå­—ç¬¦ä¸²ä¹Ÿéƒ½æ˜¯ä¸€ç§åŒ¹é…è§„åˆ™ï¼ˆè¿™ç§è§„åˆ™åªèƒ½åŒ¹é…å…¶è‡ªèº«ï¼‰ã€‚æ¯”å¦‚ä¸‹é¢çš„split()æ–¹æ³•æ˜¯æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼æŠŠå­—ç¬¦ä¸²åˆ†å‰²ï¼Œæˆ‘ä»¬ä¼ å…¥çš„ä¸€ä¸ªå­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚123456789101112public class RegTest &#123; public static void main(String[] args) &#123; String testStr = "1234567890"; /** * Splits this string around matches of the given regular expression. */ String[] split = testStr.split("67"); //testSträ¸­åªæœ‰67èƒ½åŒ¹é…split()æ–¹æ³•ä¸­ä¼ å…¥çš„67ï¼Œæ‰€ä»¥æŒ‰67è¿›è¡Œåˆ†éš”ï¼ŒåŒæ—¶67è¢«åˆ é™¤ System.out.println(Arrays.deepToString(split)); &#125;&#125;å’Œæ­£åˆ™è¡¨è¾¾å¼æœ‰å…³çš„ç±»è™½ç„¶ä¸Šä¸ªä¾‹å­æˆ‘ä»¬å¹¶æ²¡æœ‰ä½¿ç”¨åˆ°æ­£åˆ™è¡¨è¾¾å¼ç›¸å…³çš„ç±»ï¼Œä½†è¿™å¹¶ä¸è¡¨æ˜Žæ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è¿™ä¹ˆç®€å•ï¼Œåœ¨split()æ–¹æ³•çš„å†…éƒ¨è¿˜æ˜¯è°ƒç”¨äº†æ­£åˆ™è¡¨è¾¾å¼ç›¸å…³çš„æ–¹æ³•ã€‚123public String[] split(String regex) &#123; return split(regex, 0);&#125;Patternç±»ï¼šä¸€ä¸ªPatternè¡¨ç¤ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚Pattern ç±»æ²¡æœ‰å…¬å…±æž„é€ æ–¹æ³•ã€‚è¦åˆ›å»ºä¸€ä¸ª Pattern å¯¹è±¡ï¼Œä½ å¿…é¡»é¦–å…ˆè°ƒç”¨å…¶å…¬å…±é™æ€ç¼–è¯‘æ–¹æ³•ï¼Œå®ƒè¿”å›žä¸€ä¸ª Pattern å¯¹è±¡ã€‚è¯¥æ–¹æ³•æŽ¥å—ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²ä½œä¸ºå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚Matcherç±»ï¼šMatcher å¯¹è±¡æ˜¯å¯¹è¾“å…¥å­—ç¬¦ä¸²è¿›è¡Œè§£é‡Šå’ŒåŒ¹é…æ“ä½œçš„å¼•æ“Žã€‚ä¸ŽPattern ç±»ä¸€æ ·ï¼ŒMatcher ä¹Ÿæ²¡æœ‰å…¬å…±æž„é€ æ–¹æ³•ã€‚ä½ éœ€è¦è°ƒç”¨ Pattern å¯¹è±¡çš„ matcher æ–¹æ³•æ¥èŽ·å¾—ä¸€ä¸ª Matcher å¯¹è±¡ã€‚PatternSyntaxExceptionï¼šPatternSyntaxException æ˜¯ä¸€ä¸ªéžå¼ºåˆ¶å¼‚å¸¸ç±»ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸­çš„è¯­æ³•é”™è¯¯ã€‚çŽ°åœ¨æˆ‘ä»¬ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœ‰å…³çš„ç±»æ¥å®Œæˆä¸Šé¢çš„ä¾‹å­ï¼š12345678910public class RegTest &#123; public static void main(String[] args) &#123; String testStr = "1234567890"; Pattern pattern = Pattern.compile("67"); String[] split = pattern.split(testStr); System.out.println(Arrays.deepToString(split)); &#125;&#125;PatternSyntaxException å¼ä¸€ä¸ªå¼‚å¸¸ç±»ï¼Œä½†æ˜¯ä¸å¼ºåˆ¶å¤„ç†æ­£åˆ™è¡¨è¾¾å¼çš„å¼‚å¸¸ï¼Œæ‰€ä»¥è¿™é‡Œå¯åŠ å¯ä¸åŠ ã€‚Matcherçš„ç”¨æ³•è¯·ç»§ç»­çœ‹ä¸‹åŽ»ã€‚åŒ¹é…åœ¨ä¸Šé¢æˆ‘ä»¬æµ‹è¯•çš„æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„åˆ†å‰²ä½œç”¨ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼çš„ä¾‹å­ã€‚æ‰€ä»¥ä¸‹é¢æˆ‘ä»¬å°†é‡‡ç”¨åŒ¹é…æ–¹æ³•æ¥å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼ï¼Œå…ˆç»™ä¸€ä¸ªå°ä¾‹å­ã€‚123456789public class RegTest &#123; public static void main(String[] args) &#123; String testStr = "1234567890"; boolean matches = Pattern.matches("67", testStr); System.out.println(matches); &#125;&#125;è¿™é‡Œçš„è¾“å‡ºç»“æžœè‚¯å®šæ˜¯falseäº†ï¼Œå› ä¸ºè¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„å­—ç¬¦ä¸²ï¼Œè‡ªç„¶æ— æ³•è¢«åŒ¹é…ã€‚å­—ç¬¦ç±»[abc] ï¼šaã€b æˆ– cï¼ˆç®€å•ç±»ï¼‰[^abc] ï¼šä»»ä½•å­—ç¬¦ï¼Œé™¤äº† aã€b æˆ– cï¼ˆå¦å®šï¼‰[a-zA-Z] ï¼ša åˆ° z æˆ– A åˆ° Zï¼Œä¸¤å¤´çš„å­—æ¯åŒ…æ‹¬åœ¨å†…ï¼ˆèŒƒå›´ï¼‰[a-d[m-p]] ï¼ša åˆ° d æˆ– m åˆ° pï¼š[a-dm-p]ï¼ˆå¹¶é›†ï¼‰[a-z&amp;&amp;[def]] ï¼šdã€e æˆ– fï¼ˆäº¤é›†ï¼‰[a-z&amp;&amp;[^bc]] ï¼ša åˆ° zï¼Œé™¤äº† b å’Œ cï¼š[ad-z]ï¼ˆå‡åŽ»ï¼‰[a-z&amp;&amp;[^m-p]] ï¼ša åˆ° zï¼Œè€Œéž m åˆ° pï¼š[a-lq-z]ï¼ˆå‡åŽ»ï¼‰123456789public class RegTest &#123; public static void main(String[] args) &#123; String testStr = "123"; Pattern.matches("[123][123][123]", testStr); //true Pattern.matches("[^123][123][123]", testStr); //false &#125;&#125;é¢„å®šä¹‰å­—ç¬¦ç±». ï¼šä»»ä½•å­—ç¬¦ï¼ˆä¸Žè¡Œç»“æŸç¬¦å¯èƒ½åŒ¹é…ä¹Ÿå¯èƒ½ä¸åŒ¹é…ï¼‰\d ï¼šæ•°å­—ï¼š[0-9]\D ï¼šéžæ•°å­—ï¼š [^0-9]\s ï¼šç©ºç™½å­—ç¬¦ï¼š[ \t\n\x0B\f\r]\S ï¼šéžç©ºç™½å­—ç¬¦ï¼š[^\s]\w ï¼šå•è¯å­—ç¬¦ï¼š[a-zA-Z_0-9]\W ï¼šéžå•è¯å­—ç¬¦ï¼š[^\w]12345678public class RegTest &#123; public static void main(String[] args) &#123; String testStr = "123"; System.out.println(Pattern.matches("\\d\\d\\d", testStr)); //true System.out.println(Pattern.matches("\\w\\w\\w", testStr)); //true &#125;&#125;æ•°é‡è¯X?ï¼š Xå­˜åœ¨ä¸€æ¬¡æˆ–ä¸€æ¬¡ä¹Ÿæ²¡æœ‰X* ï¼šXå­˜åœ¨é›¶æ¬¡æˆ–å¤šæ¬¡X+ ï¼šXå­˜åœ¨ä¸€æ¬¡æˆ–å¤šæ¬¡X{n} ï¼šXå­˜åœ¨æ°å¥½ n æ¬¡X{n,} ï¼šXå­˜åœ¨è‡³å°‘ n æ¬¡X{n,m} ï¼šXå­˜åœ¨è‡³å°‘ n æ¬¡ï¼Œä½†æ˜¯ä¸è¶…è¿‡ m æ¬¡123456789public class RegTest &#123; public static void main(String[] args) &#123; String testStr = "123"; boolean matches = Pattern.matches("[123]&#123;3&#125;", testStr); //true System.out.println(matches); &#125;&#125;æŸ¥æ‰¾å­ä¸²æŸ¥æ‰¾å­ä¸²éœ€è¦ä½¿ç”¨åˆ°Patternå’ŒMather[flid=1415279, ffid=BK-2898-20180922-A, frtt=20180922210700, frlt=20180923000300][flid=1417032, ffid=OD-689-20180923-D, fatt=2401, stat=BOR, ista=BOR]123456789101112131415public class RegTest &#123; public static final String FFID = "((ffid=)&#123;1&#125;)\\w&#123;2&#125;-\\w&#123;3,6&#125;-\\d&#123;8&#125;-\\w"; public static void main(String[] args) &#123; String str = "[flid=1415279, ffid=BK-2898-20180922-A, frtt=20180922210700, frlt=20180923000300][flid=1417032, ffid=OD-689-20180923-D, fatt=2401, stat=BOR, ista=BOR]"; Pattern pattern = Pattern.compile(FFID); Matcher matcher = pattern.matcher(str); //å¾ªçŽ¯æ‰¾å‡ºå…¨éƒ¨çš„åŒ¹é…å­ä¸² while(matcher.find()) &#123; System.out.println(matcher.group(0)); &#125; &#125;&#125;//ffid=BK-2898-20180922-A//ffid=OD-689-20180923-Dmarcher.group()å¿…é¡»å’Œfind()æ–¹æ³•é…åˆä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´find()æ˜¯çœŸæ­£åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢æ¨¡å¼çš„æ–¹æ³•ï¼ˆæœç´¢åˆ°è¿”å›žçœŸï¼Œå¦åˆ™è¿”å›žå‡ï¼‰ï¼Œä½†æ˜¯marcher.group()æ˜¯å°†å…¶è¾“å‡ºçš„æ–¹æ³•ã€‚ç»„åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œæ¯ä¸ªå°æ‹¬å·()æ‹¬èµ·æ¥çš„ä¸€ä¸ªå­æ¨¡å¼æ˜¯ä¸€ä¸ªç»„ï¼Œå¦‚(&quot;W(or)(ld!)&quot;ä¸­ï¼Œæœ‰ä¸¤ä¸ªç»„orå’Œld!ã€‚åœ¨æˆ‘ä»¬æ–¹æ‰çš„ä¾‹å­ä¸­ï¼Œmatcher.group(0)çš„0æŒ‡çš„å°±æ˜¯matcherå…³è”çš„æ¨¡å¼ï¼Œä½†æ˜¯å¦‚æžœæ˜¯matcher.group(1)æŒ‡çš„å°±æ˜¯(ffid=)ã€‚12345678910111213141516public class Demo1 &#123; public static final String FFID = "((ffid=)&#123;1&#125;)\\w&#123;2&#125;-\\w&#123;3,6&#125;-\\d&#123;8&#125;-\\w"; public static void main(String[] args) &#123; String str = "[flid=1415279, ffid=BK-2898-20180922-A, frtt=20180922210700, frlt=20180923000300][flid=1417032, ffid=OD-689-20180923-D, fatt=2401, stat=BOR, ista=BOR]"; Pattern pattern = Pattern.compile(FFID); Matcher matcher = pattern.matcher(str); //å¾ªçŽ¯æ‰¾å‡ºå…¨éƒ¨çš„åŒ¹é…å­ä¸² System.out.println(matcher.groupCount()); while(matcher.find()) &#123; System.out.println(matcher.group(1)); &#125; &#125;&#125;//flid=//flid=æ­£åœ¨è¡¨è¾¾å¼å®žä¾‹https://www.cnblogs.com/fozero/p/7868687.htmlã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ­£åˆ™è¡¨è¾¾å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mavené…ç½®SSMçŽ¯å¢ƒè¯¦è§£]]></title>
    <url>%2F2019%2FMaven%E9%85%8D%E7%BD%AESSM%E7%8E%AF%E5%A2%83%E8%AF%A6%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[é…ç½®web.xml12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" version="2.5"&gt; &lt;display-name&gt;ssm-maven-template&lt;/display-name&gt; &lt;welcome-file-list&gt; &lt;welcome-file&gt;index.html&lt;/welcome-file&gt; &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;welcome-file&gt;default.html&lt;/welcome-file&gt; &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt; &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt; &lt;/welcome-file-list&gt; &lt;session-config&gt; &lt;!-- å•ä½åˆ†é’Ÿ --&gt; &lt;session-timeout&gt;30&lt;/session-timeout&gt; &lt;/session-config&gt; &lt;servlet&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/springmvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;url-pattern&gt;*.action&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/applicationContext-*.xml&lt;/param-value&gt; &lt;/context-param&gt; &lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt; &lt;/listener&gt; &lt;!-- è§£å†³postä¹±ç  --&gt; &lt;filter&gt; &lt;filter-name&gt;encoding&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;encoding&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt;&lt;/web-app&gt;web.xmlæ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„ï¼Œå°±æ˜¯å°†SSMçš„é…ç½®æ–‡ä»¶åŠ è½½è¿›åŽ»ã€‚21è¡Œçš„&lt;servlet&gt;&lt;/servlet&gt;æ˜¯åŠ è½½è¿›å…¥SpringMVCçš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ç†è§£æˆcontrollerå±‚çš„é…ç½®æ–‡ä»¶ã€‚34è¡Œçš„&lt;context-param&gt;æ˜¯åŠ è½½è¿›åŽ»serviceå±‚å’Œdaoå±‚çš„é…ç½®æ–‡ä»¶ã€‚é…ç½®springmvc.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:task="http://www.springframework.org/schema/task" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.2.xsd http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.2.xsd"&gt; &lt;mvc:default-servlet-handler /&gt; &lt;!-- é…ç½®æ‰«æ å™¨ --&gt; &lt;context:component-scan base-package="cn.template.controller"/&gt; &lt;!-- é…ç½®å¤„ç†å™¨æ˜ å°„å™¨ é€‚é…å™¨ --&gt; &lt;mvc:annotation-driven&gt; &lt;mvc:message-converters register-defaults="true"&gt; &lt;!-- é…ç½®Fastjsonæ”¯æŒ --&gt; &lt;bean class="com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes"&gt; &lt;list&gt; &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt; &lt;value&gt;application/json&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;property name="features"&gt; &lt;list&gt; &lt;value&gt;WriteMapNullValue&lt;/value&gt; &lt;value&gt;QuoteFieldNames&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/mvc:message-converters&gt; &lt;/mvc:annotation-driven&gt; &lt;!-- é…ç½®è§†å›¾è§£é‡Šå™¨ jsp --&gt; &lt;bean id="jspViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;property name="prefix" value="/"/&gt; &lt;property name="suffix" value=".jsp"/&gt; &lt;/bean&gt; &lt;bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"&gt; &lt;!-- è®¾ç½®ä¸Šä¼ æ–‡ä»¶çš„æœ€å¤§å°ºå¯¸ä¸º5MB --&gt; &lt;property name="maxUploadSize"&gt; &lt;value&gt;5242880&lt;/value&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!-- æ‹¦æˆªå™¨ --&gt;&lt;!-- &lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path="/**" /&gt; &lt;bean class="cn.template.Interceptor.AutoLoginInterceptor" /&gt; &lt;/mvc:interceptor&gt; &lt;/mvc:interceptors&gt; --&gt; &lt;/beans&gt;åœ¨springmvc.xmlä¸­ä¸»è¦é…ç½®çš„æ˜¯controllerå±‚çš„æ‰«æå™¨ï¼Œè§†å›¾è§£æžå™¨ï¼Œæ–‡ä»¶ä¸Šä¼ æ’ä»¶ï¼Œæ‹¦æˆªå™¨ç­‰å’Œç”¨æˆ·äº¤äº’ç›¸å…³çš„é…ç½®ã€‚SpringMVCé»˜è®¤ä½¿ç”¨JacksonåŒ…æ¥å¤„ç†jsonï¼Œä½†æ˜¯ä¸ªäººä¸€èˆ¬å–œæ¬¢ä½¿ç”¨é˜¿é‡Œå·´å·´çš„fastjsonï¼Œæ‰€ä»¥åœ¨æ­¤é…ç½®æ–‡ä»¶ä¸­å°†fastjsoné…ç½®è¿›åŽ»ã€‚é…ç½®applicationContext-*.xmlapplicationContext-dao.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:task="http://www.springframework.org/schema/task" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.2.xsd http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.2.xsd"&gt; &lt;!-- é…ç½® è¯»å–propertiesæ–‡ä»¶ jdbc.properties --&gt; &lt;context:property-placeholder location="classpath:jdbc.properties" /&gt; &lt;!-- é…ç½® æ•°æ®æº --&gt; &lt;bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource"&gt; &lt;property name="driverClassName" value="$&#123;jdbc.driver&#125;" /&gt; &lt;property name="url" value="$&#123;jdbc.url&#125;" /&gt; &lt;property name="username" value="$&#123;jdbc.username&#125;" /&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;" /&gt; &lt;/bean&gt; &lt;!-- é…ç½® Mybatis --&gt; &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt; &lt;!-- æ•°æ®æº --&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;!-- é…ç½®pojoåˆ«å --&gt; &lt;property name="typeAliasesPackage" value="cn.template.pojo"&gt;&lt;/property&gt; &lt;!-- åŠ è½½mybatisçš„å…¨å±€é…ç½®æ–‡ä»¶ --&gt; &lt;property name="plugins"&gt; &lt;array&gt; &lt;bean class="com.github.pagehelper.PageInterceptor"&gt; &lt;property name="properties"&gt; &lt;!--ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼é…ç½®å‚æ•°ï¼Œä¸€è¡Œé…ç½®ä¸€ä¸ª --&gt; &lt;value&gt;helperDialect=mysql&lt;/value&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/array&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!-- æ‰«æmapper--&gt; &lt;bean class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;property name="basePackage" value="cn.template.mapper" /&gt; &lt;/bean&gt;&lt;/beans&gt;daoå±‚é…ç½®æ–‡ä»¶é…ç½®å’Œæ•°æ®åº“ç›¸å…³çš„ä¿¡æ¯ã€‚æœ¬äººåœ¨å†™é¡¹ç›®çš„æ—¶å€™åªä½¿ç”¨è¿‡mysqlï¼Œæ‰€ä»¥è¿™ä¸€éƒ¨åˆ†çš„é…ç½®ä»…å¯ä»¥ä¿è¯é’ˆå¯¹mysqlç”Ÿæ•ˆã€‚æ•°æ®åº“è¿žæŽ¥æ± ï¼šé˜¿é‡Œå·´å·´çš„druidé…ç½®mybatisåŠå…¶åˆ†é¡µæ’ä»¶é…ç½®è‡ªåŠ¨æ‰«ææŽ¥å£applicationContext-service.xml1234567891011121314151617181920212223242526&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:task="http://www.springframework.org/schema/task" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.2.xsd http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.2.xsd"&gt; &lt;!-- é…ç½® æ‰«æ @Service --&gt; &lt;context:component-scan base-package="cn.template.service" /&gt; &lt;/beans&gt;applicationContext-transaction.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:context="http://www.springframework.org/schema/context" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:task="http://www.springframework.org/schema/task" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.2.xsd http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.2.xsd"&gt; &lt;!-- äº‹åŠ¡ç®¡ç†å™¨ --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;!-- æ•°æ®æº --&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;/bean&gt; &lt;!-- é…ç½®é€šçŸ¥ --&gt; &lt;tx:advice id="txAdvice" transaction-manager="transactionManager"&gt; &lt;tx:attributes&gt; &lt;!-- å¢žåˆ æ”¹åŠ å…¥äº‹ç‰©æŽ§åˆ¶ --&gt; &lt;tx:method name="save*" propagation="REQUIRED"/&gt; &lt;tx:method name="insert*" propagation="REQUIRED"/&gt; &lt;tx:method name="delete*" propagation="REQUIRED"/&gt; &lt;tx:method name="update*" propagation="REQUIRED"/&gt; &lt;!-- æŸ¥è¯¢æ–¹æ³•(åªè¯»)ä¸ç”¨äº‹ç‰©æŽ§åˆ¶ --&gt; &lt;tx:method name="find*" propagation="SUPPORTS" read-only="true"/&gt; &lt;tx:method name="get*" propagation="SUPPORTS" read-only="true"/&gt; &lt;tx:method name="select*" propagation="SUPPORTS" read-only="true"/&gt; &lt;/tx:attributes&gt; &lt;/tx:advice&gt; &lt;!-- é…ç½®aopåˆ‡é¢ --&gt; &lt;aop:config&gt; &lt;aop:advisor advice-ref="txAdvice" pointcut="execution(* cn.template.service.impl.*.*(..))"/&gt; &lt;/aop:config&gt;&lt;/beans&gt;é…ç½®pom.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;ssm-maven-template&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;properties&gt; &lt;spring.version&gt;4.2.4.RELEASE&lt;/spring.version&gt; &lt;mybatis.version&gt;3.2.7&lt;/mybatis.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.10&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aop&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-orm&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- é…ç½®æ”¯æŒäº‹ç‰©çš„äº‹åŠ¡ç®¡ç†å™¨applicationContext-transaction.xmlä¸­ org.springframework.jdbc.datasource.DataSourceTransactionManager --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MyBatisä¾èµ–åŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MyBatis-Springæ•´åˆåŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.2.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- é€šç”¨Mapperä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;tk.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mapper&lt;/artifactId&gt; &lt;version&gt;3.3.6&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MyBatis_PageHelperåˆ†é¡µä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;5.0.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- JSTL --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mysql-connector --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.18&lt;/version&gt; &lt;/dependency&gt; &lt;!-- servlet-apiå’Œjsp-api --&gt; &lt;dependency&gt; &lt;groupId&gt;servletapi&lt;/groupId&gt; &lt;artifactId&gt;servletapi&lt;/artifactId&gt; &lt;version&gt;2.4&lt;/version&gt; &lt;!-- æŒ‡æ˜Žåªåœ¨ç¼–è¯‘ä¸­æœ‰æ•ˆ(å› ä¸ºå‘å¸ƒè¿‡ç¨‹ä¸­Tomcatç­‰å®¹å™¨å·²ç»åŒ…å«äº†è¯¥jaråŒ…ï¼Œå¯¼è‡´å†²çª) --&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt; &lt;artifactId&gt;jsp-api&lt;/artifactId&gt; &lt;version&gt;2.2&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.1.16&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt; &lt;version&gt;1.3.7&lt;/version&gt; &lt;/dependency&gt; &lt;!-- slf4jåˆ°log4jçš„è½¬æŽ¥åŒ…,æ‰èƒ½çœ‹åˆ°sqlè¯­å¥æ‰“å°(ä¾èµ–äº†log4jï¼Œä¸ç”¨å•ç‹¬é…ç½®ä¸Šè¿°log4j) --&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;1.7.5&lt;/version&gt; &lt;/dependency&gt; &lt;!-- fastjson --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1.2.8&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.4&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;version&gt;2.2&lt;/version&gt; &lt;configuration&gt; &lt;port&gt;8080&lt;/port&gt; &lt;path&gt;/template&lt;/path&gt; &lt;uriEncoding&gt;utf-8&lt;/uriEncoding&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;!-- èµ„æºæ–‡ä»¶æ‹·è´æ’ä»¶ --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt; &lt;version&gt;2.7&lt;/version&gt; &lt;configuration&gt; &lt;encoding&gt;UTF-8&lt;/encoding&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;resources&gt; &lt;resource&gt; &lt;directory&gt;src/main/java&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.properties&lt;/include&gt; &lt;include&gt;**/*.xml&lt;/include&gt; &lt;/includes&gt; &lt;filtering&gt;false&lt;/filtering&gt; &lt;/resource&gt; &lt;resource&gt; &lt;directory&gt;src/main/resources&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.properties&lt;/include&gt; &lt;include&gt;**/*.xml&lt;/include&gt; &lt;/includes&gt; &lt;filtering&gt;false&lt;/filtering&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;/build&gt;&lt;/project&gt;åæ ‡æ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„ï¼Œä¸»è¦æ˜¯ä¸äº§ç”Ÿä¾èµ–é—®é¢˜å°±è¡Œã€‚ä½†æ˜¯æ’ä»¶å¿…é¡»è¦è§£é‡Šä¸€ä¸‹ï¼štomcat7-maven-pluginï¼šå¯ä»¥å°†tomcatå†…åµŒåˆ°webé¡¹ç›®ä¸­ï¼Œç›´æŽ¥è¿è¡Œwebappé¡¹ç›®ã€‚æœ‰äº†è¿™ä¸ªæ’ä»¶æ‰å¯ä»¥ä½¿ç”¨tomcat7:runå‘½ä»¤ã€‚maven-resources-pluginï¼šè¿™æ˜¯èµ„æºæ‹·è´æ’ä»¶ã€‚åœ¨åŽŸå§‹çš„mavené¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨tomcat7:runè¿è¡Œé¡¹ç›®ä¹‹åŽä¼šå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå°†src/main/javaç›®å½•ä¸‹çš„javaæ–‡ä»¶ç¼–è¯‘è‡³targetç›®å½•ä¸‹çš„classesç›®å½•ä¸‹ã€‚ä½†æ˜¯æˆ‘ä»¬çš„mapper.xmlæ–‡ä»¶è™½ç„¶å’Œmapper.javaæ–‡ä»¶æ”¾åœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œä½†æ˜¯ä»ç„¶ä¸ä¼šè¢«æ‹·è´è‡³classesç›®å½•ä¸‹ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ å…¥æ­¤æ’ä»¶å°†src/main/javaä¸‹çš„mapper.xmlæ–‡ä»¶æ‹·è´è‡³classerç›®å½•ä¸‹ã€‚ä¸è¿‡åŠ å…¥è¿™ä¸ªæ’ä»¶åŽï¼Œæ­¤æ’ä»¶æ›¿ä»£äº†é»˜è®¤çš„æ‹·è´æ–¹å¼ï¼ŒåŠsrc/main/resourcesä¸ä¼šå†è¢«æ‹·è´è‡³classesç›®å½•ä¸‹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŒ‡å®šsrc/main/resourcesä¸‹çš„é…ç½®æ–‡ä»¶æ‹·è´è¿‡åŽ»ã€‚å‚è€ƒæºç ï¼šhttps://github.com/isjinhao/ssm-maven-template]]></content>
      <categories>
        <category>Maven</category>
      </categories>
      <tags>
        <tag>SSM</tag>
        <tag>JavaWeb</tag>
        <tag>Maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MavenåŸºç¡€]]></title>
    <url>%2F2019%2FMaven%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°Mavenæ˜¯Apacheä¸‹çš„ä¸€ä¸ªçº¯Javaå¼€å‘çš„å¼€æºé¡¹ç›®ï¼Œå®ƒæ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œä½¿ç”¨Mavenå¯¹é¡¹ç›®è¿›è¡Œæž„å»ºå’Œä¾èµ–ç®¡ç†ç­‰ã€‚æ‰€ä»¥ä¸‹é¢å°±ä¼šä»‹ç»ä»€ä¹ˆæ˜¯é¡¹ç›®æž„å»ºï¼Œä»€ä¹ˆæ˜¯ä¾èµ–ç®¡ç†ï¼Œä»¥åŠä½¿ç”¨Mavenæ¥åšçš„å¥½å¤„ã€‚é¡¹ç›®æž„å»ºé¡¹ç›®æž„å»ºæ˜¯æŒ‡ä¸€ä¸ªé¡¹ç›®ä»Žç¼–å†™æºä»£ç åˆ°ç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œã€æ‰“åŒ…ã€éƒ¨ç½²ã€è¿è¡Œçš„è¿‡ç¨‹ã€‚åœ¨ä¼ ç»Ÿçš„é¡¹ç›®æž„å»ºä¸­æµç¨‹å›¾å¦‚ä¸‹ï¼šä½†æ˜¯ä¸Šé¢çš„å¼€å‘é€‚åº”äºŽå°åž‹é¡¹ç›®å¼€å‘ï¼Œå¯¹äºŽå¤§åž‹é¡¹ç›®å¼€å‘ï¼Œä½¿ç”¨Mavenç»™æˆ‘ä»¬æä¾›çš„è§„èŒƒå¯ä»¥æ›´å¥½æ›´å¿«çš„å¼€å‘ã€‚ä¾èµ–ç®¡ç†å¦‚æžœä¸€ä¸ªé¡¹ç›®ï¼Œéœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹jaråŒ…æ‰èƒ½è¿è¡Œï¼Œæˆ‘ä»¬å°±è¯´è¿™ä¸ªé¡¹ç›®ä¾èµ–äº†è¿™äº›ç¬¬ä¸‰æ–¹jaråŒ…ã€‚æ¯”å¦‚ï¼šä½¿ç”¨SSMæ¡†æž¶å¼€å‘OAç³»ç»Ÿï¼Œåˆ™æ­¤OAä¾èµ–SSMæ¡†æž¶ã€‚åœ¨åŽŸå§‹å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ˜¯æ‰‹åŠ¨æ·»åŠ jaråŒ…è¿›åŽ»ï¼Œè¿™æ ·å¤ªè¿‡éº»çƒ¦ï¼Œä½¿ç”¨Mavenï¼Œå¯ä»¥é€šè¿‡é…ç½®çš„æ–¹å¼è‡ªåŠ¨èŽ·å–jaråŒ…å¹¶ä¸”æ·»åŠ è¿›åŽ»ã€‚å®‰è£…å®˜ç½‘ä¸‹è½½åœ°å€ï¼šhttp://maven.apache.org/download.cgiä¸‹è½½ä¹‹åŽè§£åŽ‹åˆ°ä¸å«ä¸­æ–‡å­—ç¬¦å’Œç‰¹æ®Šç¬¦å·çš„è·¯å¾„ä¸‹ã€‚å†é…ç½®çŽ¯å¢ƒå˜é‡ï¼šç„¶åŽæŠŠ%MAVEN_HOME%\bin\é…ç½®è¿›Pathä¸­ã€‚å†CMDä¸­è¾“å…¥ mvn -væµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸã€‚Mavenä»“åº“Mavenèƒ½é€šè¿‡é…ç½®çš„æ–¹å¼æ·»åŠ ç¬¬ä¸‰æ–¹jaråŒ…ï¼Œæ˜¯å› ä¸ºå®ƒå¯ä»¥è‡ªåŠ¨æŠŠæŒ‡å®šä½ç½®çš„jaråŒ…å¯¼å…¥ä»“åº“ä¸­ï¼Œè¿™äº›æŒ‡å®šä½ç½®å°±æ˜¯Mavençš„ä»“åº“ã€‚åœ¨Mavenä¸­æœ‰ä¸‰ç§ä»“åº“ï¼šæœ¬åœ°ä»“åº“ï¼Œç§æœå’Œä¸­å¤®ä»“åº“ã€‚ä¸­å¤®ä»“åº“æ˜¯Mavenå›¢é˜Ÿç»´æŠ¤çš„å¸‚é¢ä¸Šå¸¸ç”¨çš„jaråŒ…çš„é›†åˆï¼Œå¹³æ—¶æ‰€ç”¨çš„jaråŒ…éƒ½èƒ½åœ¨è¿™ä¸ªä¸­å¤®ä»“åº“ä¸­æ‰¾åˆ°ã€‚ç§æœæŒ‡çš„æ˜¯åœ¨å›¢é˜Ÿå¼€å‘æˆ–å…¬å¸ä¸­ï¼Œç»´æŠ¤ä¸€ä¸ªå†…ç½‘ä¸‹çš„ä¸­å¤®ä»“åº“ï¼Œæ‰€æœ‰äººä½¿ç”¨çš„jaråŒ…éƒ½ä»Žè¿™ä¸ªä»“åº“ä¸­èŽ·å–ï¼Œä¿è¯æ‰€æœ‰äººç”¨çš„å¼€å‘ç‰ˆæœ¬æ˜¯ä¸€è‡´çš„ã€‚æœ¬åœ°ä»“åº“å°±æ˜¯åœ¨æˆ‘ä»¬è‡ªå·±çš„è®¡ç®—æœºä¸­ç»´æŠ¤ä¸€ä¸ªä»“åº“ï¼Œè‡ªå·±åœ¨å¼€å‘çš„æ—¶å€™éƒ½ä½¿ç”¨è¿™ä¸ªä»“åº“ä¸­çš„jaråŒ…ã€‚Mavené¡¹ç›®åœ¨æŸ¥æ‰¾jaråŒ…çš„é¡ºåºï¼šæœ¬åœ° -&gt; ç§æœ -&gt; ä¸­å¤®ä»“åº“ã€‚ä½†æ˜¯æ— è®ºçš„jaråŒ…çš„æ¥æºæ˜¯ä»€ä¹ˆï¼Œé¡¹ç›®æœ€ç»ˆéƒ½æ˜¯åœ¨æœ¬åœ°ä»“åº“ä¸­å¯»æ‰¾jaråŒ…ã€‚å¦‚æžœæœ¬åœ°ä»“åº“æ‰¾ä¸åˆ°jaråŒ…çš„æ—¶å€™å¯ä»¥åŽ»è¿™ä¸ªç½‘ç«™å¯»æ‰¾ï¼Œç„¶åŽè´´åœ¨pom.xmlçš„&lt;dependencies&gt;&lt;dependencies&gt;ä¸­ï¼Œå†update projectå°±å¯ä»¥äº†ã€‚Mavenä»“åº“çš„é…ç½®å»ºä¸€ä¸ªä¿å­˜jaråŒ…çš„æ–‡ä»¶å¤¹ã€‚åœ¨%MAVEN_HOME%\conf\settings.xmlä¸­é…ç½®å›¾ç‰‡ä¸­æœ€åŽä¸€è¡Œï¼Œä½ç½®æ˜¯è‡ªå·±çš„æœ¬åœ°ä»“åº“ã€‚ä¿®æ”¹JDKç‰ˆæœ¬åœ¨%MAVEN_HOME%\conf\settings.xmlä¸­çš„&lt;/profiles&gt;ä¾¿ç­¾é‡Œé…ç½®ï¼š123456789101112&lt;profile&gt; &lt;id&gt;jdk-1.8&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;jdk&gt;1.8&lt;/jdk&gt; &lt;/activation&gt; &lt;properties&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt; &lt;/properties&gt; &lt;/profile&gt;Eclipseé…ç½®Mavenå®‰è£…Mavenæ›´æ¢é…ç½®æ–‡ä»¶æ›´æ–°ç´¢å¼•æ›´æ¢é•œåƒMavené»˜è®¤çš„é•œåƒæ˜¯å›½å¤–ç«™ç‚¹çš„é•œåƒã€‚æ¢æˆé˜¿é‡Œäº‘çš„é•œåƒè®¿é—®è¾ƒå¿«ã€‚ä¿®æ”¹setting.xmlæ–‡ä»¶ã€‚12345678 &lt;mirrors&gt;&lt;mirror&gt; &lt;id&gt;nexus-aliyun&lt;/id&gt; &lt;mirrorOf&gt;*&lt;/mirrorOf&gt; &lt;name&gt;Nexus aliyun&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt; &lt;/mirror&gt; &lt;/mirrors&gt;é‡å»ºç´¢å¼•Window -&gt; Show View -&gt; Other -&gt; Maven Repositoriesã€‚Mavené¡¹ç›®å¼€å‘Mavené¡¹ç›®çš„ç›®å½•è§„èŒƒå°±åƒJavaé¡¹ç›®æœ‰å®ƒçš„ç›®å½•è§„èŒƒï¼ŒDynamic Webé¡¹ç›®æœ‰å®ƒçš„é¡¹ç›®è§„èŒƒï¼ŒMavené¡¹ç›®è‡ªç„¶ä¹Ÿæœ‰ä»–è‡ªå·±çš„é¡¹ç›®è§„èŒƒã€‚Eclipseå¼€å‘Mavené¡¹ç›®newçš„æ—¶å€™é€‰æ‹©Maven Projectã€‚å‹¾é€‰create a simple projectâ€¦ã€‚è¿™æ­¥ä¸€å®šè¦åšï¼Œå¦åˆ™æž„å»ºå‡ºæ¥çš„Mavenä¸å®Œæ•´ã€‚é€‰æ‹©NextåŽå¿…å¡«é¡¹æ˜¯Group Id å’Œ Artifact Idï¼Œå‰è€…ä¸€èˆ¬å†™åŸŸåçš„åŽç½®ï¼Œå¦‚ï¼šcom.xxxï¼ŒåŽè€…æ˜¯é¡¹ç›®åã€‚éœ€è¦æ³¨æ„çš„æ˜¯Packagingï¼Œè¿™é‡Œæœ‰ä¸‰ç§é€‰æ‹©ï¼Œjarã€pomå’Œwarï¼ŒjaræŒ‡çš„æ˜¯Java Projectï¼Œpomç”¨äºŽå·¥ç¨‹çš„ç»§æ‰¿ï¼Œçˆ¶å·¥ç¨‹ä¸€èˆ¬æ‰“æˆpomåŒ…ï¼ŒwaråŒ…æŒ‡çš„æ˜¯Java Webé¡¹ç›®ã€‚æœ¬æ¬¡æµ‹è¯•ä½¿ç”¨waråŒ…ã€‚åˆ›å»ºé¡¹ç›®åŽï¼Œå³å‡»é¡¹ç›® -&gt; Java EE Tools -&gt; Generate Deployment Descriptor Stubæ–°å»ºé¡¹ç›®åŽã€‚æˆ‘ä»¬åœ¨Java Resource/src/main/javaä¸­å†™Javaä»£ç ã€‚åœ¨src/main/webappä¸­å†™jspä»£ç ã€‚Hello.java1234567891011121314151617181920import java.io.IOException;import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;@WebServlet(urlPatterns="/hello")public class Hello extends HttpServlet &#123; public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; response.getWriter().write("hello haohao..."); request.getRequestDispatcher("/NewFile.jsp").forward(request, response); &#125; public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; doGet(request, response); &#125; &#125;NewFile.jsp123456789101112&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt; hello&lt;/body&gt;&lt;/html&gt;pom.xml1234567891011121314151617181920212223242526272829303132333435363738394041&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;cn.isjinhao&lt;/groupId&gt; &lt;artifactId&gt;course-selection-help&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;4.0.1&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt; &lt;artifactId&gt;jsp-api&lt;/artifactId&gt; &lt;version&gt;2.0&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;version&gt;2.2&lt;/version&gt; &lt;configuration&gt; &lt;port&gt;8080&lt;/port&gt; &lt;path&gt;/helloworld2&lt;/path&gt; &lt;uriEncoding&gt;utf-8&lt;/uriEncoding&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;ä½¿ç”¨tomcat7:runè¿è¡Œè¿è¡Œæ—¶å¦‚æžœæŠ¥ï¼šNo compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?ï¼Œè¯·å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šhttps://blog.csdn.net/lslk9898/article/details/73836745å¯åŠ¨åŽå‘çŽ°è®¿é—®æ—¶ä¼šæŠ¥é”™æ­¤æ—¶éœ€è¦æ³¨æ„Mavençš„ä¾èµ–èŒƒå›´ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç»§ç»­çœ‹ä¸‹åŽ»ã€‚Mavenä¾èµ–èŒƒå›´ä»€ä¹ˆæ˜¯ä¾èµ–èŒƒå›´?maven é¡¹ç›®ä¸åŒçš„é˜¶æ®µå¼•å…¥åˆ°classpathä¸­çš„ä¾èµ–æ˜¯ä¸åŒçš„ï¼Œä¾‹å¦‚ï¼Œç¼–è¯‘æ—¶ï¼Œmaven ä¼šå°†ä¸Žç¼–è¯‘ç›¸å…³çš„ä¾èµ–å¼•å…¥classpathä¸­ï¼Œæµ‹è¯•æ—¶ï¼Œmavenä¼šå°†æµ‹è¯•ç›¸å…³çš„çš„ä¾èµ–å¼•å…¥åˆ°classpathä¸­ï¼Œè¿è¡Œæ—¶ï¼Œmavenä¼šå°†ä¸Žè¿è¡Œç›¸å…³çš„ä¾èµ–å¼•å…¥classpathä¸­ï¼Œè€Œä¾èµ–èŒƒå›´å°±æ˜¯ç”¨æ¥æŽ§åˆ¶ä¾èµ–äºŽè¿™ä¸‰ç§classpathçš„å…³ç³»ã€‚ä¾èµ–èŒƒå›´åœ¨pom.xmlä¸­å¦‚ä½•ä½“çŽ°ï¼Ÿpomæ–‡ä»¶å¦‚ä¸‹é…ç½®ï¼š123456&lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.7&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;å…¶scopeæ ‡ç­¾å°±æ˜¯ä¾èµ–èŒƒå›´çš„é…ç½®ï¼Œé»˜è®¤æ˜¯compileï¼Œå¯é€‰é…ç½®æœ‰testã€providedã€runtimeã€systemã€importã€‚6ä¸ªä¸­æœ€å¸¸ç”¨çš„æ˜¯å‰å››ä¸ªã€‚ç¼–è¯‘ä¾èµ–èŒƒå›´ï¼ˆcompileï¼‰è¯¥èŒƒå›´å°±æ˜¯é»˜è®¤ä¾èµ–èŒƒå›´ï¼Œæ­¤ä¾èµ–èŒƒå›´å¯¹ äºŽç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œä¸‰ç§classpathéƒ½æœ‰æ•ˆï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‡å¦‚é¡¹ç›®ä¸­æœ‰spring-coreçš„ä¾èµ–ï¼Œé‚£ä¹ˆspring-coreä¸ç®¡æ˜¯åœ¨ç¼–è¯‘ï¼Œæµ‹è¯•ï¼Œè¿˜æ˜¯è¿è¡Œéƒ½ä¼šè¢«ç”¨åˆ°ï¼Œå› æ­¤spring-coreå¿…é¡»æ˜¯ç¼–è¯‘èŒƒå›´ï¼ˆæž„ä»¶é»˜è®¤çš„æ˜¯ç¼–è¯‘èŒƒå›´ï¼Œæ‰€ä»¥ä¾èµ–èŒƒå›´æ˜¯ç¼–è¯‘èŒƒå›´çš„æ— é¡»æ˜¾ç¤ºæŒ‡å®šï¼‰æµ‹è¯•ä¾èµ–èŒƒå›´ï¼ˆtestï¼‰é¡¾åæ€ä¹‰å°±æ˜¯é’ˆå¯¹äºŽæµ‹è¯•çš„ï¼Œä½¿ç”¨æ­¤ä¾èµ–èŒƒå›´çš„ä¾èµ–ï¼Œåªå¯¹æµ‹è¯•classpathæœ‰æ•ˆï¼Œåœ¨ç¼–è¯‘ä¸»ä»£ç å’Œé¡¹ç›®è¿è¡Œæ—¶ï¼Œéƒ½å°†æ— æ³•ä½¿ç”¨è¯¥ä¾èµ–ï¼Œæœ€å…¸åž‹çš„ä¾‹å­å°±æ˜¯ Junit, æž„ä»¶åœ¨æµ‹è¯•æ—¶æ‰éœ€è¦ï¼Œæ‰€ä»¥å®ƒçš„ä¾èµ–èŒƒå›´æ˜¯æµ‹è¯•ï¼Œå› æ­¤å®ƒçš„ä¾èµ–èŒƒå›´éœ€è¦æ˜¾ç¤ºæŒ‡å®šä¸º&lt;scope&gt;test&lt;/scope&gt;ï¼Œå½“ç„¶ä¸æ˜¾ç¤ºæŒ‡å®šä¾èµ–èŒƒå›´ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯è¯¥ä¾èµ–ä¼šè¢«åŠ å…¥åˆ°ç¼–è¯‘å’Œè¿è¡Œçš„classpathä¸­,é€ æˆä¸å¿…è¦çš„æµªè´¹ ã€‚å·²æä¾›ä¾èµ–èŒƒå›´ï¼ˆprovidedï¼‰ä½¿ç”¨è¯¥ä¾èµ–èŒƒå›´çš„mavenä¾èµ–ï¼Œåªå¯¹ç¼–è¯‘å’Œæµ‹è¯•çš„classpathæœ‰æ•ˆï¼Œå¯¹è¿è¡Œçš„classpathæ— æ•ˆï¼Œå…¸åž‹çš„ä¾‹å­å°±æ˜¯servlet-apiï¼Œ ç¼–è¯‘å’Œæµ‹è¯•è¯¥é¡¹ç›®çš„æ—¶å€™éœ€è¦è¯¥ä¾èµ–ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶ï¼Œwebå®¹å™¨å·²ç»æä¾›çš„è¯¥ä¾èµ–ï¼Œæ‰€ä»¥è¿è¡Œæ—¶å°±ä¸å†éœ€è¦æ­¤ä¾èµ–ï¼Œå¦‚æžœä¸æ˜¾ç¤ºæŒ‡å®šè¯¥ä¾èµ–èŒƒå›´ï¼Œå¹¶ä¸”å®¹å™¨ä¾èµ–çš„ç‰ˆæœ¬å’Œmavenä¾èµ–çš„ç‰ˆæœ¬ä¸ä¸€è‡´çš„è¯ï¼Œå¯èƒ½ä¼šå¼•èµ·ç‰ˆæœ¬å†²çªï¼Œé€ æˆä¸è‰¯å½±å“ã€‚è¿è¡Œæ—¶ä¾èµ–èŒƒå›´ï¼ˆruntimeï¼‰ä½¿ç”¨è¯¥ä¾èµ–èŒƒå›´çš„mavenä¾èµ–ï¼Œåªå¯¹æµ‹è¯•å’Œè¿è¡Œçš„classpathæœ‰æ•ˆï¼Œå¯¹ç¼–è¯‘çš„classpathæ— æ•ˆï¼Œå…¸åž‹ä¾‹å­å°±æ˜¯JDBCçš„é©±åŠ¨å®žçŽ°ï¼Œé¡¹ç›®ä¸»ä»£ç ç¼–è¯‘çš„æ—¶å€™åªéœ€è¦JDKæä¾›çš„JDBCæŽ¥å£ï¼Œåªæœ‰åœ¨æµ‹è¯•å’Œè¿è¡Œçš„æ—¶å€™æ‰éœ€è¦å®žçŽ°ä¸Šè¿°æŽ¥å£çš„å…·ä½“JDBCé©±åŠ¨ã€‚ä¹‹å‰é—®é¢˜çš„è§£å†³æŠŠpom.xmlæ–‡ä»¶ä¸­çš„runtimeä¿®æ”¹ä¸ºprovidedã€‚Mavenå‘½ä»¤å³å‡»é¡¹ç›®åœ¨Run Asä¸­å¯ä»¥çœ‹åˆ°buildã€cleanã€generate-sourcesã€installã€å’Œtestå‘½ä»¤ï¼Œä½†æ˜¯buildä¸€ä¸ªå°±å¯ä»¥å®Œæˆæ•´ä¸ªMavené¡¹ç›®çš„å‘å¸ƒï¼Œå…¶ä»–çš„åªæ˜¯æŠŠå¸¸ç”¨çš„Mavené¡¹ç›®å‘å¸ƒçš„é‡ç”²è¿‡ç¨‹æå–å‡ºæ¥ã€‚ä½†æ˜¯eclipseä¸­å‘½ä»¤ä¸æ˜¯å¾ˆå®Œæ•´ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿›å…¥mavenå·¥ç¨‹çš„æ ¹ç›®å½•æ‰§è¡Œå‘½ä»¤ã€‚compileæŠŠsrc/main/javaä¸‹çš„æ–‡ä»¶ç¼–è¯‘æˆclassæ–‡ä»¶ï¼Œå¹¶è¾“å‡ºåˆ°targetç›®å½•ä¸‹ã€‚testæ‰§è¡Œsrc/test/javaä¸‹çš„å•å…ƒæµ‹è¯•ç±»ã€‚åœ¨src/test/javaä¸‹åˆ›å»ºç±»ï¼š12345678package cn.isjinhao.test;public class Test &#123; @org.junit.Test public void demo() &#123; System.out.println("demo1"); &#125; &#125;è¿™æ—¶éœ€è¦æ³¨æ„ä¸¤ç‚¹ã€‚ä¸€ä¸ªæ˜¯è¦é…ç½®pom.xmlæ–‡ä»¶ï¼šscopeä¸€å®šä¸èƒ½å†™testã€‚123456&lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt;&lt;/dependency&gt;ç¬¬äºŒä¸ªæ˜¯éœ€è¦é…ç½®æ›´æ–°å·¥ç¨‹ï¼šå³å‡»é¡¹ç›® -&gt; Maven -&gt; Update Projectã€‚cleanåˆ é™¤targetç›®å½•ä¸­æˆ‘ä»¬ç”Ÿæˆçš„æ–‡ä»¶ã€‚packagewebå·¥ç¨‹æ‰“æˆjaråŒ…ï¼Œjavaå·¥ç¨‹æ‰“æˆwaråŒ…ã€‚installæ‰§è¡Œinstallå°†ä½¿ç”¨mavenæ‰“åŒ…å‘å¸ƒåˆ°æœ¬åœ°ä»“åº“ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JavaWeb</tag>
        <tag>é¡¹ç›®æž„å»º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java-ç½‘ç»œç¼–ç¨‹]]></title>
    <url>%2F2019%2FJava-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[InetAddressThis class represents an Internet Protocol (IP) address.èŽ·å¾—æœ¬æœºIPåœ°å€èŽ·å¾—æœ¬åœ°IPåœ°å€InetAddress iaddress = InetAddress.getLocalHost();ä½†æ˜¯è¿™ä¸ªå‡½æ•°æœ‰é—®é¢˜ï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°çš„åŽŸç†æ˜¯é€šè¿‡èŽ·å–æœ¬æœºçš„hostnameï¼Œç„¶åŽå¯¹æ­¤hostnameåšè§£æžï¼Œä»Žè€ŒèŽ·å–IPåœ°å€çš„ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æžœåœ¨æœ¬æœºçš„/etc/hostsæ–‡ä»¶é‡Œå¯¹è¿™ä¸ªä¸»æœºåæŒ‡å‘äº†ä¸€ä¸ªé”™è¯¯çš„IPåœ°å€ï¼Œé‚£ä¹ˆInetAddress.getLocalHostå°±ä¼šè¿”å›žè¿™ä¸ªé”™è¯¯çš„IPåœ°å€ã€‚å½“ç„¶å¦‚æžœä½ çš„hostnameæ˜¯åˆ°DNSåŽ»è§£æžçš„ï¼Œç¢°å·§DNSä¸Šçš„ä¿¡æ¯ä¹Ÿæ˜¯é”™çš„ï¼Œä¹ŸåŒæ ·æ˜¯æ‚²æƒ¨ç»“å±€ã€‚InetAddressæ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆçš„ï¼Œä¸€éƒ¨åˆ†æ˜¯getHostName()ï¼Œä¸€éƒ¨åˆ†æ˜¯getHostAddress()ã€‚èŽ·å¾—æœ¬æœºæ‰€æœ‰çš„IPåœ°å€1234567891011121314151617181920212223242526272829/** * èŽ·å–æœºå™¨æ‰€æœ‰ç½‘å¡çš„IPï¼ˆipv4ï¼‰ */public static List&lt;String&gt; getLocalIP() &#123; List&lt;String&gt; ipList = new ArrayList&lt;String&gt;(); InetAddress ip = null; try &#123; Enumeration&lt;NetworkInterface&gt; netInterfaces = (Enumeration&lt;NetworkInterface&gt;) NetworkInterface.getNetworkInterfaces(); while (netInterfaces.hasMoreElements()) &#123; NetworkInterface ni = (NetworkInterface) netInterfaces.nextElement(); // éåŽ†æ‰€æœ‰ip Enumeration&lt;InetAddress&gt; ips = ni.getInetAddresses(); while (ips.hasMoreElements()) &#123; ip = (InetAddress) ips.nextElement(); if (null == ip || "".equals(ip)) &#123; continue; &#125; String sIP = ip.getHostAddress(); if(sIP == null || sIP.indexOf(":") &gt; -1) &#123; continue; &#125; ipList.add(sIP); &#125; &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return ipList;&#125;èŽ·å–å…¶ä»–ä¸»æœºçš„IPåœ°å€å¯¹è±¡InetAddress otherInetAddress = InetAddress.getByName(&quot;www.baidu.com&quot;);123456789101112131415public static void main(String[] args) throws UnknownHostException &#123; //1.èŽ·å–æœ¬åœ°ä¸»æœº InetAddress iaddress = InetAddress.getLocalHost(); System.out.println(iaddress); //æ‰“å° InetAddresså¯¹è±¡ é»˜è®¤æ ¼å¼: ç”¨æˆ·å/IPåœ°å€ //2.èŽ·å–ä¸»æœºå String hostName = iaddress.getHostName(); //3.èŽ·å–ä¸»æœºIPåœ°å€ String ip = iaddress.getHostAddress(); System.out.println(hostName); System.out.println(ip); //3.èŽ·å–å…¶ä»–ä¸»æœºçš„IPåœ°å€å¯¹è±¡ InetAddress otherInetAddress = InetAddress.getByName("www.baidu.com"); System.out.println(otherInetAddress);&#125;UDPUDPé€šä¿¡éœ€è¦ä¸¤ä¸ªç±»çš„æ”¯æŒï¼šæ•°æ®çš„å‘é€æŽ¥æ”¶å™¨ï¼šDatagramSocketæ•°æ®åŒ…ç±»ï¼šDatagramPacket123456789101112131415161718192021222324252627282930313233343536import java.io.IOException;import java.net.DatagramPacket;import java.net.DatagramSocket;import java.net.InetAddress;import java.net.SocketException;public class UDPReceiver &#123; public static void main(String[] args) throws IOException &#123; // TODO Auto-generated method stub //1.åˆ›å»ºDatagramSocketå¯¹è±¡, //å¼ºè°ƒ:æŽ¥æ”¶ç«¯å¿…é¡»æŒ‡å®šä¸€ä¸ªç«¯å£å· DatagramSocket ds = new DatagramSocket(12345); while(true)&#123; //2.ç›´æŽ¥åˆ›å»ºä¸€ä¸ªDatagramPacketå¯¹è±¡ byte[] bs = new byte[1024]; DatagramPacket dp = new DatagramPacket(bs, bs.length); //3.æŽ¥æ”¶ System.out.println("ç­‰å¾…å‘é€ç«¯å‘é€æ•°æ®...."); ds.receive(dp);//è¿™ä¸ªæ–¹æ³•å…·æœ‰ç­‰å¾…åŠŸèƒ½,ç­‰å¾…å‘é€ç«¯å‘é€è¿‡æ¥çš„æ•°æ® System.out.println("æŽ¥æ”¶æ•°æ®æˆåŠŸ!!"); //èŽ·å–å‘é€ç«¯çš„åœ°å€ InetAddress sendAddress = dp.getAddress(); System.out.println("å‘é€ç«¯æ˜¯:"+sendAddress.getHostAddress()); //èŽ·å–çœŸæ­£çš„æ•°æ® byte[] data = dp.getData(); //èŽ·å–å‘é€ç«¯ å‘æ¥äº†å¤šå°‘å­—èŠ‚ int len = dp.getLength(); //æ‰“å°æ•°æ® String receiveMsg = new String(data, 0, len); System.out.println("å‘é€ç«¯è¯´:"+receiveMsg); &#125; //4.å…³é—­èµ„æºï¼ˆç¨‹åºè¿è¡Œç»“æŸä¹‹åŽæ˜¯éœ€è¦å…³é—­èµ„æºçš„ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç¨‹åºæ˜¯ä¸€ä¸ªæ­»å¾ªçŽ¯ï¼Œæ­¤å¥æ°¸ä¸ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥ä¸èƒ½åŠ å…³é—­ï¼‰ //ds.close(); &#125;&#125;1234567891011121314151617181920212223242526import java.net.DatagramPacket;import java.net.DatagramSocket;import java.net.InetAddress;import java.util.Scanner;public class UDPSender &#123; public static void main(String[] args) throws Exception &#123; Scanner sc = new Scanner(System.in); //1.åˆ›å»ºDatagramSocketå¯¹è±¡ DatagramSocket ds = new DatagramSocket(); while(true)&#123; //2.åˆ›å»ºDatagramPacketå¯¹è±¡ //å­˜å‚¨ å‘é€çš„æ•°æ®,å¯¹æ–¹çš„IP,ç«¯å£å· System.out.println("è¯·è¾“å…¥æ‚¨è¦å‘é€çš„æ•°æ®:"); String sendMsg = sc.nextLine(); byte[] bs = sendMsg.getBytes(); //IPåœ°å€:127.0.0.1 ä»£è¡¨æœ¬æœº,æœ¬åœ°å›žçŽ¯åœ°å€ DatagramPacket dp = new DatagramPacket(bs,bs.length,InetAddress.getByName("127.0.0.1"),12345); //3.å‘é€ ds.send(dp); System.out.println("å‘é€æ•°æ®æˆåŠŸ!!!");//192.168.146.72 &#125; //4.å…³é—­èµ„æºï¼ˆç¨‹åºè¿è¡Œç»“æŸä¹‹åŽæ˜¯éœ€è¦å…³é—­èµ„æºçš„ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç¨‹åºæ˜¯ä¸€ä¸ªæ­»å¾ªçŽ¯ï¼Œæ­¤å¥æ°¸ä¸ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥ä¸èƒ½åŠ å…³é—­ï¼‰ //ds.close(); &#125;&#125;TCP12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849import java.io.IOException;import java.io.InputStream;import java.io.OutputStream;import java.net.ServerSocket;import java.net.Socket;/** * TCPæœåŠ¡å™¨:(ServerSocket) æ­¥éª¤: * * 1.åˆ›å»ºä¸€ä¸ªServerSocketå¯¹è±¡,å¿…é¡»ç»‘å®šä¸€ä¸ªç«¯å£,è¿™ä¸ªç«¯å£å¿…é¡»å’Œå®¢æˆ·ç«¯è¿žæŽ¥çš„ç«¯å£ä¸€è‡´ * * 2.è°ƒç”¨serverçš„accept()æ–¹æ³•,èŽ·å–åˆ°åº•å“ªä¸€ä¸ªå®¢æˆ·ç«¯è¿žæŽ¥çš„æœåŠ¡å™¨ * * 3.é€šè¿‡åˆšåˆšèŽ·å–åˆ°çš„å®¢æˆ·ç«¯å¯¹è±¡ è°ƒç”¨getInputStream()æ–¹æ³• * * 4.é€šè¿‡è¾“å…¥æµè°ƒç”¨readæ–¹æ³•,è¯»å–å®¢æˆ·ç«¯å†™è¿‡æ¥çš„æ•°æ® * * 5.å…³é—­èµ„æº * */public class ServerDemo &#123; public static void main(String[] args) throws IOException &#123; // 1.åˆ›å»ºä¸€ä¸ªServerSocketå¯¹è±¡,å¿…é¡»ç»‘å®šä¸€ä¸ªç«¯å£,è¿™ä¸ªç«¯å£å¿…é¡»å’Œå®¢æˆ·ç«¯è¿žæŽ¥çš„ç«¯å£ä¸€è‡´ ServerSocket server = new ServerSocket(12345); // 2.èŽ·å–åˆ° å“ªä¸€ä¸ª å®¢æˆ·ç«¯è¿žæŽ¥çš„æˆ‘ System.out.println("ç­‰å¾…å®¢æˆ·ç«¯è¿žæŽ¥..."); Socket client = server.accept();// æ­¤æ–¹æ³•ä¹Ÿå…·æœ‰ç­‰å¾…åŠŸèƒ½,ç­‰å¾…æŸä¸€ä¸ªå®¢æˆ·ç«¯è¿žæŽ¥ // æ‰“å°ä¸€äº›å’Œå®¢æˆ·ç«¯æœ‰å…³ä¿¡æ¯ String ip = client.getInetAddress().getHostAddress(); System.out.println("å°æ ·,æŠ“åˆ°ä½ äº†:" + ip); // 3.èŽ·å–è¾“å…¥æµ,å®žé™…ä¸Šæ˜¯å®¢æˆ·ç«¯å†™æ•°æ®æ—¶çš„è¾“å‡ºæµ InputStream in = client.getInputStream(); // 4.è¯»å–æ•°æ® byte[] bs = new byte[1024]; int len = in.read(bs); // æ‰“å° System.out.println("å®¢æˆ·ç«¯è¯´:" + new String(bs, 0, len)); // 5.è¦å‘å®¢æˆ·ç«¯ å›žå†™æ•°æ®,å‘Šè¯‰å®¢æˆ·ç«¯æ‚¨çš„ä¿¡æ¯æˆ‘å·²ç»æ”¶åˆ°äº† OutputStream out = client.getOutputStream(); out.write("æ‚¨çš„æ¶ˆæ¯å·²ç»æ”¶åˆ°...".getBytes()); System.out.println("ç»™å®¢æˆ·ç«¯åé¦ˆçš„ä¿¡æ¯å‘é€æˆåŠŸ!!!"); // å…³é—­èµ„æº server.close(); client.close(); in.close(); &#125;&#125;1234567891011121314151617181920212223242526272829303132333435363738import java.io.IOException;import java.io.InputStream;import java.net.Socket;/** * * ä½¿ç”¨TCPåè®®çš„å®¢æˆ·ç«¯(Socketç±») æ­¥éª¤: 1.åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯å¯¹è±¡(æ³¨æ„:æŒ‡å®šè¿™ä¸ªSocketè¦è¿žæŽ¥çš„æœåŠ¡å™¨çš„IPå’Œç«¯å£) * * 2.ä»Žå®¢æˆ·ç«¯å¯¹è±¡ä¸­èŽ·å– è¾“å‡ºæµ:getOutputStream() * * 3.è°ƒç”¨è¾“å‡ºæµçš„Writeæ–¹æ³•å†™æ•°æ®åˆ°æœåŠ¡å™¨å³å¯ * * 4.å…³é—­èµ„æº * */public class ClientDemo &#123; public static void main(String[] args) throws IOException &#123; // 1.åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯å¯¹è±¡(æ³¨æ„:æŒ‡å®šè¿™ä¸ªSocketè¦è¿žæŽ¥çš„æœåŠ¡å™¨çš„IPå’Œç«¯å£) /* * è¿™ä¸ªæž„é€ æ–¹æ³•å¹²äº†å¾ˆå¤šäº‹æƒ…: a.è‡ªåŠ¨åŽ»è¿žæŽ¥æœåŠ¡å™¨ b.è‡ªåŠ¨è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹,å»ºç«‹è¿žæŽ¥ c.è‡ªåŠ¨ä¸ºè¿žæŽ¥ä¸­åˆ›å»ºä¸¤ä¸ªæµ */ Socket client = new Socket("127.0.0.1", 12345); // 2.ä»Žå®¢æˆ·ç«¯å¯¹è±¡ä¸­èŽ·å– è¾“å‡ºæµ:getOutputStream() // OutputStream out = client.getOutputStream(); // 3.è°ƒç”¨è¾“å‡ºæµçš„Writeæ–¹æ³•å†™æ•°æ®åˆ°æœåŠ¡å™¨å³å¯ // out.write("How are you".getBytes()); client.getOutputStream().write("How are you".getBytes()); System.out.println("ç»™æœåŠ¡å™¨å‘é€æ•°æ®æˆåŠŸ!!"); // 4.è¯»å–æœåŠ¡å™¨ å‘é€è¿‡æ¥çš„åé¦ˆä¿¡æ¯ InputStream in = client.getInputStream(); byte[] bs = new byte[1024]; int len = in.read(bs); System.out.println("æœåŠ¡å™¨å“åº”:" + new String(bs, 0, len)); // å…³é—­èµ„æº client.close(); &#125;&#125;æ–‡ä»¶ä¼ è¾“æ¡ˆä¾‹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import java.io.FileOutputStream;import java.io.IOException;import java.io.InputStream;import java.io.OutputStream;import java.net.ServerSocket;import java.net.Socket;public class FileUploadServer &#123; public static void main(String[] args) throws IOException &#123; // TODO Auto-generated method stub //1.åˆ›å»ºServerSocketå¯¹è±¡,ç»‘å®šä¸€ä¸ªç«¯å£ ServerSocket server = new ServerSocket(12345); while(true)&#123; //2.èŽ·å–å“ªä¸€ä¸ªå®¢æˆ·ç«¯è¿žæŽ¥çš„æœåŠ¡å™¨ System.out.println("ç­‰å¾…å®¢æˆ·ç«¯è¿žæŽ¥..."); final Socket client = server.accept(); //å¼€å¯ä¸€ä¸ªçº¿ç¨‹,å’Œclinetè¿›è¡Œäº¤äº’ new Thread(new Runnable() &#123; @Override public void run() &#123; try &#123; // TODO Auto-generated method stub System.out.println("å°æ ·:"+client.getInetAddress().getHostAddress()); //3.èŽ·å–è¾“å…¥æµ,è¯»å–å®¢æˆ·ç«¯å‘æ¥æ•°æ® InputStream in = client.getInputStream(); //4.åˆ›å»ºæ–‡ä»¶çš„è¾“å‡ºæµ,æŠŠæ•°æ®å†™åˆ°æ–‡ä»¶ä¸­ String picName = "D:\\"+System.currentTimeMillis()+".png"; FileOutputStream fos = new FileOutputStream(picName); //5.å¾ªçŽ¯ ä»Žè¾“å…¥æµè¯»å–å®¢æˆ·ç«¯æ•°æ®, å†™å…¥åˆ°æ–‡ä»¶ä¸­ byte[] bs = new byte[1024]; int len = 0; while((len=in.read(bs))!=-1)&#123; fos.write(bs, 0, len); &#125;//1å°æ—¶ System.out.println("å®¢æˆ·ç«¯çš„æ–‡ä»¶å·²ç»ä¿å­˜å®Œæ¯•,å¯ä»¥æŸ¥çœ‹äº†"+picName); //6.å‘ŠçŸ¥å®¢æˆ·ç«¯,æ–‡ä»¶çœŸçš„çœŸçš„çœŸçš„ä¸Šä¼ æˆåŠŸ try &#123; Thread.sleep(10000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; OutputStream out = client.getOutputStream(); out.write("æ‚¨çš„æ–‡ä»¶çœŸçš„çœŸçš„çœŸçš„ä¸Šä¼ æˆåŠŸ".getBytes()); client.close(); in.close(); out.close(); fos.close(); &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; &#125; &#125;).start(); &#125; //6.å…³é—­ // server.close(); &#125;&#125;12345678910111213141516171819202122232425262728293031323334import java.io.FileInputStream;import java.io.IOException;import java.io.InputStream;import java.io.OutputStream;import java.net.Socket;public class FileUploadClient &#123; public static void main(String[] args)throws IOException &#123; //1.åˆ›å»ºSocketå¯¹è±¡,è¿žæŽ¥æœåŠ¡å™¨ Socket client = new Socket("127.0.0.1", 12345); System.out.println("è¿žæŽ¥æœåŠ¡å™¨æˆåŠŸ.."); //2.èŽ·å–è¾“å‡ºæµ,æŠŠæ•°æ®å†™å‘æœåŠ¡å™¨ OutputStream out = client.getOutputStream(); //3.åˆ›å»ºæ–‡ä»¶çš„è¾“å…¥æµ,è¯»å–æœ¬åœ°çš„æ–‡ä»¶æ•°æ® FileInputStream fis = new FileInputStream("C:\\Users\\ISJINHAO\\Desktop\\æˆ‘.jpg"); //4.å¾ªçŽ¯,è¯»å–æœ¬åœ°æ–‡ä»¶,å†™åˆ°æœåŠ¡å™¨ byte[] bs = new byte[1024]; int len = 0; while((len=fis.read(bs))!=-1)&#123; out.write(bs, 0, len); &#125; //å…³é—­è¾“å‡ºæµ client.shutdownOutput(); //5.èŽ·å–æœåŠ¡å™¨åé¦ˆçš„ä¿¡æ¯ InputStream in = client.getInputStream(); byte[] bs1 = new byte[1024]; int len1 = in.read(bs1); System.out.println("æœåŠ¡å™¨è¯´:"+new String(bs1,0,len1)); //6å…³é—­ client.close(); out.close(); fis.close(); &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Javaç½‘ç»œç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java-IOæµ]]></title>
    <url>%2F2019%2FJava-IO%E6%B5%81%2F</url>
    <content type="text"><![CDATA[è¾“å…¥æµæ¦‚è¿°InputStreamæ˜¯å­—èŠ‚è¾“å…¥æµçš„æ ¹ç±»ï¼ŒReaderæ˜¯å­—ç¬¦è¾“å…¥æµçš„æ ¹ç±»ã€‚æˆ‘ä»¬æ‰€è¯´çš„è¾“å…¥è¾“å‡ºéƒ½æ˜¯ç›¸å¯¹Javaç¨‹åºè€Œè¨€çš„ï¼Œæ‰€ä»¥è¾“å…¥æ˜¯æŠŠå¤–å­˜ä¸­çš„æ•°æ®è¯»å–åˆ°å†…å­˜ä¸­ã€‚è€Œåˆ†æˆä¸¤ä¸ªæ ¹ç±»çš„åŽŸå› æ˜¯åœ¨æµçš„åŸºæœ¬å•ä½æ˜¯å­—èŠ‚ï¼Œä½†æ˜¯Javaå­—ç¬¦ä½¿ç”¨UTF-16ç¼–ç ï¼Œåœ¨UTF-16ç¼–ç ä¸­ï¼Œç»å¤§éƒ¨åˆ†å­—ç¬¦æ˜¯åŒå­—èŠ‚çš„ï¼Œæ‰€ä»¥å•ç‹¬åˆ’åˆ†ä¸€ä¸ªç±»åˆ«æ¥è¡¨ç¤ºå­—ç¬¦è¾“å…¥æµã€‚InputStreamæ¦‚è¿°InputStreamæ˜¯å­—èŠ‚è¾“å…¥æµï¼Œå¸¸ç”¨çš„ç›´æŽ¥å®žçŽ°ç±»æœ‰ByteArrayInputStreamå’ŒFileInputStreamï¼Œå‰è€…æ˜¯æŠŠæŸbyteæ•°ç»„æŒ‡å®šä¸ºæ•°æ®æºï¼ŒåŽè€…æ˜¯æŠŠæ–‡ä»¶ä½œä¸ºæ•°æ®æºã€‚API12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697import java.io.ByteArrayInputStream;import java.io.FileInputStream;import java.io.InputStream;public class Test &#123; public String test; public static void main(String[] args) throws Exception &#123; byte []bs = new byte[100]; for(int i = 0; i &lt; 100; i++) bs[i] = (byte)i; //ä»¥å­—èŠ‚æ•°ç»„ä¸ºæ•°æ®æº InputStream isb = new ByteArrayInputStream(bs); //ä»¥æ–‡ä»¶ä¸ºæ•°æ®æº InputStream isf = new FileInputStream("E:\\video\\10 IOæµ-åŸºç¡€\\è§†é¢‘\\avi\\10.01_IOæµçš„æ¦‚è¿°å’Œåˆ†ç±».avi"); /** * ä¸¤ä¸ªçš„æ¼”ç¤ºAPIç›¸åŒï¼Œä½†æ˜¯å­—èŠ‚æ•°ç»„æ›´ç›´è§‚ï¼Œæ‰€ä»¥ä½¿ç”¨å­—èŠ‚æ•°ç»„ä½œä¸ºæ•°æ®æºæ¼”ç¤º */ /** * è¯»å–å½“å‰æ•°æ®æºçš„ä¸‹ä¸€ä¸ªå­—èŠ‚æ•°æ®å¹¶è¿”å›žï¼š * Console: * 0 * 1 */ System.out.println(isb.read()); System.out.println(isb.read()); /** * è·³è¿‡æŒ‡å®šå­—èŠ‚çš„æ•°æ® * Console: * 4 */ isb.skip(2); System.out.println(isb.read()); /** * è¿˜å¯ä»¥è¯»å–çš„å­—èŠ‚æ•° * Console: * 95 */ System.out.println(isb.available()); /** * å°½å¯èƒ½æŠŠæ•°æ®è¯»å…¥tempsä¸­ï¼Œå³å¦‚æžœæ•°æ®å­—èŠ‚æ•°å¤§äºŽæ•°ç»„å®¹é‡ï¼Œæ•°ç»„ä¼šè¢«è¯»æ»¡ï¼Œ * å°äºŽæ•°æ®æºæ•°æ®ä¼šå…¨éƒ¨è¯»è¿›åŽ»ï¼Œ è¿”å›žçœŸæ­£è¯»å–çš„å­—èŠ‚æ•° * Console: * 5 6 7 8 9 10 11 12 13 14 * 10 */ byte []temps = new byte[10]; int read = isb.read(temps); for(byte e : temps) System.out.print(e + " "); System.out.println("\n" + read); /** * read(byte[] b, int off, int len) * ä»Žoffä½ç½®å¼€å§‹å¼€å§‹è¯»å…¥lenä¸ªå­—èŠ‚çš„æ•°æ®åˆ°bä¸­ï¼Œè¿”å›žçœŸæ­£è¯»å–çš„å­—èŠ‚æ•° * Console: * 5 6 7 8 9 10 11 12 13 14 * 10 */ int read2 = isb.read(temps, 3, 2); for(byte e : temps) System.out.print(e + " "); System.out.println("\n" + read2); /** * mark(int readlimit) &amp; reset() * å†è°ƒç”¨reset()ä¹‹åŽï¼Œä¼šè¿”å›žæœ€è¿‘çš„ä¸€æ¬¡è¢«markçš„ä½ç½®ï¼Œ * ä¼ å…¥çš„å‚æ•°ï¼šreadLimitæ˜¯è¯´ç³»ç»Ÿä¼šä¿è¯åœ¨readLimit * ä¸ªå­—èŠ‚ä¹‹å†…ä¸ä¼šä½¿markå¤±æ•ˆï¼Œè¶…è¿‡è¿™ä¸ªå­—èŠ‚ä¹‹åŽå°±ä¸å†ä¿è¯äº† * Console: * 17 */ isb.mark(isb.available()); isb.read(); isb.reset(); System.out.println(isb.read()); /** * æŸ¥çœ‹å½“å‰æµæ˜¯å¦æ”¯æŒmarkå’Œresetã€‚ * Console: * true */ System.out.println(isb.markSupported()); /** * å…³é—­æ­¤æµå¹¶ä¸”é‡Šæ”¾ç³»ç»Ÿèµ„æº */ isb.close(); &#125;&#125;FilterInputStreamè¿™ä¸ªç±»ç›´è¯‘æ˜¯è¿‡æ»¤è¾“å…¥æµï¼Œä½†æ˜¯åœ¨Javaä¸­è¿‡æ»¤çš„ç›®çš„æ˜¯ä¸ºäº†å¢žå¼ºæŸäº›åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘æ›´å–œæ¬¢å«ä»–å¢žå¼ºè¾“å…¥æµã€‚è™½ç„¶å®ƒä¸æ˜¯æŠ½è±¡ç±»ï¼Œä½†æ˜¯å®ƒå´ä¸èƒ½ç›´æŽ¥ä½¿ç”¨ï¼Œå› ä¸ºå®ƒæ‰€æœ‰çš„å±žæ€§å’Œæ–¹æ³•éƒ½æ˜¯protectedçš„ï¼Œå®ƒæœ‰ä¸€ä¸ªå¸¸ç”¨çš„å®žçŽ°ç±»ï¼šBufferedInputStreamã€‚è¿™ä¸ªç±»çš„å¢žå¼ºçš„åŠŸèƒ½å°±æ˜¯é‡‡ç”¨å¼€è¾Ÿç¼“å­˜åŒºçš„æ–¹å¼ä½¿è¾“å…¥æµè¯»å–æ•°æ®èƒ½æ›´å¿«ã€‚123456789101112131415161718192021222324252627import java.io.BufferedInputStream;import java.io.FileInputStream;import java.io.InputStream;public class Test2 &#123; public static void main(String[] args) throws Exception &#123; InputStream is = new FileInputStream("E:\\video\\10 IOæµ-åŸºç¡€\\è§†é¢‘\\avi\\10.01_IOæµçš„æ¦‚è¿°å’Œåˆ†ç±».avi"); long begin1 = System.currentTimeMillis(); while(is.read() != -1) &#123;&#125; long end1 = System.currentTimeMillis(); System.out.println(end1 - begin1); InputStream bis = new BufferedInputStream(new FileInputStream("E:\\video\\10 IOæµ-åŸºç¡€\\è§†é¢‘\\avi\\10.01_IOæµçš„æ¦‚è¿°å’Œåˆ†ç±».avi")); long begin2= System.currentTimeMillis(); while(bis.read() != -1) &#123;&#125; long end2 = System.currentTimeMillis(); System.out.println(end2 - begin2); /** * Console: * 23175 * 53 */ is.close(); bis.close(); &#125;&#125;Readeræ¦‚è¿°è¿™ä¸ªç±»æ˜¯å¤„ç†å­—ç¬¦æ–‡ä»¶çš„æ ¹ç±»ã€‚å®ƒçš„å¸¸ç”¨å®žçŽ°ç±»æœ‰FileReaderå’ŒCharArrayReaderã€‚åŒæ ·çš„ï¼Œå¦‚æžœè¦åŠ å¿«è¯»å–é€Ÿåº¦ï¼Œä½¿ç”¨å¸¦ç¼“å†²åŒºçš„BufferedReaderç±»ã€‚API12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364import java.io.CharArrayReader;import java.io.FileReader;import java.io.Reader;public class Test2 &#123; public static void main(String[] args) throws Exception &#123; char []strs = new char[26]; for(int i = 0; i &lt; 26; i++) strs[i] = (char)(i + 97); //ä»¥æ–‡ä»¶ä½œä¸ºæ•°æ®æº Reader fr = new FileReader("D:\\a.txt"); //ä»¥å­—ç¬¦æ•°ç»„ä½œä¸ºæ•°æ®æº Reader car = new CharArrayReader(strs); /** * ä¸ºäº†æ–¹ä¾¿ï¼Œæ•°æ®æºä½¿ç”¨å­—ç¬¦æ•°ç»„ */ /** * è¯»å–å•ä¸ªå­—ç¬¦ï¼Œå¹¶è¿”å›žç›¸åº”çš„intå€¼ * Console: * a */ int read = car.read(); System.out.println((char)read); /** * å°½å¯èƒ½è¯»å–åˆ°å­—ç¬¦æ•°ç»„ï¼Œå¹¶è¿”å›žçœŸå®žè¯»å–çš„å­—ç¬¦æ•°ã€‚å¦‚æžœæ•°ç»„å®¹é‡å°äºŽæ•°æ®æºå­—ç¬¦ä¸ªæ•° * æ•°ç»„ä¼šè¢«å…¨éƒ¨è¯»æ»¡ï¼Œå¦åˆ™è¯»è‡³æ•°æ®æºç»“å°¾ã€‚ * Console: * b c d e f g h i j k * 10 */ char []temps = new char[10]; int read2 = car.read(temps); for(char e : temps) System.out.print(e + " "); System.out.println("\n" + read2); /** * read(char[] cbuf, int off, int len) * ä»Žå­—ç¬¦æ•°ç»„çš„offä½ç½®å¼€å§‹ï¼Œè¯»å…¥é•¿åº¦ä¸ºlençš„æ•°æ®è¿›å…¥ï¼Œè¿”å›žçœŸæ­£è¯»å–çš„å­—ç¬¦æ•°ã€ * Console: * b c d l m g h i j k * 2 */ int read3 = car.read(temps, 3, 2); for(char e : temps) System.out.print(e + " "); System.out.println("\n" + read3); /** * skip(long n) * mark(int readAheadLimit) * reset() * markSupported() * * å’ŒInputStreamä¸€è‡´ */ &#125;&#125;InputStreamReaderInputStreamReaderæ˜¯ a bridge from byte streams to character streams: It reads bytes and decodes them into characters using a specified charsetã€‚å®ƒæœ‰ä¸”åªæœ‰FileReaderè¿™ä¸ªå­ç±»ï¼Œæ‰€ä»¥FileReaderå®žçŽ°ä»Žæ–‡ä»¶ä¸­è¯»å–çš„æ–¹æ³•æ˜¯ä»ŽæŠŠæ–‡ä»¶æŒ‰å­—èŠ‚è¯»å…¥åŽæŒ‰ç…§æŒ‡å®šç¼–ç è§„åˆ™è¿›è¡Œè§£ç ï¼Œé»˜è®¤æ˜¯å¹³å°è§£ç é›†ã€‚è¾“å‡ºæµæ¦‚è¿°OutputStreamæ˜¯å­—èŠ‚è¾“å‡ºæµçš„æ ¹ç±»ï¼ŒWriteræ˜¯å­—ç¬¦è¾“å‡ºæµçš„æ ¹ç±»ã€‚æˆ‘ä»¬æ‰€è¯´çš„è¾“å…¥è¾“å‡ºéƒ½æ˜¯ç›¸å¯¹Javaç¨‹åºè€Œè¨€çš„ï¼Œæ‰€ä»¥è¾“å‡ºæ˜¯æŠŠå†…å­˜ä¸­çš„æ•°æ®è¯»å–åˆ°å¤–å­˜ä¸­ã€‚è€Œåˆ†æˆä¸¤ä¸ªæ ¹ç±»çš„åŽŸå› æ˜¯åœ¨æµçš„åŸºæœ¬å•ä½æ˜¯å­—èŠ‚ï¼Œä½†æ˜¯Javaå­—ç¬¦ä½¿ç”¨UTF-16ç¼–ç ï¼Œåœ¨UTF-16ç¼–ç ä¸­ï¼Œç»å¤§éƒ¨åˆ†å­—ç¬¦æ˜¯åŒå­—èŠ‚çš„ï¼Œæ‰€ä»¥å•ç‹¬åˆ’åˆ†ä¸€ä¸ªç±»åˆ«æ¥è¡¨ç¤ºå­—ç¬¦è¾“å‡ºæµã€‚OutputStreamæ¦‚è¿°OutputStreamæ˜¯å­—èŠ‚è¾“å‡ºæµï¼Œå¸¸ç”¨çš„ç›´æŽ¥å®žçŽ°ç±»æ˜¯FileOutputStreamï¼Œå®ƒæŠŠæ–‡ä»¶ä½œä¸ºæ•°æ®è¾“å‡ºä½ç½®ã€‚å¦‚æžœæƒ³åŠ å¿«è¾“å‡ºæ•ˆçŽ‡ï¼Œä½¿ç”¨BufferedOutputStreamã€‚API1234567891011121314151617181920212223242526272829303132333435363738394041import java.io.FileOutputStream;import java.io.OutputStream;public class Test3 &#123; public static void main(String[] args) throws Exception &#123; //å¦‚æžœä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ï¼Œä¼šè‡ªåŠ¨åˆ›å»º OutputStream fos = new FileOutputStream("D:\\aa.txt"); /** * write(int b)ï¼šå°†æŒ‡å®šçš„å­—èŠ‚å†™å…¥æ­¤è¾“å‡ºæµã€‚ */ fos.write(97); /** * flush()ï¼šåˆ·æ–°ç¼“å†²åŒºï¼Œè®©writeçš„æ•°æ®çœŸæ­£å†™å…¥ç£ç›˜æ–‡ä»¶ */ fos.flush(); /** * write(byte[] b)ï¼šå°† b.length ä¸ªå­—èŠ‚ä»ŽæŒ‡å®šçš„ byte æ•°ç»„å†™å…¥æ­¤è¾“å‡ºæµã€‚ */ byte []bs = new byte[5]; for(int i = 0; i &lt; 5; i++) bs[i] = (byte) ((i % 26) + 97); fos.write(bs); fos.flush(); /** * void write(byte[] b, int off, int len) * å°†æŒ‡å®š byteæ•°ç»„ä¸­ä»Žoffå¼€å§‹çš„ lenä¸ªå­—èŠ‚å†™å…¥æ­¤è¾“å‡ºæµã€‚ */ fos.write(bs, 2, 2); fos.flush(); /** * close()ï¼šé‡Šæ”¾èµ„æº */ fos.close(); &#125;&#125;Writeræ¦‚è¿°è¿™ä¸ªç±»æ˜¯å†™å…¥å­—ç¬¦æ–‡ä»¶çš„æ ¹ç±»ã€‚å®ƒçš„å¸¸ç”¨å®žçŽ°ç±»æ˜¯FileWriterã€‚åŒæ ·çš„ï¼Œå¦‚æžœè¦åŠ å¿«è¯»å–é€Ÿåº¦ï¼Œä½¿ç”¨å¸¦ç¼“å†²åŒºçš„BufferedWriterç±»ã€‚API12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364import java.io.FileWriter;import java.io.Writer;public class Test4 &#123; public static void main(String[] args) throws Exception &#123; //æŒ‡å®šä¸€ä¸ªè¾“å‡ºä½ç½®ï¼Œå¦‚æžœä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»º Writer w = new FileWriter("d:\\bbb.txt"); //å†™å…¥å•ä¸ªå­—ç¬¦ w.write(97); //å†™å…¥å­—ç¬¦ä¸² w.write("bcd"); //å†™å…¥å­—ç¬¦ä¸²çš„æŸä¸€éƒ¨åˆ† w.write("defgf", 1, 2); //å†™å…¥å­—ç¬¦æ•°ç»„ char []temps = &#123;'g', 'h'&#125;; w.write(temps); //å†™å…¥å­—ç¬¦æ•°ç»„çš„æŸä¸€éƒ¨åˆ† w.write(temps, 1, 1); w.flush(); w.close(); /** * File: * abcdefghh */ //æµè¢«å…³é—­ä¹‹åŽæ˜¯ä¸èƒ½å†è¢«æ‰“å¼€çš„ï¼Œé‡æ–°å¼€å¯è¾“å‡ºä¸€ä¸ªæµï¼Œå‘å…¶ä¸­å†™å…¥æ•°æ®ä¼šè¦†ç›–åŽŸæœ‰ //æ•°æ®ï¼Œå¦‚æžœæˆ‘ä»¬æƒ³ç»§ç»­ä¹‹å‰çš„å†™ï¼Œå¯ä»¥ä½¿ç”¨è¿½åŠ æ–¹æ³•ï¼Œä¸è¿‡appendæ–¹æ³•è™½ç„¶ç¿»è¯‘è¿‡æ¥å«ä½è¿½åŠ  //ä½†æ˜¯å®ƒä¸æ˜¯è¿½åŠ ï¼Œå®ƒçš„ä½œç”¨å’Œwrite()å·®ä¸å¤šã€‚ w = new FileWriter("d:\\bbb.txt"); //å†™å…¥ä¸€ä¸ªå­—ç¬¦ w.append('|'); //å†™å…¥ä¸€ä¸ªå­—ç¬¦ä¸² w.append("abc"); //å†™å…¥å­—ç¬¦ä¸²çš„æŸä¸€éƒ¨åˆ† w.append("def", 1, 2); w.flush(); w.close(); /** * File: * |abce */ //å­—ç¬¦æµè¿½åŠ æ•°æ®å¯ä»¥åœ¨æž„é€ æ–¹æ³•ä¸­æŒ‡å®šå†™å…¥æ•°æ®ä¸ºè¿½åŠ æ•°æ® w = new FileWriter("d:\\bbb.txt", true); w.write("aaa"); w.flush(); w.close(); /** * File: * |abceaaa */ &#125;&#125;InputStreamReaderOutputStreamReaderæ˜¯a bridge from character streams to byte streams:Characters written to it are encoded into bytes using a specified charsetã€‚å®ƒæœ‰ä¸”åªæœ‰FileWriterè¿™ä¸ªå­ç±»ï¼Œæ‰€ä»¥FileWriterå®žçŽ°ä»Žå†™å…¥æ–‡ä»¶çš„æ–¹æ³•æ˜¯ä»ŽæŠŠå­—ç¬¦æŒ‰ç¼–ç è§„åˆ™ç¼–ç æˆå­—èŠ‚æ•°æ®åŽå†™å…¥æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯å¹³å°ç¼–ç é›†ã€‚æ‰“å°æµPrintStreamå’ŒPrintReaderæ˜¯ä¸ºäº†æ–¹ä¾¿è¾“å‡ºè€Œäº§ç”Ÿçš„ä¸¤ä¸ªæµï¼Œå‰è€…æ˜¯java.io.FilterOutputStreamçš„å­ç±»ï¼ŒåŽè€…æ˜¯java.io.Writerçš„å­ç±»ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455import java.io.BufferedWriter;import java.io.FileOutputStream;import java.io.IOException;import java.io.OutputStream;import java.io.OutputStreamWriter;import java.io.PrintStream;import java.io.PrintWriter;import java.io.Writer;import java.nio.file.Files;import java.nio.file.Paths;import java.nio.file.StandardOpenOption;public class TestPrintStream &#123; public static void main(String[] args) throws IOException &#123; OutputStream stream = Files.newOutputStream(Paths.get("test"), StandardOpenOption.WRITE); /** * è®¾ç½®trueä¹‹åŽï¼Œå½“è¾“å‡ºå­—èŠ‚æ•°ç»„ã€printlnæ–¹æ³•æˆ–å†™å…¥æ¢è¡Œç¬¦æˆ–å­—èŠ‚ï¼ˆ'\n'ï¼‰åŽï¼Œå°†è‡ªåŠ¨è°ƒç”¨flushæ–¹æ³• */ /** * PrintStreamæ‰“å°çš„æ‰€æœ‰å­—ç¬¦éƒ½ä½¿ç”¨å¹³å°çš„é»˜è®¤å­—ç¬¦ç¼–ç è½¬æ¢ä¸ºå­—èŠ‚ */ PrintStream printStream = new PrintStream(stream, true); /** * æŒ‡å®šè½¬åŒ–ä¸ºå­—èŠ‚æ•°ç»„çš„ç¼–ç é›†åŽä½¿ç”¨æŒ‡å®šçš„ç¼–ç é›† */ printStream.write("é™ˆé’°çª ".getBytes("GBK")); /** * tureè¡¨ç¤ºæ˜¯è¿½åŠ  */ /** * GBKæŒ‡å®šè¾“å‡ºæ—¶æŒ‰GBKç¼–ç é›†è½¬åŒ–æˆå­—èŠ‚æ•°ç»„ */ Writer writer = new OutputStreamWriter(new FileOutputStream("test", true), "GBK"); /** * trueè¡¨ç¤ºè‡ªåŠ¨åˆ·æ–°ï¼Œä½†åªæœ‰println, printf, or formatæ–¹æ³•æ‰èƒ½è§¦å‘è‡ªåŠ¨åˆ·æ–° */ PrintWriter printWriter = new PrintWriter(writer, true); printWriter.write("é’°çªæ˜¯ä¸ªå°å¯çˆ±"); printWriter.flush(); printWriter.close(); /** * BufferedWriter writer = Files.newBufferedWriter(Paths.get("test"), StandardOpenOption.WRITE, StandardOpenOption.APPEND); PrintWriter printWriter = new PrintWriter("test", "GBK"); printWriter.write("é’°çªæ˜¯ä¸ªå°å¯çˆ±"); printWriter.close(); writer.close(); è¿™æ®µä»£ç æ— æ³•è¿›è¡Œè¿½åŠ ...è®²é“ç†åº”è¯¥æ˜¯å¯ä»¥è¿½åŠ çš„... */ &#125;&#125;RandomAccessFileRandomAccessFileæ˜¯Javaçš„IOæµä½“ç³»ä¸­åŠŸèƒ½æœ€ä¸°å¯Œçš„æ–‡ä»¶å†…å®¹è®¿é—®ç±»ï¼Œæ—¢å¯ä»¥è¯»å–æ–‡ä»¶å†…å®¹ï¼Œä¹Ÿå¯ä»¥å‘æ–‡ä»¶è¾“å‡ºæ•°æ®ã€‚ä¸Žæ™®é€šçš„è¾“å…¥/è¾“å‡ºæµä¸åŒçš„æ˜¯ï¼ŒRandomAccessFileæ”¯æŒè·³åˆ°æ–‡ä»¶ä»»æ„ä½ç½®è¯»å†™æ•°æ®ï¼ŒRandomAccessFileå¯¹è±¡åŒ…å«ä¸€ä¸ªè®°å½•æŒ‡é’ˆï¼Œç”¨ä»¥æ ‡è¯†å½“å‰è¯»å†™å¤„çš„ä½ç½®ï¼Œå½“ç¨‹åºåˆ›å»ºä¸€ä¸ªæ–°çš„RandomAccessFileå¯¹è±¡æ—¶ï¼Œè¯¥å¯¹è±¡çš„æ–‡ä»¶è®°å½•æŒ‡é’ˆå¯¹äºŽæ–‡ä»¶å¤´ï¼ˆä¹Ÿå°±æ˜¯0å¤„ï¼‰ï¼Œå½“è¯»å†™nä¸ªå­—èŠ‚åŽï¼Œæ–‡ä»¶è®°å½•æŒ‡é’ˆå°†ä¼šå‘åŽç§»åŠ¨nä¸ªå­—èŠ‚ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒRandomAccessFileå¯ä»¥è‡ªç”±ç§»åŠ¨è¯¥è®°å½•æŒ‡é’ˆã€‚RandomAccessFileåŒ…å«ä¸¤ä¸ªæ–¹æ³•æ¥æ“ä½œæ–‡ä»¶è®°å½•æŒ‡é’ˆï¼šlong getFilePointer()ï¼šè¿”å›žæ–‡ä»¶è®°å½•æŒ‡é’ˆçš„å½“å‰ä½ç½®void seek(long pos)ï¼šå°†æ–‡ä»¶è®°å½•æŒ‡é’ˆå®šä½åˆ°posä½ç½®RandomAccessFileç±»åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œé™¤äº†æŒ‡å®šæ–‡ä»¶æœ¬èº«ï¼Œè¿˜éœ€è¦æŒ‡å®šä¸€ä¸ªmodeå‚æ•°ï¼Œè¯¥å‚æ•°æŒ‡å®šRandomAccessFileçš„è®¿é—®æ¨¡å¼ï¼Œè¯¥å‚æ•°æœ‰å¦‚ä¸‹å››ä¸ªå€¼ï¼šrï¼šä»¥åªè¯»æ–¹å¼æ‰“å¼€æŒ‡å®šæ–‡ä»¶ã€‚å¦‚æžœè¯•å›¾å¯¹è¯¥RandomAccessFileæŒ‡å®šçš„æ–‡ä»¶æ‰§è¡Œå†™å…¥æ–¹æ³•åˆ™ä¼šæŠ›å‡ºIOExceptionrwï¼šä»¥è¯»å–ã€å†™å…¥æ–¹å¼æ‰“å¼€æŒ‡å®šæ–‡ä»¶ã€‚å¦‚æžœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™å°è¯•åˆ›å»ºæ–‡ä»¶rwsï¼šä»¥è¯»å–ã€å†™å…¥æ–¹å¼æ‰“å¼€æŒ‡å®šæ–‡ä»¶ã€‚ç›¸å¯¹äºŽrwæ¨¡å¼ï¼Œè¿˜è¦æ±‚å¯¹æ–‡ä»¶çš„å†…å®¹æˆ–å…ƒæ•°æ®çš„æ¯ä¸ªæ›´æ–°éƒ½åŒæ­¥å†™å…¥åˆ°åº•å±‚å­˜å‚¨è®¾å¤‡ï¼Œé»˜è®¤æƒ…å½¢ä¸‹ï¼ˆrwæ¨¡å¼ä¸‹ï¼‰,æ˜¯ä½¿ç”¨bufferçš„ï¼Œåªæœ‰cacheæ»¡çš„æˆ–è€…ä½¿ç”¨RandomAccessFile.close()å…³é—­æµçš„æ—¶å€™å„¿æ‰çœŸæ­£çš„å†™åˆ°æ–‡ä»¶ï¼ˆå…¶æ²¡æœ‰flushæ–¹æ³•ï¼‰rwdï¼šä¸Žrwsç±»ä¼¼ï¼Œåªæ˜¯ä»…å¯¹æ–‡ä»¶çš„å†…å®¹åŒæ­¥æ›´æ–°åˆ°ç£ç›˜ï¼Œè€Œä¸ä¿®æ”¹æ–‡ä»¶çš„å…ƒæ•°æ®æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ•°æ®åˆ†ä¸ºæ•°æ®å’Œå…ƒæ•°æ®ã€‚æ•°æ®æ˜¯æŒ‡æ™®é€šæ–‡ä»¶ä¸­çš„å®žé™…æ•°æ®ï¼Œè€Œå…ƒæ•°æ®æŒ‡ç”¨æ¥æè¿°ä¸€ä¸ªæ–‡ä»¶çš„ç‰¹å¾çš„ç³»ç»Ÿæ•°æ®ï¼Œè¯¸å¦‚è®¿é—®æƒé™ã€æ–‡ä»¶æ‹¥æœ‰è€…ä»¥åŠæ–‡ä»¶æ•°æ®å—çš„åˆ†å¸ƒä¿¡æ¯(inodeâ€¦)ç­‰ç­‰ã€‚è¯»æ–‡ä»¶1234567891011121314151617181920212223242526272829303132333435import java.io.IOException;import java.io.RandomAccessFile; public class Test &#123; public static void main(String[] args) &#123; String fileName = "test"; //æ–‡ä»¶å†…å®¹ï¼šé™ˆé’°çªå¥½å¯çˆ± RandomAccessFile raf = null; try &#123; raf = new RandomAccessFile(fileName, "r"); System.out.println("RandomAccessFileçš„æ–‡ä»¶æŒ‡é’ˆåˆå§‹ä½ç½®:" + raf.getFilePointer()); raf.seek("é™ˆé’°çª".getBytes().length); byte[] bbuf = new byte[1024]; int hasRead = 0; while ((hasRead = raf.read(bbuf)) &gt; 0) &#123; System.out.print(new String(bbuf, 0, hasRead)); &#125; &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; finally &#123; try &#123; if (raf != null) &#123; raf.close(); &#125; &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; &#125; &#125;&#125;è¿½åŠ æ–‡ä»¶RandomAccessFileå…ˆèŽ·å–æ–‡ä»¶çš„é•¿åº¦ï¼Œå†å°†æŒ‡é’ˆç§»åˆ°æ–‡ä»¶çš„æœ«å°¾ï¼Œå†å°†è¦æ’å…¥çš„å†…å®¹æ’å…¥åˆ°æ–‡ä»¶ã€‚12345678910111213141516171819202122232425262728293031323334import java.io.IOException;import java.io.RandomAccessFile; public class Test &#123; public static void main(String[] args) &#123; String filename = "test"; //æ–‡ä»¶å†…å®¹ï¼šé™ˆé’°çªå¥½å¯çˆ± RandomAccessFile raf = null; try &#123; String[] arrays = new String[] &#123; "Hello Hadoop", "Hello Spark", "Hello Hive" &#125;; raf = new RandomAccessFile(filename, "rw"); raf.seek(raf.length()); raf.write("è¿½åŠ å†…å®¹:\n".getBytes()); for (String arr : arrays) &#123; raf.write((arr + "\n").getBytes()); &#125; &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; finally &#123; try &#123; if (raf != null) &#123; raf.close(); &#125; &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; &#125; &#125;&#125;æ–‡ä»¶ä¸­é—´æ’å…¥RandomAccessFileå¦‚æžœå‘æ–‡ä»¶çš„æŒ‡å®šçš„ä½ç½®æ’å…¥å†…å®¹ï¼Œåˆ™æ–°è¾“å‡ºçš„å†…å®¹ä¼šè¦†ç›–æ–‡ä»¶ä¸­åŽŸæœ‰çš„å†…å®¹ã€‚å¦‚æžœéœ€è¦å‘æŒ‡å®šä½ç½®æ’å…¥å†…å®¹ï¼Œç¨‹åºéœ€è¦å…ˆæŠŠæ’å…¥ç‚¹åŽé¢çš„å†…å®¹è¯»å…¥ç¼“å†²åŒºï¼Œç­‰æŠŠéœ€è¦çš„æ’å…¥æ•°æ®å†™å…¥æ–‡ä»¶åŽï¼Œå†å°†ç¼“å†²åŒºçš„å†…å®¹è¿½åŠ åˆ°æ–‡ä»¶åŽé¢ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657package com.cauc.chat;import java.io.File;import java.io.FileInputStream;import java.io.FileOutputStream;import java.io.IOException;import java.io.RandomAccessFile; public class Test &#123; public static void main(String[] args) &#123; String fileName = "test"; Long pos = (long) "é™ˆé’°çª".getBytes().length; String insertContent = "å¯çˆ±å¯çˆ±å¯çˆ±å•Š"; FileInputStream fis = null; FileOutputStream fos = null; RandomAccessFile raf = null; try &#123; raf = new RandomAccessFile(fileName, "rw"); File tmp = File.createTempFile("tmp", null); tmp.deleteOnExit(); fis = new FileInputStream(tmp); fos = new FileOutputStream(tmp); raf.seek(pos); byte[] bbuf = new byte[64]; int hasRead = 0; while ((hasRead = raf.read(bbuf)) &gt; 0) &#123; fos.write(bbuf, 0, hasRead); &#125; raf.seek(pos); raf.write("\næ’å…¥å†…å®¹:\n".getBytes()); raf.write((insertContent + "\n").getBytes()); while ((hasRead = fis.read(bbuf)) &gt; 0) &#123; raf.write(bbuf, 0, hasRead); &#125; &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; finally &#123; try &#123; if (fis != null) &#123; fis.close(); &#125; if (fos != null) &#123; fos.close(); &#125; if (raf != null) &#123; raf.close(); &#125; &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; &#125; &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Javaç½‘ç»œç¼–ç¨‹</tag>
        <tag>JavaIOæµ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[threadå’Œsynchronized]]></title>
    <url>%2F2019%2Fthread%E5%92%8Csynchronized%2F</url>
    <content type="text"><![CDATA[æŒ‰ç…§æ—¶é—´å‘å±•å‘¢çš„é¡ºåºï¼ŒJavaä¸­æ˜¯å…ˆå‡ºçŽ°äº†synchronizedï¼ˆsince 1.0ï¼‰ï¼Œå†å‡ºçŽ°äº†Lockï¼ˆsince 5.0ï¼‰ã€‚è¿™æ˜¯ç”±äºŽsynchronizedæœ‰ä¸€å®šçš„ä¸è¶³ï¼Œæ‰€ä»¥æ‰å‡ºçŽ°äº†Lockæ¥æ›´å¥½çš„å®ŒæˆåŒæ­¥æ“ä½œã€‚synchronizedåœ¨Javaä¸­ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½æ‹¥æœ‰ä¸€ä¸ªé”æ ‡è®°ï¼ˆmonitorï¼‰ï¼Œä¹Ÿç§°ä¸ºç›‘è§†å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨synchronizedå…³é”®å­—æ¥æ ‡è®°ä¸€ä¸ªæ–¹æ³•æˆ–è€…ä»£ç å—ï¼Œå½“æŸä¸ªçº¿ç¨‹è°ƒç”¨è¯¥å¯¹è±¡çš„synchronizedæ–¹æ³•æˆ–è€…è®¿é—®synchronizedä»£ç å—æ—¶ï¼Œè¿™ä¸ªçº¿ç¨‹ä¾¿èŽ·å¾—äº†è¯¥å¯¹è±¡çš„é”ï¼Œå…¶ä»–çº¿ç¨‹æš‚æ—¶æ— æ³•è®¿é—®è¿™ä¸ªæ–¹æ³•ï¼Œåªæœ‰ç­‰å¾…è¿™ä¸ªæ–¹æ³•æ‰§è¡Œå®Œæ¯•æˆ–è€…ä»£ç å—æ‰§è¡Œå®Œæ¯•ï¼Œè¿™ä¸ªçº¿ç¨‹æ‰ä¼šé‡Šæ”¾è¯¥å¯¹è±¡çš„é”ï¼Œå…¶ä»–çº¿ç¨‹æ‰èƒ½æ‰§è¡Œè¿™ä¸ªæ–¹æ³•æˆ–è€…ä»£ç å—ã€‚synchronizedæ–¹æ³•ï¼š123public synchronized void insert()&#123; &#125;æ™®é€šæ–¹æ³•èŽ·å¾—å½“å‰å¯¹è±¡çš„é”ï¼Œå³thisçš„é”ã€‚é™æ€æ–¹æ³•èŽ·å¾—ç±»çš„å­—èŠ‚ç å¯¹è±¡çš„é”ã€‚synchronizedä»£ç å—123synchronized(synObject) &#123; &#125;å¯¹äºŽsynchronizedæ–¹æ³•æˆ–è€…synchronizedä»£ç å—ï¼Œå½“å‡ºçŽ°å¼‚å¸¸æ—¶ï¼ŒJVMä¼šè‡ªåŠ¨é‡Šæ”¾å½“å‰çº¿ç¨‹å ç”¨çš„é”ï¼Œå› æ­¤ä¸ä¼šç”±äºŽå¼‚å¸¸å¯¼è‡´å‡ºçŽ°æ­»é”çŽ°è±¡ã€‚æ¡ä»¶å¯¹è±¡å½“ä¸€ä¸ªçº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒºåŽå´å‘çŽ°æŸä¸€æ¡ä»¶è¢«æ»¡è¶³ä¹‹åŽå®ƒæ‰èƒ½æ‰§è¡Œï¼Œæ¯”å¦‚åœ¨é“¶è¡Œè½¬è´¦æ—¶ï¼ŒAå‘Bè´¦æˆ·è½¬è´¦ï¼Œä½†æ˜¯å½“Aè´¦æˆ·èŽ·å¾—é”åŽï¼Œå‘çŽ°è´¦æˆ·ä¸­æ²¡æœ‰é’±ï¼Œéœ€è¦ç­‰å¾…Cè´¦æˆ·ç»™å…¶è½¬è´¦ä¹‹åŽå…¶æ‰èƒ½ç»™Bè´¦æˆ·è½¬è´¦ï¼Œè¿™æ—¶å®ƒå°±éœ€è¦é‡Šæ”¾é”ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œå¹¶ä¸”å½“å…¶çš„è´¦æˆ·ä½™é¢èƒ½ä¿è¯å‘Bè½¬å®Œè´¦åŽä¸ä¸ºè´Ÿæ•°è¿™ä¸ªæ¡ä»¶æ—¶æ‰èƒ½è½¬è´¦ï¼ŒåŒæ—¶å½“æ­¤æ¡ä»¶è¢«æ»¡è¶³æ—¶å…¶ä»–çº¿ç¨‹éœ€è¦é€šçŸ¥ç­‰å¾…çš„çº¿ç¨‹è®©å…¶è¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚æ–¹æ³•å¦‚ä¸‹ï¼šsynchronizedæ–¹æ³•123456public synchronized void test()&#123; if(æ¡ä»¶xä¸æ»¡è¶³) wait(); if(æ¡ä»¶xè¢«æ»¡è¶³) notify() or notifyAll() //å”¤é†’ç­‰å¾…åœ¨æ¡ä»¶xä¸Šçš„çº¿ç¨‹&#125;synchronizedä»£ç å—123456synchronized(synObject) &#123; if(æ¡ä»¶xä¸æ»¡è¶³) wait(); if(æ¡ä»¶xè¢«æ»¡è¶³) notify() or notifyAll() //å”¤é†’ç­‰å¾…åœ¨æ¡ä»¶xä¸Šçš„çº¿ç¨‹&#125;ä½†æ˜¯å¦‚æžœè¿˜æœ‰ä¸€ä¸ªæ¡ä»¶å¯ä»¥è¿«ä½¿çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œåœ¨ç¼–ç¨‹æ—¶åªèƒ½å°†å…¶ä¹Ÿç­‰å¾…åœ¨æ¡ä»¶xä¸Šï¼Œè¿™å°±æ˜¯å…¶ä¸è¶³ä¹‹ä¸€ã€‚éœ€è¦æ³¨æ„ï¼šå¯¹äºŽsynchronizedæ–¹æ³•æˆ–è€…synchronizedä»£ç å—ï¼Œå½“å‡ºçŽ°å¼‚å¸¸æ—¶ï¼ŒJVMä¼šè‡ªåŠ¨é‡Šæ”¾å½“å‰çº¿ç¨‹å ç”¨çš„é”ï¼Œå› æ­¤ä¸ä¼šç”±äºŽå¼‚å¸¸å¯¼è‡´å‡ºçŽ°æ­»é”çŽ°è±¡ã€‚LockLockæŽ¥å£å®šä¹‰çš„æ–¹æ³•å¦‚ä¸‹ï¼š12345678public interface Lock &#123; void lock(); void lockInterruptibly() throws InterruptedException; boolean tryLock(); boolean tryLock(long time, TimeUnit unit) throws InterruptedException; void unlock(); Condition newCondition();&#125;tryLock()æ–¹æ³•æ˜¯æœ‰è¿”å›žå€¼çš„ï¼Œå®ƒè¡¨ç¤ºç”¨æ¥å°è¯•èŽ·å–é”ï¼Œå¦‚æžœèŽ·å–æˆåŠŸï¼Œåˆ™è¿”å›žtrueï¼Œå¦‚æžœèŽ·å–å¤±è´¥ï¼ˆå³é”å·²è¢«å…¶ä»–çº¿ç¨‹èŽ·å–ï¼‰ï¼Œåˆ™è¿”å›žfalseï¼Œä¹Ÿå°±è¯´è¿™ä¸ªæ–¹æ³•æ— è®ºå¦‚ä½•éƒ½ä¼šç«‹å³è¿”å›žã€‚åœ¨æ‹¿ä¸åˆ°é”æ—¶ä¸ä¼šä¸€ç›´åœ¨é‚£ç­‰å¾…ã€‚tryLock(long time, TimeUnit unit)æ–¹æ³•å’ŒtryLock()æ–¹æ³•æ˜¯ç±»ä¼¼çš„ï¼Œåªä¸è¿‡åŒºåˆ«åœ¨äºŽè¿™ä¸ªæ–¹æ³•åœ¨æ‹¿ä¸åˆ°é”æ—¶ä¼šç­‰å¾…ä¸€å®šçš„æ—¶é—´ï¼Œåœ¨æ—¶é—´æœŸé™ä¹‹å†…å¦‚æžœè¿˜æ‹¿ä¸åˆ°é”ï¼Œå°±è¿”å›žfalseã€‚å¦‚æžœå¦‚æžœä¸€å¼€å§‹æ‹¿åˆ°é”æˆ–è€…åœ¨ç­‰å¾…æœŸé—´å†…æ‹¿åˆ°äº†é”ï¼Œåˆ™è¿”å›žtrueã€‚LockæŽ¥å£çš„å…¸åž‹ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š123456789Lock lock = ...;lock.lock();try&#123; //å¤„ç†ä»»åŠ¡&#125;catch(Exception ex)&#123; &#125;finally&#123; lock.unlock(); //é‡Šæ”¾é”&#125;ReentrantLockç¿»è¯‘ä¸ºæ˜¯â€œå¯é‡å…¥é”â€ï¼Œæ„æ€æ˜¯å¦‚æžœé”å…·å¤‡å¯é‡å…¥æ€§ï¼Œåˆ™ç§°ä½œä¸ºå¯é‡å…¥é”ã€‚åƒsynchronizedå’ŒReentrantLockéƒ½æ˜¯å¯é‡å…¥é”ï¼Œå¯é‡å…¥æ€§åœ¨æˆ‘çœ‹æ¥å®žé™…ä¸Šè¡¨æ˜Žäº†é”çš„åˆ†é…æœºåˆ¶ï¼šåŸºäºŽçº¿ç¨‹çš„åˆ†é…ï¼Œè€Œä¸æ˜¯åŸºäºŽæ–¹æ³•è°ƒç”¨çš„åˆ†é…ã€‚ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œåˆ°æŸä¸ªsynchronizedæ–¹æ³•æ—¶ï¼Œæ¯”å¦‚è¯´method1ï¼Œè€Œåœ¨method1ä¸­ä¼šè°ƒç”¨å¦å¤–ä¸€ä¸ªsynchronizedæ–¹æ³•method2ï¼Œæ­¤æ—¶çº¿ç¨‹ä¸å¿…é‡æ–°åŽ»ç”³è¯·é”ï¼Œè€Œæ˜¯å¯ä»¥ç›´æŽ¥æ‰§è¡Œæ–¹æ³•method2ã€‚æŒ‰ä¸åŒçš„åˆ†ç±»ï¼Œè¿˜æœ‰ä¸€ç±»é”æ˜¯ä¸­æ–­é”ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¯ä»¥ç›¸åº”ä¸­æ–­çš„é”ã€‚åœ¨Javaä¸­ï¼Œsynchronizedå°±ä¸æ˜¯å¯ä¸­æ–­é”ï¼Œè€ŒLockæ˜¯å¯ä¸­æ–­é”ã€‚å¦‚æžœæŸä¸€çº¿ç¨‹Aæ­£åœ¨æ‰§è¡Œé”ä¸­çš„ä»£ç ï¼Œå¦ä¸€çº¿ç¨‹Bæ­£åœ¨ç­‰å¾…èŽ·å–è¯¥é”ï¼Œå¯èƒ½ç”±äºŽç­‰å¾…æ—¶é—´è¿‡é•¿ï¼Œçº¿ç¨‹Bä¸æƒ³ç­‰å¾…äº†ï¼Œæƒ³å…ˆå¤„ç†å…¶ä»–äº‹æƒ…ï¼Œæˆ‘ä»¬å¯ä»¥è®©å®ƒä¸­æ–­è‡ªå·±æˆ–è€…åœ¨åˆ«çš„çº¿ç¨‹ä¸­ä¸­æ–­å®ƒï¼Œè¿™ç§å°±æ˜¯å¯ä¸­æ–­é”ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152public class Test &#123; private Lock lock = new ReentrantLock(); public static void main(String[] args) &#123; Test test = new Test(); MyThread thread0 = new MyThread(test); MyThread thread1 = new MyThread(test); thread0.start(); thread1.start(); try &#123; Thread.sleep(2000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; thread1.interrupt(); &#125; public void insert(Thread thread) throws InterruptedException&#123; lock.lockInterruptibly(); //æ³¨æ„ï¼Œå¦‚æžœéœ€è¦æ­£ç¡®ä¸­æ–­ç­‰å¾…é”çš„çº¿ç¨‹ï¼Œå¿…é¡»å°†èŽ·å–é”æ”¾åœ¨å¤–é¢ï¼Œç„¶åŽå°†InterruptedExceptionæŠ›å‡º try &#123; System.out.println(thread.getName()+"å¾—åˆ°äº†é”"); long startTime = System.currentTimeMillis(); for(;;) &#123; if(System.currentTimeMillis() - startTime &gt;= Integer.MAX_VALUE) break; /* * æ’å…¥æ•°æ® */ &#125; &#125; finally &#123; System.out.println(Thread.currentThread().getName()+"æ‰§è¡Œfinally"); lock.unlock(); System.out.println(thread.getName()+"é‡Šæ”¾äº†é”"); &#125; &#125;&#125; class MyThread extends Thread &#123; private Test test = null; public MyThread(Test test) &#123; this.test = test; &#125; @Override public void run() &#123; try &#123; test.insert(Thread.currentThread()); &#125; catch (InterruptedException e) &#123; System.out.println(Thread.currentThread().getName()+"è¢«ä¸­æ–­"); &#125; &#125;&#125;åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå¦‚æžœçº¿ç¨‹1é¦–å…ˆèŽ·å¾—é”ï¼Œå…¶ä¼šä¸€ç›´è¿è¡Œä¸‹åŽ»ï¼Œæ­¤æ—¶çº¿ç¨‹0å¾—ä¸åˆ°é”å°±ä¼šæ°¸è¿œç­‰å¾…ä¸‹åŽ»ã€‚ä½†æ˜¯å¦‚æžœçº¿ç¨‹0é¦–å…ˆèŽ·å¾—é”ï¼Œå…¶ä¼šä¸€ç›´è¿è¡Œä¸‹åŽ»ï¼Œæ‰€ä»¥æ­¤æ—¶çº¿ç¨‹1å¾—ä¸åˆ°é”ï¼Œä½†æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸­çº¿ç¨‹1å¯ç”¨äº†interrupt()æ–¹æ³•ï¼Œè€ŒlockInterruptibly()å¯ä»¥å“åº”ä¸­æ–­ã€‚threadçš„çŠ¶æ€yield()12// JDKåŽŸåž‹public static native void yield();A hint to the scheduler that the current thread is willing to yield its current use of a processor. The scheduler is free to ignore this hint.å½“yield()æˆåŠŸçš„æ—¶å€™ä¼šè‡ªåŠ¨æ”¾å¼ƒæ—¶é—´ç‰‡ï¼Œè½¬å…¥å°±ç»ªçŠ¶æ€ï¼Œç„¶åŽå’Œå…¶å®ƒçº¿ç¨‹è¿›è¡ŒCPUçš„äº‰å¤ºã€‚join()joinæ–¹æ³•æœ‰ä¸‰ä¸ªé‡è½½ç‰ˆæœ¬ï¼š123join()join(long millis) //å‚æ•°ä¸ºæ¯«ç§’join(long millis,int nanoseconds) //ç¬¬ä¸€å‚æ•°ä¸ºæ¯«ç§’ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºçº³ç§’å‡å¦‚åœ¨mainçº¿ç¨‹ä¸­ï¼Œè°ƒç”¨thread.joinæ–¹æ³•ï¼Œåˆ™mainæ–¹æ³•ä¼šç­‰å¾…threadçº¿ç¨‹æ‰§è¡Œå®Œæ¯•æˆ–è€…ç­‰å¾…ä¸€å®šçš„æ—¶é—´ã€‚å¦‚æžœè°ƒç”¨çš„æ˜¯æ— å‚joinæ–¹æ³•ï¼Œåˆ™ç­‰å¾…threadæ‰§è¡Œå®Œæ¯•ï¼Œå¦‚æžœè°ƒç”¨çš„æ˜¯æŒ‡å®šäº†æ—¶é—´å‚æ•°çš„joinæ–¹æ³•ï¼Œåˆ™ç­‰å¾…ä¸€å®šçš„æ—¶é—´ã€‚joinçš„å®žçŽ°123456789101112131415161718192021222324public final synchronized void join(long millis) throws InterruptedException &#123; long base = System.currentTimeMillis(); long now = 0; if (millis &lt; 0) &#123; throw new IllegalArgumentException("timeout value is negative"); &#125; if (millis == 0) &#123; while (isAlive()) &#123; wait(0); &#125; &#125; else &#123; while (isAlive()) &#123; long delay = millis - now; if (delay &lt;= 0) &#123; break; &#125; wait(delay); now = System.currentTimeMillis() - base; &#125; &#125;&#125;joinæ˜¯ä½¿ç”¨waitæ¥å®žçŽ°çš„ï¼Œå¦‚æžœçº¿ç¨‹ä»ç„¶æ´»ç€ï¼Œåˆ™ç­‰å¾…å¯¹åº”çš„æ—¶é—´ã€‚å½“è°ƒç”¨çº¿ç¨‹ï¼ˆè®¾ä¸ºAï¼‰æ‰§è¡Œåˆ°å…¶ä»–çº¿ç¨‹ï¼ˆè®¾ä¸ºBï¼‰çš„join()æ–¹æ³•æ—¶ï¼ŒAé˜»å¡žåœ¨çº¿ç¨‹Bçš„thiså¯¹è±¡ï¼ˆçº¿ç¨‹Bæœ¬èº«ï¼‰ï¼Œå¦‚ç¬¬12è¡Œæˆ–ç¬¬20è¡Œæ‰€ç¤ºã€‚ä»Žä»£ç ä¸Šæˆ‘ä»¬çœ‹ä¸å‡ºæ¥ä»€ä¹ˆæ—¶å€™notifyçº¿ç¨‹Aï¼Œä½†æ˜¯JDKæ³¨é‡Šä¸Šæè¿°ï¼šAs a thread terminates the this.notifyAll method is invoked.ç¬”è€…ä¹Ÿæ˜¯åœ¨æ­¤çŸ¥é“ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹ç»“æŸæ—¶ä¼šé€šçŸ¥æ‰€æœ‰åœ¨å…¶ä¸Šç­‰å¾…çš„çº¿ç¨‹ã€‚interrupt() å’Œ isInterrupted()interrupt()æ˜¯ä¸€ä¸ªçº¿ç¨‹ä¸­æ–­çš„æ–¹æ³•ï¼Œæœ¬äººåªåœ¨Javaç½‘ç»œç¼–ç¨‹è¿™é—¨è¯¾çš„å®žéªŒé‡Œç”¨è¿‡ä¸€æ¬¡ã€‚å…¶å¯ä»¥ä½¿å¾—å¤„äºŽé˜»å¡žçŠ¶æ€çš„çº¿ç¨‹æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œä¹Ÿå°±è¯´ï¼Œå®ƒå¯ä»¥ç”¨æ¥ä¸­æ–­ä¸€ä¸ªæ­£å¤„äºŽé˜»å¡žçŠ¶æ€çš„çº¿ç¨‹ã€‚1234567891011121314151617181920212223242526272829303132package test;import java.io.IOException;public class Test &#123; public static void main(String[] args) throws IOException &#123; Test test = new Test(); MyThread thread = test.new MyThread(); thread.start(); try &#123; Thread.currentThread().sleep(2000); &#125; catch (InterruptedException e) &#123; &#125; thread.interrupt(); &#125; class MyThread extends Thread&#123; @Override public void run() &#123; try &#123; System.out.println("è¿›å…¥ç¡çœ çŠ¶æ€"); Thread.currentThread().sleep(10000); System.out.println("ç¡çœ å®Œæ¯•"); &#125; catch (InterruptedException e) &#123; System.out.println("å¾—åˆ°ä¸­æ–­å¼‚å¸¸"); &#125; System.out.println("runæ–¹æ³•æ‰§è¡Œå®Œæ¯•"); &#125; &#125;&#125;é…åˆisInterrupted()èƒ½å¤Ÿä¸­æ–­æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ï¼Œå› ä¸ºè°ƒç”¨interruptæ–¹æ³•ç›¸å½“äºŽå°†ä¸­æ–­æ ‡å¿—ä½ç½®ä¸ºtrueï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡è°ƒç”¨isInterrupted()åˆ¤æ–­ä¸­æ–­æ ‡å¿—æ˜¯å¦è¢«ç½®ä½æ¥ä¸­æ–­çº¿ç¨‹çš„æ‰§è¡Œã€‚æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š12345678910111213141516171819202122232425public class Test &#123; public static void main(String[] args) throws IOException &#123; Test test = new Test(); MyThread thread = test.new MyThread(); thread.start(); try &#123; Thread.currentThread().sleep(2000); &#125; catch (InterruptedException e) &#123; &#125; thread.interrupt(); &#125; class MyThread extends Thread&#123; @Override public void run() &#123; int i = 0; while(!isInterrupted() &amp;&amp; i &lt; Integer.MAX_VALUE)&#123; System.out.println(i+" whileå¾ªçŽ¯"); i++; &#125; &#125; &#125;&#125;ä½†æ˜¯ä»¥ä¸Šçš„æš‚åœç¨‹åºè¿è¡Œçš„æ–¹æ³•å¯ä»¥è¢«æ›¿æ¢ä¸ºå¦‚ä¸‹ä»£ç ï¼š1234567891011121314class MyThread extends Thread&#123; private volatile boolean isStop = false; @Override public void run() &#123; int i = 0; while(!isStop)&#123; i++; &#125; &#125; public void setStop(boolean stop)&#123; this.isStop = stop; &#125;&#125;volatileçš„ç›®çš„æ˜¯ç¦æ­¢æŒ‡ä»¤é‡æŽ’ã€‚å‚è§ï¼šhttps://isjinhao.github.io/2019/volatile/#moreinterrupted()Tests whether the current thread has been interrupted. The interrupted status of the thread is cleared by this method. In other words, if this method were to be called twice in succession, the second call would return false (unless the current thread were interrupted again, after the first call had cleared its interrupted status and before the second call had examined it).A thread interruption ignored because a thread was not alive at the time of the interrupt will be reflected by this method returning false.æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªä¸­æ–­çŠ¶æ€ä½ï¼šisInterrupted(boolean ClearInterrupted)ï¼šä¼ å…¥trueé‡ç½®çŠ¶æ€ä½ï¼Œä¼ å…¥falseä¸é‡ç½®çŠ¶æ€ä½ã€‚è¿”å›žæ­¤æ–¹æ³•æ‰§è¡Œå®Œæˆå‰çº¿ç¨‹ä¸­æ–­çŠ¶æ€ä½çš„çŠ¶æ€ã€‚interrupt()ï¼šå°†ä¸­æ–­çŠ¶æ€ä½è®¾ç½®ä¸ºtrueã€‚isInterrupted()ï¼šæŸ¥çœ‹å½“å‰çŠ¶æ€ä½ä½†æ˜¯ä¸å½±å“çŠ¶æ€ä½ï¼Œå†…éƒ¨å®žçŽ°åŽŸç†isInterrupted(false)ã€‚interrupted()ï¼šé‡ç½®å½“å‰çº¿ç¨‹çŠ¶æ€ä½ï¼ˆå³å¦‚æžœçŠ¶æ€ä½æ˜¯trueï¼Œåˆ™è®¾ç½®ä¸ºfalseï¼‰ï¼Œå†…éƒ¨å®žçŽ°åŽŸç†isInterrupted(true)ã€‚å‚è€ƒï¼šhttps://blog.csdn.net/zhuyong7/article/details/80852884å‚è€ƒhttps://www.cnblogs.com/dolphin0520/p/3920357.htmlJavaæ ¸å¿ƒæŠ€æœ¯å·1]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Javaå¹¶å‘ç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[centos7è½¯ä»¶å®‰è£…å’ŒJavaWebçŽ¯å¢ƒæ­å»º]]></title>
    <url>%2F2019%2Fcentos7%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E5%92%8CJavaWeb%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%2F</url>
    <content type="text"><![CDATA[ç”±äºŽLinuxå„å‘è¡Œç‰ˆå¯¹è½¯ä»¶å®‰è£…å·¥å…·çš„ä¸åŒæ”¯æŒï¼Œå¯¼è‡´Linuxè½¯ä»¶å®‰è£…æ˜¯ç›¸å¯¹å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œç”±äºŽæœ¬äººç›®å‰åªä½¿ç”¨è¿‡Centos7ï¼Œæ‰€ä»¥å€Ÿç€æ­å»ºJavaWebå¼€å‘çŽ¯å¢ƒæŠŠCentos7çš„è½¯ä»¶å®‰è£…æ€»ç»“ä¸€ä¸‹ã€‚ä¸è¿‡åœ¨è¿™ä¹‹å‰éœ€è¦å…ˆäº†è§£ä¸€ä¸‹wgetã€‚wgetä¸‹è½½å•ä¸ªæ–‡ä»¶wget urlã€‚å¦‚wget www.baidu.comï¼Œå¾—åˆ°ç™¾åº¦ç«™ç‚¹çš„é¦–é¡µhtmlæ–‡ä»¶ã€‚ä¸‹è½½å¹¶æ”¹å˜æ–‡ä»¶åé€‰é¡¹ï¼š-Oã€‚åŽå°ä¸‹è½½é€‰é¡¹ï¼š-bã€‚åº”ç”¨äºŽä¸‹è½½æ–‡ä»¶éžå¸¸å¤§çš„æ—¶å€™ã€‚æ–­ç‚¹ç»­ä¼ é€‰é¡¹ï¼š-cã€‚å¯¹äºŽæˆ‘ä»¬ä¸‹è½½å¤§æ–‡ä»¶æ—¶çªç„¶ç”±äºŽç½‘ç»œç­‰åŽŸå› ä¸­æ–­éžå¸¸æœ‰å¸®åŠ©ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­æŽ¥ç€ä¸‹è½½è€Œä¸æ˜¯é‡æ–°ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶ã€‚é™é€Ÿä¸‹è½½é€‰é¡¹ï¼š--limitã€‚å¦‚wget --limit-rate=30k www.baidu.comã€‚ä¸‹è½½å¤šä¸ªæ–‡ä»¶é€‰é¡¹ï¼š-iã€‚é¦–å…ˆï¼Œä¿å­˜ä¸€ä»½ä¸‹è½½é“¾æŽ¥æ–‡ä»¶ã€‚ä½†æ˜¯åœ¨æ–‡ä»¶ä¸­éœ€è¦å®Œæ•´çš„è·¯å¾„åï¼Œæ¯”å¦‚ä¸èƒ½ç›´æŽ¥ä½¿ç”¨www.baidu.comï¼Œéœ€è¦ä½¿ç”¨https://www.baidu.comã€‚å¦‚ä»¥ä¸‹æ˜¯æ–‡ä»¶urlsä¸­çš„ä¸¤ä¸ªurlã€‚ä¸‹è½½æ—¶ä½¿ç”¨wget -i urlså³å¯ã€‚æ›´å¤šå‚è€ƒhttps://www.cnblogs.com/semonxv/p/3816366.htmlæºç åŒ…è§£åŽ‹å³ç”¨æºç åŒ…è§£åŽ‹å³ç”¨æ˜¯æœ€ç®€å•çš„ä¸€ç§æ–¹å¼ã€‚å¦‚å®‰è£…tomcatçš„æ—¶å€™ï¼Œæˆ‘ä»¬å…ˆèŽ·å¾—åŽ‹ç¼©åŒ…ï¼šwget https://www-us.apache.org/dist/tomcat/tomcat-8/v8.5.39/bin/apache-tomcat-8.5.39.tar.gzè§£åŽ‹ï¼štar -zxvf apache-tomcat-8.5.39.tar.gzç„¶åŽè¿›å…¥apache-tomcat-8.5.39\bin\è¿è¡Œstartup.shå°±å¯ä»¥ä½¿ç”¨ã€‚æºç åŒ…è§£åŽ‹é…ç½®çŽ¯å¢ƒå˜é‡åˆšæ‰ä¸éœ€è¦é…ç½®çŽ¯å¢ƒå˜é‡æ˜¯å› ä¸ºï¼Œæˆ‘ä»¬åœ¨è¿è¡ŒwaråŒ…çš„æ—¶å€™å¯ä»¥å°†åŒ…æ”¾å…¥webappsä¸­ï¼Œåœ¨è¿è¡Œbinç›®å½•ä¸‹çš„startup.shã€‚å¦‚æžœæˆ‘ä»¬æƒ³ä¸€ä¸ªè½¯ä»¶åœ¨ä»»ä½•ä½ç½®éƒ½èƒ½è¿è¡Œå°±éœ€è¦é…ç½®çŽ¯å¢ƒå˜é‡ï¼Œæ¯”å¦‚jdkã€‚èŽ·å¾—jdkçš„å®‰è£…åŒ…ä¸èƒ½å†ä½¿ç”¨å®˜ç½‘ä¸Šçš„urlå¹¶æ‰§è¡Œwget urlæ¥èŽ·å–ï¼Œå› ä¸ºoracleçš„å®˜æ–¹ç½‘ç«™æœ‰é™åˆ¶ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆä¸‹è½½jdkï¼Œå†ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šã€‚ä¸Šä¼ æœåŠ¡å™¨ä¹‹åŽè§£åŽ‹å³å¯ã€‚Linuxé…ç½®çŽ¯å¢ƒå˜é‡æ—¶å°±æ˜¯ä¿®æ”¹/etc/profileæ–‡ä»¶ã€‚JAVA_HOMEæŒ‡å‘è§£åŽ‹çš„JDKç›®å½•ã€‚12export JAVA_HOME=/usr/jdk1.8.0_201export PATH=$JAVA_HOME/bin:$ANT_HOME/bin:$PATHä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åŽä½¿ç”¨å‘½ä»¤åˆ·æ–°ï¼šsource /etc/profilerpmrpmæ˜¯ç”±çº¢å¸½å…¬å¸å¼€å‘çš„è½¯ä»¶åŒ…ç®¡ç†æ–¹å¼ï¼Œä½¿ç”¨rpmæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œè½¯ä»¶çš„å®‰è£…ã€æŸ¥è¯¢ã€å¸è½½ã€å‡çº§ç­‰å·¥ä½œã€‚ä½†æ˜¯rpmè½¯ä»¶åŒ…ä¹‹é—´çš„ä¾èµ–æ€§é—®é¢˜å¾€å¾€ä¼šå¾ˆç¹çï¼Œå°¤å…¶æ˜¯è½¯ä»¶ç”±å¤šä¸ªrpmåŒ…ç»„æˆæ—¶ã€‚ä¸€èˆ¬è¿‡ç¨‹ï¼šæ‰¾åˆ°ç›¸åº”çš„è½¯ä»¶åŒ…ï¼Œæ¯”å¦‚soft.version.rpmï¼Œä¸‹è½½åˆ°æœ¬æœºæŸä¸ªç›®å½•ï¼›æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œsu æˆrootç”¨æˆ·ï¼›cd soft.version.rpmæ‰€åœ¨çš„ç›®å½•ï¼›è¾“å…¥rpm -ivh soft.version.rpmYumYumï¼ˆå…¨ç§°ä¸º Yellow dog Updater, Modifiedï¼‰æ˜¯ä¸€ä¸ªåœ¨Fedoraå’ŒRedHatä»¥åŠSUSEä¸­çš„Shellå‰ç«¯è½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚åŸºæ–¼RPMåŒ…ç®¡ç†ï¼Œèƒ½å¤Ÿä»ŽæŒ‡å®šçš„æœåŠ¡å™¨è‡ªåŠ¨ä¸‹è½½RPMåŒ…å¹¶ä¸”å®‰è£…ï¼Œå¯ä»¥è‡ªåŠ¨å¤„ç†ä¾èµ–æ€§å…³ç³»ï¼Œå¹¶ä¸”ä¸€æ¬¡å®‰è£…æ‰€æœ‰ä¾èµ–çš„è½¯ä½“åŒ…ï¼Œæ— é¡»ç¹çåœ°ä¸€æ¬¡æ¬¡ä¸‹è½½ã€å®‰è£…ã€‚å®‰è£…Mysqlåœ¨centos7ä¸­ä¸€èˆ¬é»˜è®¤å®‰è£…äº†MariaDBã€‚è¿™æ˜¯mysqlçš„ä¸€ä¸ªå¼€æºåˆ†æ”¯ã€‚ä¸ºäº†é¿å…è¿™ä¸ªåˆ†æ”¯å¯¹æˆ‘ä»¬å®‰è£…mariadbäº§ç”Ÿå½±å“ï¼Œæˆ‘ä»¬å…ˆå¸è½½è¿™ä¸ªä¸œè¥¿ï¼šyum remove maria*ã€‚èŽ·å¾—mysql5.7çš„Repositoryçš„rpmå®‰è£…åŒ…ï¼šwget http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpmå®‰è£…ä¸‹è½½çš„rpmï¼šyum -y install mysql57-community-release-el7-10.noarch.rpmã€‚å®‰è£…mysqlï¼šyum install mysql-serveré…ç½®Mysqlå¯åŠ¨ï¼šsystemctl start mysqldç„¶åŽåœ¨/var/log/mysqld.logæ–‡ä»¶ä¸­ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªéšæœºçš„å¯†ç ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå–å¾—è¿™ä¸ªéšæœºå¯†ç ï¼Œä»¥ç”¨äºŽç™»å½• MySQL æœåŠ¡ç«¯ï¼šcat /var/log/mysqld.log | grep passwordç™»å½•ï¼šmysql -u root -pä¿®æ”¹å¯†ç ï¼šalter user &#39;root&#39;@&#39;localhost&#39; identified by &#39;hilX0U!9i3_6&#39;;è®¾ç½®å¯†ç æ°¸ä¸è¿‡æœŸï¼šALTER USER &#39;root&#39;@&#39;localhost&#39; PASSWORD EXPIRE NEVER;è®¾ç½®rootå¯ä»¥åœ¨è¿œç¨‹è®¿é—®ï¼šgrant all privileges on *.* to root@&quot;%&quot; identified by &quot;new password&quot;;è®¾ç½®rootå¯ä»¥åœ¨æœ¬åœ°è®¿é—®ï¼šgrant all privileges on *.* to root@&quot;localhost&quot; identified by &quot;new password&quot;;åˆ·æ–°é…ç½®ï¼šflush privileges;é€€å‡ºï¼šexitè§£å°é˜¿é‡Œäº‘3306ç«¯å£ã€‚å¯†ç ç­–ç•¥ï¼šhttps://blog.csdn.net/hello_world_qwp/article/details/79551789Mysqlç›¸å…³å‘½ä»¤å¯åŠ¨ï¼šsystemctl start mysqldæŸ¥çœ‹çŠ¶æ€ï¼šservice mysqld statusåœæ­¢ï¼šservice mysqld stopé‡å¯ï¼šservice mysqld restartmakeå®‰è£…è§£åŽ‹æ‰§è¡Œâ€œ./configureâ€å‘½ä»¤ä¸ºç¼–è¯‘åšå¥½å‡†å¤‡ï¼›æ‰§è¡Œâ€œmakeâ€å‘½ä»¤è¿›è¡Œè½¯ä»¶ç¼–è¯‘ï¼›æ‰§è¡Œâ€œmake installâ€å®Œæˆå®‰è£…ï¼›æ‰§è¡Œâ€œmake cleanâ€åˆ é™¤å®‰è£…æ—¶äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶ã€‚Cmakeå®‰è£…CMakeæ˜¯ä¸€ç§è·¨å¹³å°ç¼–è¯‘å·¥å…·ï¼Œæ¯”makeæ›´ä¸ºé«˜çº§ï¼Œä½¿ç”¨èµ·æ¥è¦æ–¹ä¾¿å¾—å¤šã€‚CMakeä¸»è¦æ˜¯ç¼–å†™CMakeLists.txtæ–‡ä»¶ï¼Œç„¶åŽç”¨cmakeå‘½ä»¤å°†CMakeLists.txtæ–‡ä»¶è½¬åŒ–ä¸ºmakeæ‰€éœ€è¦çš„makefileæ–‡ä»¶ï¼Œæœ€åŽç”¨makeå‘½ä»¤ç¼–è¯‘æºç ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºæˆ–å…±äº«åº“ï¼ˆsoï¼Œshared objectï¼‰ã€‚å› æ­¤CMakeçš„ç¼–è¯‘åŸºæœ¬å°±ä¸¤ä¸ªæ­¥éª¤ï¼šcmakemakecmake æŒ‡å‘CMakeLists.txtæ‰€åœ¨çš„ç›®å½•ï¼Œä¾‹å¦‚cmake .. è¡¨ç¤ºCMakeLists.txtåœ¨å½“å‰ç›®å½•çš„ä¸Šä¸€çº§ç›®å½•ã€‚cmakeåŽä¼šç”Ÿæˆå¾ˆå¤šç¼–è¯‘çš„ä¸­é—´æ–‡ä»¶ä»¥åŠmakefileæ–‡ä»¶ï¼Œæ‰€ä»¥ä¸€èˆ¬å»ºè®®æ–°å»ºä¸€ä¸ªæ–°çš„ç›®å½•ï¼Œä¸“é—¨ç”¨æ¥ç¼–è¯‘ï¼Œä¾‹å¦‚12345mkdir buildcd buildcmake ..//ç­‰cmakeç»“æŸmakemakeæ ¹æ®ç”Ÿæˆçš„makefileæ–‡ä»¶ï¼Œç¼–è¯‘ç¨‹åºã€‚]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>JavaWeb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äºŒå‰æœç´¢æ ‘åŸºç¡€]]></title>
    <url>%2F2019%2F%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[å®šä¹‰å¯¹ä»»ä½•èŠ‚ç‚¹$x$ï¼Œå…¶å·¦å­æ ‘ä¸­çš„å…³é”®å­—æœ€å¤§ä¸è¶…è¿‡$x.key$ï¼Œå…¶å³å­æ ‘ä¸­çš„å…³é”®å­—æœ€å°ä¸ä½ŽäºŽ$x.key$ã€‚æ€§è´¨ä¸­åºéåŽ†å¾—åˆ°çš„ç»“ç‚¹æ˜¯éžé™åºæŽ’åºã€‚é€’å½’æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘å¾—åˆ°æ ‘ä¸­æœ€å°å…ƒç´ ï¼Œé€’å½’æ ¹èŠ‚ç‚¹çš„å³å­æ ‘å¾—åˆ°æ ‘ä¸­æœ€å¤§å…ƒç´ ã€‚æ•°æ®ç»“æž„å®šä¹‰å¯¹äºŽç»“ç‚¹$x$ï¼Œ$x$å­˜åœ¨æŒ‡å‘å·¦å­©å­ã€å³å­©å­åŠçˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚æœ‰ä¸”ä»…æœ‰æ ¹èŠ‚ç‚¹ä¸­çš„æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆä¸ºç©ºã€‚ç®—æ³•æŸ¥æ‰¾$x$æ˜¯æ ¹èŠ‚ç‚¹ï¼Œ$k$æ˜¯å¾…æŸ¥æ‰¾å…³é”®å­—ï¼ŒæŸ¥æ‰¾çš„åˆ°åˆ™è¿”å›žç›¸åº”èŠ‚ç‚¹ï¼ŒæŸ¥æ‰¾ä¸åˆ°è¿”å›žç©ºã€‚åŽç»§$x$æ˜¯å¾…æŸ¥æ‰¾ç»“ç‚¹ï¼Œå³å­æ ‘ä¸ä¸ºç©ºï¼Œå³å­æ ‘çš„æœ€å°å€¼æ‰€åœ¨çš„èŠ‚ç‚¹æ˜¯åŽç»§ã€‚è§£é‡Šç¬¬3-7è¡Œä»£ç éœ€è¦è¯æ˜Žä¸€ä¸ªå®šç†ï¼šå¯¹äºŽä¸€æ£µäºŒå‰æœç´¢æ ‘Tï¼Œå…¶å…³é”®å­—å„ä¸ç›¸åŒï¼Œå¦‚æžœTä¸­ä¸€ä¸ªèŠ‚ç‚¹$x$çš„å³å­æ ‘ä¸ºç©ºï¼Œä¸”$x$æœ‰ä¸€ä¸ªåŽç»§$y$ï¼Œé‚£ä¹ˆ$y$ä¸€å®šæ˜¯$x$çš„æœ€åº•å±‚ç¥–å…ˆï¼Œå¹¶ä¸”å…¶å·¦å­©å­ä¹Ÿæ˜¯$x$çš„ç¥–å…ˆã€‚ï¼ˆæ¯ä¸ªç»“ç‚¹éƒ½æ˜¯å…¶è‡ªèº«çš„ç¥–å…ˆï¼‰è¯æ˜Žå¯¹äºŽç»™å®šç»“ç‚¹$x$ï¼Œè‹¥å…¶åŽç»§$y$å­˜åœ¨ï¼Œåˆ™$y &gt; x$ã€‚è€ƒè™‘ç»“ç‚¹$x$ï¼Œå¯¹äºŽ$x$çš„å·¦å­æ ‘ï¼Œæ˜¾ç„¶å…¶ä¸­ä»»æ„ç»“ç‚¹å€¼éƒ½å°äºŽ$x$ï¼Œæ‰€ä»¥$y$å¿…å®šä¸åœ¨å…¶å·¦å­æ ‘ä¸­ã€‚$x$çš„å³å­æ ‘ï¼Œå…¶ä¸­ä»»æ„ç»“ç‚¹å€¼éƒ½å¤§äºŽ$x$,ä½†æ˜¯æ ¹æ®é¢˜è®¾ï¼Œå…¶å³å­æ ‘ä¸ºç©ºã€‚æ‰€ä»¥ï¼Œ$y$å¿…å®šä¸º$x$çš„ç¥–å…ˆæˆ–å…¶ç¥–å…ˆçš„å³å­æ ‘ã€‚åˆå› ä¸º$y$æ˜¯å…¶ä¸­å¤§äºŽ$x$ä¸”æœ€å°çš„ä¸€ä¸ªï¼Œåˆ™$y$ä¸å¯èƒ½æ˜¯å…¶ç¥–å…ˆçš„å³å­æ ‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†èŒƒå›´ç¼©å°è‡³$y$å¿…å®šä¸º$x$çš„æŸä¸€ç¥–å…ˆï¼Œåˆæ ¹æ®$y&gt;x$ï¼Œåˆ™$x$å¿…å®šåœ¨$y$çš„å·¦å­æ ‘ä¸­ï¼Œå³$y$çš„å·¦å­©å­ä¹Ÿæ˜¯$x$çš„ç¥–å…ˆï¼ˆ$x$ä¹Ÿæ˜¯$x$çš„ç¥–å…ˆï¼‰å¯¹äºŽæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„ï¼Œå‡è®¾æœ‰$p_0,p_1 \dots p_n$å…±$n+1$ä¸ªï¼Œä¸”$p_0 &lt; p_1 &lt; p_2 &lt; \dots &lt; p_n$ã€‚æ˜¾ç„¶ï¼Œ$x$çš„å‰é©±ç»“ç‚¹$y$å¿…å®šæ˜¯å…¶ä¸­çš„æœ€å°ä¸€ä¸ªï¼Œå³$y=p_0$ã€‚åˆå› ä¸º$y$æ˜¯$x$çš„ç¥–å…ˆï¼Œåˆ™$y$å¿…ç„¶æ˜¯$x$çš„æœ€åº•å±‚ç¥–å…ˆã€‚ç»“è®ºè¿™ä¸ªå®šç†å®žé™…çš„æ„ä¹‰æ˜¯ï¼Œå¯¹äºŽäºŒå‰æœç´¢æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆ$x$ï¼‰ï¼Œå¦‚æžœå…¶ä¸å­˜åœ¨å³å­æ ‘ä¸”è¿˜æœ‰åŽç»§ï¼ˆ$y$ï¼‰ï¼Œåˆ™$y$æ˜¯$x$ç¥–å…ˆèŠ‚ç‚¹ä¸­æœ‰å·¦å­æ ‘çš„æœ€åº•å±‚ç¥–å…ˆã€‚å¦‚ä¸‹å›¾ä¸­çš„13ã€‚å‰é©±å‰é©±çš„ä»£ç å’ŒåŽç»§å¯¹åº”ã€‚12345678TREE-PREDECESSOR(x)if x.left != null return TREE-MAXNUM(x.left);y = x.pwhile y != null and x == y.left x = y y = y.preturn y3-7è¡Œä»£ç çš„æ„æ€æ˜¯ï¼Œå¯¹äºŽäºŒå‰æœç´¢æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆ$x$ï¼‰ï¼Œå¦‚æžœå…¶ä¸å­˜åœ¨å·¦å­æ ‘ä¸”è¿˜æœ‰å‰é©±ï¼ˆ$y$ï¼‰ï¼Œåˆ™$y$æ˜¯$x$ç¥–å…ˆèŠ‚ç‚¹ä¸­æœ‰å³å­æ ‘çš„æœ€åº•å±‚ç¥–å…ˆã€‚å¦‚å›¾ä¸­çš„17ã€‚æ’å…¥$z$æ˜¯å¾…æ’å…¥èŠ‚ç‚¹ï¼Œ3-7è¡Œ$y$ä¸‹é™åˆ°å¶å­ç»“ç‚¹ã€‚ä¸‹é™ä¹‹åŽæ’å…¥ã€‚åˆ é™¤è®¨è®ºåˆ é™¤ä¹‹å‰éœ€è¦è¯æ˜Žä¸€ä¸ªå®šç†ï¼šå¦‚æžœä¸€ä¸ªäºŒå‰æœç´¢æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­©å­ï¼Œé‚£ä¹ˆå®ƒçš„åŽç»§æ²¡æœ‰å·¦å­©å­ï¼Œå®ƒçš„å‰é©±æ²¡æœ‰å³å­©å­ã€‚è¯æ˜Žå¦‚æžœä¸€æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„ä¸€ä¸ªç»“ç‚¹æœ‰ä¸¤ä¸ªå­©å­ï¼Œé‚£ä¹ˆå®ƒçš„åŽç»§ä¸ºå®ƒçš„å³å­æ ‘ä¸­çš„æœ€å°å€¼ï¼Œæ‰€ä»¥å®ƒçš„åŽç»§æ²¡æœ‰å·¦å­©å­ï¼Œå®ƒçš„å‰é©±ä¸ºå®ƒçš„å·¦å­æ ‘ä¸­çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥å®ƒçš„å‰é©±æ²¡æœ‰å³å­©å­ã€‚åˆ é™¤è¿‡ç¨‹åˆ é™¤æ—¶æœ‰ä¸‰ç§æƒ…å†µï¼šå¦‚æžœè¢«åˆ é™¤èŠ‚ç‚¹ï¼ˆ$z$ï¼‰æ²¡æœ‰å­©å­èŠ‚ç‚¹ï¼Œç›´æŽ¥åˆ é™¤ï¼Œä¿®æ”¹çˆ¶èŠ‚ç‚¹ç›¸åº”æŒ‡é’ˆæŒ‡å‘ç©ºã€‚å¦‚æžœ$z$åªæœ‰ä¸€ä¸ªå­©å­ï¼ŒæŠŠå­©å­æåˆ°æ ‘ä¸­$z$æ‰€åœ¨çš„ä½ç½®ï¼Œå¹¶ä¿®æ”¹$z$çš„çˆ¶èŠ‚ç‚¹ï¼Œç”¨$z$çš„å­©å­æ¥æ›¿æ¢ã€‚å¦‚æžœ$z$æœ‰ä¸¤ä¸ªå­©å­ï¼Œé‚£ä¹ˆæ‰¾$z$çš„åŽç»§$y$ï¼ˆä¸€å®šåœ¨$z$çš„å³å­æ ‘ä¸­ï¼‰ã€‚å¦‚æžœ$y$æ˜¯$z$çš„å³å­©å­ï¼Œç”¨$y$æ›¿æ¢$z$ï¼ŒåŒæ—¶ç•™ä¸‹$y$çš„å³å­©å­ã€‚å¦‚æžœ$y$ä¸æ˜¯$z$çš„å³å­©å­ï¼Œæœ‰ä¹‹ä¸Šå®šç†å¯çŸ¥ï¼Œ$y$æ˜¯æ²¡æœ‰å·¦å­©å­çš„ï¼Œæ­¤æ—¶ç”¨$y$çš„å³å­©å­æ›¿æ¢$y$ï¼Œç”¨$y$æ›¿æ¢$z$ï¼Œä¸ç•™ä¸‹$y$çš„å³å­©å­ã€‚ä¼ªç å®žçŽ°TRANSPLANTTRANSPLANTçš„åŠŸèƒ½æ˜¯åœ¨æ ‘$T$ä¸­ç”¨ä¸€æ£µä»¥$v$ä¸ºæ ¹çš„å­æ ‘æ¥æ›¿æ¢ä¸€æ£µä»¥$u$ä¸ºæ ¹çš„å­æ ‘ã€‚1-2è¡Œï¼šå½“$u$æ˜¯æ ‘æ ¹çš„æ—¶å€™ï¼Œç›´æŽ¥è®©$T$çš„æ ¹æŒ‡å‘$v$ã€‚3-4è¡Œï¼šå½“$u$æ˜¯ä¸€ä¸ªå·¦å­©å­çš„æ—¶å€™ï¼Œå°†$v$æ”¾åœ¨$u$çš„å·¦å­©å­çš„ä½ç½®ã€‚5è¡Œï¼šå½“$u$æ˜¯ä¸€ä¸ªå³å­©å­çš„æ—¶å€™ï¼Œå°†$v$æ”¾åœ¨$u$çš„å³å­©å­çš„ä½ç½®ã€‚6-7è¡Œï¼šæ›´æ–°$vâ€‹$çš„çˆ¶èŠ‚ç‚¹ã€‚TREE-DELETETREE-DELETEçš„åŠŸèƒ½ï¼š1-4è¡Œï¼šå¦‚æžœ$z$æ²¡æœ‰å·¦å­©å­ï¼Œé‚£ä¹ˆç”¨å…¶å³å­©å­æ›¿æ¢$z$ã€‚å¦‚æžœ$z$æ²¡æœ‰å³å­©å­ï¼Œé‚£ä¹ˆç”¨å…¶å·¦å­©å­æ›¿æ¢$z$ã€‚ï¼ˆæ­¤æ—¶ç­‰åŒäºŽä¸Šè¯‰åˆ é™¤è¿‡ç¨‹ä¸­çš„1å’Œ2ï¼‰6-9è¡Œï¼šå¦‚æžœå¦‚æžœ$z$æœ‰ä¸¤ä¸ªå­©å­ï¼Œä¸”$y$ä¸æ˜¯$z$çš„å³å­©å­ï¼Œç”¨$y$çš„å³å­©å­æ›¿æ¢$y$ï¼Œç”¨$y$æ›¿æ¢$z$ã€‚10-12è¡Œï¼šå¦‚æžœ$y$æ˜¯$z$çš„å³å­©å­ï¼Œç”¨$y$æ›¿æ¢$z$ï¼ŒåŒæ—¶ç•™ä¸‹$yâ€‹$çš„å³å­©å­ã€‚]]></content>
      <categories>
        <category>DSA</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æž„</tag>
        <tag>DSA</tag>
        <tag>æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexoä¸Šä¼ å›¾ç‰‡]]></title>
    <url>%2F2019%2FHexo%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%2F</url>
    <content type="text"><![CDATA[æ­¥éª¤æ‰¾åˆ°Hexoä¸‹çš„_config.ymlé‡Œçš„post_asset_folderï¼ŒæŠŠè¿™ä¸ªé€‰é¡¹ä»Žfalseæ”¹æˆtrueã€‚åœ¨åšå®¢æ ¹ç›®å½•ä¸‹æ‰§è¡Œä¸€ä¸ªä¸‹è½½ä¸Šä¼ å›¾ç‰‡æ’ä»¶çš„å‘½ä»¤npm install hexo-asset-image --saveã€‚æ’ä»¶åœ°å€ï¼šhttps://github.com/dangxuandev/hexo-asset-imageä¹‹åŽå†ä½¿ç”¨hexo new xxxå°±ä¼šåœ¨_postç›®å½•ä¸‹ç”Ÿæˆxxx.mdæ–‡ä»¶å’Œxxxç›®å½•ã€‚åœ¨xxx.mdæ–‡ä»¶ä¸­è¦æ’å…¥å›¾ç‰‡æ—¶ï¼Œå…ˆè¦æŠŠæ‰€è¦æ’å…¥çš„å›¾ç‰‡æ”¾åœ¨ç”Ÿæˆçš„åŒåæ–‡ä»¶å¤¹ä¸‹ã€‚åˆ©ç”¨markdownçš„è¯­æ³•å°†æ–‡ä»¶å¼•å…¥æ–‡ç« ä¸­ã€‚æäº¤åˆ°githubä¸Šæ—¶å°±å¯ä»¥æœ‰å›¾ç‰‡äº†ã€‚Bugä¿®å¤æ’ä»¶æœ‰ä¸€ä¸ªbugï¼Œä½¿ç”¨æ—¶å¯èƒ½ä¼šå‡ºçŽ°å¦‚ä¸‹é—®é¢˜ï¼š12345678910111213141516171819202122TypeError: Cannot read property &apos;replace&apos; of undefinedat Object. (D:\blog\isjinhao\node_modules\hexo-asset-image\index.js:31:38)at initialize.exports.each (D:\blog\isjinhao\node_modules\hexo-asset-image\node_modules\cheerio\lib\api\traversing.js:293:24)at Hexo. (D:\blog\isjinhao\node_modules\hexo-asset-image\index.js:29:16)at Hexo.tryCatcher (D:\blog\isjinhao\node_modules\bluebird\js\release\util.js:16:23)at Hexo. (D:\blog\isjinhao\node_modules\bluebird\js\release\method.js:15:34)at Promise.each.filter (D:\blog\isjinhao\node_modules\hexo\lib\extend\filter.js:63:65)at tryCatcher (D:\blog\isjinhao\node_modules\bluebird\js\release\util.js:16:23)at Object.gotValue (D:\blog\isjinhao\node_modules\bluebird\js\release\reduce.js:155:18)at Object.gotAccum (D:\blog\isjinhao\node_modules\bluebird\js\release\reduce.js:144:25)at Object.tryCatcher (D:\blog\isjinhao\node_modules\bluebird\js\release\util.js:16:23)at Promise._settlePromiseFromHandler (D:\blog\isjinhao\node_modules\bluebird\js\release\promise.js:512:31)at Promise._settlePromise (D:\blog\isjinhao\node_modules\bluebird\js\release\promise.js:569:18)at Promise._settlePromise0 (D:\blog\isjinhao\node_modules\bluebird\js\release\promise.js:614:10)at Promise._settlePromises (D:\blog\isjinhao\node_modules\bluebird\js\release\promise.js:694:18)at _drainQueueStep (D:\blog\isjinhao\node_modules\bluebird\js\release\async.js:138:12)at _drainQueue (D:\blog\isjinhao\node_modules\bluebird\js\release\async.js:131:9)at Async._drainQueues (D:\blog\isjinhao\node_modules\bluebird\js\release\async.js:147:5)at Immediate.Async.drainQueues [as _onImmediate] (D:\blog\isjinhao\node_modules\bluebird\js\release\async.js:17:14)at runCallback (timers.js:705:18)at tryOnImmediate (timers.js:676:5)at processImmediate (timers.js:658:5)è¿™æ˜¯æ’ä»¶çš„index.jsæ–‡ä»¶ä¸­å­˜åœ¨bugï¼ŒæŠŠnode_modules/hexo-asset-image/index.jsçš„å†…å®¹ä¿®æ”¹ä¸ºï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061'use strict';var cheerio = require('cheerio');// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-stringfunction getPosition(str, m, i) &#123; return str.split(m, i).join(m).length;&#125;var version = String(hexo.version).split('.');hexo.extend.filter.register('after_post_render', function(data)&#123; var config = hexo.config; if(config.post_asset_folder)&#123; var link = data.permalink; if(version.length &gt; 0 &amp;&amp; Number(version[0]) == 3) var beginPos = getPosition(link, '/', 1) + 1; else var beginPos = getPosition(link, '/', 3) + 1; // In hexo 3.1.1, the permalink of "about" page is like ".../about/index.html". var endPos = link.lastIndexOf('/') + 1; link = link.substring(beginPos, endPos); var toprocess = ['excerpt', 'more', 'content']; for(var i = 0; i &lt; toprocess.length; i++)&#123; var key = toprocess[i]; var $ = cheerio.load(data[key], &#123; ignoreWhitespace: false, xmlMode: false, lowerCaseTags: false, decodeEntities: false &#125;); $('img').each(function()&#123; if ($(this).attr('src'))&#123; // For windows style path, we replace '\' to '/'. var src = $(this).attr('src').replace('\\', '/'); if(!/http[s]*.*|\/\/.*/.test(src) &amp;&amp; !/^\s*\//.test(src)) &#123; // For "about" page, the first part of "src" can't be removed. // In addition, to support multi-level local directory. var linkArray = link.split('/').filter(function(elem)&#123; return elem != ''; &#125;); var srcArray = src.split('/').filter(function(elem)&#123; return elem != '' &amp;&amp; elem != '.'; &#125;); if(srcArray.length &gt; 1) srcArray.shift(); src = srcArray.join('/'); $(this).attr('src', config.root + link + src); console.info&amp;&amp;console.info("update link as:--&gt;"+config.root + link + src); &#125; &#125;else&#123; console.info&amp;&amp;console.info("no src attr, skipped..."); console.info&amp;&amp;console.info($(this)); &#125; &#125;); data[key] = $.html(); &#125; &#125;&#125;);]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[canvasæŠŠæ‘„åƒå¤´æ‹æ‘„åˆ°çš„è§†é¢‘ä¿å­˜ä¸ºå›¾ç‰‡]]></title>
    <url>%2F2019%2Fcanvas%E6%8A%8A%E6%91%84%E5%83%8F%E5%A4%B4%E6%8B%8D%E6%91%84%E5%88%B0%E7%9A%84%E8%A7%86%E9%A2%91%E4%BF%9D%E5%AD%98%E4%B8%BA%E5%9B%BE%E7%89%87%2F</url>
    <content type="text"><![CDATA[æˆªå›¾123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;title&gt;&lt;/title&gt; &lt;script src="bootstrap/jquery-3.2.1.min.js"&gt;&lt;/script&gt; &lt;link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"&gt;&lt;/script&gt; &lt;script src="bootstrap/holder.min.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;script type="application/javascript"&gt; window.onload=function() &#123; let video = document.getElementById("video"); /** * constraintsï¼šæ‰“å¼€æ‘„åƒå¤´æ—¶çº¦æŸï¼Œä¸‹é¢çš„çº¦æŸå¯¹videoæ²¡æœ‰çº¦æŸï¼Œå®ƒé€‰æ‹©è®¾å¤‡çš„é»˜è®¤æ‘„åƒå¤´ï¼Œä½†æ˜¯ç¦æ­¢äº†éŸ³é¢‘ */ let constraints = &#123; video: &#123;&#125;, audio : false &#125;; let promise; if(navigator.mediaDevices.getUserMedia)&#123; //æœ€æ–°æ ‡å‡†API promise = navigator.mediaDevices.getUserMedia(constraints); &#125; else if (navigator.webkitGetUserMedia)&#123; //webkitå†…æ ¸æµè§ˆå™¨ promise = navigator.webkitGetUserMedia(constraints); &#125; else if (navigator.mozGetUserMedia)&#123; //Firefoxæµè§ˆå™¨ promise = navagator.mozGetUserMedia(constraints); &#125; else if (navigator.getUserMedia)&#123; //æ—§ç‰ˆAPI promise = navigator.getUserMedia(constraints); &#125; promise.then(function (MediaStream) &#123; video.srcObject = MediaStream; video.play(); &#125;); &#125; &lt;/script&gt; &lt;body&gt; &lt;video class="myvideo" style="border-radius: 10%;" id="video" autoplay="autoplay" &gt;&lt;/video&gt; &lt;button id="b"&gt;ç”»å›¾&lt;/button&gt; &lt;canvas id="myCanvas"&gt;&lt;/canvas&gt; &lt;/body&gt; &lt;script type="text/javascript"&gt; var btn = document.getElementById("b"); btn.onclick =function()&#123; var c=document.getElementById("myCanvas"); ctx=c.getContext('2d'); ctx.drawImage(video, 0, 0, 270, 135); &#125; &lt;/script&gt;&lt;/html&gt;è½¬åŒ–ä¸ºfileæ­¤æ ‡é¢˜ä¸­è¯´çš„fileæ˜¯è¡¨å•ä¸­&lt;input type=&quot;file&quot; name=&quot;&quot; id=&quot;&quot; value=&quot;&quot; /&gt;ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;title&gt;&lt;/title&gt; &lt;script src="bootstrap/jquery-3.2.1.min.js"&gt;&lt;/script&gt; &lt;link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"&gt;&lt;/script&gt; &lt;script src="bootstrap/holder.min.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;script type="application/javascript"&gt; window.onload=function() &#123; let video = document.getElementById("video"); /** * constraintsï¼šæ‰“å¼€æ‘„åƒå¤´æ—¶çº¦æŸï¼Œä¸‹é¢çš„çº¦æŸå¯¹videoæ²¡æœ‰çº¦æŸï¼Œå®ƒé€‰æ‹©è®¾å¤‡çš„é»˜è®¤æ‘„åƒå¤´ï¼Œä½†æ˜¯ç¦æ­¢äº†éŸ³é¢‘ */ let constraints = &#123; video: &#123;&#125;, audio : false &#125;; let promise; if(navigator.mediaDevices.getUserMedia)&#123; //æœ€æ–°æ ‡å‡†API promise = navigator.mediaDevices.getUserMedia(constraints); &#125; else if (navigator.webkitGetUserMedia)&#123; //webkitå†…æ ¸æµè§ˆå™¨ promise = navigator.webkitGetUserMedia(constraints); &#125; else if (navigator.mozGetUserMedia)&#123; //Firefoxæµè§ˆå™¨ promise = navagator.mozGetUserMedia(constraints); &#125; else if (navigator.getUserMedia)&#123; //æ—§ç‰ˆAPI promise = navigator.getUserMedia(constraints); &#125; promise.then(function (MediaStream) &#123; video.srcObject = MediaStream; video.play(); &#125;); &#125; function getBase64() &#123; //èŽ·å¾—Canvaså¯¹è±¡ var cas = document.getElementById("myCanvas"); var ctx = cas.getContext("2d"); let video = document.getElementById("video"); ctx.drawImage(video, 0, 0, 500, 400); var data = cas.toDataURL('image/png', 0.1); //1è¡¨ç¤ºè´¨é‡(æ— æŸåŽ‹ç¼©) return data; &#125; //'file' ç­‰ä»·äºŽ æµè§ˆæœ¬åœ°æ–‡ä»¶ä¸Šä¼ æ—¶æœ¬åœ°æ–‡ä»¶çš„åå­— function dataURLtoFile(dataurl, filename = 'file')&#123; dataurl = dataurl + ""; var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n); while(n--)&#123; u8arr[n] = bstr.charCodeAt(n); &#125; return new File([u8arr], filename, &#123;type:mime&#125;); &#125; &lt;/script&gt; &lt;body&gt; &lt;video id="video" autoplay="autoplay" &gt;&lt;/video&gt; &lt;button id="b"&gt;ç”»å›¾&lt;/button&gt; &lt;canvas id="myCanvas" width="500px" height="500px"&gt;&lt;/canvas&gt; &lt;/body&gt; &lt;script type="text/javascript"&gt; var btn = document.getElementById("b"); btn.onclick =function()&#123; console.log(dataURLtoFile(getBase64())); &#125; &lt;/script&gt;&lt;/html&gt;æºç https://github.com/isjinhao/html5-handle-img]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[html5å¯ç”¨æ‘„åƒå¤´]]></title>
    <url>%2F2019%2Fhtml5%E5%90%AF%E7%94%A8%E6%91%84%E5%83%8F%E5%A4%B4%2F</url>
    <content type="text"><![CDATA[h5å¯ç”¨é»˜è®¤æ‘„åƒå¤´123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;title&gt;&lt;/title&gt; &lt;script src="bootstrap/jquery-3.2.1.min.js"&gt;&lt;/script&gt; &lt;link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"&gt;&lt;/script&gt; &lt;script src="bootstrap/holder.min.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;script type="application/javascript"&gt; window.onload=function() &#123; let video = document.getElementById("video"); /** * constraintsï¼šæ‰“å¼€æ‘„åƒå¤´æ—¶çº¦æŸï¼Œä¸‹é¢çš„çº¦æŸå¯¹videoæ²¡æœ‰çº¦æŸï¼Œå®ƒé€‰æ‹©è®¾å¤‡çš„é»˜è®¤æ‘„åƒå¤´ï¼Œä½†æ˜¯ç¦æ­¢äº†éŸ³é¢‘ */ let constraints = &#123; video: &#123;&#125;, audio : false &#125;; let promise; if(navigator.mediaDevices.getUserMedia)&#123; //æœ€æ–°æ ‡å‡†API promise = navigator.mediaDevices.getUserMedia(constraints); &#125; else if (navigator.webkitGetUserMedia)&#123; //webkitå†…æ ¸æµè§ˆå™¨ promise = navigator.webkitGetUserMedia(constraints); &#125; else if (navigator.mozGetUserMedia)&#123; //Firefoxæµè§ˆå™¨ promise = navagator.mozGetUserMedia(constraints); &#125; else if (navigator.getUserMedia)&#123; //æ—§ç‰ˆAPI promise = navigator.getUserMedia(constraints); &#125; promise.then(function (MediaStream) &#123; video.srcObject = MediaStream; video.play(); &#125;); &#125; &lt;/script&gt; &lt;body&gt; &lt;video class="myvideo" style="border-radius: 10%;" id="video" autoplay="autoplay" &gt;&lt;/video&gt; &lt;/body&gt;&lt;/html&gt;åˆ†æžä¸Šé¢çš„ä»£ç åªèƒ½æ‰“å¼€è®¾å¤‡é»˜è®¤æ‘„åƒå¤´ï¼Œåœ¨æ‰‹æœºä¸Šä¼šæ˜¯å‰ç½®æ‘„åƒå¤´ã€‚æ­¤åšæ–‡ä»£ç æµ‹è¯•æ—¶é—´ä¸º2019.4.7ã€‚åœ¨å¼€å¯æ‘„åƒå¤´è¿™ä¸€å—ï¼Œä¸åŒçš„æµè§ˆå™¨å…¼å®¹æ€§å¾ˆå·®ï¼Œè€Œä¸”æ ‡å‡†ä»Šå¹´æ¥æ”¹åŠ¨è¿‡å¤§ï¼Œå¾ˆå¤šçš„APIéƒ½è¢«å¼ƒç”¨ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨æ—¶è¯·å‹¿å–·ã€‚h5å¯ç”¨æ‰‹æœºåŽç½®æ‘„åƒå¤´12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;title&gt;&lt;/title&gt; &lt;script src="bootstrap/jquery-3.2.1.min.js"&gt;&lt;/script&gt; &lt;link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"&gt;&lt;/script&gt; &lt;script src="bootstrap/holder.min.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;script type="application/javascript"&gt; window.onload=function() &#123; let video = document.getElementById("video"); // æ­¤APIè¯·æ±‚å¯ç”¨åª’ä½“è¾“å…¥å’Œè¾“å‡ºè®¾å¤‡çš„åˆ—è¡¨ï¼Œä¾‹å¦‚éº¦å…‹é£Žï¼Œæ‘„åƒå¤´ï¼Œè€³æœºç­‰ã€‚ let promoseDevs = navigator.mediaDevices.enumerateDevices(); var exArray = []; promoseDevs.then(function(devices) &#123; devices.forEach(function (dv) &#123; var kind = dv.kind; //æˆ‘ä»¬éœ€è¦çš„æ˜¯æ‘„åƒå¤´ï¼Œæ‰€ä»¥åŒ¹é…video if (kind.match(/^video.*/)) &#123; exArray.push(dv.deviceId); console.log(dv); &#125; &#125;); &#125;).then(function()&#123; alert("æ‘„åƒå¤´ä¸ªæ•°ï¼š" + exArray.length); //è®¾ç½®å¯ç”¨æ‘„åƒå¤´æ—¶çš„çº¦æŸï¼Œåœ¨æ‰‹æœºç«¯çº¦æŸæ‘„åƒå¤´ä¸ºåŽç½® let constraints = &#123; video: &#123; deviceId: exArray[exArray.length - 1] &#125;, audio : false &#125;; let promise; if (navigator.mediaDevices.getUserMedia) &#123; //æœ€æ–°çš„æ ‡å‡†API promise = navigator.mediaDevices.getUserMedia(constraints); &#125; else if (navigator.webkitGetUserMedia) &#123; //webkitæ ¸å¿ƒæµè§ˆå™¨ promise = navigator.webkitGetUserMedia(constraints, success, error) &#125; else if (navigator.mozGetUserMedia) &#123; //firfoxæµè§ˆå™¨ promise = navigator.mozGetUserMedia(constraints, success, error); &#125; else if (navigator.getUserMedia) &#123; //æ—§ç‰ˆAPI promise = navigator.getUserMedia(constraints, success, error); &#125; promise.then(function (MediaStream) &#123; video.srcObject = MediaStream; video.play(); &#125;) &#125;) &#125; &lt;/script&gt; &lt;body&gt; &lt;video class="myvideo" style="border-radius: 10%;" id="video" autoplay="autoplay" &gt;&lt;/video&gt; &lt;/body&gt;&lt;/html&gt;å‚è€ƒæºç ï¼šhttps://github.com/isjinhao/html5-handle-imghttps://www.jianshu.com/p/e03bd23b6b5c]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[html5å®žçŽ°å›¾ç‰‡é¢„è§ˆ]]></title>
    <url>%2F2019%2Fhtml5%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E9%A2%84%E8%A7%88%2F</url>
    <content type="text"><![CDATA[å®žä¾‹ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;title&gt;&lt;/title&gt; &lt;script src="bootstrap/jquery-3.2.1.min.js"&gt;&lt;/script&gt; &lt;link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"&gt;&lt;/script&gt; &lt;script src="bootstrap/holder.min.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;script type="application/javascript"&gt; function select_file(fileid)&#123; document.getElementById(fileid).click(); &#125; //é¢„è§ˆå›¾ç‰‡å¹¶èŽ·å¾—å›¾ç‰‡çš„base64ç¼–ç  function imgPreview(fileDom)&#123; //åˆ¤æ–­æ˜¯å¦æ”¯æŒFileReader /** * FileReader å¯¹è±¡å…è®¸Webåº”ç”¨ç¨‹åºå¼‚æ­¥è¯»å–å­˜å‚¨åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„æ–‡ä»¶ */ if (window.FileReader) &#123; var reader = new FileReader(); &#125; else &#123; alert("è¯·æ›´æ–°æ‚¨çš„æµè§ˆå™¨ï¼"); return; &#125; //èŽ·å–æ–‡ä»¶ var file = fileDom.files[0]; var imageType = /^image\//; //æ˜¯å¦æ˜¯å›¾ç‰‡ if (!imageType.test(file.type)) &#123; alert("è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶ï¼"); return; &#125; /* * readAsDataURL æ–¹æ³•ä¼šè¯»å–æŒ‡å®šçš„ Blob æˆ– File å¯¹è±¡ã€‚è¿”å›žæ–‡ä»¶çš„base64ç¼–ç  */ reader.readAsDataURL(file); /** * å½“æ–‡ä»¶è¯»å–å®Œæˆçš„æ—¶å€™ä¼šå›žè°ƒæ­¤å‡½æ•°ï¼Œeå°±æ˜¯èŽ·å–çš„æ–‡ä»¶ */ reader.onload = function(e) &#123; //èŽ·å–å›¾ç‰‡dom var img = document.getElementById("img"); //eæ˜¯èŽ·å–çš„æ–‡ä»¶ï¼Œreader.readAsDataURL(file);è¯»å–çš„Base64ç¼–ç å­˜æ”¾åœ¨target.resultä¸­ img.src = e.target.result; &#125;; &#125; &lt;/script&gt; &lt;body&gt; &lt;div class="row"&gt; &lt;div class="panel-title" style="text-align: center;"&gt; &lt;input type="file" class="hidden" id="image" onchange="imgPreview(this)"&gt; &lt;img style="height: 200px; border-radius: 50%;" src="holder.js/300x300" onclick="select_file('image');" id="img" /&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt;å‚è€ƒhttps://developer.mozilla.org/zh-CN/docs/Web/API/FileReaderæºç ï¼šhttps://github.com/isjinhao/html5-handle-img]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Dbutils]]></title>
    <url>%2F2019%2FDbutils%2F</url>
    <content type="text"><![CDATA[ä»‹ç»Commons DbUtilsæ˜¯Apacheç»„ç»‡æä¾›çš„ä¸€ä¸ªå¯¹JDBCè¿›è¡Œç®€å•å°è£…çš„å¼€æºå·¥å…·ç±»åº“ï¼Œä½¿ç”¨å®ƒèƒ½å¤Ÿç®€åŒ–JDBCåº”ç”¨ç¨‹åºçš„å¼€å‘ï¼ŒåŒæ—¶ä¹Ÿä¸ä¼šå½±å“ç¨‹åºçš„æ€§èƒ½ã€‚æœ€å¤§çš„å¥½å¤„æ˜¯å®ƒèƒ½å¸®æˆ‘ä»¬è‡ªåŠ¨å°è£…ç»“æžœé›†ã€‚ä¸‹é¢ä½¿ç”¨C3P0ä½œä¸ºæ•°æ®åº“è¿žæŽ¥æ± ã€‚å¢žåˆ æ”¹1234567891011121314151617181920212223import org.apache.commons.dbutils.QueryRunner;import com.mchange.v2.c3p0.ComboPooledDataSource;public class Test &#123; public static void main(String[] args) throws Exception &#123; //1ã€æŒ‡å®šæ•°æ®åº“è¿žæŽ¥æ±  ComboPooledDataSource dataSource = new ComboPooledDataSource(); //2ã€å¢žåˆ æ”¹éƒ½ä½¿ç”¨updateæ–¹æ³• QueryRunner qr = new QueryRunner(dataSource); String insert = &quot;insert into students(id, name, clazz) values(?, ?, ?)&quot;; qr.update(insert, &quot;123&quot;, &quot;123&quot;, &quot;123&quot;); String update = &quot;update students set name = ? where id = ?&quot;; qr.update(update, &quot;789&quot;, &quot;123&quot;); String delete = &quot;delete from students where id = ?&quot;; qr.update(delete, &quot;123&quot;); &#125;&#125;æŸ¥è¯¢è‡ªå®šä¹‰å°è£…-è¿”å›žå€¼ç±»åž‹æ˜¯å•ä¸ªå¯¹è±¡123456789101112131415161718String query = "select * from students where id = ?";Student student = qr.query(query, new ResultSetHandler&lt;Student&gt;() &#123; public Student handle(ResultSet rs) throws SQLException &#123; Student s = new Student(); while(rs.next()) &#123; String id = rs.getString("id"); String name = rs.getString("name"); String clazz = rs.getString("clazz"); s.setId(id); s.setName(name); s.setClazz(clazz); &#125; return s; &#125;&#125;, "helloworld");System.out.println(student);è‡ªå®šä¹‰å°è£…-è¿”å›žå€¼ç±»åž‹æ˜¯é›†åˆ123456789101112131415String query = "select * from students";List&lt;Student&gt; list = qr.query(query, new ResultSetHandler&lt;List&lt;Student&gt;&gt;() &#123; public List&lt;Student&gt; handle(ResultSet rs) throws SQLException &#123; List&lt;Student&gt; l = new ArrayList&lt;&gt;(); Student s = new Student(); while(rs.next()) &#123; s.setId(rs.getString("id")); s.setName(rs.getString("name")); s.setClazz(rs.getString("clazz")); l.add(s); &#125; return l; &#125;&#125;);System.out.println(list);å¿«é€Ÿå°è£…-è¿”å›žå€¼ç±»åž‹æ˜¯å•ä¸ªå¯¹è±¡123456String query = "select * from students where id = ?";Student q = qr.query(query, new BeanHandler&lt;&gt;(Student.class), "helloworld");System.out.println(q);/**Console:* Student [id=helloworld, name=qwe, clazz=160341B]*/å¿«é€Ÿå°è£…-è¿”å›žå€¼ç±»åž‹æ˜¯å¤šä¸ªå¯¹è±¡123456789String query = "select * from students";List&lt;Student&gt; l = qr.query(query, new BeanListHandler&lt;&gt;(Student.class));System.out.println(l);/** * [Student [id=160341240, name=qwe, clazz=160341B], * Student [id=160341244, name=qwe, clazz=160341B], * Student [id=aaa, name=è©¹é‡‘æµ©, clazz=160341B], * Student [id=helloworld, name=qwe, clazz=160341B]] */]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>Java</tag>
        <tag>JDBC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®åº“è¿žæŽ¥æ± ]]></title>
    <url>%2F2019%2F%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%2F</url>
    <content type="text"><![CDATA[æ¥”å­ä¹‹å‰çš„ä¸è¶³ç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´å»ºç«‹è¿žæŽ¥çš„è¿‡ç¨‹æ˜¯æ¯”è¾ƒè€—æ—¶çš„ï¼Œè€Œä¸”æ¯æ¬¡å»ºç«‹è¿žæŽ¥ä¹‹åŽè¿˜éœ€è¦é‡Šæ”¾èµ„æºï¼Œé¢‘ç¹çš„å»ºç«‹å’Œé‡Šæ”¾æ˜¯ä¼šé€ æˆå¾ˆå¤§çš„æ—¶é—´æ¶ˆè€—ã€‚è§£å†³æ–¹æ³•åœ¨ç¨‹åºä¸­å§‹ç»ˆç»´æŠ¤å¤šä¸ªå’Œæ•°æ®åº“çš„çš„è¿žæŽ¥ï¼Œè¿™äº›è¿žæŽ¥åœ¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™å°±å»ºç«‹ï¼Œç›´åˆ°ç¨‹åºç»“æŸæ‰é‡Šæ”¾ã€‚æ¯æ¬¡éœ€è¦å’Œæ•°æ®åº“å»ºç«‹è¿žæŽ¥æ—¶ï¼Œä¹‹é™…ä»Žè¿žæŽ¥æ± ä¸­èŽ·å–è¿žæŽ¥å³å¯ã€‚å¦‚å›¾ï¼šè‡ªå®šä¹‰æ•°æ®åº“è¿žæŽ¥æ± å…¥é—¨æ•°æ®åº“è¿žæŽ¥æ± çš„æ¦‚å¿µæœ¬æ¥å°±æ˜¯sunå…¬å¸æå‡ºæ¥çš„é¢ï¼Œæ‰€ä»¥sunå…¬å¸é’ˆå¯¹æ•°æ®åº“è¿žæŽ¥æ± ä¹Ÿæä¾›äº†ä¸€å¥—è§„èŒƒï¼Œä¸€ä¸ªç®€å•çš„æ•°æ®åº“è¿žæŽ¥æ± å¦‚ä¸‹ï¼Œåªæœ‰èŽ·å–è¿žæŽ¥å’Œå½’è¿˜è¿žæŽ¥çš„æ–¹æ³•ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091import java.io.PrintWriter;import java.sql.Connection;import java.sql.SQLException;import java.sql.SQLFeatureNotSupportedException;import java.util.ArrayList;import java.util.List;import java.util.logging.Logger;import javax.sql.DataSource;public class MyDataSource implements DataSource &#123; List &lt;Connection&gt; list = new ArrayList&lt;Connection&gt;(); public MyDataSource() &#123; for (int i = 0; i &lt; 10; i++) &#123; Connection conn = JDBCUtil.getConn(); list.add(conn); &#125; &#125;// è¯¥è¿žæŽ¥æ± å¯¹å¤–å…¬å¸ƒçš„èŽ·å–è¿žæŽ¥çš„æ–¹æ³• @Override public Connection getConnection() throws SQLException &#123; //æ¥æ‹¿è¿žæŽ¥çš„æ—¶å€™ï¼Œå…ˆçœ‹çœ‹ï¼Œæ± å­é‡Œé¢è¿˜æœ‰æ²¡æœ‰ã€‚ if(list.size() == 0 )&#123; for (int i = 0; i &lt; 5; i++) &#123; Connection conn = JDBCUtil.getConn(); list.add(conn); &#125; &#125; //remove(0) ---&gt; ç§»é™¤ç¬¬ä¸€ä¸ªã€‚ ç§»é™¤çš„æ˜¯é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªã€‚ ç§»é™¤çš„æ˜¯å¼€å§‹çš„é‚£ä¸ªå…ƒç´  Connection conn = list.remove(0); return conn; &#125; /** * ç”¨å®Œä¹‹åŽï¼Œè®°å¾—å½’è¿˜ã€‚ * @param conn */ public void addBack(Connection conn)&#123; list.add(conn); &#125; //---------------------------- @Override public PrintWriter getLogWriter() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public void setLogWriter(PrintWriter out) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public void setLoginTimeout(int seconds) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public int getLoginTimeout() throws SQLException &#123; // TODO Auto-generated method stub return 0; &#125; @Override public Logger getParentLogger() throws SQLFeatureNotSupportedException &#123; // TODO Auto-generated method stub return null; &#125; @Override public &lt;T&gt; T unwrap(Class&lt;T&gt; iface) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public boolean isWrapperFor(Class&lt;?&gt; iface) throws SQLException &#123; // TODO Auto-generated method stub return false; &#125; @Override public Connection getConnection(String username, String password) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125;&#125;é—®é¢˜ &amp; è§£å†³é—®é¢˜AddBack()ï¼šè¿™ä¸ªæ–¹æ³•ä¸æ˜¯æŽ¥å£ä¸­çš„æ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨é¢å‘æŽ¥å£çš„ç¼–ç¨‹ã€‚è¿žæŽ¥æ± ä¸æ˜¯å•ä¾‹ï¼šåœ¨ä¸€ä¸ªç¨‹åºä¸­ï¼Œè¿žæŽ¥æ± åº”è¯¥åªå­˜åœ¨ä¸€ä¸ªï¼Œæ¯newä¸€ä¸ªéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªè¿žæŽ¥æ± å’Œnä¸ªè¿žæŽ¥ã€‚æ‰©å®¹ï¼šå½“è¿žæŽ¥æ•°å¤§äºŽæˆ‘ä»¬è®¾ç½®çš„æ•°é‡æ—¶éœ€è¦å¯¹è¿žæŽ¥æ± ä¸­çš„è¿žæŽ¥æ‰©å®¹ï¼Œå¦åˆ™å°±ä¼šäº§ç”Ÿé—®é¢˜ã€‚è§£å†³ä½¿ç”¨è£…é¥°è€…æ¨¡å¼ï¼›æŠŠè¿žæŽ¥æ± è®¾ä¸ºå•ä¾‹ï¼›è¿žæŽ¥æ± ç©ºæ—¶è‡ªåŠ¨å¢žåŠ æœºåˆ¶ã€‚æ”¹è¿›çš„æ•°æ®åº“è¿žæŽ¥æ± 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990import java.io.PrintWriter;import java.sql.Connection;import java.sql.SQLException;import java.sql.SQLFeatureNotSupportedException;import java.util.ArrayList;import java.util.List;import java.util.logging.Logger;import javax.sql.DataSource;public class MyDataSource implements DataSource &#123; private MyDataSource() &#123;&#125; private static MyDataSource mds = new MyDataSource(); static List &lt;Connection&gt; list = new ArrayList&lt;Connection&gt;(); static&#123; for (int i = 0; i &lt; 10; i++) &#123; Connection conn = JDBCUtil.getConn(); list.add(conn); &#125; &#125; public static MyDataSource getMyDataSource() &#123; return mds; &#125;// è¯¥è¿žæŽ¥æ± å¯¹å¤–å…¬å¸ƒçš„èŽ·å–è¿žæŽ¥çš„æ–¹æ³•ï¼Œæ‰©å®¹ @Override public Connection getConnection() throws SQLException &#123; //æ¥æ‹¿è¿žæŽ¥çš„æ—¶å€™ï¼Œå…ˆçœ‹çœ‹ï¼Œæ± å­é‡Œé¢è¿˜æœ‰æ²¡æœ‰ã€‚ if(list.size() == 0 )&#123; for (int i = 0; i &lt; 5; i++) &#123; Connection conn = JDBCUtil.getConn(); list.add(conn); &#125; &#125; Connection conn = list.remove(0); Connection connection = new ConnectionWrap(conn, list); return connection; &#125; /** * ç”¨å®Œä¹‹åŽï¼Œè®°å¾—å½’è¿˜ã€‚ * @param conn */ public void addBack(Connection conn)&#123; list.add(conn); &#125; //---------------------------- @Override public PrintWriter getLogWriter() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public void setLogWriter(PrintWriter out) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public void setLoginTimeout(int seconds) throws SQLException &#123; &#125; @Override public int getLoginTimeout() throws SQLException &#123; return 0; &#125; @Override public Logger getParentLogger() throws SQLFeatureNotSupportedException &#123; return null; &#125; @Override public &lt;T&gt; T unwrap(Class&lt;T&gt; iface) throws SQLException &#123; return null; &#125; @Override public boolean isWrapperFor(Class&lt;?&gt; iface) throws SQLException &#123; return false; &#125; @Override public Connection getConnection(String username, String password) throws SQLException &#123; return null; &#125;&#125;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344import java.sql.Array;import java.sql.Blob;import java.sql.CallableStatement;import java.sql.Clob;import java.sql.Connection;import java.sql.DatabaseMetaData;import java.sql.NClob;import java.sql.PreparedStatement;import java.sql.SQLClientInfoException;import java.sql.SQLException;import java.sql.SQLWarning;import java.sql.SQLXML;import java.sql.Savepoint;import java.sql.Statement;import java.sql.Struct;import java.util.List;import java.util.Map;import java.util.Properties;import java.util.concurrent.Executor;public class ConnectionWrap implements Connection&#123; private Connection connection = null; private List &lt;Connection&gt; list ; public ConnectionWrap(Connection connection , List &lt;Connection&gt; list) &#123; super(); this.connection = connection; this.list = list; &#125; @Override public void close() throws SQLException &#123; list.add(connection); &#125; @Override public PreparedStatement prepareStatement(String sql) throws SQLException &#123; return connection.prepareStatement(sql); &#125; //==================================================================== //ä¹‹åŽçš„æ–¹æ³•æ²¡æœ‰è¢«è£…é¥°ï¼Œéœ€è¦ä½¿ç”¨æ—¶å†è£…é¥° @Override public &lt;T&gt; T unwrap(Class&lt;T&gt; iface) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public boolean isWrapperFor(Class&lt;?&gt; iface) throws SQLException &#123; return false; &#125; @Override public Statement createStatement() throws SQLException &#123; return null; &#125; @Override public CallableStatement prepareCall(String sql) throws SQLException &#123; return null; &#125; @Override public String nativeSQL(String sql) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public void setAutoCommit(boolean autoCommit) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public boolean getAutoCommit() throws SQLException &#123; // TODO Auto-generated method stub return false; &#125; @Override public void commit() throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public void rollback() throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public boolean isClosed() throws SQLException &#123; // TODO Auto-generated method stub return false; &#125; @Override public DatabaseMetaData getMetaData() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public void setReadOnly(boolean readOnly) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public boolean isReadOnly() throws SQLException &#123; // TODO Auto-generated method stub return false; &#125; @Override public void setCatalog(String catalog) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public String getCatalog() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public void setTransactionIsolation(int level) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public int getTransactionIsolation() throws SQLException &#123; // TODO Auto-generated method stub return 0; &#125; @Override public SQLWarning getWarnings() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public void clearWarnings() throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public Statement createStatement(int resultSetType, int resultSetConcurrency) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public PreparedStatement prepareStatement(String sql, int resultSetType, int resultSetConcurrency) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public CallableStatement prepareCall(String sql, int resultSetType, int resultSetConcurrency) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public Map&lt;String, Class&lt;?&gt;&gt; getTypeMap() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public void setTypeMap(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public void setHoldability(int holdability) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public int getHoldability() throws SQLException &#123; // TODO Auto-generated method stub return 0; &#125; @Override public Savepoint setSavepoint() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public Savepoint setSavepoint(String name) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public void rollback(Savepoint savepoint) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public void releaseSavepoint(Savepoint savepoint) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public Statement createStatement(int resultSetType, int resultSetConcurrency, int resultSetHoldability) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public PreparedStatement prepareStatement(String sql, int resultSetType, int resultSetConcurrency, int resultSetHoldability) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public CallableStatement prepareCall(String sql, int resultSetType, int resultSetConcurrency, int resultSetHoldability) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public PreparedStatement prepareStatement(String sql, int autoGeneratedKeys) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public PreparedStatement prepareStatement(String sql, int[] columnIndexes) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public PreparedStatement prepareStatement(String sql, String[] columnNames) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public Clob createClob() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public Blob createBlob() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public NClob createNClob() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public SQLXML createSQLXML() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public boolean isValid(int timeout) throws SQLException &#123; // TODO Auto-generated method stub return false; &#125; @Override public void setClientInfo(String name, String value) throws SQLClientInfoException &#123; // TODO Auto-generated method stub &#125; @Override public void setClientInfo(Properties properties) throws SQLClientInfoException &#123; // TODO Auto-generated method stub &#125; @Override public String getClientInfo(String name) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public Properties getClientInfo() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public Array createArrayOf(String typeName, Object[] elements) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public Struct createStruct(String typeName, Object[] attributes) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public void setSchema(String schema) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public String getSchema() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public void abort(Executor executor) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public void setNetworkTimeout(Executor executor, int milliseconds) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public int getNetworkTimeout() throws SQLException &#123; // TODO Auto-generated method stub return 0; &#125;&#125;å¼€æºæ•°æ®åº“è¿žæŽ¥æ± DBCP12345678910111213141516171819202122232425262728293031#è¿žæŽ¥è®¾ç½®driverClassName=com.mysql.jdbc.Driverurl=jdbc:mysql://localhost:3306/jdbc-studyusername=rootpassword=root#&lt;!-- åˆå§‹åŒ–è¿žæŽ¥ --&gt;initialSize=10#æœ€å¤§è¿žæŽ¥æ•°é‡maxActive=50#&lt;!-- æœ€å¤§ç©ºé—²è¿žæŽ¥ --&gt;maxIdle=20#&lt;!-- æœ€å°ç©ºé—²è¿žæŽ¥ --&gt;minIdle=5#&lt;!-- è¶…æ—¶ç­‰å¾…æ—¶é—´ä»¥æ¯«ç§’ä¸ºå•ä½ 6000æ¯«ç§’/1000ç­‰äºŽ60ç§’ --&gt;maxWait=60000#JDBCé©±åŠ¨å»ºç«‹è¿žæŽ¥æ—¶é™„å¸¦çš„è¿žæŽ¥å±žæ€§å±žæ€§çš„æ ¼å¼å¿…é¡»ä¸ºè¿™æ ·ï¼š[å±žæ€§å=property;] #æ³¨æ„ï¼š&quot;user&quot; ä¸Ž &quot;password&quot; ä¸¤ä¸ªå±žæ€§ä¼šè¢«æ˜Žç¡®åœ°ä¼ é€’ï¼Œå› æ­¤è¿™é‡Œä¸éœ€è¦åŒ…å«ä»–ä»¬ã€‚connectionProperties=useUnicode=true;characterEncoding=gbk#æŒ‡å®šç”±è¿žæŽ¥æ± æ‰€åˆ›å»ºçš„è¿žæŽ¥çš„è‡ªåŠ¨æäº¤ï¼ˆauto-commitï¼‰çŠ¶æ€ã€‚defaultAutoCommit=true#driver default æŒ‡å®šç”±è¿žæŽ¥æ± æ‰€åˆ›å»ºçš„è¿žæŽ¥çš„äº‹åŠ¡çº§åˆ«ï¼ˆTransactionIsolationï¼‰ã€‚#å¯ç”¨å€¼ä¸ºä¸‹åˆ—ä¹‹ä¸€ï¼šï¼ˆè¯¦æƒ…å¯è§javadocã€‚ï¼‰NONE,READ_UNCOMMITTED, READ_COMMITTED, REPEATABLE_READ, SERIALIZABLEdefaultTransactionIsolation=READ_UNCOMMITTED123456789101112131415161718192021222324252627282930313233343536373839404142434445import java.io.FileInputStream;import java.sql.Connection;import java.sql.PreparedStatement;import java.sql.ResultSet;import java.util.Properties;import javax.sql.DataSource;import org.apache.commons.dbcp.BasicDataSourceFactory;public class Test &#123; public static void main(String[] args) throws Exception &#123; Connection connection = null; PreparedStatement ps = null; try &#123; //1ã€æž„å»ºæ•°æ®æº BasicDataSourceFactory bdsf = new BasicDataSourceFactory(); Properties pro = new Properties(); pro.load(new FileInputStream("src/dbcpconfig.properties")); DataSource ds = bdsf.createDataSource(pro); //2ã€å¾—åˆ°è¿žæŽ¥å¯¹è±¡ connection = ds.getConnection(); //3ã€æ‰§è¡Œsqlè¯­å¥ String sql = "select * from students"; ps = connection.prepareStatement(sql); //4ã€èŽ·å¾—ç»“æžœã€å¤„ç†ç»“æžœ ResultSet query = ps.executeQuery(); while(query.next()) &#123; String id = query.getString("id"); String name = query.getString("name"); String clazz = query.getString("clazz"); System.out.println(id + " " + name + " " + clazz); &#125; &#125;catch (Exception e) &#123; e.printStackTrace(); &#125;finally &#123; //ç›´æŽ¥å…³é—­å°±è¡Œï¼Œdbcpå¸®æˆ‘ä»¬åŒ…è£…å¥½äº† ps.close(); connection.close(); &#125; &#125;&#125;C3P0123456789101112131415161718192021222324252627282930313233343536373839&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;c3p0-config&gt; &lt;!-- default-config é»˜è®¤çš„é…ç½®ï¼Œ --&gt; &lt;default-config&gt; &lt;property name="driverClass"&gt;com.mysql.jdbc.Driver&lt;/property&gt; &lt;property name="jdbcUrl"&gt;jdbc:mysql://localhost/jdbc-study&lt;/property&gt; &lt;property name="user"&gt;root&lt;/property&gt; &lt;property name="password"&gt;root&lt;/property&gt; &lt;property name="initialPoolSize"&gt;10&lt;/property&gt; &lt;property name="maxIdleTime"&gt;30&lt;/property&gt; &lt;property name="maxPoolSize"&gt;100&lt;/property&gt; &lt;property name="minPoolSize"&gt;10&lt;/property&gt; &lt;property name="maxStatements"&gt;200&lt;/property&gt; &lt;/default-config&gt; &lt;!-- This app is massive! --&gt; &lt;named-config name="oracle"&gt; &lt;property name="acquireIncrement"&gt;50&lt;/property&gt; &lt;property name="initialPoolSize"&gt;100&lt;/property&gt; &lt;property name="minPoolSize"&gt;50&lt;/property&gt; &lt;property name="maxPoolSize"&gt;1000&lt;/property&gt; &lt;!-- intergalactoApp adopts a different approach to configuring statement caching --&gt; &lt;property name="maxStatements"&gt;0&lt;/property&gt; &lt;property name="maxStatementsPerConnection"&gt;5&lt;/property&gt; &lt;!-- he's important, but there's only one of him --&gt; &lt;user-overrides user="master-of-the-universe"&gt; &lt;property name="acquireIncrement"&gt;1&lt;/property&gt; &lt;property name="initialPoolSize"&gt;1&lt;/property&gt; &lt;property name="minPoolSize"&gt;1&lt;/property&gt; &lt;property name="maxPoolSize"&gt;5&lt;/property&gt; &lt;property name="maxStatementsPerConnection"&gt;50&lt;/property&gt; &lt;/user-overrides&gt; &lt;/named-config&gt;&lt;/c3p0-config&gt;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import java.sql.Connection;import java.sql.PreparedStatement;import java.sql.ResultSet;import java.sql.SQLException;import com.mchange.v2.c3p0.ComboPooledDataSource;public class Test &#123; public static void main(String[] args) &#123; Connection connection = null; PreparedStatement ps = null; try &#123; //1ã€æž„å»ºæ•°æ®æº ComboPooledDataSource cpds = new ComboPooledDataSource(); //2ã€å¾—åˆ°è¿žæŽ¥å¯¹è±¡ connection = cpds.getConnection(); //3ã€æ‰§è¡Œsqlè¯­å¥ String sql = "select * from students"; ps = connection.prepareStatement(sql); //4ã€èŽ·å¾—ç»“æžœã€å¤„ç†ç»“æžœ ResultSet query = ps.executeQuery(); while(query.next()) &#123; String id = query.getString("id"); String name = query.getString("name"); String clazz = query.getString("clazz"); System.out.println(id + " " + name + " " + clazz); &#125; &#125;catch (Exception e) &#123; e.printStackTrace(); &#125;finally &#123; try &#123; ps.close(); &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; try &#123; connection.close(); &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125;DBCPå’ŒC3P0çš„åŒºåˆ«http://www.cnblogs.com/JavaSubin/p/5294721.html]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>Java</tag>
        <tag>JDBC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDBCå…¥é—¨]]></title>
    <url>%2F2019%2FJDBC%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[JDBC - å…¥é—¨æ¦‚è¿°Java Database Connectivityï¼ŒJavaæ•°æ®åº“è¿žæŽ¥ã€‚æ˜¯ä¸€ç§ç”¨äºŽæ‰§è¡ŒSQLè¯­å¥çš„Java APIï¼Œå¯ä»¥ä¸ºå¤šç§å…³ç³»æ•°æ®åº“æä¾›ç»Ÿä¸€è®¿é—®ï¼Œå®ƒç”±ä¸€ç»„ç”¨Javaè¯­è¨€ç¼–å†™çš„ç±»å’ŒæŽ¥å£ç»„æˆã€‚JDBCæä¾›äº†ä¸€ç§åŸºå‡†ï¼Œæ®æ­¤å¯ä»¥æž„å»ºæ›´é«˜çº§çš„å·¥å…·å’ŒæŽ¥å£ï¼Œä½¿æ•°æ®åº“å¼€å‘äººå‘˜èƒ½å¤Ÿç¼–å†™æ•°æ®åº“åº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥è¯´ï¼ŒJDBCå¯¹Javaç¨‹åºå‘˜è€Œè¨€æ˜¯APIï¼Œå¯¹å®žçŽ°ä¸Žæ•°æ®åº“è¿žæŽ¥çš„æœåŠ¡æä¾›å•†è€Œè¨€æ˜¯æŽ¥å£æ¨¡åž‹ã€‚ä½œä¸ºAPIï¼ŒJDBCä¸ºç¨‹åºå¼€å‘æä¾›æ ‡å‡†çš„æŽ¥å£ï¼Œå¹¶ä¸ºæ•°æ®åº“åŽ‚å•†åŠç¬¬ä¸‰æ–¹ä¸­é—´ä»¶åŽ‚å•†å®žçŽ°ä¸Žæ•°æ®åº“çš„è¿žæŽ¥æä¾›äº†æ ‡å‡†æ–¹æ³•ã€‚é…ç½®çŽ¯å¢ƒæ•°æ®åº“å¹¶ä¸æ˜¯Javaæä¾›çš„ï¼Œæ‰€ä»¥åœ¨Javaä¸­å¦‚æžœæƒ³è¿žæŽ¥æ•°æ®åº“ï¼Œè‚¯å®šéœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹jaråŒ…ï¼Œè¿™äº›jaråŒ…æ˜¯æ•°æ®åº“åŽ‚å•†æ ¹æ®JDBCæŽ¥å£æ¨¡åž‹å¼€å‘çš„è‡ªå·±æ•°æ®åº“çš„è¿žæŽ¥åŒ…ã€‚æ–‡ç« é‡Œä½¿ç”¨çš„æ•°æ®åº“æ˜¯mysqlï¼Œæ‰€ä»¥ä½¿ç”¨mysql-connectorã€‚åŸºç¡€æ“ä½œä½¿ç”¨JDBCéœ€è¦å…­æ­¥ï¼šæ³¨å†Œé©±åŠ¨ã€å»ºç«‹è¿žæŽ¥ã€åˆ›å»ºStatementã€æ‰§è¡ŒæŸ¥è¯¢ã€èŽ·å¾—ç»“æžœé›†ã€å¤„ç†ç»“æžœé›†ã€é‡Šæ”¾èµ„æºã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061import java.sql.Connection;import java.sql.DriverManager;import java.sql.ResultSet;import java.sql.Statement;public class Test &#123; public static void main(String[] args) throws Exception &#123; Connection con = null; Statement statement = null; ResultSet query = null; try &#123; /** * 1ã€æ³¨å†Œé©±åŠ¨ï¼šåœ¨ä½¿ç”¨JDBCè¿žæŽ¥è¿žæŽ¥æ•°æ®åº“çš„æ—¶å€™ï¼ŒJavaç¨‹åºå¹¶ä¸çŸ¥é“è‡ªå·±æ˜¯å¦è¿žæŽ¥ä¸Šäº†ç›¸åº”çš„ * æ•°æ®åº“ï¼Œæ‰€ä»¥åœ¨ç¬¬ä¸€æ­¥éœ€è¦æ³¨å†Œé©±åŠ¨ï¼Œå¦‚æžœè¿žæŽ¥æ­£å¸¸åˆ™å¯ä»¥è¿›è¡ŒæŽ¥ä¸‹æ¥çš„æ“ä½œã€‚ä¹Ÿ * å°±æ˜¯è¯´æ³¨å†Œé©±åŠ¨è¿™ä¸€æ­¥æ˜¯é€šè¿‡æˆ‘ä»¬å¯¼å…¥çš„jaråŒ…æµ‹è¯•èƒ½å¦æ­£å¸¸è¿žæŽ¥æ•°æ®åº“ã€‚ */ DriverManager.registerDriver(new com.mysql.jdbc.Driver()); /** * 2ã€èŽ·å¾—è¿žæŽ¥ï¼šæ•°æ®åº“æœåŠ¡å™¨ä¸­å¯èƒ½å­˜åœ¨å¤šä¸ªæ•°æ®åº“ï¼Œæˆ‘ä»¬éœ€è¦è¿žæŽ¥ä¸Šæˆ‘ä»¬å³å°†ä½¿ç”¨çš„æ•°æ®åº“ã€‚ */ con = DriverManager.getConnection("jdbc:mysql://localhost/jdbc-study", "root", "root"); /** * 3ã€åˆ›å»ºStatementï¼šå¦‚æžœæƒ³å’Œæ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œä¸€å®šéœ€è¦ä½¿ç”¨è¿™ä¸ªç±»ã€‚JDKå¯¹ä»–çš„è§£é‡Šæ˜¯ï¼š * The object used for executing a static SQL statementand returning the results it produces. */ statement = con.createStatement(); /** * 4ã€æ‰§è¡ŒæŸ¥è¯¢ï¼ŒèŽ·å¾—ç»“æžœé›†ï¼šæƒ³æ•°æ®åº“ä¸­æ³¨å…¥SQLè¯­å¥ï¼Œæ˜¯æˆ‘ä»¬èƒ½å¤Ÿè¿›è¡Œæ“ä½œ */ String sql = "select * from students"; /** * 5ã€å¤„ç†ç»“æžœé›†ï¼šqueryæ˜¯æ•°æ®åº“ä¸­çš„å…ƒç»„é›†åˆï¼Œå¯ä»¥é€šè¿‡å¾ªçŽ¯èŽ·å¾—æ¯ä¸ªå…ƒç»„ */ query = statement.executeQuery(sql); while(query.next())&#123; String id = query.getString("id"); String name = query.getString("name"); String clazz = query.getString("clazz"); System.out.println(id + " " + name + " " + clazz); &#125; &#125;catch (Exception e) &#123; e.printStackTrace(); &#125;finally &#123; /** * 6ã€é‡Šæ”¾èµ„æºï¼šæ“ä½œç»“æŸåŽè¿›è¡Œæ“ä½œ */ if(query != null) query.close(); if(statement != null) statement.close(); if(con != null) con.close(); &#125; &#125;&#125;å°è£…å·¥å…·ç±»JDBCUtils.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152import java.io.FileInputStream;import java.io.InputStream;import java.sql.Connection;import java.sql.DriverManager;import java.sql.ResultSet;import java.sql.SQLException;import java.sql.Statement;import java.util.Properties;public class JDBCUtil &#123; static String driverClass = null; static String url = null; static String name = null; static String password= null; static&#123; try &#123; //1. åˆ›å»ºä¸€ä¸ªå±žæ€§é…ç½®å¯¹è±¡ Properties properties = new Properties(); InputStream is = new FileInputStream("jdbc.properties"); //ä½¿ç”¨ç±»åŠ è½½å™¨ï¼ŒåŽ»è¯»å–srcåº•ä¸‹çš„èµ„æºæ–‡ä»¶ã€‚ åŽé¢åœ¨servlet// InputStream is = JDBCUtil.class.getClassLoader().getResourceAsStream("jdbc.properties"); //å¯¼å…¥è¾“å…¥æµã€‚ properties.load(is); //è¯»å–å±žæ€§ driverClass = properties.getProperty("driverClass"); url = properties.getProperty("url"); name = properties.getProperty("name"); password = properties.getProperty("password"); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; private static ThreadLocal&lt;Connection&gt; connectionHolder = new ThreadLocal&lt;Connection&gt;() &#123; Connection conn = null; public Connection initialValue() &#123; try &#123; conn = DriverManager.getConnection(url, name, password); &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; return conn; &#125; &#125;; /** * èŽ·å–è¿žæŽ¥å¯¹è±¡ * @return */ public static Connection getConn()&#123; Connection conn = null; try &#123; Class.forName(driverClass); //é™æ€ä»£ç å— ---&gt; ç±»åŠ è½½äº†ï¼Œå°±æ‰§è¡Œã€‚ java.sql.DriverManager.registerDriver(new Driver()); //DriverManager.registerDriver(new com.mysql.jdbc.Driver()); //DriverManager.getConnection("jdbc:mysql://localhost/test?user=monty&amp;password=greatsqldb"); //2. å»ºç«‹è¿žæŽ¥ å‚æ•°ä¸€ï¼š åè®® + è®¿é—®çš„æ•°æ®åº“ ï¼Œ å‚æ•°äºŒï¼š ç”¨æˆ·å ï¼Œ å‚æ•°ä¸‰ï¼š å¯†ç ã€‚ conn = connectionHolder.get(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return conn; &#125; /** * é‡Šæ”¾èµ„æº * @param conn * @param st * @param rs */ public static void release(Connection conn , Statement st , ResultSet rs)&#123; closeRs(rs); closeSt(st); closeConn(conn); &#125; //å¼€å¯äº‹åŠ¡ public static void startTransaction()&#123; try&#123; Connection conn = connectionHolder.get(); conn.setAutoCommit(false); &#125;catch (Exception e) &#123; throw new RuntimeException(e); &#125; &#125; //å›žæ»šäº‹åŠ¡ public static void rollback()&#123; try&#123; Connection conn = connectionHolder.get(); if(conn != null)&#123; conn.rollback(); &#125; &#125;catch (Exception e) &#123; throw new RuntimeException(e); &#125; &#125; //æäº¤äº‹åŠ¡ public static void commit()&#123; try&#123; Connection conn = connectionHolder.get(); if(conn!=null)&#123; conn.commit(); &#125; &#125;catch (Exception e) &#123; throw new RuntimeException(e); &#125; &#125; private static void closeRs(ResultSet rs)&#123; try &#123; if(rs != null)&#123; rs.close(); &#125; &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125;finally&#123; rs = null; &#125; &#125; private static void closeSt(Statement st)&#123; try &#123; if(st != null)&#123; st.close(); &#125; &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125;finally&#123; st = null; &#125; &#125; private static void closeConn(Connection conn)&#123; try &#123; if(conn != null)&#123; conn.close(); &#125; &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125;finally&#123; conn = null; &#125; &#125;&#125;jdbc.properties1234driverClass=com.mysql.jdbc.Driverurl=jdbc:mysql://localhost/jdbc-studyname=rootpassword=rootTest123456789101112131415161718192021import java.sql.Connection;import java.sql.ResultSet;import java.sql.Statement;import com.utils.JDBCUtil;public class TestUtils &#123; public static void main(String[] args) throws Exception &#123; Connection conn = JDBCUtil.getConn(); Statement sta = conn.createStatement(); String sql = "select * from students"; ResultSet query = sta.executeQuery(sql); while(query.next())&#123; String id = query.getString("id"); String name = query.getString("name"); String clazz = query.getString("clazz"); System.out.println(id + " " + name + " " + clazz); &#125; JDBCUtil.release(null, sta, query); &#125;&#125;æ³¨å†Œé©±åŠ¨çš„ç»†èŠ‚å…¶å®žåœ¨JDBC4.0ä¹‹åŽä¸å†éœ€è¦å†™Class.forName(...);å› ä¸ºJDBC4.0ä¹‹åŽï¼Œé©±åŠ¨åŒ…å¿…é¡»åœ¨æŒ‡å®šä½ç½®åŒ…å«java.sql.Driveræ–‡ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥è‡ªåŠ¨åŠ è½½é©±åŠ¨ã€‚åŽŸè¯å¦‚ä¸‹ï¼š123JDBC 4.0 Drivers mustinclude the file META-INF/services/java.sql.Driver. This file contains the name of the JDBC driversimplementation of java.sql.Driver. For example, to load the my.sql.Driver class,the META-INF/services/java.sql.Driver file would contain the entry: my.sql.DriverApplications no longer need to explicitly load JDBC drivers using Class.forName(). Existing programswhich currently load JDBC drivers using Class.forName() will continue to work withoutmodification.CURD1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950import java.sql.Connection;import java.sql.ResultSet;import java.sql.Statement;import org.junit.Test;import com.utils.JDBCUtil;public class CRUD &#123; static Connection con; static &#123; con = JDBCUtil.getConn(); &#125; @Test public void query() throws Exception &#123; Statement statement = con.createStatement(); String sql = "select * from students"; ResultSet query = statement.executeQuery(sql); while(query.next())&#123; String id = query.getString("id"); String name = query.getString("name"); String clazz = query.getString("clazz"); System.out.println(id + " " + name + " " + clazz); &#125; &#125; @Test public void insert() throws Exception &#123; Statement statement = con.createStatement(); String sql = "insert into students(id, name, clazz) values ('160341238', 'èµµæ‰¿é˜³', '160341B')"; int row = statement.executeUpdate(sql); &#125; @Test public void update() throws Exception &#123; Statement statement = con.createStatement(); String sql = "update students set id = 'helloworld' where id = '160341237'"; int row = statement.executeUpdate(sql); &#125; @Test public void delete() throws Exception &#123; Statement statement = con.createStatement(); String sql = "delete from students where id = '160341238'"; //è¿”å›žå¤„ç†çš„è¡Œæ•° int row = statement.executeUpdate(sql); &#125;&#125;PrepareStatementStatementçš„é—®é¢˜123456789101112131415public static void main(String[] args) throws Exception &#123; Statement statement = con.createStatement(); String qid = "160341238 or 1 = 1"; String sql = "select * from students where id = " + qid; ResultSet query = statement.executeQuery(sql); while(query.next())&#123; String id = query.getString("id"); String name = query.getString("name"); String clazz = query.getString("clazz"); System.out.println(id + " " + name + " " + clazz);&#125; /**Console: * 160341238 èµµæ‰¿é˜³ 160341B aaa è©¹é‡‘æµ© 160341B */&#125;åœ¨ä¸Šé¢è¿™æ®µä»£ç ä¸­ï¼ŒæŸ¥è¯¢çš„qidåŽé¢æ·»åŠ ä¸Šäº†or 1 = 1å°±å¯ä»¥æŠŠè¡¨ä¸­æ‰€æœ‰ä¿¡æ¯éƒ½æŸ¥è¯¢å‡ºæ¥ï¼Œå› ä¸ºor 1 = 1è¿™å¥è¯æ˜¯ä¸€å®šä¸ºçœŸï¼Œè€Œæˆ‘ä»¬åˆšæ‰ä½¿ç”¨çš„Statementåˆä½¿ç”¨çš„æ˜¯æ‹¼æŽ¥å­—ç¬¦ä¸²çš„æ–¹å¼ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­orä¼šè¢«è®¤ä¸ºæ˜¯å…³é”®å­—ï¼Œæ‰€ä»¥sqlè¯­å¥çš„æ¡ä»¶æ°¸è¿œä¸ºçœŸã€‚å¯ä»¥é‡‡ç”¨PrepareStatementç±»æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚PrepareStatement12345678910111213141516public static void main(String[] args) throws Exception &#123; String sql = "select * from students where id=?"; PreparedStatement ps = con.prepareStatement(sql); /** * ä»Ž1å¼€å§‹ï¼ŒæŠŠå­—ç¬¦ä¸²å¡«åˆ°åŒ¹é…çš„?é‡Œã€‚å…³é”®å­—ä¹Ÿè¢«è®¤ä¸ºæ˜¯æ˜¯å­—ç¬¦ä¸² */ ps.setString(1, "160341238 or 1 = 1"); ResultSet query = ps.executeQuery(); while(query.next())&#123; String id = query.getString("id"); String name = query.getString("name"); String clazz = query.getString("clazz"); System.out.println(id + " " + name + " " + clazz);&#125; //æ— ç»“æžœ&#125;æ”¹è¿›çš„CURD1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import java.sql.Connection;import java.sql.PreparedStatement;import java.sql.ResultSet;import org.junit.Test;import com.utils.JDBCUtil;public class AdvancedCURD &#123; static Connection con; static &#123; con = JDBCUtil.getConn(); &#125; @Test public void query() throws Exception &#123; String sql = "select * from students where id=?"; PreparedStatement ps = con.prepareStatement(sql); ps.setString(1, "160341238"); ResultSet query = ps.executeQuery(); while(query.next())&#123; String id = query.getString("id"); String name = query.getString("name"); String clazz = query.getString("clazz"); System.out.println(id + " " + name + " " + clazz); &#125; &#125; @Test public void insert() throws Exception &#123; String sql = "insert into students(id, name, clazz) values (?, ?, ?)"; PreparedStatement ps = con.prepareStatement(sql); ps.setString(1, "160341244"); ps.setString(2, "qwe"); ps.setString(3, "160341B"); int row = ps.executeUpdate(); System.out.println(row); &#125; @Test public void update() throws Exception &#123; String sql = "update students set id = ? where id = ?"; PreparedStatement ps = con.prepareStatement(sql); ps.setString(1, "helloworld"); ps.setString(2, "160341243"); int row = ps.executeUpdate(); &#125; @Test public void delete() throws Exception &#123; String sql = "delete from students where id = ?"; PreparedStatement ps = con.prepareStatement(sql); ps.setString(1, "160341238"); int row = ps.executeUpdate(); //è¿”å›žå¤„ç†çš„è¡Œæ•° System.out.println(row); &#125;&#125;]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>Java</tag>
        <tag>JDBC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ThreadLocalåˆ†æž]]></title>
    <url>%2F2019%2FThreadLocal%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[ThreadLocalä½¿ç”¨ThreadLocalæ˜¯ä¸€ä¸ªçº¿ç¨‹å±€éƒ¨å˜é‡ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡çš„åŒºåˆ«ï¼Œæ‹¿Javaä¸¾ä¾‹å°±æ˜¯å®šä¹‰åœ¨ç±»ä¸­çš„æ˜¯å…¨å±€çš„å˜é‡ï¼Œå„ä¸ªæ–¹æ³•ä¸­éƒ½èƒ½è®¿é—®å¾—åˆ°ï¼Œè€Œå±€éƒ¨å˜é‡å®šä¹‰åœ¨æ–¹æ³•ä¸­ï¼Œåªèƒ½åœ¨æ–¹æ³•å†…è®¿é—®ã€‚é‚£çº¿ç¨‹å±€éƒ¨å˜é‡ï¼ˆThreadLocalï¼‰å°±æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæœ‰ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œç‹¬ç«‹äºŽå˜é‡çš„åˆå§‹åŒ–å‰¯æœ¬ï¼Œè€Œå„ä¸ªå‰¯æœ¬æ˜¯é€šè¿‡çº¿ç¨‹å”¯ä¸€æ ‡è¯†ç›¸å…³è”çš„ã€‚æ–¹æ³•æ‘˜è¦ä½œç”¨åŸŸç±»åž‹æ–¹æ³•æè¿°publicTget()è¿”å›žæ­¤çº¿ç¨‹å±€éƒ¨å˜é‡çš„å½“å‰çº¿ç¨‹å‰¯æœ¬ä¸­çš„å€¼protectedTinitialValue()è¿”å›žæ­¤çº¿ç¨‹å±€éƒ¨å˜é‡çš„å½“å‰çº¿ç¨‹çš„â€œåˆå§‹å€¼â€publicvoidremove()ç§»é™¤æ­¤çº¿ç¨‹å±€éƒ¨å˜é‡å½“å‰çº¿ç¨‹çš„å€¼publicvoidset(T value)å°†æ­¤çº¿ç¨‹å±€éƒ¨å˜é‡çš„å½“å‰çº¿ç¨‹å‰¯æœ¬ä¸­çš„å€¼è®¾ç½®ä¸ºæŒ‡å®šå€¼æ¡ˆä¾‹çº¿ç¨‹1234567891011121314151617181920212223242526package threadlocal;import java.lang.reflect.Method;public class TaskThread&lt;T&gt; extends Thread &#123; private T t; public TaskThread(String threadName, T t) &#123; this.setName(threadName); this.t = t; &#125; @Override public void run() &#123; for (int i = 0; i &lt; 4; i++) &#123; try &#123; Class[] argsClass = new Class[0]; Method method = t.getClass().getMethod("getUniqueId", argsClass); int value = (int) method.invoke(t); System.out.println("thread[" + Thread.currentThread().getName() + "] --&gt; uniqueId[" + value + "]"); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125;ThreadLocal12345678910111213141516171819package threadlocal;public class UniqueThreadIdGenerator &#123; // çº¿ç¨‹å±€éƒ¨æ•´åž‹å˜é‡ private static final ThreadLocal &lt;Integer&gt; uniqueNum = new ThreadLocal &lt;Integer&gt; () &#123; @Override protected Integer initialValue() &#123; return 0; &#125; &#125;; //å˜é‡å€¼ public static int getUniqueId() &#123; uniqueNum.set(uniqueNum.get() + 1); return uniqueNum.get(); &#125;&#125;æµ‹è¯•1234567891011121314package threadlocal;public class Test &#123; public static void main(String[] args) &#123; UniqueThreadIdGenerator uniqueThreadId = new UniqueThreadIdGenerator(); // ä¸ºæ¯ä¸ªçº¿ç¨‹ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„å±€éƒ¨æ ‡è¯† TaskThread&lt;UniqueThreadIdGenerator&gt; t1 = new TaskThread&lt;&gt;("custom-thread-1", uniqueThreadId); TaskThread&lt;UniqueThreadIdGenerator&gt; t2 = new TaskThread&lt;&gt;("custom-thread-2", uniqueThreadId); TaskThread&lt;UniqueThreadIdGenerator&gt; t3 = new TaskThread&lt;&gt;("custom-thread-3", uniqueThreadId); t1.start(); t2.start(); t3.start(); &#125;&#125;ç»“æžœ1234567891011121314thread[custom-thread-3] --&gt; uniqueId[1]thread[custom-thread-3] --&gt; uniqueId[2]thread[custom-thread-3] --&gt; uniqueId[3]thread[custom-thread-3] --&gt; uniqueId[4]thread[custom-thread-2] --&gt; uniqueId[1]thread[custom-thread-2] --&gt; uniqueId[2]thread[custom-thread-1] --&gt; uniqueId[1]thread[custom-thread-1] --&gt; uniqueId[2]thread[custom-thread-1] --&gt; uniqueId[3]thread[custom-thread-1] --&gt; uniqueId[4]thread[custom-thread-2] --&gt; uniqueId[3]thread[custom-thread-2] --&gt; uniqueId[4]//æ¯ä¸ªçº¿ç¨‹ä¹‹é—´çš„uniqueIdæ˜¯äº’ä¸å¹²æ‰°çš„ThreadLocalæºç åˆ†æžget()123456789101112131415161718192021//ThreadLocal.javapublic T get() &#123; Thread t = Thread.currentThread(); ThreadLocalMap map = getMap(t); if (map != null) &#123; ThreadLocalMap.Entry e = map.getEntry(this); if (e != null) &#123; @SuppressWarnings("unchecked") T result = (T)e.value; return result; &#125; &#125; return setInitialValue();&#125;ThreadLocalMap getMap(Thread t) &#123; return t.threadLocals;&#125;//ThreadThreadLocal.ThreadLocalMap threadLocals = null;æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªThreadLocalMapï¼Œget()çš„æ—¶å€™å°±æ˜¯èŽ·å¾—å½“å‰çº¿ç¨‹çš„ThreadLocalMapï¼Œå¹¶ä¸”å°†å½“å‰å¯¹è±¡çš„ThreadLocalå¯¹è±¡ä¼ å…¥map.getEntry(this);ã€‚åˆå§‹åŒ–123456789101112131415161718private T setInitialValue() &#123; T value = initialValue(); Thread t = Thread.currentThread(); ThreadLocalMap map = getMap(t); if (map != null) map.set(this, value); else createMap(t, value); return value;&#125;void createMap(Thread t, T firstValue) &#123; t.threadLocals = new ThreadLocalMap(this, firstValue);&#125;protected T initialValue() &#123; return null;&#125;å¦‚æžœget()æ—¶ThreadLocalMapä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨initialValue()åˆå§‹åŒ–ï¼Œå¦‚æžœinitialValue()æ²¡è¢«è¦†ç›–ï¼Œé»˜è®¤ç”¨nullåˆå§‹åŒ–ã€‚set()12345678public void set(T value) &#123; Thread t = Thread.currentThread(); ThreadLocalMap map = getMap(t); if (map != null) map.set(this, value); else createMap(t, value);&#125;remove()12345public void remove() &#123; ThreadLocalMap m = getMap(Thread.currentThread()); if (m != null) m.remove(this);&#125;å†…å­˜æ³„æ¼12345678910111213141516171819202122static class Entry extends WeakReference&lt;ThreadLocal&lt;?&gt;&gt; &#123; /** The value associated with this ThreadLocal. */ Object value; Entry(ThreadLocal&lt;?&gt; k, Object v) &#123; super(k); value = v; &#125;&#125;public WeakReference(T referent) &#123; super(referent);&#125; Reference(T referent) &#123; this(referent, null);&#125;Reference(T referent, ReferenceQueue&lt;? super T&gt; queue) &#123; this.referent = referent; this.queue = (queue == null) ? ReferenceQueue.NULL : queue;&#125;æ³¨ï¼šè¢«WeakReferenceçš„å¯¹è±¡åªèƒ½å­˜æ´»åˆ°ä¸‹ä¸€æ¬¡åžƒåœ¾å›žæ”¶ã€‚å¯çŸ¥kè¢«ä¼ é€’åˆ°äº†WeakReferenceçš„æž„é€ å‡½æ•°é‡Œé¢ï¼Œä¹Ÿå°±æ˜¯è¯´ThreadLocalMapé‡Œé¢çš„keyä¸ºThreadLocalå¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œå…·ä½“æ˜¯referentå˜é‡å¼•ç”¨äº†ThreadLocalå¯¹è±¡ï¼Œvalueä¸ºå…·ä½“è°ƒç”¨ThreadLocalçš„setæ–¹æ³•ä¼ é€’çš„å€¼ã€‚å½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ThreadLocalçš„setæ–¹æ³•è®¾ç½®å˜é‡æ—¶å€™ï¼Œå½“å‰çº¿ç¨‹çš„ThreadLocalMapé‡Œé¢å°±ä¼šå­˜æ”¾ä¸€ä¸ªè®°å½•ï¼Œè¿™ä¸ªè®°å½•çš„keyä¸ºThreadLocalçš„å¼•ç”¨ï¼Œvalueåˆ™ä¸ºè®¾ç½®çš„å€¼ã€‚å¦‚æžœå½“å‰çº¿ç¨‹ä¸€ç›´å­˜åœ¨è€Œæ²¡æœ‰è°ƒç”¨ThreadLocalçš„removeæ–¹æ³•ï¼Œå¹¶ä¸”è¿™æ—¶å€™å…¶å®ƒåœ°æ–¹è¿˜æ˜¯æœ‰å¯¹ThreadLocalçš„å¼•ç”¨ï¼Œåˆ™å½“å‰çº¿ç¨‹çš„ThreadLocalMapå˜é‡é‡Œé¢ä¼šå­˜åœ¨ThreadLocalå˜é‡çš„å¼•ç”¨å’Œvalueå¯¹è±¡çš„å¼•ç”¨æ˜¯ä¸ä¼šè¢«é‡Šæ”¾çš„ï¼Œè¿™å°±ä¼šé€ æˆå†…å­˜æ³„éœ²çš„ã€‚ä½†æ˜¯è€ƒè™‘å¦‚æžœè¿™ä¸ªThreadLocalå˜é‡æ²¡æœ‰äº†å…¶ä»–å¼ºä¾èµ–ï¼Œè€Œå½“å‰çº¿ç¨‹è¿˜å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œç”±äºŽçº¿ç¨‹çš„ThreadLocalMapé‡Œé¢çš„keyæ˜¯å¼±ä¾èµ–ï¼Œåˆ™å½“å‰çº¿ç¨‹çš„ThreadLocalMapé‡Œé¢çš„ThreadLocalå˜é‡çš„å¼±å¼•ç”¨ä¼šè¢«åœ¨gcçš„æ—¶å€™å›žæ”¶ï¼Œä½†æ˜¯å¯¹åº”valueè¿˜æ˜¯ä¼šé€ æˆå†…å­˜æ³„éœ²ï¼Œè¿™æ—¶å€™ThreadLocalMapé‡Œé¢å°±ä¼šå­˜åœ¨keyä¸ºnullä½†æ˜¯valueä¸ä¸ºnullçš„entryé¡¹ã€‚æ‰€ä»¥åœ¨ThreadLocalä½¿ç”¨å®Œæ¯•åŽå³ä½¿è°ƒç”¨removeæ–¹æ³•æ‰æ˜¯è§£å†³å†…å­˜æ³„éœ²çš„çŽ‹é“ã€‚ThreadLocalMapå…¶å®žåœ¨ThreadLocalMapçš„setå’ŒgetEntryå’Œremoveæ–¹æ³•é‡Œé¢æœ‰ä¸€äº›æ—¶æœºæ˜¯ä¼šå¯¹è¿™äº›keyä¸ºnullçš„entryè¿›è¡Œæ¸…ç†çš„ï¼Œä½†æ˜¯è¿™äº›æ¸…ç†ä¸æ˜¯å¿…é¡»å‘ç”Ÿçš„ï¼Œä¸‹é¢ç®€å•åˆ†æžè¿™ä¸‰ä¸ªæ–¹æ³•çš„æºç ï¼šset()123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657private void set(ThreadLocal&lt;?&gt; key, Object value) &#123; // We don't use a fast path as with get() because it is at // least as common to use set() to create new entries as // it is to replace existing ones, in which case, a fast // path would fail more often than not. Entry[] tab = table; int len = tab.length; //å¿«é€Ÿå®šä½ï¼Œindexç”Ÿæˆè§„åˆ™ï¼šthreadLocalHashCode &amp; (len-1) int i = key.threadLocalHashCode &amp; (len-1); for (Entry e = tab[i]; e != null; e = tab[i = nextIndex(i, len)]) &#123; ThreadLocal&lt;?&gt; k = e.get(); //å¦‚æžœeå’Œkç›¸ç­‰ï¼Œæ›¿æ¢ä¸ºæ–°çš„value if (k == key) &#123; e.value = value; return; &#125; //ç”±äºŽeä¸ç©ºï¼Œæ‰€ä»¥å¦‚æžœkä¸ºç©ºï¼Œåˆ™æ›¿æ¢è¿™ä¸ªentry if (k == null) &#123; replaceStaleEntry(key, value, i); return; &#125; &#125; //åŽŸEntry[]ä¸­æ²¡æœ‰æ‰¾åˆ°é”®ä¸ºkeyçš„entryï¼Œä¸”éåŽ†åˆ°eä¸ºç©ºçš„å€¼åˆ›å»ºä¸€ä¸ªentry tab[i] = new Entry(key, value); int sz = ++size; //åˆ›å»ºæ–°çš„entryä¹‹åŽï¼Œæ¸…é™¤ä¸€äº›eä¸ç©ºä½†keyä¸ºç©ºçš„å…ƒç´  // if (!cleanSomeSlots(i, sz) &amp;&amp; sz &gt;= threshold) rehash();&#125;private boolean cleanSomeSlots(int i, int n) &#123; boolean removed = false; Entry[] tab = table; int len = tab.length; do &#123; i = nextIndex(i, len); Entry e = tab[i]; if (e != null &amp;&amp; e.get() == null) &#123; n = len; removed = true; i = expungeStaleEntry(i); &#125; &#125; while ( (n &gt;&gt;&gt;= 1) != 0); return removed;&#125;private void rehash() &#123; expungeStaleEntries(); // è¶…è¿‡é˜ˆå€¼çš„3/4å°±ä¼šæ‰©å®¹ï¼Œæ‰€ä»¥Entry[]ä¸­ä¸€å®šæœ‰ä¸ºnullçš„å…ƒç´  if (size &gt;= threshold - threshold / 4) resize();&#125;getEntry()123456789101112131415161718192021222324252627private Entry getEntry(ThreadLocal&lt;?&gt; key) &#123; int i = key.threadLocalHashCode &amp; (table.length - 1); Entry e = table[i]; //èƒ½å¿«é€Ÿå®šä½åˆ°åˆ™ç›´æŽ¥ä½¿ç”¨ if (e != null &amp;&amp; e.get() == key) return e; else return getEntryAfterMiss(key, i, e);&#125;private Entry getEntryAfterMiss(ThreadLocal&lt;?&gt; key, int i, Entry e) &#123; Entry[] tab = table; int len = tab.length; while (e != null) &#123; ThreadLocal&lt;?&gt; k = e.get(); if (k == key) return e; //éåŽ†çš„æ—¶å€™é‡åˆ°eä¸ç©ºä½†kä¸ºç©ºçš„æ—¶å€™æ¸…é™¤æ­¤e if (k == null) expungeStaleEntry(i); else i = nextIndex(i, len); e = tab[i]; &#125; return null;&#125;remove()12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849private void remove(ThreadLocal&lt;?&gt; key) &#123; //(1)è®¡ç®—å½“å‰ThreadLocalå˜é‡æ‰€åœ¨tableæ•°ç»„ä½ç½®ï¼Œå°è¯•ä½¿ç”¨å¿«é€Ÿå®šä½æ–¹æ³• Entry[] tab = table; int len = tab.length; int i = key.threadLocalHashCode &amp; (len-1); //(2)è¿™é‡Œä½¿ç”¨å¾ªçŽ¯æ˜¯é˜²æ­¢å¿«é€Ÿå®šä½å¤±æ•ˆåŽï¼Œå˜é‡tableæ•°ç»„ for (Entry e = tab[i]; e != null; e = tab[i = nextIndex(i, len)]) &#123; //(3)æ‰¾åˆ° if (e.get() == key) &#123; //(4)æ‰¾åˆ°åˆ™è°ƒç”¨WeakReferenceçš„clearæ–¹æ³•æ¸…é™¤å¯¹ThreadLocalçš„å¼±å¼•ç”¨ e.clear(); //(5)æ¸…ç†keyä¸ºnullçš„å…ƒç´  expungeStaleEntry(i); return; &#125; &#125;&#125;private int expungeStaleEntry(int staleSlot) &#123; Entry[] tab = table; int len = tab.length; //ï¼ˆ6ï¼‰åŽ»æŽ‰åŽ»valueçš„å¼•ç”¨ tab[staleSlot].value = null; tab[staleSlot] = null; size--; Entry e; int i; for (i = nextIndex(staleSlot, len); (e = tab[i]) != null; i = nextIndex(i, len))&#123; ThreadLocal&lt;?&gt; k = e.get(); //(7)å¦‚æžœkeyä¸ºnull,åˆ™åŽ»æŽ‰å¯¹valueçš„å¼•ç”¨ã€‚ if (k == null) &#123; e.value = null; tab[i] = null; size--; &#125; else &#123; int h = k.threadLocalHashCode &amp; (len - 1); if (h != i) &#123; tab[i] = null; while (tab[h] != null) h = nextIndex(h, len); tab[h] = e; &#125; &#125; &#125; return i;&#125;æ­¥éª¤ï¼ˆ4ï¼‰è°ƒç”¨äº†Entryçš„clearæ–¹æ³•ï¼Œå®žé™…è°ƒç”¨çš„æ˜¯çˆ¶ç±»WeakReferenceçš„clearæ–¹æ³•ï¼Œä½œç”¨æ˜¯åŽ»æŽ‰å¯¹ThreadLocalçš„å¼±å¼•ç”¨ã€‚æ­¥éª¤ï¼ˆ6ï¼‰æ˜¯åŽ»æŽ‰å¯¹valueçš„å¼•ç”¨ï¼Œåˆ°è¿™é‡Œå½“å‰çº¿ç¨‹é‡Œé¢çš„å½“å‰ThreadLocalå¯¹è±¡çš„ä¿¡æ¯è¢«æ¸…ç†å®Œæ¯•äº†ã€‚ä»£ç ï¼ˆ7ï¼‰ä»Žå½“å‰å…ƒç´ çš„ä¸‹æ ‡å¼€å§‹çœ‹tableæ•°ç»„é‡Œé¢çš„å…¶ä»–å…ƒç´ æ˜¯å¦æœ‰keyä¸ºnullçš„ï¼Œæœ‰åˆ™æ¸…ç†ã€‚å¾ªçŽ¯é€€å‡ºçš„æ¡ä»¶æ˜¯é‡åˆ°tableé‡Œé¢æœ‰nullçš„å…ƒç´ ã€‚æ‰€ä»¥è¿™é‡ŒçŸ¥é“nullå…ƒç´ åŽé¢çš„Entryé‡Œé¢keyä¸ºnullçš„å…ƒç´ ä¸ä¼šè¢«æ¸…ç†ã€‚å‚è€ƒhttps://segmentfault.com/a/1190000011264294http://www.cnblogs.com/dolphin0520/p/3920407.htmlhttp://ifeve.com/%E4%BD%BF%E7%94%A8threadlocal%E4%B8%8D%E5%BD%93%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2/]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¹¶å‘ç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éžé˜»å¡žåŒæ­¥]]></title>
    <url>%2F2019%2F%E9%9D%9E%E9%98%BB%E5%A1%9E%E5%90%8C%E6%AD%A5%2F</url>
    <content type="text"><![CDATA[éžé˜»å¡žåŒæ­¥äº’æ–¥åŒæ­¥æœ€ä¸»è¦çš„é—®é¢˜å°±æ˜¯è¿›è¡Œçº¿ç¨‹é˜»å¡žå’Œå”¤é†’æ‰€å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤è¿™ç§åŒæ­¥ä¹Ÿç§°ä¸ºé˜»å¡žåŒæ­¥ï¼ˆBlocking Synchronizationï¼‰ã€‚ ä»Žå¤„ç†é—®é¢˜çš„æ–¹å¼ä¸Šè¯´ï¼Œäº’æ–¥åŒæ­¥å±žäºŽä¸€ç§æ‚²è§‚çš„å¹¶å‘ç­–ç•¥ï¼Œæ€»æ˜¯è®¤ä¸ºåªè¦ä¸åŽ»åšæ­£ç¡®çš„åŒæ­¥æŽªæ–½ï¼ˆä¾‹å¦‚åŠ é”ï¼‰ï¼Œé‚£å°±è‚¯å®šä¼šå‡ºçŽ°é—®é¢˜ï¼Œæ— è®ºå…±äº«æ•°æ®æ˜¯å¦çœŸçš„ä¼šå‡ºçŽ°ç«žäº‰ï¼Œå®ƒéƒ½è¦è¿›è¡ŒåŠ é”ï¼ˆè¿™é‡Œè®¨è®ºçš„æ˜¯æ¦‚å¿µæ¨¡åž‹ï¼Œå®žé™…ä¸Šè™šæ‹Ÿæœºä¼šä¼˜åŒ–æŽ‰å¾ˆå¤§ä¸€éƒ¨åˆ†ä¸å¿…è¦çš„åŠ é”ï¼‰ã€ ç”¨æˆ·æ€æ ¸å¿ƒæ€è½¬æ¢ã€ ç»´æŠ¤é”è®¡æ•°å™¨å’Œæ£€æŸ¥æ˜¯å¦æœ‰è¢«é˜»å¡žçš„çº¿ç¨‹éœ€è¦å”¤é†’ç­‰æ“ä½œã€‚ éšç€ç¡¬ä»¶æŒ‡ä»¤é›†çš„å‘å±•ï¼Œæˆ‘ä»¬æœ‰äº†å¦å¤–ä¸€ä¸ªé€‰æ‹©ï¼šåŸºäºŽå†²çªæ£€æµ‹çš„ä¹è§‚å¹¶å‘ç­–ç•¥ï¼Œé€šä¿—åœ°è¯´ï¼Œå°±æ˜¯å…ˆè¿›è¡Œæ“ä½œï¼Œå¦‚æžœæ²¡æœ‰å…¶ä»–çº¿ç¨‹äº‰ç”¨å…±äº«æ•°æ®ï¼Œé‚£æ“ä½œå°±æˆåŠŸäº†ï¼›å¦‚æžœå…±äº«æ•°æ®æœ‰äº‰ç”¨ï¼Œäº§ç”Ÿäº†å†²çªï¼Œé‚£å°±å†é‡‡å–å…¶ä»–çš„è¡¥å¿æŽªæ–½ï¼ˆæœ€å¸¸è§çš„è¡¥å¿æŽªæ–½å°±æ˜¯ä¸æ–­åœ°é‡è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ï¼‰ï¼Œè¿™ç§ä¹è§‚çš„å¹¶å‘ç­–ç•¥çš„è®¸å¤šå®žçŽ°éƒ½ä¸éœ€è¦æŠŠçº¿ç¨‹æŒ‚èµ·ï¼Œå› æ­¤è¿™ç§åŒæ­¥æ“ä½œç§°ä¸ºéžé˜»å¡žåŒæ­¥ï¼ˆNon-Blocking Synchronizationï¼‰ã€‚ä¸ºä»€ä¹ˆä½¿ç”¨ä¹è§‚å¹¶å‘ç­–ç•¥éœ€è¦â€œç¡¬ä»¶æŒ‡ä»¤é›†çš„å‘å±•â€æ‰èƒ½è¿›è¡Œå‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬éœ€è¦æ“ä½œå’Œå†²çªæ£€æµ‹è¿™ä¸¤ä¸ªæ­¥éª¤å…·å¤‡åŽŸå­æ€§ï¼Œé ä»€ä¹ˆæ¥ä¿è¯å‘¢ï¼Ÿå¦‚æžœè¿™é‡Œå†ä½¿ç”¨äº’æ–¥åŒæ­¥æ¥ä¿è¯å°±å¤±åŽ»æ„ä¹‰äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½é ç¡¬ä»¶æ¥å®Œæˆè¿™ä»¶äº‹æƒ…ï¼Œç¡¬ä»¶ä¿è¯ä¸€ä¸ªä»Žè¯­ä¹‰ä¸Šçœ‹èµ·æ¥éœ€è¦å¤šæ¬¡æ“ä½œçš„è¡Œä¸ºåªé€šè¿‡ä¸€æ¡å¤„ç†å™¨æŒ‡ä»¤å°±èƒ½å®Œæˆï¼Œè¿™ç±»æŒ‡ä»¤å¸¸ç”¨çš„æœ‰ï¼šæµ‹è¯•å¹¶è®¾ç½®ï¼ˆTest-and-Setï¼‰èŽ·å–å¹¶å¢žåŠ ï¼ˆFetch-and-Incrementï¼‰äº¤æ¢ï¼ˆSwapï¼‰æ¯”è¾ƒå¹¶äº¤æ¢ï¼ˆCompare-and-Swapï¼Œä¸‹æ–‡ç§°CASï¼‰åŠ è½½é“¾æŽ¥/æ¡ä»¶å­˜å‚¨ï¼ˆLoad-Linked/Store-Conditionalï¼Œä¸‹æ–‡ç§°LL/SCï¼‰ã€‚å…¶ä¸­ï¼Œå‰é¢çš„3æ¡æ˜¯20ä¸–çºªå°±å·²ç»å­˜åœ¨äºŽå¤§å¤šæ•°æŒ‡ä»¤é›†ä¹‹ä¸­çš„å¤„ç†å™¨æŒ‡ä»¤ï¼ŒåŽé¢çš„ä¸¤æ¡æ˜¯çŽ°ä»£å¤„ç†å™¨æ–°å¢žçš„ï¼Œè€Œä¸”è¿™ä¸¤æ¡æŒ‡ä»¤çš„ç›®çš„å’ŒåŠŸèƒ½æ˜¯ç±»ä¼¼çš„ã€‚ åœ¨IA64ã€ x86æŒ‡ä»¤é›†ä¸­æœ‰cmpxchgæŒ‡ä»¤å®ŒæˆCASåŠŸèƒ½ï¼Œåœ¨sparc-TSOä¹Ÿæœ‰casaæŒ‡ä»¤å®žçŽ°ï¼Œè€Œåœ¨ARMå’ŒPowerPCæž¶æž„ä¸‹ï¼Œåˆ™éœ€è¦ä½¿ç”¨ä¸€å¯¹ldrex/strexæŒ‡ä»¤æ¥å®ŒæˆLL/SCçš„åŠŸèƒ½ã€‚CASæŒ‡ä»¤éœ€è¦æœ‰3ä¸ªæ“ä½œæ•°ï¼Œåˆ†åˆ«æ˜¯å†…å­˜ä½ç½®ï¼ˆåœ¨Javaä¸­å¯ä»¥ç®€å•ç†è§£ä¸ºå˜é‡çš„å†…å­˜åœ°å€ï¼Œç”¨Vè¡¨ç¤ºï¼‰ã€ æ—§çš„é¢„æœŸå€¼ï¼ˆç”¨Aè¡¨ç¤ºï¼‰å’Œæ–°å€¼ï¼ˆç”¨Bè¡¨ç¤ºï¼‰ã€‚ CASæŒ‡ä»¤æ‰§è¡Œæ—¶ï¼Œå½“ä¸”ä»…å½“Vç¬¦åˆæ—§é¢„æœŸå€¼Aæ—¶ï¼Œå¤„ç†å™¨ç”¨æ–°å€¼Bæ›´æ–°Vçš„å€¼ï¼Œå¦åˆ™å®ƒå°±ä¸æ‰§è¡Œæ›´æ–°ï¼Œä½†æ˜¯æ— è®ºæ˜¯å¦æ›´æ–°äº†Vçš„å€¼ï¼Œéƒ½ä¼šè¿”å›žVçš„æ—§å€¼ï¼Œä¸Šè¿°çš„å¤„ç†è¿‡ç¨‹æ˜¯ä¸€ä¸ªåŽŸå­æ“ä½œã€‚åœ¨JDK 1.5ä¹‹åŽï¼ŒJavaç¨‹åºä¸­æ‰å¯ä»¥ä½¿ç”¨CASæ“ä½œï¼Œè¯¥æ“ä½œç”±sun.misc.Unsafeç±»é‡Œé¢çš„compareAndSwapInt()å’ŒcompareAndSwapLong()ç­‰å‡ ä¸ªæ–¹æ³•åŒ…è£…æä¾›ï¼Œè™šæ‹Ÿæœºåœ¨å†…éƒ¨å¯¹è¿™äº›æ–¹æ³•åšäº†ç‰¹æ®Šå¤„ç†ï¼Œå³æ—¶ç¼–è¯‘å‡ºæ¥çš„ç»“æžœå°±æ˜¯ä¸€æ¡å¹³å°ç›¸å…³çš„å¤„ç†å™¨CASæŒ‡ä»¤ï¼Œæ²¡æœ‰æ–¹æ³•è°ƒç”¨çš„è¿‡ç¨‹ã€‚ç”±äºŽUnsafeç±»ä¸æ˜¯æä¾›ç»™ç”¨æˆ·ç¨‹åºè°ƒç”¨çš„ç±»ï¼ˆUnsafe.getUnsafe()çš„ä»£ç ä¸­é™åˆ¶äº†åªæœ‰å¯åŠ¨ç±»åŠ è½½å™¨ï¼ˆBootstrap ClassLoaderï¼‰åŠ è½½çš„Classæ‰èƒ½è®¿é—®å®ƒï¼‰ï¼Œå› æ­¤ï¼Œå¦‚æžœä¸é‡‡ç”¨åå°„æ‰‹æ®µï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡å…¶ä»–çš„Java APIæ¥é—´æŽ¥ä½¿ç”¨å®ƒï¼Œå¦‚J.U.CåŒ…ï¼ˆjava.util.concurrentï¼‰é‡Œé¢çš„æ•´æ•°åŽŸå­ç±»ï¼Œå…¶ä¸­çš„compareAndSet()å’ŒgetAndIncrement()ç­‰æ–¹æ³•éƒ½ä½¿ç”¨äº†Unsafeç±»çš„CASæ“ä½œã€‚æˆ‘ä»¬ä¸å¦¨æ‹¿ä¸€æ®µä½¿ç”¨volatileå…³é”®å­—æ²¡æœ‰è§£å†³çš„é—®é¢˜ä»£ç æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨CASæ“ä½œæ¥é¿å…é˜»å¡žåŒæ­¥ï¼Œä»£ç å¦‚ä¸‹é¢æ‰€ç¤ºã€‚ æˆ‘ä»¬æ›¾ç»é€šè¿‡è¿™æ®µ20ä¸ªçº¿ç¨‹è‡ªå¢ž10000æ¬¡çš„ä»£ç æ¥è¯æ˜Žvolatileå˜é‡ä¸å…·å¤‡åŽŸå­æ€§ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰èƒ½è®©å®ƒå…·å¤‡åŽŸå­æ€§å‘¢ï¼ŸæŠŠâ€œrace++â€æ“ä½œæˆ–increase()æ–¹æ³•ç”¨åŒæ­¥å—åŒ…è£¹èµ·æ¥å½“ç„¶æ˜¯ä¸€ä¸ªåŠžæ³•ï¼Œä½†æ˜¯å¦‚æžœæ”¹æˆå¦‚ä¸‹æ‰€ç¤ºçš„ä»£ç ï¼Œé‚£æ•ˆçŽ‡å°†ä¼šæé«˜è®¸å¤šã€‚12345678910111213141516171819202122232425262728293031import java.util.concurrent.atomic.AtomicInteger;public class AtomicTest &#123; public static AtomicInteger race = new AtomicInteger(0); public static void increase() &#123; race.incrementAndGet(); &#125; private static final int THREADS_COUNT = 20; public static void main(String[] args) throws Exception &#123; Thread[] threads = new Thread[THREADS_COUNT]; for (int i = 0; i &lt; THREADS_COUNT; i++) &#123; threads[i] = new Thread(new Runnable() &#123; @Override public void run() &#123; for (int i = 0; i &lt; 10000; i++) &#123; increase(); &#125; &#125; &#125;); threads[i].start(); &#125; while (Thread.activeCount() &gt; 1) Thread.yield(); System.out.println(race); //200000 &#125;&#125;ä½¿ç”¨AtomicIntegerä»£æ›¿intåŽï¼Œç¨‹åºè¾“å‡ºäº†æ­£ç¡®çš„ç»“æžœï¼Œä¸€åˆ‡éƒ½è¦å½’åŠŸäºŽincrementAndGet()æ–¹æ³•çš„åŽŸå­æ€§ã€‚å®ƒçš„å®žçŽ°å…¶å®žéžå¸¸ç®€å•ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š1234567891011/** * Atomically increment by one the current value. */public final int incrementAndGet()&#123; for(;;)&#123; int current=get(); int next=current+1; if(compareAndSet(current,next)) return next; &#125;&#125;incrementAndGet()æ–¹æ³•åœ¨ä¸€ä¸ªæ— é™å¾ªçŽ¯ä¸­ï¼Œä¸æ–­å°è¯•å°†ä¸€ä¸ªæ¯”å½“å‰å€¼å¤§1çš„æ–°å€¼èµ‹ç»™è‡ªå·±ã€‚ å¦‚æžœå¤±è´¥äº†ï¼Œé‚£è¯´æ˜Žåœ¨æ‰§è¡Œâ€œèŽ·å–-è®¾ç½®â€æ“ä½œçš„æ—¶å€™å€¼å·²ç»æœ‰äº†ä¿®æ”¹ï¼ŒäºŽæ˜¯å†æ¬¡å¾ªçŽ¯è¿›è¡Œä¸‹ä¸€æ¬¡æ“ä½œï¼Œç›´åˆ°è®¾ç½®æˆåŠŸä¸ºæ­¢ã€‚å°½ç®¡CASçœ‹èµ·æ¥å¾ˆç¾Žï¼Œä½†æ˜¾ç„¶è¿™ç§æ“ä½œæ— æ³•æ¶µç›–äº’æ–¥åŒæ­¥çš„æ‰€æœ‰ä½¿ç”¨åœºæ™¯ï¼Œå¹¶ä¸”CASä»Žè¯­ä¹‰ä¸Šæ¥è¯´å¹¶ä¸æ˜¯å®Œç¾Žçš„ï¼Œå­˜åœ¨è¿™æ ·çš„ä¸€ä¸ªé€»è¾‘æ¼æ´žï¼šå¦‚æžœä¸€ä¸ªå˜é‡Våˆæ¬¡è¯»å–çš„æ—¶å€™æ˜¯Aå€¼ï¼Œå¹¶ä¸”åœ¨å‡†å¤‡èµ‹å€¼çš„æ—¶å€™æ£€æŸ¥åˆ°å®ƒä»ç„¶ä¸ºAå€¼ï¼Œé‚£æˆ‘ä»¬å°±èƒ½è¯´å®ƒçš„å€¼æ²¡æœ‰è¢«å…¶ä»–çº¿ç¨‹æ”¹å˜è¿‡äº†å—ï¼Ÿå¦‚æžœåœ¨è¿™æ®µæœŸé—´å®ƒçš„å€¼æ›¾ç»è¢«æ”¹æˆäº†Bï¼ŒåŽæ¥åˆè¢«æ”¹å›žä¸ºAï¼Œé‚£CASæ“ä½œå°±ä¼šè¯¯è®¤ä¸ºå®ƒä»Žæ¥æ²¡æœ‰è¢«æ”¹å˜è¿‡ã€‚è¿™ä¸ªæ¼æ´žç§°ä¸ºCASæ“ä½œçš„â€œABAâ€é—®é¢˜ã€‚ J.U.CåŒ…ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæä¾›äº†ä¸€ä¸ªå¸¦æœ‰æ ‡è®°çš„åŽŸå­å¼•ç”¨ç±»â€œAtomicStampedReferenceâ€ï¼Œå®ƒå¯ä»¥é€šè¿‡æŽ§åˆ¶å˜é‡å€¼çš„ç‰ˆæœ¬æ¥ä¿è¯CASçš„æ­£ç¡®æ€§ã€‚ ä¸è¿‡ç›®å‰æ¥è¯´è¿™ä¸ªç±»æ¯”è¾ƒâ€œé¸¡è‚‹â€ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ABAé—®é¢˜ä¸ä¼šå½±å“ç¨‹åºå¹¶å‘çš„æ­£ç¡®æ€§ï¼Œå¦‚æžœéœ€è¦è§£å†³ABAé—®é¢˜ï¼Œæ”¹ç”¨ä¼ ç»Ÿçš„äº’æ–¥åŒæ­¥å¯èƒ½ä¼šæ¯”åŽŸå­ç±»æ›´é«˜æ•ˆã€‚æ— åŒæ­¥æ–¹æ¡ˆè¦ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå¹¶ä¸æ˜¯ä¸€å®šå°±è¦è¿›è¡ŒåŒæ­¥ï¼Œä¸¤è€…æ²¡æœ‰å› æžœå…³ç³»ã€‚ åŒæ­¥åªæ˜¯ä¿è¯å…±äº«æ•°æ®äº‰ç”¨æ—¶çš„æ­£ç¡®æ€§çš„æ‰‹æ®µï¼Œå¦‚æžœä¸€ä¸ªæ–¹æ³•æœ¬æ¥å°±ä¸æ¶‰åŠå…±äº«æ•°æ®ï¼Œé‚£å®ƒè‡ªç„¶å°±æ— é¡»ä»»ä½•åŒæ­¥æŽªæ–½åŽ»ä¿è¯æ­£ç¡®æ€§ï¼Œå› æ­¤ä¼šæœ‰ä¸€äº›ä»£ç å¤©ç”Ÿå°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¿™é‡Œç®€å•åœ°ä»‹ç»å…¶ä¸­çš„ä¸¤ç±»ï¼šå¯é‡å…¥ä»£ç å’Œçº¿ç¨‹æœ¬åœ°å­˜å‚¨ã€‚å¯é‡å…¥ä»£ç (Reentrant Code)è¿™ç§ä»£ç ä¹Ÿå«åšçº¯ä»£ç (Pure Code)ï¼Œå¯ä»¥åœ¨ä»£ç æ‰§è¡Œçš„ä»»ä½•æ—¶åˆ»ä¸­æ–­å®ƒï¼Œè½¬è€ŒåŽ»æ‰§è¡Œå¦å¤–ä¸€æ®µä»£ç ï¼ˆåŒ…æ‹¬é€’å½’è°ƒç”¨å®ƒæœ¬èº«ï¼‰ï¼Œè€Œåœ¨æŽ§åˆ¶æƒè¿”å›žåŽï¼ŒåŽŸæ¥çš„ç¨‹åºä¸ä¼šå‡ºçŽ°ä»»ä½•é”™è¯¯ã€‚ ç›¸å¯¹çº¿ç¨‹å®‰å…¨æ¥è¯´ï¼Œå¯é‡å…¥æ€§æ˜¯æ›´åŸºæœ¬çš„ç‰¹æ€§ï¼Œå®ƒå¯ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå³æ‰€æœ‰çš„å¯é‡å…¥çš„ä»£ç éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†æ˜¯å¹¶éžæ‰€æœ‰çš„çº¿ç¨‹å®‰å…¨çš„ä»£ç éƒ½æ˜¯å¯é‡å…¥çš„ã€‚å¯é‡å…¥ä»£ç æœ‰ä¸€äº›å…±åŒçš„ç‰¹å¾ï¼Œä¾‹å¦‚ä¸ä¾èµ–å­˜å‚¨åœ¨å †ä¸Šçš„æ•°æ®å’Œå…¬ç”¨çš„ç³»ç»Ÿèµ„æºã€ ç”¨åˆ°çš„çŠ¶æ€é‡éƒ½ç”±å‚æ•°ä¸­ä¼ å…¥ã€ ä¸è°ƒç”¨éžå¯é‡å…¥çš„æ–¹æ³•ç­‰ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªç®€å•çš„åŽŸåˆ™æ¥åˆ¤æ–­ä»£ç æ˜¯å¦å…·å¤‡å¯é‡å…¥æ€§ï¼šå¦‚æžœä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒçš„è¿”å›žç»“æžœæ˜¯å¯ä»¥é¢„æµ‹çš„ï¼Œåªè¦è¾“å…¥äº†ç›¸åŒçš„æ•°æ®ï¼Œå°±éƒ½èƒ½è¿”å›žç›¸åŒçš„ç»“æžœï¼Œé‚£å®ƒå°±æ»¡è¶³å¯é‡å…¥æ€§çš„è¦æ±‚ï¼Œå½“ç„¶ä¹Ÿå°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚çº¿ç¨‹æœ¬åœ°å­˜å‚¨(Thread Local Storage)å¦‚æžœä¸€æ®µä»£ç ä¸­æ‰€éœ€è¦çš„æ•°æ®å¿…é¡»ä¸Žå…¶ä»–ä»£ç å…±äº«ï¼Œé‚£å°±çœ‹çœ‹è¿™äº›å…±äº«æ•°æ®çš„ä»£ç æ˜¯å¦èƒ½ä¿è¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œï¼Ÿå¦‚æžœèƒ½ä¿è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå…±äº«æ•°æ®çš„å¯è§èŒƒå›´é™åˆ¶åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¹‹å†…ï¼Œè¿™æ ·ï¼Œæ— é¡»åŒæ­¥ä¹Ÿèƒ½ä¿è¯çº¿ç¨‹ä¹‹é—´ä¸å‡ºçŽ°æ•°æ®äº‰ç”¨çš„é—®é¢˜ã€‚ç¬¦åˆè¿™ç§ç‰¹ç‚¹çš„åº”ç”¨å¹¶ä¸å°‘è§ï¼Œå¤§éƒ¨åˆ†ä½¿ç”¨æ¶ˆè´¹é˜Ÿåˆ—çš„æž¶æž„æ¨¡å¼ï¼ˆå¦‚â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…â€æ¨¡å¼ï¼‰éƒ½ä¼šå°†äº§å“çš„æ¶ˆè´¹è¿‡ç¨‹å°½é‡åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­æ¶ˆè´¹å®Œï¼Œå…¶ä¸­æœ€é‡è¦çš„ä¸€ä¸ªåº”ç”¨å®žä¾‹å°±æ˜¯ç»å…¸Webäº¤äº’æ¨¡åž‹ä¸­çš„â€œä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ªæœåŠ¡å™¨çº¿ç¨‹â€ï¼ˆThread-per-Requestï¼‰çš„å¤„ç†æ–¹å¼ï¼Œè¿™ç§å¤„ç†æ–¹å¼çš„å¹¿æ³›åº”ç”¨ä½¿å¾—å¾ˆå¤šWebæœåŠ¡ç«¯åº”ç”¨éƒ½å¯ä»¥ä½¿ç”¨çº¿ç¨‹æœ¬åœ°å­˜å‚¨æ¥è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚Javaè¯­è¨€ä¸­ï¼Œå¦‚æžœä¸€ä¸ªå˜é‡è¦è¢«å¤šçº¿ç¨‹è®¿é—®ï¼Œå¯ä»¥ä½¿ç”¨volatileå…³é”®å­—å£°æ˜Žå®ƒä¸ºâ€œæ˜“å˜çš„â€ï¼›å¦‚æžœä¸€ä¸ªå˜é‡è¦è¢«æŸä¸ªçº¿ç¨‹ç‹¬äº«ï¼Œå¯ä»¥é€šè¿‡java.lang.ThreadLocalç±»æ¥å®žçŽ°çº¿ç¨‹æœ¬åœ°å­˜å‚¨çš„åŠŸèƒ½ã€‚ThreadLocalç”¨æ³•APIThreadLocal.get: èŽ·å–ThreadLocalä¸­å½“å‰çº¿ç¨‹å…±äº«å˜é‡çš„å€¼ã€‚ThreadLocal.set: è®¾ç½®ThreadLocalä¸­å½“å‰çº¿ç¨‹å…±äº«å˜é‡çš„å€¼ã€‚ThreadLocal.remove: ç§»é™¤ThreadLocalä¸­å½“å‰çº¿ç¨‹å…±äº«å˜é‡çš„å€¼ã€‚ThreadLocal.initialValue: ThreadLocalæ²¡æœ‰è¢«å½“å‰çº¿ç¨‹èµ‹å€¼æ—¶æˆ–å½“å‰çº¿ç¨‹åˆšè°ƒç”¨removeæ–¹æ³•åŽè°ƒç”¨getæ–¹æ³•ï¼Œè¿”å›žæ­¤æ–¹æ³•å€¼èŽ·å¾—ThreadLocalå˜é‡123456789ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;String&gt;();ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;String&gt;() &#123; @Override protected String initialValue() &#123; System.out.println("è°ƒç”¨getæ–¹æ³•æ—¶ï¼Œå½“å‰çº¿ç¨‹å…±äº«å˜é‡æ²¡æœ‰è®¾ç½®ï¼Œè°ƒç”¨initialValueèŽ·å–é»˜è®¤å€¼ï¼"); return "initialValue: "; &#125;&#125;;å‚è€ƒæ·±å…¥ç†è§£JVMç¬¬äºŒç‰ˆï¼ˆå‘¨å¿—æ˜Žï¼‰https://blog.csdn.net/djokermax/article/details/81296644http://www.cnblogs.com/dolphin0520/p/3920407.html]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[volatile]]></title>
    <url>%2F2019%2Fvolatile%2F</url>
    <content type="text"><![CDATA[æå‡è®¡ç®—æœºå·¥ä½œèƒ½åŠ›åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œè®©è®¡ç®—æœºåŒæ—¶åŽ»åšå‡ ä»¶äº‹æƒ…ï¼Œä¸ä»…æ˜¯å› ä¸ºè®¡ç®—æœºçš„è¿ç®—èƒ½åŠ›å¼ºå¤§äº†ï¼Œè¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„åŽŸå› æ˜¯è®¡ç®—æœºçš„è¿ç®—é€Ÿåº¦ä¸Žå®ƒçš„å­˜å‚¨å’Œé€šä¿¡å­ç³»ç»Ÿé€Ÿåº¦çš„å·®è·å¤ªå¤§ï¼Œ å¤§é‡çš„æ—¶é—´éƒ½èŠ±è´¹åœ¨ç£ç›˜I/Oã€ç½‘ç»œé€šä¿¡æˆ–è€…æ•°æ®åº“è®¿é—®ä¸Šã€‚ å¦‚æžœä¸å¸Œæœ›å¤„ç†å™¨åœ¨å¤§éƒ¨åˆ†æ—¶é—´é‡Œéƒ½å¤„äºŽç­‰å¾…å…¶ä»–èµ„æºçš„çŠ¶æ€ï¼Œå°±å¿…é¡»ä½¿ç”¨ä¸€äº›æ‰‹æ®µåŽ»æŠŠå¤„ç†å™¨çš„è¿ç®—èƒ½åŠ›â€ åŽ‹æ¦¨â€ å‡ºæ¥ï¼Œ å¦åˆ™å°±ä¼šé€ æˆå¾ˆå¤§çš„æµªè´¹ï¼Œè€Œè®¡ç®—æœºåŒæ—¶å¤„ç†å‡ é¡¹ä»»åŠ¡åˆ™æ˜¯æœ€å®¹æ˜“æƒ³åˆ°ã€ä¹Ÿè¢«è¯æ˜Žæ˜¯éžå¸¸æœ‰æ•ˆçš„ â€œåŽ‹æ¦¨â€ æ‰‹æ®µã€‚é™¤äº†å……åˆ†åˆ©ç”¨è®¡ç®—æœºå¤„ç†å™¨çš„èƒ½åŠ›å¤–ï¼Œä¸€ä¸ªæœåŠ¡ç«¯åŒæ—¶å¯¹å¤šä¸ªå®¢æˆ·ç«¯æä¾›æœåŠ¡åˆ™æ˜¯å¦ä¸€ä¸ªæ›´å…·ä½“çš„å¹¶å‘åº”ç”¨åœºæ™¯ã€‚è¡¡é‡ä¸€ä¸ªæœåŠ¡æ€§èƒ½çš„é«˜ä½Žå¥½åï¼Œæ¯ç§’äº‹åŠ¡å¤„ç†æ•°ï¼ˆTransactions Per Secondï¼ŒTPSï¼‰æ˜¯æœ€é‡è¦çš„æŒ‡æ ‡ä¹‹ä¸€ï¼Œå®ƒä»£è¡¨ç€ä¸€ç§’å†…æœåŠ¡ç«¯å¹³å‡èƒ½å“åº”çš„è¯·æ±‚æ€»æ•°ï¼Œè€ŒTPSå€¼ä¸Žç¨‹åºçš„å¹¶å‘èƒ½åŠ›åˆæœ‰éžå¸¸å¯†åˆ‡çš„å…³ç³»ã€‚å¯¹äºŽè®¡ç®—é‡ç›¸åŒçš„ä»»åŠ¡ï¼Œç¨‹åºçº¿ç¨‹å¹¶å‘åè°ƒå¾—è¶Šæœ‰æ¡ä¸ç´Šï¼Œæ•ˆçŽ‡è‡ªç„¶å°±ä¼šè¶Šé«˜ï¼›åä¹‹ï¼Œçº¿ç¨‹ä¹‹é—´é¢‘ç¹é˜»å¡žç”šè‡³æ­»é”ï¼Œå°†ä¼šå¤§å¤§é™ä½Žç¨‹åºçš„å¹¶å‘èƒ½åŠ›ã€‚æœåŠ¡ç«¯æ˜¯Javaè¯­è¨€æœ€æ“…é•¿çš„é¢†åŸŸä¹‹ä¸€ï¼Œè¿™ä¸ªé¢†åŸŸçš„åº”ç”¨å äº†Javaåº”ç”¨ä¸­æœ€å¤§çš„ä¸€å—ä»½é¢ï¼Œä¸è¿‡å¦‚ä½•å†™å¥½å¹¶å‘åº”ç”¨ç¨‹åºå´åˆæ˜¯æœåŠ¡ç«¯ç¨‹åºå¼€å‘çš„éš¾ç‚¹ä¹‹ä¸€ï¼Œå¤„ç†å¥½å¹¶å‘æ–¹é¢çš„é—®é¢˜é€šå¸¸éœ€è¦æ›´å¤šçš„ç¼–ç ç»éªŒæ¥æ”¯æŒã€‚å¹¸å¥½Javaè¯­è¨€å’Œè™šæ‹Ÿæœºæä¾›äº†è®¸å¤šå·¥å…·ï¼ŒæŠŠå¹¶å‘ç¼–ç¨‹çš„é—¨æ§›é™ä½Žäº†ä¸å°‘ã€‚å¹¶ä¸”å„ç§ä¸­é—´ä»¶æœåŠ¡å™¨ã€å„ç±»æ¡†æž¶éƒ½åŠªåŠ›åœ°æ›¿ç¨‹åºå‘˜å¤„ç†å°½å¯èƒ½å¤šçš„çº¿ç¨‹å¹¶å‘ç»†èŠ‚ï¼Œä½¿å¾—ç¨‹åºå‘˜åœ¨ç¼–ç æ—¶èƒ½æ›´å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸æ˜¯èŠ±è´¹å¤§éƒ¨åˆ†æ—¶é—´åŽ»å…³æ³¨æ­¤æœåŠ¡ä¼šåŒæ—¶è¢«å¤šå°‘äººè°ƒç”¨ã€å¦‚ä½•åè°ƒç¡¬ä»¶èµ„æºã€‚æ— è®ºè¯­è¨€ã€ä¸­é—´ä»¶å’Œæ¡†æž¶å¦‚ä½•å…ˆè¿›ï¼Œå¼€å‘äººå‘˜éƒ½ä¸èƒ½æœŸæœ›å®ƒä»¬èƒ½ç‹¬ç«‹å®Œæˆæ‰€æœ‰å¹¶å‘å¤„ç†çš„äº‹æƒ…ï¼Œäº†è§£å¹¶å‘çš„å†…å¹•ä¹Ÿæ˜¯æˆä¸ºä¸€ä¸ªé«˜çº§ç¨‹åºå‘˜ä¸å¯ç¼ºå°‘çš„è¯¾ç¨‹ã€‚çœŸæœºçš„å†…å­˜ç»“æž„åœ¨æ­£å¼è®²è§£ Java è™šæ‹Ÿæœºå¹¶å‘ç›¸å…³çš„çŸ¥è¯†ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆèŠ±è´¹ä¸€ç‚¹æ—¶é—´åŽ»äº†è§£ä¸€ä¸‹ç‰©ç†è®¡ç®—æœºä¸­çš„å¹¶å‘é—®é¢˜ï¼Œç‰©ç†æœºé‡åˆ°çš„å¹¶å‘é—®é¢˜ä¸Žè™šæ‹Ÿæœºä¸­çš„æƒ…å†µæœ‰ä¸å°‘ç›¸ä¼¼ä¹‹å¤„ï¼Œç‰©ç†æœºå¯¹å¹¶å‘çš„å¤„ç†æ–¹æ¡ˆå¯¹äºŽè™šæ‹Ÿæœºçš„å®žçŽ°ä¹Ÿæœ‰ç›¸å½“å¤§çš„å‚è€ƒæ„ä¹‰ã€‚â€œè®©è®¡ç®—æœºå¹¶å‘æ‰§è¡Œè‹¥å¹²ä¸ªè¿ç®—ä»»åŠ¡â€ ä¸Ž â€œæ›´å……åˆ†åœ°åˆ©ç”¨è®¡ç®—æœºå¤„ç†å™¨çš„æ•ˆèƒ½â€ ä¹‹é—´çš„å› æžœå…³ç³»ï¼Œçœ‹èµ·æ¥é¡ºç†æˆç« ï¼Œå®žé™…ä¸Šå®ƒä»¬ä¹‹é—´çš„å…³ç³»å¹¶æ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆç®€å•ï¼Œå…¶ä¸­ä¸€ä¸ªé‡è¦çš„å¤æ‚æ€§æ¥æºæ˜¯ç»å¤§å¤šæ•°çš„è¿ç®—ä»»åŠ¡éƒ½ä¸å¯èƒ½åªé å¤„ç†å™¨ â€œè®¡ç®—â€ å°±èƒ½å®Œæˆï¼Œå¤„ç†å™¨è‡³å°‘è¦ä¸Žå†…å­˜äº¤äº’ï¼Œå¦‚è¯»å–è¿ç®—æ•°æ®ã€å­˜å‚¨è¿ç®—ç»“æžœç­‰ï¼Œè¿™ä¸ª I/O æ“ä½œæ˜¯å¾ˆéš¾æ¶ˆé™¤çš„ï¼ˆæ— æ³•ä»…é å¯„å­˜å™¨æ¥å®Œæˆæ‰€æœ‰è¿ç®—ä»»åŠ¡ï¼‰ã€‚ç”±äºŽè®¡ç®—æœºçš„å­˜å‚¨è®¾å¤‡ä¸Žå¤„ç†å™¨çš„è¿ç®—é€Ÿåº¦æœ‰å‡ ä¸ªæ•°é‡çº§çš„å·®è·ï¼Œæ‰€ä»¥çŽ°ä»£è®¡ç®—æœºç³»ç»Ÿéƒ½ä¸å¾—ä¸åŠ å…¥ä¸€å±‚è¯»å†™é€Ÿåº¦å°½å¯èƒ½æŽ¥è¿‘å¤„ç†å™¨è¿ç®—é€Ÿåº¦çš„é«˜é€Ÿç¼“å­˜ï¼ˆCacheï¼‰æ¥ä½œä¸ºå†…å­˜ä¸Žå¤„ç†å™¨ä¹‹é—´çš„ç¼“å†²ï¼šå°†è¿ç®—éœ€è¦ä½¿ç”¨åˆ°çš„æ•°æ®å¤åˆ¶åˆ°ç¼“å­˜ä¸­ï¼Œè®©è¿ç®—èƒ½å¿«é€Ÿè¿›è¡Œï¼Œå½“è¿ç®—ç»“æŸåŽå†ä»Žç¼“å­˜åŒæ­¥å›žå†…å­˜ä¹‹ä¸­ï¼Œè¿™æ ·å¤„ç†å™¨å°±æ— é¡»ç­‰å¾…ç¼“æ…¢çš„å†…å­˜è¯»å†™äº†ã€‚åŸºäºŽé«˜é€Ÿç¼“å­˜çš„å­˜å‚¨äº¤äº’å¾ˆå¥½åœ°ç†è§£äº†å¤„ç†å™¨ä¸Žå†…å­˜çš„é€Ÿåº¦çŸ›ç›¾ï¼Œä½†æ˜¯ä¹Ÿä¸ºè®¡ç®—æœºç³»ç»Ÿå¸¦æ¥äº†æ›´é«˜çš„å¤æ‚åº¦ï¼Œå› ä¸ºå®ƒå¼•å…¥äº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼šç¼“å­˜ä¸€è‡´æ€§ï¼ˆCache Coherenceï¼‰ã€‚åœ¨å¤šå¤„ç†å™¨ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªå¤„ç†å™¨éƒ½æœ‰è‡ªå·±çš„é«˜é€Ÿç¼“å­˜ï¼Œè€Œå®ƒä»¬åˆå…±äº«åŒä¸€ä¸»å†…å­˜ï¼ˆMain Memoryï¼‰ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚å½“å¤šä¸ªå¤„ç†å™¨çš„è¿ç®—ä»»åŠ¡éƒ½æ¶‰åŠåŒä¸€å—ä¸»å†…å­˜åŒºåŸŸæ—¶ï¼Œå°†å¯èƒ½å¯¼è‡´å„è‡ªçš„ç¼“å­˜æ•°æ®ä¸ä¸€è‡´ï¼Œå¦‚æžœçœŸçš„å‘ç”Ÿè¿™ç§æƒ…å†µï¼Œé‚£åŒæ­¥å›žåˆ°ä¸»å†…å­˜æ—¶ä»¥è°çš„ç¼“å­˜æ•°æ®ä¸ºå‡†å‘¢ï¼Ÿä¸ºäº†è§£å†³ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œéœ€è¦å„ä¸ªå¤„ç†å™¨è®¿é—®ç¼“å­˜æ—¶éƒ½éµå¾ªä¸€äº›åè®®ï¼Œåœ¨è¯»å†™æ—¶è¦æ ¹æ®åè®®æ¥è¿›è¡Œæ“ä½œï¼Œè¿™ç±»åè®®æœ‰ MSIã€MESIï¼ˆIllinois Protocolï¼‰ã€MOSIã€Synapseã€Firefly åŠ Dragon Protocol ç­‰ã€‚å…¶ä¸­æœ€å‡ºåçš„å°±æ˜¯Intel çš„MESIåè®®ï¼ŒMESIåè®®ä¿è¯äº†æ¯ä¸ªç¼“å­˜ä¸­ä½¿ç”¨çš„å…±äº«å˜é‡çš„å‰¯æœ¬æ˜¯ä¸€è‡´çš„ã€‚å®ƒæ ¸å¿ƒçš„æ€æƒ³æ˜¯ï¼šå½“CPUå†™æ•°æ®æ—¶ï¼Œå¦‚æžœå‘çŽ°æ“ä½œçš„å˜é‡æ˜¯å…±äº«å˜é‡ï¼Œå³åœ¨å…¶ä»–CPUä¸­ä¹Ÿå­˜åœ¨è¯¥å˜é‡çš„å‰¯æœ¬ï¼Œä¼šå‘å‡ºä¿¡å·é€šçŸ¥å…¶ä»–CPUå°†è¯¥å˜é‡çš„ç¼“å­˜è¡Œç½®ä¸ºæ— æ•ˆçŠ¶æ€ï¼Œå› æ­¤å½“å…¶ä»–CPUéœ€è¦è¯»å–è¿™ä¸ªå˜é‡æ—¶ï¼Œå‘çŽ°è‡ªå·±ç¼“å­˜ä¸­ç¼“å­˜è¯¥å˜é‡çš„ç¼“å­˜è¡Œæ˜¯æ— æ•ˆçš„ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šä»Žå†…å­˜é‡æ–°è¯»å–ã€‚åœ¨æœ¬ç« ä¸­å°†ä¼šå¤šæ¬¡æåˆ°çš„ â€œå†…å­˜æ¨¡åž‹â€ ä¸€è¯ï¼Œå¯ä»¥ç†è§£ä¸ºåœ¨ç‰¹å®šçš„æ“ä½œåè®®ä¸‹ï¼Œå¯¹ç‰¹å®šçš„å†…å­˜æˆ–é«˜é€Ÿç¼“å­˜è¿›è¡Œè¯»å†™è®¿é—®çš„è¿‡ç¨‹æŠ½è±¡ã€‚ä¸åŒæž¶æž„çš„ç‰©ç†æœºå™¨å¯ä»¥æ‹¥æœ‰ä¸ä¸€æ ·çš„å†…å­˜æ¨¡åž‹ï¼Œè€Œ Java è™šæ‹Ÿæœºä¹Ÿæœ‰è‡ªå·±çš„å†…å­˜æ¨¡åž‹ï¼Œå¹¶ä¸”è¿™é‡Œä»‹ç»çš„å†…å­˜è®¿é—®æ“ä½œä¸Žç¡¬ä»¶çš„ç¼“å­˜è®¿é—®æ“ä½œå…·æœ‰å¾ˆé«˜çš„å¯æ¯”æ€§ã€‚é™¤äº†å¢žåŠ é«˜é€Ÿç¼“å­˜ä¹‹å¤–ï¼Œä¸ºäº†ä½¿å¾—å¤„ç†å™¨å†…éƒ¨çš„è¿ç®—å•å…ƒèƒ½å°½é‡è¢«å……åˆ†åˆ©ç”¨ï¼Œå¤„ç†å™¨å¯èƒ½ä¼šå¯¹è¾“å…¥ä»£ç è¿›è¡Œä¹±åºæ‰§è¡Œï¼ˆOut-Of-Order Executionï¼‰ä¼˜åŒ–ï¼Œå¤„ç†å™¨ä¼šåœ¨è®¡ç®—ä¹‹åŽå°†ä¹±åºæ‰§è¡Œçš„ç»“æžœå……è¶³ï¼Œä¿è¯è¯¥ç»“æžœä¸Žé¡ºåºæ‰§è¡Œçš„ç»“æžœæ˜¯ä¸€è‡´çš„ï¼Œä½†å¹¶ä¸ä¿è¯ç¨‹åºä¸­å„ä¸ªè¯­å¥è®¡ç®—çš„å…ˆåŽé¡ºåºä¸Žè¾“å…¥ä»£ç ä¸­çš„é¡ºåºä¸€è‡´ï¼Œå› æ­¤ï¼Œå¦‚æžœå­˜åœ¨ä¸€ä¸ªè®¡ç®—ä»»åŠ¡ä¾èµ–å¦å¤–ä¸€ä¸ªè®¡ç®—ä»»åŠ¡çš„ä¸­é—´ç»“æžœï¼Œé‚£ä¹ˆå…¶é¡ºåºå¹¶ä¸èƒ½é ä»£ç çš„å…ˆåŽé¡ºåºæ¥ä¿è¯ã€‚ä¸Žå¤„ç†å™¨çš„ä¹±åºæ‰§è¡Œä¼˜åŒ–ç±»åž‹ï¼ŒJava è™šæ‹Ÿæœºçš„å³æ—¶ç¼–è¯‘å™¨ä¸­æœ‰æœ‰ç±»ä¼¼çš„æŒ‡ä»¤é‡æŽ’åºï¼ˆInstruction Reorderï¼‰ä¼˜åŒ–ã€‚JVMçš„å†…å­˜ç»“æž„Java è™šæ‹Ÿæœºè§„èŒƒä¸­è¯•å›¾å®šä¹‰ä¸€ç§ Java å†…å­˜æ¨¡åž‹ï¼ˆJava Memory Modelï¼ŒJMMï¼‰æ¥å±è”½æŽ‰å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ï¼Œä»¥å®žçŽ°è®© Java ç¨‹åºåœ¨å„ç§å¹³å°ä¸‹éƒ½èƒ½è¾¾åˆ°ä¸€è‡´çš„å†…å­˜è®¿é—®æ•ˆæžœã€‚Java å†…å­˜æ¨¡åž‹çš„ä¸»è¦ç›®æ ‡æ˜¯å®šä¹‰ç¨‹åºä¸­å„ä¸ªå˜é‡çš„è®¿é—®è§„åˆ™ï¼Œå³åœ¨è™šæ‹Ÿæœºä¸­å°†å˜é‡å­˜å‚¨åˆ°å†…å­˜å’Œä»Žå†…å­˜ä¸­å–å‡ºå˜é‡è¿™æ ·çš„åº•å±‚ç»†èŠ‚ã€‚æ­¤å¤„çš„å˜é‡ï¼ˆVariablesï¼‰ä¸Ž Java ç¼–ç¨‹ä¸­æ‰€è¯´çš„å˜é‡æœ‰æ‰€åŒºåˆ«ï¼Œå®ƒåŒ…æ‹¬äº†å®žä¾‹å­—æ®µã€é™æ€å­—æ®µå’Œæž„æˆæ•°ç»„å¯¹è±¡çš„å…ƒç´ ï¼Œä½†ä¸åŒ…æ‹¬å±€éƒ¨å˜é‡ä¸Žæ–¹æ³•å‚æ•°ï¼Œå› ä¸ºåŽè€…æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œä¸ä¼šè¢«å…±äº«ï¼Œè‡ªç„¶å°±ä¸ä¼šå­˜åœ¨ç«žäº‰é—®é¢˜ã€‚ä¸ºäº†èŽ·å¾—è¾ƒå¥½çš„æ‰§è¡Œæ•ˆèƒ½ï¼ŒJava å†…å­˜æ¨¡åž‹å¹¶æ²¡æœ‰é™åˆ¶æ‰§è¡Œå¼•æ“Žä½¿ç”¨å¤„ç†å™¨çš„ç‰¹å®šå¯„å­˜å™¨æˆ–ç¼“å­˜å’Œä¸»å†…å­˜è¿›è¡Œäº¤äº’ï¼Œä¹Ÿæ²¡æœ‰é™åˆ¶å³æ—¶ç¼–è¯‘å™¨è¿›è¡Œè°ƒæ•´ä»£ç æ‰§è¡Œé¡ºåºè¿™ç±»ä¼˜åŒ–æŽªæ–½ã€‚Java å†…å­˜æ¨¡åž‹è§„å®šäº†æ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ï¼ˆMain Memoryï¼‰ä¸­ï¼ˆæ­¤å¤„çš„ä¸»å†…å­˜ä¸Žä»‹ç»ç‰©ç†ç¡¬ä»¶æ—¶çš„ä¸»å†…å­˜åå­—ä¸€æ ·ï¼Œä¸¤è€…ä¹Ÿå¯ä»¥äº’ç›¸ç±»æ¯”ï¼Œä½†æ­¤å¤„ä»…æ˜¯è™šæ‹Ÿæœºå†…å­˜çš„ä¸€éƒ¨åˆ†ï¼‰ã€‚æ¯æ¡çº¿ç¨‹è¿˜æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼ˆWorking Memoryï¼Œå¯ä¸Žå‰é¢è®²çš„å¤„ç†å™¨é«˜é€Ÿç¼“å­˜ç±»æ¯”ï¼‰ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ä¿å­˜äº†è¢«è¯¥çº¿ç¨‹ä½¿ç”¨åˆ°çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬æ‹·è´ï¼Œçº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰æ“ä½œï¼ˆè¯»å–ã€èµ‹å€¼ç­‰ï¼‰éƒ½å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œè€Œä¸èƒ½ç›´æŽ¥è¯»å†™ä¸»å†…å­˜ä¸­çš„å˜é‡ã€‚ä¸åŒçš„çº¿ç¨‹ä¹‹é—´ä¹Ÿæ— æ³•ç›´æŽ¥è®¿é—®å¯¹æ–¹å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œçº¿ç¨‹é—´å˜é‡å€¼çš„ä¼ é€’å‡éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥å®Œæˆï¼Œçº¿ç¨‹ã€ä¸»å†…å­˜ã€å·¥ä½œå†…å­˜ä¸‰è€…çš„äº¤äº’å…³ç³»å¦‚å›¾æ‰€ç¤ºã€‚å†…å­˜é—´äº¤äº’æ“ä½œå…³äºŽä¸»å†…å­˜ä¸Žå·¥ä½œå†…å­˜ä¹‹é—´å…·ä½“çš„äº¤äº’åè®®ï¼Œå³ä¸€ä¸ªå˜é‡å¦‚ä½•ä»Žä¸»å†…å­˜æ‹·è´åˆ°å·¥ä½œå†…å­˜ã€å¦‚ä½•ä»Žå·¥ä½œå†…å­˜åŒæ­¥ä¼šä¸»å†…å­˜ä¹‹ç±»çš„å®žçŽ°ç»†èŠ‚ï¼ŒJava å†…å­˜æ¨¡åž‹ä¸­å®šä¹‰äº†ä»¥ä¸‹ 8 ç§æ“ä½œæ¥å®Œæˆï¼Œè™šæ‹Ÿæœºå®žçŽ°æ—¶å¿…é¡»ä¿è¯ä¸‹é¢æåŠçš„æ¯ä¸€ç§æ“ä½œéƒ½æ˜¯åŽŸå­çš„ã€ä¸å¯å†åˆ†çš„ï¼ˆå¯¹äºŽ double å’Œ long ç±»åž‹çš„å˜é‡æ¥è¯´ï¼Œloadã€storeã€read å’Œ write æ“ä½œåœ¨æŸäº›å¹³å°ä¸Šå…è®¸æœ‰ä¾‹å¤–ï¼‰ã€‚lockï¼ˆé”å®šï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå˜é‡æ ‡è¯†ä¸ºä¸€æ¡çº¿ç¨‹ç‹¬å çš„çŠ¶æ€ã€‚unlockï¼ˆè§£é”ï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå¤„äºŽé”å®šçŠ¶æ€çš„å˜é‡é‡Šæ”¾å‡ºæ¥ï¼Œé‡Šæ”¾åŽçš„å˜é‡æ‰å¯ä»¥è¢«å…¶ä»–çº¿ç¨‹é”å®šã€‚readï¼ˆè¯»å–ï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå˜é‡çš„å€¼ä»Žä¸»å†…å­˜ä¼ è¾“åˆ°çº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåŽçš„ load åŠ¨ä½œä½¿ç”¨ã€‚loadï¼ˆè½½å…¥ï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠ read æ“ä½œä»Žä¸»å†…å­˜ä¸­å¾—åˆ°çš„å˜é‡å€¼æ”¾å…¥å·¥ä½œå†…å­˜çš„å˜é‡å‰¯æœ¬ä¸­ã€‚storeï¼ˆå­˜å‚¨ï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠå·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåŽçš„ write æ“ä½œä½¿ç”¨ã€‚writeï¼ˆå†™å…¥ï¼‰ï¼šä½œç”¨äºŽä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠ store æ“ä½œä»Žå·¥ä½œå†…å­˜ä¸­å¾—åˆ°çš„å˜é‡çš„å€¼æ”¾å…¥ä¸»å†…å­˜çš„å˜é‡ä¸­ã€‚useï¼ˆä½¿ç”¨ï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠå·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€’ç»™æ‰§è¡Œå¼•æ“Žï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªéœ€è¦ä½¿ç”¨åˆ°å˜é‡çš„å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶å°†ä¼šæ‰§è¡Œè¿™ä¸ªæ“ä½œã€‚assignï¼ˆèµ‹å€¼ï¼‰ï¼šä½œç”¨äºŽå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªä»Žæ‰§è¡Œå¼•æ“ŽæŽ¥æ”¶åˆ°çš„å€¼èµ‹ç»™å·¥ä½œå†…å­˜çš„å˜é‡ï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªç»™å˜é‡èµ‹å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶æ‰§è¡Œè¿™ä¸ªæ“ä½œã€‚å¦‚æžœè¦æŠŠä¸€ä¸ªå˜é‡ä»Žä¸»å†…å­˜å¤åˆ¶åˆ°å·¥ä½œå†…å­˜ï¼Œé‚£å°±è¦é¡ºåºåœ°æ‰§è¡Œ read å’Œ load æ“ä½œï¼Œå¦‚æžœè¦æŠŠå˜é‡ä»Žå·¥ä½œå†…å­˜åŒæ­¥å›žä¸»å†…å­˜ï¼Œå°±è¦é¡ºåºåœ°æ‰§è¡Œ store å’Œ write æ“ä½œã€‚æ³¨æ„ï¼ŒJava å†…å­˜æ¨¡åž‹åªè¦æ±‚ä¸Šè¿°ä¸¤ä¸ªæ“ä½œå¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œï¼Œè€Œæ²¡æœ‰ä¿è¯æ˜¯è¿žç»­æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œread ä¸Ž load ä¹‹é—´ã€store ä¸Ž write ä¹‹é—´æ˜¯å¯æ’å…¥å…¶ä»–æŒ‡ä»¤çš„ï¼Œå¦‚å¯¹ä¸»å†…å­˜ä¸­çš„å˜é‡ aã€b è¿›è¡Œè®¿é—®æ—¶ï¼Œä¸€ç§å¯èƒ½å‡ºçŽ°é¡ºåºæ˜¯ read aã€read bã€load bã€load aã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒJava å†…å­˜æ¨¡åž‹è¿˜è§„å®šäº†åœ¨æ‰§è¡Œä¸Šè¿° 8 ç§åŸºæœ¬æ“ä½œæ—¶å¿…é¡»æ»¡è¶³å¦‚ä¸‹è§„åˆ™ï¼šä¸å…è®¸ read å’Œ loadã€store å’Œ write æ“ä½œä¹‹ä¸€å•ç‹¬å‡ºçŽ°ï¼Œå³ä¸å…è®¸ä¸€ä¸ªå˜é‡ä»Žä¸»å†…å­˜è¯»å–äº†ä½†å·¥ä½œå†…å­˜ä¸æŽ¥å—ï¼Œæˆ–è€…ä»Žå·¥ä½œå†…å­˜å‘èµ·å›žå†™äº†ä½†ä¸»å†…å­˜ä¸æŽ¥å—çš„æƒ…å†µå‡ºçŽ°ã€‚å¦‚æžœä¸€ä¸ªå˜é‡äº‹å…ˆæ²¡æœ‰è¢« lock æ“ä½œé”å®šï¼Œé‚£å°±ä¸å…è®¸å¯¹å®ƒæ‰§è¡Œ unlock æ“ä½œï¼Œä¹Ÿä¸å…è®¸åŽ» unlock ä¸€ä¸ªè¢«å…¶ä»–çº¿ç¨‹é”å®šä½çš„å˜é‡ã€‚ä¸€ä¸ªå˜é‡åœ¨åŒä¸€ä¸ªæ—¶åˆ»åªå…è®¸ä¸€æ¡çº¿ç¨‹å¯¹å…¶è¿›è¡Œ lock æ“ä½œï¼Œä½† lock æ“ä½œå¯ä»¥è¢«åŒä¸€æ¡çº¿ç¨‹é‡å¤æ‰§è¡Œå¤šæ¬¡ï¼Œå¤šæ¬¡æ‰§è¡Œ lock åŽï¼Œåªæœ‰æ‰§è¡Œç›¸åŒæ¬¡æ•°çš„ unlock æ“ä½œï¼Œå˜é‡æ‰ä¼šè¢«è§£é”ã€‚å¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œ unlock æ“ä½œä¹‹å‰ï¼Œå¿…é¡»å…ˆæŠŠæ­¤å˜é‡åŒæ­¥å›žä¸»å†…å­˜ä¸­ï¼ˆæ‰§è¡Œ storeã€write æ“ä½œï¼‰ã€‚å¦‚æžœå¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œ lock æ“ä½œï¼Œé‚£å°†ä¼šæ¸…ç©ºå·¥ä½œå†…å­˜ä¸­æ­¤å˜é‡çš„å€¼ï¼Œåœ¨æ‰§è¡Œå¼•æ“Žä½¿ç”¨è¿™ä¸ªå˜é‡å‰ï¼Œéœ€è¦é‡æ–°æ‰§è¡Œ load æˆ– assign æ“çºµåˆå§‹åŒ–å˜é‡çš„å€¼ã€‚ä¸å…è®¸ä¸€ä¸ªçº¿ç¨‹ä¸¢å¼ƒå®ƒçš„æœ€è¿‘çš„ assign æ“ä½œï¼Œå³å˜é‡åœ¨å·¥ä½œå†…å­˜ä¸­æ”¹å˜äº†ä¹‹åŽè¯¥å˜åŒ–å¿…ç„¶ä¼šåŒæ­¥è‡³ä¸»å†…å­˜ã€‚ä¸å…è®¸ä¸€ä¸ªçº¿ç¨‹æ— åŽŸå› åœ°ï¼ˆæ²¡æœ‰å‘ç”Ÿè¿‡ä»»ä½• assign æ“ä½œï¼‰æŠŠæ•°æ®ä»Žçº¿ç¨‹çš„å·¥ä½œå†…å­˜åŒæ­¥å›žä¸»å†…å­˜ä¸­ã€‚ä¸€ä¸ªæ–°çš„å˜é‡åªèƒ½åœ¨ä¸»å†…å­˜ä¸­ â€œè¯žç”Ÿâ€ï¼Œä¸å…è®¸åœ¨å·¥ä½œå†…å­˜ä¸­ç›´æŽ¥ä½¿ç”¨ä¸€ä¸ªæœªè¢«åˆå§‹åŒ–ï¼ˆload æˆ– assignï¼‰çš„å˜é‡ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯å¯¹ä¸€ä¸ªå˜é‡å®žæ–½ useã€store æ“ä½œä¹‹å‰ï¼Œå¿…é¡»å…ˆæ‰§è¡Œè¿‡äº† assign å’Œ load æ“ä½œã€‚å¯¹äºŽ long å’Œ double åž‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™Java å†…å­˜æ¨¡åž‹è¦æ±‚ lockã€unlockã€readã€assignã€useã€storeã€write è¿™ 8 ä¸ªæ“ä½œéƒ½å…·æœ‰åŽŸå­æ€§ï¼Œä½†æ˜¯å¯¹äºŽ 64 ä½çš„æ•°æ®ç±»åž‹ï¼ˆlong å’Œ doubleï¼‰ï¼Œåœ¨æ¨¡åž‹ä¸­ç‰¹åˆ«å®šä¹‰äº†ä¸€æ¡ç›¸å¯¹å®½æ¾çš„è§„å®šï¼šå…è®¸è™šæ‹Ÿæœºå°†æ²¡æœ‰è¢« volatile ä¿®é¥°çš„ 64 ä½æ•°æ®çš„è¯»å†™æ“ä½œåˆ’åˆ†ä¸ºä¸¤æ¬¡ 32 ä½çš„æ“ä½œæ¥è¿›è¡Œï¼Œå³å…è®¸è™šæ‹Ÿæœºå®žçŽ°é€‰æ‹©å¯ä»¥ä¸ä¿è¯ 64 ä½æ•°æ®ç±»åž‹çš„ loadã€storeã€read å’Œ write è¿™ 4 ä¸ªæ“ä½œçš„åŽŸå­æ€§ï¼Œè¿™ç‚¹å°±æ˜¯æ‰€è°“çš„ long å’Œ double çš„éžåŽŸå­æ€§åå®šï¼ˆNonatomic Treatment of double and long Variablesï¼‰ã€‚å¦‚æžœæœ‰å¤šä¸ªçº¿ç¨‹å…±äº«ä¸€ä¸ªå¹¶æœªå£°æ˜Žä¸º volatile çš„ long æˆ– double ç±»åž‹çš„å˜é‡ï¼Œå¹¶ä¸”åŒæ—¶å¯¹å®ƒä»¬è¿›è¡Œè¯»å–å’Œä¿®æ”¹æ“ä½œï¼Œé‚£ä¹ˆæŸäº›çº¿ç¨‹å¯èƒ½ä¼šè¯»å–åˆ°ä¸€ä¸ªæ—¢éžåŽŸå€¼ï¼Œä¹Ÿä¸æ˜¯å…¶ä»–çº¿ç¨‹ä¿®æ”¹çš„å€¼çš„ä»£è¡¨äº† â€œåŠä¸ªå˜é‡â€ çš„æ•°å€¼ã€‚ä¸è¿‡è¿™ç§è¯»å–åˆ° â€œåŠä¸ªå˜é‡â€ çš„æƒ…å†µéžå¸¸ç½•è§ï¼ˆåœ¨ç›®å‰å•†ç”¨ Java è™šæ‹Ÿæœºä¸­ä¸ä¼šå‡ºçŽ°ï¼‰ï¼Œå› ä¸º Java å†…å­˜æ¨¡åž‹è™½ç„¶å…è®¸è™šæ‹Ÿæœºä¸æŠŠ long å’Œ double å˜é‡çš„è¯»å†™å®žçŽ°æˆåŽŸå­æ“ä½œï¼Œä½†å…è®¸è™šæ‹Ÿæœºé€‰æ‹©æŠŠè¿™äº›æ“ä½œå®žçŽ°ä¸ºå…·æœ‰åŽŸå­æ€§çš„æ“ä½œï¼Œè€Œä¸”è¿˜ â€œå¼ºçƒˆå»ºè®®â€ è™šæ‹Ÿæœºè¿™æ ·å®žçŽ°ã€‚åœ¨å®žé™…å¼€å‘ä¸­ï¼Œç›®å‰å„ç§å¹³å°ä¸‹çš„å•†ç”¨è™šæ‹Ÿæœºå‡ ä¹Žéƒ½é€‰æ‹©æŠŠ 64 ä½çš„æ•°æ®çš„è¯»å†™æ“ä½œä½œä¸ºåŽŸå­æ“ä½œæ¥å¯¹å¾…ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç æ—¶ä¸€èˆ¬ä¸éœ€è¦æŠŠç”¨åˆ°çš„ long å’Œ double å˜é‡ä¸“é—¨å£°æ˜Žä¸º volatileã€‚â€‹volatileå…³é”®å­— volatile å¯ä»¥è¯´æ˜¯ Java è™šæ‹Ÿæœºæä¾›çš„æœ€è½»é‡çº§çš„åŒæ­¥æœºåˆ¶ã€‚å½“ä¸€ä¸ªå˜é‡å®šä¹‰ä¸º volatile ä¹‹åŽï¼Œå®ƒå°†å…·å¤‡ä¸¤ç§ç‰¹æ€§ï¼šä¿è¯æ­¤å˜é‡å¯¹æ‰€æœ‰çº¿ç¨‹çš„å¯è§æ€§è¿™é‡Œçš„ â€œå¯è§æ€§â€ æ˜¯æŒ‡å½“ä¸€æ¡çº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡çš„å€¼ï¼Œæ–°å€¼å¯¹äºŽå…¶ä»–çº¿ç¨‹æ¥è¯´æ˜¯å¯ä»¥ç«‹å³å¾—çŸ¥çš„ã€‚è€Œæ™®é€šå˜é‡ä¸èƒ½åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ™®é€šå˜é‡çš„å€¼åœ¨çº¿ç¨‹é—´ä¼ é€’å‡éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥å®Œæˆï¼Œä¾‹å¦‚ï¼Œçº¿ç¨‹ A ä¿®æ”¹ä¸€ä¸ªæ™®é€šå˜é‡çš„å€¼ï¼Œç„¶åŽå‘ä¸»å†…å­˜è¿›è¡Œå›žå†™ï¼Œå¦å¤–ä¸€æ¡çº¿ç¨‹ B åœ¨çº¿ç¨‹ A å›žå†™å®Œæˆäº†ä¹‹åŽå†ä»Žä¸»å†…å­˜è¿›è¡Œè¯»å–æ“ä½œï¼Œæ–°å˜é‡å€¼æ‰ä¼šå¯¹çº¿ç¨‹ B å¯è§ã€‚å…³äºŽ volatile å˜é‡çš„å¯è§æ€§ï¼Œç»å¸¸ä¼šè¢«å¼€å‘äººå‘˜è¯¯è§£ï¼Œè®¤ä¸ºä»¥ä¸‹æè¿°æˆç«‹ï¼šâ€œvolatile å˜é‡å¯¹æ‰€æœ‰çº¿ç¨‹æ˜¯ç«‹å³å¯è§çš„ï¼Œå¯¹ volatile å˜é‡æ‰€æœ‰çš„å†™æ“ä½œéƒ½èƒ½ç«‹åˆ»ååº”åˆ°å…¶ä»–çº¿ç¨‹ä¹‹ä¸­ï¼Œæ¢å¥è¯è¯´ï¼Œvolatile å˜é‡åœ¨å„ä¸ªçº¿ç¨‹ä¸­æ˜¯ä¸€è‡´çš„ï¼Œæ‰€ä»¥åŸºäºŽ volatile å˜é‡çš„è¿ç®—åœ¨å¹¶å‘ä¸‹æ˜¯å®‰å…¨çš„â€ã€‚è¿™å¥è¯çš„è®ºæ®éƒ¨åˆ†å¹¶æ²¡æœ‰é”™ï¼Œä½†æ˜¯å…¶è®ºæ®å¹¶ä¸èƒ½å¾—å‡º â€œåŸºäºŽ volatile å˜é‡çš„è¿ç®—åœ¨å¹¶å‘ä¸‹æ˜¯å®‰å…¨çš„â€ è¿™ä¸ªç»“è®ºã€‚æ¯”å¦‚ä»¥ä¸‹ä»£ç ï¼š1234567891011121314151617181920212223public class Test &#123; public volatile int inc = 0; public void increase() &#123; inc++; &#125; public static void main(String[] args) &#123; final Test test = new Test(); for(int i=0;i&lt;10;i++)&#123; new Thread()&#123; public void run() &#123; for(int j=0;j&lt;1000;j++) test.increase(); &#125;; &#125;.start(); &#125; while(Thread.activeCount()&gt;1) //ä¿è¯å‰é¢çš„çº¿ç¨‹éƒ½æ‰§è¡Œå®Œ Thread.yield(); System.out.println(test.inc); &#125;&#125;è¿è¡Œå®ƒä¼šå‘çŽ°æ¯æ¬¡è¿è¡Œç»“æžœéƒ½ä¸ä¸€è‡´ï¼Œéƒ½æ˜¯ä¸€ä¸ªå°äºŽ10000çš„æ•°å­—ã€‚è¿™ä¾¿æ˜¯ç”±äºŽvolatile ä¸èƒ½ä¿è¯åŽŸå­æ€§ã€‚åŒæ—¶è‡ªå¢žæ“ä½œæ˜¯ä¸å…·å¤‡åŽŸå­æ€§çš„ï¼Œå®ƒåŒ…æ‹¬è¯»å–å˜é‡çš„åŽŸå§‹å€¼ã€è¿›è¡ŒåŠ 1æ“ä½œã€å†™å…¥å·¥ä½œå†…å­˜ã€‚é‚£ä¹ˆå°±æ˜¯è¯´è‡ªå¢žæ“ä½œçš„ä¸‰ä¸ªå­æ“ä½œå¯èƒ½ä¼šåˆ†å‰²å¼€æ‰§è¡Œï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´ä¸‹é¢è¿™ç§æƒ…å†µå‡ºçŽ°ï¼šå‡å¦‚æŸä¸ªæ—¶åˆ»å˜é‡incçš„å€¼ä¸º10ã€‚çº¿ç¨‹1å¯¹å˜é‡è¿›è¡Œè‡ªå¢žæ“ä½œï¼Œçº¿ç¨‹1å…ˆè¯»å–äº†å˜é‡incçš„åŽŸå§‹å€¼ï¼Œç„¶åŽçº¿ç¨‹1è¢«é˜»å¡žäº†ï¼›ç„¶åŽçº¿ç¨‹2å¯¹å˜é‡è¿›è¡Œè‡ªå¢žæ“ä½œï¼Œçº¿ç¨‹2ä¹ŸåŽ»è¯»å–å˜é‡incçš„åŽŸå§‹å€¼ï¼Œç”±äºŽçº¿ç¨‹1åªæ˜¯å¯¹å˜é‡incè¿›è¡Œè¯»å–æ“ä½œï¼Œè€Œæ²¡æœ‰å¯¹å˜é‡è¿›è¡Œä¿®æ”¹æ“ä½œï¼Œæ‰€ä»¥ä¸ä¼šå¯¼è‡´çº¿ç¨‹2çš„å·¥ä½œå†…å­˜ä¸­ç¼“å­˜å˜é‡incçš„ç¼“å­˜è¡Œæ— æ•ˆï¼Œæ‰€ä»¥çº¿ç¨‹2ä¼šç›´æŽ¥åŽ»ä¸»å­˜è¯»å–incçš„å€¼ï¼Œå‘çŽ°incçš„å€¼æ—¶10ï¼Œç„¶åŽè¿›è¡ŒåŠ 1æ“ä½œï¼Œå¹¶æŠŠ11å†™å…¥å·¥ä½œå†…å­˜ï¼Œæœ€åŽå†™å…¥ä¸»å­˜ã€‚ç„¶åŽçº¿ç¨‹1æŽ¥ç€è¿›è¡ŒåŠ 1æ“ä½œï¼Œç”±äºŽå·²ç»è¯»å–äº†incçš„å€¼ï¼Œæ³¨æ„æ­¤æ—¶åœ¨çº¿ç¨‹1çš„å·¥ä½œå†…å­˜ä¸­incçš„å€¼ä»ç„¶ä¸º10ï¼Œæ‰€ä»¥çº¿ç¨‹1å¯¹incè¿›è¡ŒåŠ 1æ“ä½œåŽincçš„å€¼ä¸º11ï¼Œç„¶åŽå°†11å†™å…¥å·¥ä½œå†…å­˜ï¼Œæœ€åŽå†™å…¥ä¸»å­˜ã€‚é‚£ä¹ˆä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«è¿›è¡Œäº†ä¸€æ¬¡è‡ªå¢žæ“ä½œåŽï¼Œincåªå¢žåŠ äº†1ã€‚ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºä¼˜åŒ–æ™®é€šçš„å˜é‡ä»…ä»…ä¼šä¿è¯åœ¨è¯¥æ–¹æ³•çš„æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€æœ‰ä¾èµ–èµ‹å€¼ç»“æžœçš„åœ°æ–¹éƒ½èƒ½èŽ·å–åˆ°æ­£ç¡®çš„ç»“æžœï¼Œè€Œä¸èƒ½ä¿è¯å˜é‡èµ‹å€¼æ“ä½œçš„é¡ºåºä¸Žç¨‹åºä»£ç ä¸­çš„æ‰§è¡Œé¡ºåºä¸€è‡´ã€‚å› ä¸ºåœ¨ä¸€ä¸ªçº¿ç¨‹çš„æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æ— æ³•æ„ŸçŸ¥åˆ°è¿™ç‚¹ï¼Œè¿™ä¹Ÿå°±æ˜¯ Java å†…å­˜æ¨¡åž‹ä¸­æè¿°çš„æ‰€è°“çš„ â€œçº¿ç¨‹å†…è¡¨çŽ°ä¸ºä¸²è¡Œçš„è¯­ä¹‰â€ï¼ˆWithin-Thread As-If-Serial Semanticsï¼‰ã€‚volatileå…³é”®å­—ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºæœ‰ä¸¤å±‚æ„æ€ï¼šå½“ç¨‹åºæ‰§è¡Œåˆ°volatileå˜é‡çš„è¯»æ“ä½œæˆ–è€…å†™æ“ä½œæ—¶ï¼Œåœ¨å…¶å‰é¢çš„æ“ä½œçš„æ›´æ”¹è‚¯å®šå…¨éƒ¨å·²ç»è¿›è¡Œï¼Œä¸”ç»“æžœå·²ç»å¯¹åŽé¢çš„æ“ä½œå¯è§ï¼›åœ¨å…¶åŽé¢çš„æ“ä½œè‚¯å®šè¿˜æ²¡æœ‰è¿›è¡Œï¼›åœ¨è¿›è¡ŒæŒ‡ä»¤ä¼˜åŒ–æ—¶ï¼Œä¸èƒ½å°†åœ¨å¯¹volatileå˜é‡è®¿é—®çš„è¯­å¥æ”¾åœ¨å…¶åŽé¢æ‰§è¡Œï¼Œä¹Ÿä¸èƒ½æŠŠvolatileå˜é‡åŽé¢çš„è¯­å¥æ”¾åˆ°å…¶å‰é¢æ‰§è¡Œã€‚å¯èƒ½ä¸Šé¢è¯´çš„æ¯”è¾ƒç»•ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š1234567//xã€yä¸ºéžvolatileå˜é‡//flagä¸ºvolatileå˜é‡x = 2; //è¯­å¥1y = 0; //è¯­å¥2flag = true; //è¯­å¥3x = 4; //è¯­å¥4y = -1; //è¯­å¥5`ç”±äºŽ flag å˜é‡ä¸º volatile å˜é‡ï¼Œé‚£ä¹ˆåœ¨è¿›è¡ŒæŒ‡ä»¤é‡æŽ’åºçš„è¿‡ç¨‹çš„æ—¶å€™ï¼Œä¸ä¼šå°†è¯­å¥3æ”¾åˆ°è¯­å¥1ã€è¯­å¥2å‰é¢ï¼Œä¹Ÿä¸ä¼šè®²è¯­å¥3æ”¾åˆ°è¯­å¥4ã€è¯­å¥5åŽé¢ã€‚ä½†æ˜¯è¦æ³¨æ„è¯­å¥1å’Œè¯­å¥2çš„é¡ºåºã€è¯­å¥4å’Œè¯­å¥5çš„é¡ºåºæ˜¯ä¸ä½œä»»ä½•ä¿è¯çš„ã€‚å¹¶ä¸” volatile å…³é”®å­—èƒ½ä¿è¯ï¼Œæ‰§è¡Œåˆ°è¯­å¥3æ—¶ï¼Œè¯­å¥1å’Œè¯­å¥2å¿…å®šæ˜¯æ‰§è¡Œå®Œæ¯•äº†çš„ï¼Œä¸”è¯­å¥1å’Œè¯­å¥2çš„æ‰§è¡Œç»“æžœå¯¹è¯­å¥3ã€è¯­å¥4ã€è¯­å¥5æ˜¯å¯è§çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š123456789//çº¿ç¨‹1:context = loadContext(); //è¯­å¥1inited = true; //è¯­å¥2 //çº¿ç¨‹2:while(!inited )&#123; sleep();&#125;doSomethingwithconfig(context);å‰åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæœ‰å¯èƒ½è¯­å¥2ä¼šåœ¨è¯­å¥1ä¹‹å‰æ‰§è¡Œï¼Œé‚£ä¹ˆä¹…å¯èƒ½å¯¼è‡´contextè¿˜æ²¡è¢«åˆå§‹åŒ–ï¼Œè€Œçº¿ç¨‹2ä¸­å°±ä½¿ç”¨æœªåˆå§‹åŒ–çš„contextåŽ»è¿›è¡Œæ“ä½œï¼Œå¯¼è‡´ç¨‹åºå‡ºé”™ã€‚è¿™é‡Œå¦‚æžœç”¨volatileå…³é”®å­—å¯¹initedå˜é‡è¿›è¡Œä¿®é¥°ï¼Œå°±ä¸ä¼šå‡ºçŽ°è¿™ç§é—®é¢˜äº†ï¼Œå› ä¸ºå½“æ‰§è¡Œåˆ°è¯­å¥2æ—¶ï¼Œå¿…å®šèƒ½ä¿è¯contextå·²ç»åˆå§‹åŒ–å®Œæ¯•ã€‚å¹¶å‘ç¼–ç¨‹çš„ä¸‰ä¸ªæ¦‚å¿µå¹¶å‘ç¨‹åºæ­£ç¡®åœ°æ‰§è¡Œï¼Œå¿…é¡»è¦ä¿è¯åŽŸå­æ€§ã€å¯è§æ€§ä»¥åŠæœ‰åºæ€§ã€‚åªè¦æœ‰ä¸€ä¸ªæ²¡æœ‰è¢«ä¿è¯ï¼Œå°±æœ‰å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºè¿è¡Œä¸æ­£ç¡®ã€‚åŽŸå­æ€§ï¼ˆAtomicityï¼‰åœ¨Javaä¸­ï¼Œå¯¹åŸºæœ¬æ•°æ®ç±»åž‹çš„å˜é‡çš„è¯»å–å’Œèµ‹å€¼æ“ä½œæ˜¯åŽŸå­æ€§æ“ä½œï¼Œå³è¿™äº›æ“ä½œæ˜¯ä¸å¯è¢«ä¸­æ–­çš„ï¼Œè¦ä¹ˆæ‰§è¡Œï¼Œè¦ä¹ˆä¸æ‰§è¡Œã€‚ä¸Šé¢ä¸€å¥è¯è™½ç„¶çœ‹èµ·æ¥ç®€å•ï¼Œä½†æ˜¯ç†è§£èµ·æ¥å¹¶ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚çœ‹ä¸‹é¢ä¸€ä¸ªä¾‹å­ï¼Œè¯·åˆ†æžä»¥ä¸‹å“ªäº›æ“ä½œæ˜¯åŽŸå­æ€§æ“ä½œï¼š1234x = 10; //è¯­å¥1y = x; //è¯­å¥2x++; //è¯­å¥3x = x + 1; //è¯­å¥4ä¹ä¸€çœ‹ï¼Œæœ‰äº›æœ‹å‹å¯èƒ½ä¼šè¯´ä¸Šé¢çš„4ä¸ªè¯­å¥ä¸­çš„æ“ä½œéƒ½æ˜¯åŽŸå­æ€§æ“ä½œã€‚å…¶å®žåªæœ‰è¯­å¥1æ˜¯åŽŸå­æ€§æ“ä½œï¼Œå…¶ä»–ä¸‰ä¸ªè¯­å¥éƒ½ä¸æ˜¯åŽŸå­æ€§æ“ä½œã€‚è¯­å¥1æ˜¯ç›´æŽ¥å°†æ•°å€¼10èµ‹å€¼ç»™xï¼Œä¹Ÿå°±æ˜¯è¯´çº¿ç¨‹æ‰§è¡Œè¿™ä¸ªè¯­å¥çš„ä¼šç›´æŽ¥å°†æ•°å€¼10å†™å…¥åˆ°å·¥ä½œå†…å­˜ä¸­ã€‚è¯­å¥2å®žé™…ä¸ŠåŒ…å«2ä¸ªæ“ä½œï¼Œå®ƒå…ˆè¦åŽ»è¯»å–xçš„å€¼ï¼Œå†å°†xçš„å€¼å†™å…¥å·¥ä½œå†…å­˜ï¼Œè™½ç„¶è¯»å–xçš„å€¼ä»¥åŠ å°†xçš„å€¼å†™å…¥å·¥ä½œå†…å­˜ è¿™2ä¸ªæ“ä½œéƒ½æ˜¯åŽŸå­æ€§æ“ä½œï¼Œä½†æ˜¯åˆèµ·æ¥å°±ä¸æ˜¯åŽŸå­æ€§æ“ä½œäº†ã€‚åŒæ ·çš„ï¼Œx++å’Œ x = x+1åŒ…æ‹¬3ä¸ªæ“ä½œï¼šè¯»å–xçš„å€¼ï¼Œè¿›è¡ŒåŠ 1æ“ä½œï¼Œå†™å…¥æ–°çš„å€¼ã€‚æ‰€ä»¥ä¸Šé¢4ä¸ªè¯­å¥åªæœ‰è¯­å¥1çš„æ“ä½œå…·å¤‡åŽŸå­æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰ç®€å•çš„è¯»å–ã€èµ‹å€¼ï¼ˆè€Œä¸”å¿…é¡»æ˜¯å°†æ•°å­—èµ‹å€¼ç»™æŸä¸ªå˜é‡ï¼Œå˜é‡ä¹‹é—´çš„ç›¸äº’èµ‹å€¼ä¸æ˜¯åŽŸå­æ“ä½œï¼‰æ‰æ˜¯åŽŸå­æ“ä½œã€‚ä»Žä¸Šé¢å¯ä»¥çœ‹å‡ºï¼ŒJavaå†…å­˜æ¨¡åž‹åªä¿è¯äº†åŸºæœ¬è¯»å–å’Œèµ‹å€¼æ˜¯åŽŸå­æ€§æ“ä½œï¼Œå¦‚æžœè¦å®žçŽ°æ›´å¤§èŒƒå›´æ“ä½œçš„åŽŸå­æ€§ï¼Œå¯ä»¥é€šè¿‡synchronizedå’ŒLockæ¥å®žçŽ°ã€‚ç”±äºŽsynchronizedå’ŒLockèƒ½å¤Ÿä¿è¯ä»»ä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œè¯¥ä»£ç å—ï¼Œé‚£ä¹ˆè‡ªç„¶å°±ä¸å­˜åœ¨åŽŸå­æ€§é—®é¢˜äº†ï¼Œä»Žè€Œä¿è¯äº†åŽŸå­æ€§ã€‚å¯è§æ€§ï¼ˆVisibilityï¼‰å½“ä¸€ä¸ªå…±äº«å˜é‡è¢«volatileä¿®é¥°æ—¶ï¼Œå®ƒä¼šä¿è¯ä¿®æ”¹çš„å€¼ä¼šç«‹å³è¢«æ›´æ–°åˆ°ä¸»å­˜ï¼Œå½“æœ‰å…¶ä»–çº¿ç¨‹éœ€è¦è¯»å–æ—¶ï¼Œå®ƒä¼šåŽ»å†…å­˜ä¸­è¯»å–æ–°å€¼ã€‚è€Œæ™®é€šçš„å…±äº«å˜é‡ä¸èƒ½ä¿è¯å¯è§æ€§ï¼Œå› ä¸ºæ™®é€šå…±äº«å˜é‡è¢«ä¿®æ”¹ä¹‹åŽï¼Œä»€ä¹ˆæ—¶å€™è¢«å†™å…¥ä¸»å­˜æ˜¯ä¸ç¡®å®šçš„ï¼Œå½“å…¶ä»–çº¿ç¨‹åŽ»è¯»å–æ—¶ï¼Œæ­¤æ—¶å†…å­˜ä¸­å¯èƒ½è¿˜æ˜¯åŽŸæ¥çš„æ—§å€¼ï¼Œå› æ­¤æ— æ³•ä¿è¯å¯è§æ€§ã€‚å¦å¤–ï¼Œé€šè¿‡synchronizedå’ŒLockä¹Ÿèƒ½å¤Ÿä¿è¯å¯è§æ€§ï¼Œsynchronizedå’ŒLockèƒ½ä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èŽ·å–é”ç„¶åŽæ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œå¹¶ä¸”åœ¨é‡Šæ”¾é”ä¹‹å‰ä¼šå°†å¯¹å˜é‡çš„ä¿®æ”¹åˆ·æ–°åˆ°ä¸»å­˜å½“ä¸­ã€‚å› æ­¤å¯ä»¥ä¿è¯å¯è§æ€§ã€‚æœ‰åºæ€§ï¼ˆOrderingï¼‰åœ¨Javaå†…å­˜æ¨¡åž‹ä¸­ï¼Œå…è®¸ç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯¹æŒ‡ä»¤è¿›è¡Œé‡æŽ’åºï¼Œä½†æ˜¯é‡æŽ’åºè¿‡ç¨‹ä¸ä¼šå½±å“åˆ°å•çº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œï¼Œå´ä¼šå½±å“åˆ°å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„æ­£ç¡®æ€§ã€‚åœ¨Javaé‡Œé¢ï¼Œå¯ä»¥é€šè¿‡volatileå…³é”®å­—æ¥ä¿è¯ä¸€å®šçš„â€œæœ‰åºæ€§â€ã€‚å¦å¤–å¯ä»¥é€šè¿‡synchronizedå’ŒLockæ¥ä¿è¯æœ‰åºæ€§ï¼Œå¾ˆæ˜¾ç„¶ï¼Œsynchronizedå’ŒLockä¿è¯æ¯ä¸ªæ—¶åˆ»æ˜¯æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œç›¸å½“äºŽæ˜¯è®©çº¿ç¨‹é¡ºåºæ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œè‡ªç„¶å°±ä¿è¯äº†æœ‰åºæ€§ã€‚å¦å¤–ï¼ŒJavaå†…å­˜æ¨¡åž‹å…·å¤‡ä¸€äº›å…ˆå¤©çš„â€œæœ‰åºæ€§â€ï¼Œå³ä¸éœ€è¦é€šè¿‡ä»»ä½•æ‰‹æ®µå°±èƒ½å¤Ÿå¾—åˆ°ä¿è¯çš„æœ‰åºæ€§ï¼Œè¿™ä¸ªé€šå¸¸ä¹Ÿç§°ä¸º å…ˆè¡Œå‘ç”ŸåŽŸåˆ™ï¼ˆhappens-beforeåŽŸåˆ™ï¼‰ã€‚å¦‚æžœä¸¤ä¸ªæ“ä½œçš„æ‰§è¡Œæ¬¡åºæ— æ³•ä»Žhappens-beforeåŽŸåˆ™æŽ¨å¯¼å‡ºæ¥ï¼Œé‚£ä¹ˆå®ƒä»¬å°±ä¸èƒ½ä¿è¯å®ƒä»¬çš„æœ‰åºæ€§ï¼Œè™šæ‹Ÿæœºå¯ä»¥éšæ„åœ°å¯¹å®ƒä»¬è¿›è¡Œé‡æŽ’åºã€‚å…ˆè¡Œå‘ç”ŸåŽŸåˆ™ç¨‹åºæ¬¡åºè§„åˆ™ï¼šä¸€ä¸ªçº¿ç¨‹å†…ï¼ŒæŒ‰ç…§ä»£ç é¡ºåºï¼Œä¹¦å†™åœ¨å‰é¢çš„æ“ä½œå…ˆè¡Œå‘ç”ŸäºŽä¹¦å†™åœ¨åŽé¢çš„æ“ä½œé”å®šè§„åˆ™ï¼šä¸€ä¸ªunLockæ“ä½œå…ˆè¡Œå‘ç”ŸäºŽåŽé¢å¯¹åŒä¸€ä¸ªé”çš„lockæ“ä½œvolatileå˜é‡è§„åˆ™ï¼šå¯¹ä¸€ä¸ªå˜é‡çš„å†™æ“ä½œå…ˆè¡Œå‘ç”ŸäºŽåŽé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œä¼ é€’è§„åˆ™ï¼šå¦‚æžœæ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œBï¼Œè€Œæ“ä½œBåˆå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œCï¼Œåˆ™å¯ä»¥å¾—å‡ºæ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œCçº¿ç¨‹å¯åŠ¨è§„åˆ™ï¼šThreadå¯¹è±¡çš„start()æ–¹æ³•å…ˆè¡Œå‘ç”ŸäºŽæ­¤çº¿ç¨‹çš„æ¯ä¸ªä¸€ä¸ªåŠ¨ä½œçº¿ç¨‹ä¸­æ–­è§„åˆ™ï¼šå¯¹çº¿ç¨‹interrupt()æ–¹æ³•çš„è°ƒç”¨å…ˆè¡Œå‘ç”ŸäºŽè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿçº¿ç¨‹ç»ˆç»“è§„åˆ™ï¼šçº¿ç¨‹ä¸­æ‰€æœ‰çš„æ“ä½œéƒ½å…ˆè¡Œå‘ç”ŸäºŽçº¿ç¨‹çš„ç»ˆæ­¢æ£€æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Thread.join()æ–¹æ³•ç»“æŸã€Thread.isAlive()çš„è¿”å›žå€¼æ‰‹æ®µæ£€æµ‹åˆ°çº¿ç¨‹å·²ç»ç»ˆæ­¢æ‰§è¡Œå¯¹è±¡ç»ˆç»“è§„åˆ™ï¼šä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆå…ˆè¡Œå‘ç”ŸäºŽä»–çš„finalize()æ–¹æ³•çš„å¼€å§‹è¿™8æ¡è§„åˆ™ä¸­ï¼Œå‰4æ¡è§„åˆ™æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼ŒåŽ4æ¡è§„åˆ™éƒ½æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚ä¸‹é¢æˆ‘ä»¬æ¥è§£é‡Šä¸€ä¸‹å‰4æ¡è§„åˆ™ï¼šå¯¹äºŽç¨‹åºæ¬¡åºè§„åˆ™ï¼šä¸€æ®µç¨‹åºä»£ç çš„æ‰§è¡Œåœ¨å•ä¸ªçº¿ç¨‹ä¸­çœ‹èµ·æ¥æ˜¯æœ‰åºçš„ã€‚æ³¨æ„ï¼Œè™½ç„¶è¿™æ¡è§„åˆ™ä¸­æåˆ°â€œä¹¦å†™åœ¨å‰é¢çš„æ“ä½œå…ˆè¡Œå‘ç”ŸäºŽä¹¦å†™åœ¨åŽé¢çš„æ“ä½œâ€ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯ç¨‹åºçœ‹èµ·æ¥æ‰§è¡Œçš„é¡ºåºæ˜¯æŒ‰ç…§ä»£ç é¡ºåºæ‰§è¡Œçš„ï¼Œå› ä¸ºè™šæ‹Ÿæœºå¯èƒ½ä¼šå¯¹ç¨‹åºä»£ç è¿›è¡ŒæŒ‡ä»¤é‡æŽ’åºã€‚è™½ç„¶è¿›è¡Œé‡æŽ’åºï¼Œä½†æ˜¯æœ€ç»ˆæ‰§è¡Œçš„ç»“æžœæ˜¯ä¸Žç¨‹åºé¡ºåºæ‰§è¡Œçš„ç»“æžœä¸€è‡´çš„ï¼Œå®ƒåªä¼šå¯¹ä¸å­˜åœ¨æ•°æ®ä¾èµ–æ€§çš„æŒ‡ä»¤è¿›è¡Œé‡æŽ’åºã€‚å› æ­¤ï¼Œåœ¨å•ä¸ªçº¿ç¨‹ä¸­ï¼Œç¨‹åºæ‰§è¡Œçœ‹èµ·æ¥æ˜¯æœ‰åºæ‰§è¡Œçš„ï¼Œè¿™ä¸€ç‚¹è¦æ³¨æ„ç†è§£ã€‚äº‹å®žä¸Šï¼Œè¿™ä¸ªè§„åˆ™æ˜¯ç”¨æ¥ä¿è¯ç¨‹åºåœ¨å•çº¿ç¨‹ä¸­æ‰§è¡Œç»“æžœçš„æ­£ç¡®æ€§ï¼Œä½†æ— æ³•ä¿è¯ç¨‹åºåœ¨å¤šçº¿ç¨‹ä¸­æ‰§è¡Œçš„æ­£ç¡®æ€§ã€‚é”å®šè§„åˆ™ï¼šä¹Ÿå°±æ˜¯è¯´æ— è®ºåœ¨å•çº¿ç¨‹ä¸­è¿˜æ˜¯å¤šçº¿ç¨‹ä¸­ï¼ŒåŒä¸€ä¸ªé”å¦‚æžœå‡ºäºŽè¢«é”å®šçš„çŠ¶æ€ï¼Œé‚£ä¹ˆå¿…é¡»å…ˆå¯¹é”è¿›è¡Œäº†é‡Šæ”¾æ“ä½œï¼ŒåŽé¢æ‰èƒ½ç»§ç»­è¿›è¡Œlockæ“ä½œã€‚volatileå˜é‡è§„åˆ™ï¼šå¦‚æžœä¸€ä¸ªçº¿ç¨‹å…ˆåŽ»å†™ä¸€ä¸ªå˜é‡ï¼Œç„¶åŽä¸€ä¸ªçº¿ç¨‹åŽ»è¿›è¡Œè¯»å–ï¼Œé‚£ä¹ˆå†™å…¥æ“ä½œè‚¯å®šä¼šå…ˆè¡Œå‘ç”ŸäºŽè¯»æ“ä½œã€‚ä¼ é€’è§„åˆ™ï¼šå®žé™…ä¸Šå°±æ˜¯ä½“çŽ°happens-beforeåŽŸåˆ™å…·å¤‡ä¼ é€’æ€§ã€‚volatileå…³é”®å­—çš„åœºæ™¯æ‰€ä»¥æ€»ç»“æ¥è¯´ï¼Œvolatile å˜é‡åœ¨å„ä¸ªçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ä¸å­˜åœ¨ä¸€è‡´æ€§é—®é¢˜ï¼ˆåœ¨å„ä¸ªçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ï¼Œvolatile å˜é‡ä¹Ÿå¯ä»¥å­˜åœ¨ä¸ä¸€è‡´çš„æƒ…å†µï¼Œä½†ç”±äºŽæ¯æ¬¡ä½¿ç”¨ä¹‹å‰éƒ½è¦å…ˆåˆ·æ–°ï¼Œæ‰§è¡Œå¼•æ“Žçœ‹ä¸åˆ°ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå› æ­¤å¯ä»¥è®¤ä¸ºä¸å­˜åœ¨ä¸ä¸€è‡´æ€§é—®é¢˜ï¼‰ï¼Œä½†æ˜¯ Java é‡Œé¢çš„è¿ç®—å¹¶éžåŽŸå­æ“ä½œï¼Œå¯¼è‡´ volatile å˜é‡çš„è¿ç®—åœ¨å¹¶å‘ä¸‹ä¸€æ ·æ˜¯ä¸å®‰å…¨çš„ã€‚ç”±äºŽ volatile å˜é‡åªèƒ½ä¿è¯å¯è§æ€§ï¼Œåœ¨ä¸ç¬¦åˆä»¥ä¸‹ä¸¤æ¡è§„åˆ™çš„è¿ç®—åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦é€šè¿‡åŠ é”ï¼ˆä½¿ç”¨ synchronized æˆ– java.util.concurrent ä¸­çš„åŽŸå­ç±»ï¼‰æ¥ä¿è¯åŽŸå­æ€§ã€‚é€šå¸¸æ¥è¯´ï¼Œä½¿ç”¨volatileå¿…é¡»å…·å¤‡ä»¥ä¸‹2ä¸ªæ¡ä»¶ï¼šå¯¹å˜é‡çš„å†™æ“ä½œä¸ä¾èµ–äºŽå½“å‰å€¼è¯¥å˜é‡æ²¡æœ‰åŒ…å«åœ¨å…·æœ‰å…¶ä»–å˜é‡çš„ä¸å˜å¼ä¸­å®žé™…ä¸Šï¼Œè¿™äº›æ¡ä»¶è¡¨æ˜Žï¼Œå¯ä»¥è¢«å†™å…¥ volatile å˜é‡çš„è¿™äº›æœ‰æ•ˆå€¼ç‹¬ç«‹äºŽä»»ä½•ç¨‹åºçš„çŠ¶æ€ï¼ŒåŒ…æ‹¬å˜é‡çš„å½“å‰çŠ¶æ€ã€‚äº‹å®žä¸Šï¼Œæˆ‘çš„ç†è§£å°±æ˜¯ä¸Šé¢çš„2ä¸ªæ¡ä»¶éœ€è¦ä¿è¯æ“ä½œæ˜¯åŽŸå­æ€§æ“ä½œï¼Œæ‰èƒ½ä¿è¯ä½¿ç”¨volatileå…³é”®å­—çš„ç¨‹åºåœ¨å¹¶å‘æ—¶èƒ½å¤Ÿæ­£ç¡®æ‰§è¡Œã€‚ä¸‹é¢åˆ—ä¸¾å‡ ä¸ªJavaä¸­ä½¿ç”¨volatileçš„å‡ ä¸ªåœºæ™¯ã€‚çŠ¶æ€æ ‡è®°é‡123456789volatile boolean flag = false; while(!flag)&#123; doSomething();&#125; public void setFlag() &#123; flag = true;&#125;12345678910volatile boolean inited = false;//çº¿ç¨‹1:context = loadContext(); inited = true; //çº¿ç¨‹2:while(!inited )&#123;sleep()&#125;doSomethingwithconfig(context);double check123456789101112131415class Singleton&#123; private volatile static Singleton instance = null; private Singleton() &#123; &#125; public static Singleton getInstance() &#123; if(instance==null) &#123; synchronized (Singleton.class) &#123; if(instance==null) instance = new Singleton(); &#125; &#125; return instance; &#125;&#125;å‚è€ƒï¼šhttps://www.cnblogs.com/NaLanZiYi-LinEr/p/7492571.htmlå‚è€ƒhttps://blog.51cto.com/13981400/2320809æ·±å…¥ç†è§£JVMç¬¬äºŒç‰ˆhttps://www.cnblogs.com/dolphin0520/p/3920373.html]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¹¶å‘ç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¿ç¨‹å®‰å…¨åˆ†ç±»]]></title>
    <url>%2F2019%2F%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E5%88%86%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[çº¿ç¨‹å®‰å…¨å®šä¹‰å½“å¤šä¸ªçº¿ç¨‹è®¿é—®ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¦‚æžœä¸ç”¨è€ƒè™‘è¿™äº›çº¿ç¨‹åœ¨è¿è¡Œæ—¶çŽ¯å¢ƒä¸‹çš„è°ƒåº¦å’Œäº¤æ›¿æ‰§è¡Œï¼Œä¹Ÿä¸éœ€è¦è¿›è¡Œé¢å¤–çš„åŒæ­¥ï¼Œæˆ–è€…åœ¨è°ƒç”¨æ–¹è¿›è¡Œä»»ä½•å…¶ä»–çš„åè°ƒæ“ä½œï¼Œè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„è¡Œä¸ºéƒ½å¯ä»¥èŽ·å¾—æ­£ç¡®çš„ç»“æžœï¼Œé‚£è¿™ä¸ªå¯¹è±¡æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è¿™ä¸ªå®šä¹‰å…¶å®žå¾ˆä¸¥æ ¼ï¼Œæˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„çº¿ç¨‹å®‰å…¨éƒ½è¾¾ä¸åˆ°è¿™ä¸ªè¦æ±‚ã€‚Javaä¸­å„ç§æ“ä½œå…±äº«çš„æ•°æ®åˆ†ä¸ºä»¥ä¸‹5ç±»ï¼šä¸å¯å˜ï¼Œ ç»å¯¹çº¿ç¨‹å®‰å…¨ï¼Œ ç›¸å¯¹çº¿ç¨‹å®‰å…¨ï¼Œçº¿ç¨‹å…¼å®¹ï¼Œçº¿ç¨‹å¯¹ç«‹ã€‚ä¸å¯å˜å¯å˜ï¼ˆImmutableï¼‰çš„å¯¹è±¡ä¸€å®šæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ— è®ºæ˜¯å¯¹è±¡çš„æ–¹æ³•å®žçŽ°è¿˜æ˜¯æ–¹æ³•çš„è°ƒç”¨è€…ï¼Œéƒ½ä¸éœ€è¦å†é‡‡å–ä»»ä½•çš„çº¿ç¨‹å®‰å…¨ä¿éšœæŽªæ–½ï¼Œåªè¦ä¸€ä¸ªä¸å¯å˜çš„å¯¹è±¡è¢«æ­£ç¡®åœ°æž„å»ºå‡ºæ¥ï¼ˆæ²¡æœ‰å‘ç”Ÿthiså¼•ç”¨é€ƒé€¸çš„æƒ…å†µï¼‰ï¼Œé‚£å…¶å¤–éƒ¨çš„å¯è§çŠ¶æ€æ°¸è¿œä¹Ÿä¸ä¼šæ”¹å˜ï¼Œæ°¸è¿œä¹Ÿä¸ä¼šçœ‹åˆ°å®ƒåœ¨å¤šä¸ªçº¿ç¨‹ä¹‹ä¸­å¤„äºŽä¸ä¸€è‡´çš„çŠ¶æ€ã€‚ä¾‹ï¼šè¢«finalä¿®é¥°çš„å˜é‡ï¼Œjava.lang.Stringç±»çš„å¯¹è±¡ã€‚ç»å¯¹çº¿ç¨‹å®‰å…¨ç»å¯¹çº¿ç¨‹å®‰å…¨å°±æ˜¯æ»¡è¶³å®šä¹‰ä¸­çš„çº¿ç¨‹å®‰å…¨è¦æ±‚ã€‚ä½†æ˜¯å®žé™…ä¸ŠJava APIä¸­æ ‡æ³¨è‡ªå·±æ˜¯çº¿ç¨‹å®‰å…¨çš„ç±»å¤§å¤šæ•°éƒ½æ²¡åšåˆ°ç»å¯¹çº¿ç¨‹å®‰å…¨ã€‚æ¯”å¦‚Vectorã€‚12345678910111213141516171819202122232425262728293031// å¯¹çº¿ç¨‹å®‰å…¨çš„å®¹å™¨ Vectorçš„æµ‹è¯•public class VectorTest &#123; private static Vector&lt;Integer&gt; vector = new Vector&lt;&gt;(); public static void main(String[] args) &#123; while(true) &#123; for (int i = 0; i &lt; 100; i++) &#123; vector.add(i); &#125; Thread removeThread = new Thread(new Runnable() &#123; @Override public void run() &#123; for (int i = 0; i &lt; vector.size(); i++) &#123; vector.remove(i); &#125; &#125; &#125;); Thread printThread = new Thread(new Runnable() &#123; @Override public void run() &#123; for (int i = 0; i &lt; vector.size(); i++) &#123; System.out.println(vector.get(i)); &#125; &#125; &#125;); removeThread.start(); printThread.start(); // ä¸è¦åŒæ—¶äº§ç”Ÿè¿‡å¤šçš„çº¿ç¨‹ï¼Œå¦åˆ™ä¼šå¯¼è‡´os å‡æ­» while(Thread.activeCount() &gt; 20); &#125; &#125;&#125;å› ä¸ºå¦‚æžœå¦ä¸€ä¸ªçº¿ç¨‹æ°å¥½åœ¨é”™è¯¯çš„æ—¶é—´é‡Œåˆ é™¤äº†ä¸€ä¸ªå…ƒç´ ï¼Œå¯¼è‡´åºå·i å·²ç»ä¸å†å¯ç”¨çš„è¯ï¼Œå†ç”¨iè®¿é—®æ•°ç»„å°±ä¼šæŠ›å‡ºä¸€ä¸ªArrayIndexOutOfBoundsExceptionã€‚ä½†æ˜¯å¹¶å‘é—®é¢˜æ˜¯æœ‰å¶ç„¶æ€§çš„ï¼Œæ‰€ä»¥éœ€è¦å¤šæµ‹å‡ æ¬¡æ‰èƒ½èŽ·å¾—ç»“æžœã€‚å¦‚æžœè¦ä¿è¯è¿™æ®µä»£ç èƒ½å¤Ÿæ­£ç¡®æ‰§è¡Œä¸‹åŽ»ï¼Œä¿®æ”¹åŽçš„ä»£ç ä¸ºï¼š12345678910111213141516171819202122232425262728293031323334353637383940// å¯¹çº¿ç¨‹å®‰å…¨çš„å®¹å™¨ Vectorçš„æµ‹è¯•(ä¿®æ”¹åŽçš„ä»£ç )public class ModifiedVectorTest &#123; private static Vector&lt;Integer&gt; vector = new Vector&lt;&gt;(); public static void main(String[] args) &#123; while(true) &#123; for (int i = 0; i &lt; 100; i++) &#123; vector.add(i); &#125; Thread removeThread = new Thread(new Runnable() &#123; @Override public void run() &#123; synchronized (vector) &#123; // æ·»åŠ åŒæ­¥å—ï¼Œthis line for (int i = 0; i &lt; vector.size(); i++) &#123; vector.remove(i); &#125; &#125; &#125; &#125;); Thread printThread = new Thread(new Runnable() &#123; @Override public void run() &#123; synchronized (vector) &#123; // æ·»åŠ åŒæ­¥å—ï¼Œthis line for (int i = 0; i &lt; vector.size(); i++) &#123; System.out.println(vector.get(i)); &#125; &#125; &#125; &#125;); removeThread.start(); printThread.start(); // ä¸è¦åŒæ—¶äº§ç”Ÿè¿‡å¤šçš„çº¿ç¨‹ï¼Œå¦åˆ™ä¼šå¯¼è‡´os å‡æ­» while(Thread.activeCount() &gt; 20); &#125; &#125;&#125;ç›¸å¯¹çº¿ç¨‹å®‰å…¨ä¸Šè¿° VectorTest.java å’Œ ModifiedVectorTest.java å°±æ˜¯ç›¸å¯¹çº¿ç¨‹å®‰å…¨çš„æ¡ˆä¾‹ã€‚å®žé™…ä¸ŠJava APIæ ‡æ³¨çš„çº¿ç¨‹å®‰å…¨åŸºæœ¬éƒ½æŒ‡ç›¸å¯¹çº¿ç¨‹å®‰å…¨ã€‚çº¿ç¨‹å…¼å®¹çº¿ç¨‹å…¼å®¹æ˜¯æŒ‡å¯¹è±¡æœ¬èº«å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡åœ¨è°ƒç”¨ç«¯æ­£ç¡®åœ°ä½¿ç”¨åŒæ­¥æ‰‹æ®µæ¥ä¿è¯å¯¹è±¡åœ¨å¹¶å‘çŽ¯å¢ƒä¸­å¯ä»¥å®‰å…¨åœ°ä½¿ç”¨ã€‚çº¿ç¨‹å¯¹ç«‹å®šä¹‰æŒ‡æ— è®ºè°ƒç”¨ç«¯æ˜¯å¦é‡‡å–äº†åŒæ­¥æŽªæ–½ï¼Œéƒ½æ— æ³•åœ¨å¤šçº¿ç¨‹çŽ¯å¢ƒä¸­å¹¶å‘ä½¿ç”¨çš„ä»£ç ã€‚ç”±äºŽJavaè¯­è¨€å¤©ç”Ÿå°±å…·å¤‡å¤šçº¿ç¨‹ç‰¹æ€§ï¼Œçº¿ç¨‹å¯¹ç«‹è¿™ç§æŽ’æ–¥å¤šçº¿ç¨‹çš„ä»£ç æ˜¯å¾ˆå°‘å‡ºçŽ°çš„ï¼Œè€Œä¸”é€šå¸¸æ˜¯æœ‰å®³çš„ï¼Œåº”å½“å°½é‡é¿å…ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ–°ç”Ÿä»£å†…å­˜ä¸ºä»€ä¹ˆä½¿ç”¨ä¸¤ä¸ªSurvivor]]></title>
    <url>%2F2019%2F%E6%96%B0%E7%94%9F%E4%BB%A3%E5%86%85%E5%AD%98%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E4%B8%A4%E4%B8%AASurvivor%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆè¦æœ‰SurvivoråŒºå…ˆä¸åŽ»æƒ³ä¸ºä»€ä¹ˆæœ‰ä¸¤ä¸ªSurvivoråŒºï¼Œç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œè®¾ç½®SurvivoråŒºçš„æ„ä¹‰åœ¨å“ªé‡Œï¼Ÿå¦‚æžœæ²¡æœ‰Survivorï¼ŒEdenåŒºæ¯è¿›è¡Œä¸€æ¬¡Minor GCï¼Œå­˜æ´»çš„å¯¹è±¡å°±ä¼šè¢«é€åˆ°è€å¹´ä»£ã€‚è€å¹´ä»£å¾ˆå¿«è¢«å¡«æ»¡ï¼Œè§¦å‘Major GCï¼ˆå› ä¸ºMajor GCä¸€èˆ¬ä¼´éšç€Minor GCï¼Œä¹Ÿå¯ä»¥çœ‹åšè§¦å‘äº†Full GCï¼‰ã€‚è€å¹´ä»£çš„å†…å­˜ç©ºé—´è¿œå¤§äºŽæ–°ç”Ÿä»£ï¼Œè¿›è¡Œä¸€æ¬¡Full GCæ¶ˆè€—çš„æ—¶é—´æ¯”Minor GCé•¿å¾—å¤šã€‚ä½ ä¹Ÿè®¸ä¼šé—®ï¼Œæ‰§è¡Œæ—¶é—´é•¿æœ‰ä»€ä¹ˆåå¤„ï¼Ÿé¢‘å‘çš„Full GCæ¶ˆè€—çš„æ—¶é—´æ˜¯éžå¸¸å¯è§‚çš„ï¼Œè¿™ä¸€ç‚¹ä¼šå½±å“å¤§åž‹ç¨‹åºçš„æ‰§è¡Œå’Œå“åº”é€Ÿåº¦ï¼Œæ›´ä¸è¦è¯´æŸäº›è¿žæŽ¥ä¼šå› ä¸ºè¶…æ—¶å‘ç”Ÿè¿žæŽ¥é”™è¯¯äº†ã€‚Survivorçš„å­˜åœ¨æ„ä¹‰ï¼Œå°±æ˜¯å‡å°‘è¢«é€åˆ°è€å¹´ä»£çš„å¯¹è±¡ï¼Œè¿›è€Œå‡å°‘Full GCçš„å‘ç”Ÿï¼ŒSurvivorçš„é¢„ç­›é€‰ä¿è¯ï¼Œåªæœ‰ç»åŽ†16æ¬¡Minor GCè¿˜èƒ½åœ¨æ–°ç”Ÿä»£ä¸­å­˜æ´»çš„å¯¹è±¡ï¼Œæ‰ä¼šè¢«é€åˆ°è€å¹´ä»£ã€‚ä¸ºä»€ä¹ˆè¦è®¾ç½®ä¸¤ä¸ªSurvivoråŒºè®¾ç½®ä¸¤ä¸ªSurvivoråŒºæœ€å¤§çš„å¥½å¤„å°±æ˜¯è§£å†³äº†ç¢Žç‰‡åŒ–ã€‚stackoverflowä¸Šæœ‰ä¸€ä¸ªä¸ªäººæŽ¨èçš„å›žç­”ï¼šThe reason for the HotSpot JVMâ€™s two survivor spaces is to reduce the need to deal with fragmentation. New objects are allocated in eden space. All well and good. When thatâ€™s full, you need a GC, so kill stale objects and move live ones to a survivor space, where they can mature for a while before being promoted to the old generation. Still good so far. The next time we run out of eden space, though, we have a conundrum. The next GC comes along and clears out some space in both eden and our survivor space, but the spaces arenâ€™t contiguous. So is it better to Try to fit the survivors from eden into the holes in the survivor space that were cleared by the GC?Shift all the objects in the survivor space down to eliminate the fragmentation, and then move the survivors into it?Just say â€œscrew it, weâ€™re moving everything around anyway,â€ and copy all of the survivors from both spaces into a completely separate spaceâ€“the second survivor spaceâ€“thus leaving you with a clean eden and survivor space where you can repeat the sequence on the next GC?å‚è€ƒhttps://blog.csdn.net/antony9118/article/details/51425581https://stackoverflow.com/questions/10695298/java-gc-why-two-survivor-regions]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JVMä¸­çš„é”ä¼˜åŒ–]]></title>
    <url>%2F2019%2FJVM%E4%B8%AD%E7%9A%84%E9%94%81%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[Javaçº¿ç¨‹çš„å®žçŽ°æ–¹å¼OSä¸­çº¿ç¨‹çš„å®žçŽ°æ–¹å¼å‚è€ƒï¼šhttps://isjinhao.github.io/2019/02-%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8F%8F%E8%BF%B0%E4%B8%8E%E6%8E%A7%E5%88%B6/è®¡ç®—æœºæ“ä½œç³»ç»Ÿï¼ˆæ±¤å­ç€›ï¼‰Javaçº¿ç¨‹çš„å®žçŽ°Javaçº¿ç¨‹çš„å®žçŽ°æœºåˆ¶å’Œæ“ä½œç³»ç»Ÿæœ¬èº«æœ‰å…³ï¼Œé™äºŽç¬”è€…æ°´å¹³ï¼Œæˆ‘ä»¬ä¸‹é¢ä»‹ç»çš„Javaçº¿ç¨‹éƒ½æ˜¯åŸºäºŽLinuxå¹³å°çš„å®žçŽ°ã€‚åœ¨Linuxå¹³å°ä¸Šï¼Œä¸€æ¡Javaçº¿ç¨‹ä¼šæ˜ å°„åˆ°ä¸€ä¸ªè½»é‡çº§è¿›ç¨‹ï¼ˆLWPï¼‰ä¹‹ä¸­ï¼Œè€ŒLWPçš„æœ¬è´¨æ˜¯ä¾›ç¨‹åºä½¿ç”¨å†…æ ¸çº¿ç¨‹çš„æŽ¥å£ï¼Œæ¯ä¸ªLWPéƒ½ä¼šå¯¹åº”ä¸€ä¸ªå†…æ ¸æ”¯æŒçº¿ç¨‹ï¼ˆKLTï¼‰ï¼ŒKLTçš„è°ƒåº¦æ˜¯å†…æ ¸é€šè¿‡æ“çºµè°ƒåº¦å™¨ï¼ˆThread Schedulerï¼‰å®Œæˆï¼ŒTSçš„åŠŸèƒ½å°±æ˜¯å°†KLTçš„ä»»åŠ¡æ˜ å°„åˆ°å„ä¸ªå¤„ç†å™¨ä¸Šã€‚ä»Žè¿™å¯ä»¥çœ‹å‡ºJavaçº¿ç¨‹çš„åˆ›å»ºã€æ’¤é”€ã€åŒæ­¥ç­‰æ“ä½œéƒ½éœ€è¦è¿›è¡Œç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„è½¬æ¢ï¼Œæ˜¯ä¸€ç§æ¶ˆè€—è¾ƒå¤§çš„æ“ä½œã€‚Javaçº¿ç¨‹çš„çŠ¶æ€è‡ªæ—‹é”å’Œè‡ªé€‚åº”è‡ªæ—‹æœ€å¸¸æŽ§åˆ¶åŒæ­¥çš„æ‰‹æ®µæ˜¯äº’æ–¥ï¼Œä¹Ÿå³synchronizedï¼Œä½†æ˜¯ä»Žä¸Šé¢çš„åˆ†æžæˆ‘ä»¬å¯ä»¥çŸ¥é“äº’æ–¥æ“ä½œå¯¹æ€§èƒ½æœ€å¤§çš„å½±å“æ˜¯é˜»å¡žçš„å®žçŽ°ï¼ŒæŒ‚èµ·çº¿ç¨‹å’Œæ¢å¤çº¿ç¨‹çš„æ“ä½œéƒ½éœ€è¦è½¬å…¥å†…æ ¸æ€è¿›è¡Œã€‚ä¸è¿‡è™šæ‹Ÿæœºçš„å¼€å‘å›¢é˜Ÿæ„è¯†åˆ°ï¼Œå…±äº«æ•°æ®çš„é”å®šæ—¶é—´åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹åªä¼šæŒç»­å¾ˆçŸ­ä¸€æ®µæ—¶é—´ï¼Œæ‰€ä»¥å¯¹äºŽå¤šå¤„ç†æœºçš„æœºå™¨æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è®©åŽè¯·æ±‚é”çš„çº¿ç¨‹æ‰§è¡Œä¸€ä¸ªå¿™å¾ªçŽ¯è€Œä¸æ”¾å¼ƒå¤„ç†å™¨çš„æ‰§è¡Œæ—¶é—´ã€‚è¿™å°±æ˜¯è‡ªæ—‹é”ã€‚ä»Žä¸Šé¢çš„åˆ†æžå¯çŸ¥ï¼Œè‡ªæ—‹é”åœ¨å¤šå¤„ç†æœºçš„æœºå™¨ä¸Šå¯ä»¥å‡å°‘å†…æ ¸æ€ä¸Žç”¨æˆ·æ€ä¹‹é—´åˆ‡æ¢çš„æ¶ˆè€—ï¼Œä½†è‡ªæ—‹æœ¬èº«æ˜¯è¦å ç”¨å¤„ç†æœºæ—¶é—´çš„ï¼Œå¦‚æžœè‡ªæ—‹ç­‰å¾…çš„æ—¶é—´å¤ªå¤šå°±ä¼šç™½ç™½æ¶ˆè€—å¤„ç†æœºèµ„æºã€‚æ‰€ä»¥åœ¨JDK6ä¸­å¼•å…¥äº†è‡ªé€‚åº”çš„è‡ªæ—‹é”ï¼Œè‡ªæ—‹çš„æ—¶é—´ç”±ä¸Šæ¬¡åœ¨åŒä¸€ä¸ªé”ä¸Šçš„è‡ªæ—‹æ—¶é—´ä»¥åŠé”çš„æ‹¥æœ‰è€…å†³å®šã€‚ã€‚å¦‚æžœåœ¨åŒä¸€ä¸ªé”å¯¹è±¡ä¸Šï¼Œè‡ªæ—‹ç­‰å¾…åˆšåˆšæˆåŠŸèŽ·å¾—è¿‡é”ï¼Œå¹¶ä¸”æŒæœ‰é”çš„çº¿ç¨‹æ­£åœ¨è¿è¡Œä¸­ï¼Œé‚£ä¹ˆè™šæ‹Ÿæœºå°±ä¼šè®¤ä¸ºè¿™æ¬¡è‡ªæ—‹æœ‰å¾ˆå¤§å‡ çŽ‡æˆåŠŸï¼Œå…è®¸è‡ªæ—‹è¾ƒé•¿çš„æ—¶é—´ã€‚å¦‚æžœå¯¹äºŽæŸä¸ªé”å¾ˆå°‘è‡ªæ—‹æˆåŠŸè¿‡ï¼Œåˆ™ä»¥åŽå¯èƒ½ä¼šçœç•¥æŽ‰è‡ªæ—‹è¿‡ç¨‹ã€‚é”æ¶ˆé™¤é”æ¶ˆé™¤æŒ‡çš„æ˜¯è™šæ‹Ÿæœºå³æ—¶ç¼–è¯‘å™¨åœ¨è¿è¡Œæ—¶ï¼Œæ£€æµ‹åˆ°å¯¹ä¸å¯èƒ½å‘ç”Ÿå…±äº«çš„æ•°æ®è¿›è¡ŒåŠ é”å°±ä¼šè¿›è¡Œé”æ¶ˆé™¤ã€‚é”æ¶ˆé™¤çš„åˆ¤å®šä¾èµ–æ¥æºäºŽé€ƒé€¸åˆ†æžçš„æ•°æ®æ”¯æŒã€‚è¿™é‡Œä¼šæœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼šå¯¹è±¡ä¼šä¸ä¼šå‘ç”Ÿé€ƒé€¸å…¶å®žæ˜¯ç¨‹åºå‘˜å¯ä»¥æ„ŸçŸ¥åˆ°çš„ï¼Œå¦‚æžœå¯¹äºŽä¸€æ®µä»£ç ä¸å¯èƒ½å­˜åœ¨ç«žäº‰è‡ªç„¶ä¸ä¼šåŠ é”ã€‚ä½†æ˜¯å®žé™…ä¸ŠJavaä¸­å¾ˆå¤šçš„åŒæ­¥ä¸æ˜¯ç¨‹åºå‘˜å¯ä»¥æŽ§åˆ¶çš„ã€‚æ¯”å¦‚ï¼š123public String concatString(String s1, String s2, String s3)&#123; return s1 + s2 + s3;&#125;æˆ‘ä»¬éƒ½çŸ¥é“Stringæ˜¯ä¸€ä¸ªä¸å¯å˜çš„å¯¹è±¡ï¼Œå¯¹äºŽå­—ç¬¦ä¸²çš„è¿žæŽ¥æ€»æ˜¯é€šè¿‡ç”Ÿæˆæ–°çš„Stringå¯¹è±¡æ¥è¿›è¡Œçš„ï¼Œæ¯”å¦‚ä¸Šé¢ä»£ç çš„å®žé™…æ“ä½œæ˜¯ï¼š1234567public String concatString(String s1, String s2, String s3)&#123; StringBuffer sb = new StringBuffer(); sb.append(s1); sb.append(s2); sb.append(s3); return sb.toString();&#125;è€ŒStringBuffer.append()æ–¹æ³•ä¸­æœ‰ä¸€ä¸ªåŒæ­¥å—ï¼Œé”çš„å°±æ˜¯sbï¼š123456@Overridepublic synchronized StringBuffer append(String str) &#123; toStringCache = null; super.append(str); return this;&#125;è™½ç„¶è¿™ç§é”ç¨‹åºå‘˜æ— æ³•æŽ§åˆ¶ï¼Œä½†æ˜¯JVMå¯ä»¥è¿›è¡Œé”æ¶ˆé™¤æ¥ä¼˜åŒ–ä»£ç ã€‚é”ç²—åŒ–åŽŸåˆ™ä¸Šï¼Œæˆ‘ä»¬åœ¨ç¼–å†™å¹¶å‘ä»£ç çš„æ—¶å€™å¸Œæœ›åŒæ­¥å¿«èŒƒå›´è¶Šå°è¶Šå¥½ï¼Œè¿™æ ·æ˜¯ä¸ºäº†ä½¿éœ€è¦åŒæ­¥çš„æ“ä½œæ•°é‡å°½å¯èƒ½å˜å°ã€‚è¿™ç§åŽŸåˆ™åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯åˆç†çš„ï¼Œä½†æ˜¯å¦‚æžœä¸€ç³»åˆ—çš„è¿žç»­æ“ä½œéƒ½å¯¹åŒä¸€ä¸ªå¯¹è±¡åå¤åŠ é”å’Œè§£é”ï¼Œç”šè‡³åŠ é”å’Œè§£é”çš„æ“ä½œå‡ºçŽ°åœ¨å¾ªçŽ¯ä½“ä¸­ï¼Œä¼šå¢žåŠ å¾ˆå¤šä¸å¿…è¦çš„æ¶ˆè€—ï¼Œæ­¤æ—¶è™šæ‹Ÿæœºä¼šæŠŠé”çš„èŒƒå›´æ‰©å¤§æ¥å‡å°‘åŠ é”è§£é”çš„æ“ä½œã€‚æ¯”å¦‚ä¸Šé¢ä»£ç çš„append()æ“ä½œå°±æ˜¯å¦‚æ­¤ã€‚è½»é‡çº§é”å¯¹è±¡å¤´HotSpotè™šæ‹Ÿæœºä¸­ï¼Œå¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨çš„å¸ƒå±€å¯ä»¥åˆ†ä¸ºä¸‰å—åŒºåŸŸï¼šå¯¹è±¡å¤´ï¼ˆHeaderï¼‰ã€å®žä¾‹æ•°æ®ï¼ˆInstance Dataï¼‰å’Œå¯¹é½å¡«å……ï¼ˆPaddingï¼‰ã€‚HotSpotè™šæ‹Ÿæœºçš„å¯¹è±¡å¤´(Object Header)åŒ…æ‹¬ä¸¤éƒ¨åˆ†ä¿¡æ¯ï¼Œç¬¬ä¸€éƒ¨åˆ†ç”¨äºŽå­˜å‚¨å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®ï¼Œ å¦‚å“ˆå¸Œç ï¼ˆHashCodeï¼‰ã€GCåˆ†ä»£å¹´é¾„ã€é”çŠ¶æ€æ ‡å¿—ã€çº¿ç¨‹æŒæœ‰çš„é”ã€åå‘çº¿ç¨‹IDã€åå‘æ—¶é—´æˆ³ç­‰ç­‰ï¼Œè¿™éƒ¨åˆ†æ•°æ®çš„é•¿åº¦åœ¨32ä½å’Œ64ä½çš„è™šæ‹Ÿæœºï¼ˆæš‚ä¸è€ƒè™‘å¼€å¯åŽ‹ç¼©æŒ‡é’ˆçš„åœºæ™¯ï¼‰ä¸­åˆ†åˆ«ä¸º32ä¸ªå’Œ64ä¸ªBitsï¼Œå®˜æ–¹ç§°å®ƒä¸ºâ€œMark Wordâ€ã€‚ä½†æ˜¯å¯¹è±¡éœ€è¦å­˜å‚¨çš„è¿è¡Œæ—¶æ•°æ®å¾ˆå¤šï¼Œå…¶å®žå·²ç»è¶…å‡ºäº†32ã€64ä½Bitmapç»“æž„æ‰€èƒ½è®°å½•çš„é™åº¦ï¼Œä½†æ˜¯å¯¹è±¡å¤´ä¿¡æ¯æ˜¯ä¸Žå¯¹è±¡è‡ªèº«å®šä¹‰çš„æ•°æ®æ— å…³çš„é¢ å¤–å­˜å‚¨æˆæœ¬ï¼Œè€ƒè™‘åˆ°è™šæ‹Ÿæœºçš„ç©ºé—´æ•ˆçŽ‡ï¼ŒMark Wordè¢«è®¾è®¡æˆä¸€ä¸ªéžå›ºå®šçš„æ•°æ®ç»“æž„ä»¥ä¾¿åœ¨æžå°çš„ç©ºé—´å†…å­˜å‚¨å°½é‡å¤šçš„ä¿¡æ¯ï¼Œå®ƒä¼šæ ¹æ®å¯¹è±¡çš„çŠ¶æ€å¤ç”¨è‡ªå·±çš„å­˜å‚¨ç©ºé—´ã€‚ä¾‹å¦‚åœ¨32ä½çš„HotSpotè™šæ‹Ÿæœº ä¸­å¯¹è±¡æœªè¢«é”å®šçš„çŠ¶æ€ä¸‹ï¼ŒMark Wordçš„32ä¸ªBitsç©ºé—´ä¸­çš„25Bitsç”¨äºŽå­˜å‚¨å¯¹è±¡å“ˆå¸Œç ï¼ˆHashCodeï¼‰ï¼Œ4Bitsç”¨äºŽå­˜å‚¨å¯¹è±¡åˆ†ä»£å¹´é¾„ï¼Œ2Bitsç”¨äºŽå­˜å‚¨é”æ ‡å¿— ä½ï¼Œ1Bitå›ºå®šä¸º0ï¼Œåœ¨å…¶ä»–çŠ¶æ€ï¼ˆè½»é‡çº§é”å®šã€é‡é‡çº§é”å®šã€GCæ ‡è®°ã€å¯åå‘ï¼‰ä¸‹å¯¹è±¡çš„å­˜å‚¨å†…å®¹å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚epochï¼šåå‘æ—¶é—´æˆ³å¯¹è±¡å¤´çš„å¦å¤–ä¸€éƒ¨åˆ†æ˜¯ç±»åž‹æŒ‡é’ˆï¼Œå³æ˜¯å¯¹è±¡æŒ‡å‘å®ƒçš„ç±»çš„å…ƒæ•°æ®çš„æŒ‡é’ˆï¼Œè™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥ç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®žä¾‹ã€‚å¹¶ä¸æ˜¯æ‰€æœ‰çš„è™šæ‹Ÿæœºå®žçŽ°éƒ½å¿…é¡»åœ¨å¯¹è±¡æ•°æ®ä¸Šä¿ç•™ç±»åž‹æŒ‡é’ˆï¼Œæ¢å¥è¯è¯´æŸ¥æ‰¾å¯¹è±¡çš„å…ƒæ•°æ®ä¿¡æ¯å¹¶ä¸ä¸€å®šè¦ç»è¿‡å¯¹è±¡æœ¬èº«ï¼ˆæ¯”å¦‚é€šè¿‡å¥æŸ„è®¿é—®å¯¹è±¡æ—¶å°±å¯ä»¥ä¸é€šè¿‡å¯¹è±¡æœ¬èº«èŽ·å¾—ç±»åž‹ï¼‰ã€‚å¦å¤–ï¼Œå¦‚æžœå¯¹è±¡æ˜¯ä¸€ä¸ªJavaæ•°ç»„ï¼Œé‚£åœ¨å¯¹è±¡å¤´ä¸­è¿˜å¿…é¡»æœ‰ä¸€å—ç”¨äºŽè®°å½•æ•°ç»„é•¿åº¦çš„æ•°æ®ï¼Œå› ä¸ºè™šæ‹Ÿæœºå¯ä»¥é€šè¿‡æ™®é€šJavaå¯¹è±¡çš„å…ƒæ•°æ®ä¿¡æ¯ç¡®å®šJavaå¯¹è±¡çš„å¤§å°ï¼Œä½†æ˜¯ä»Žæ•°ç»„çš„å…ƒæ•°æ®ä¸­æ— æ³•ç¡®å®šæ•°ç»„çš„å¤§å°ã€‚è½»é‡çº§é”è½»é‡çº§é”çš„æœ¬è´¨æ˜¯å‡å°‘ä¼ ç»Ÿçš„é‡é‡çº§é”ä½¿ç”¨æ“ä½œç³»ç»Ÿäº’æ–¥é‡äº§ç”Ÿçš„æ€§èƒ½æ¶ˆè€—ã€‚å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼šåœ¨ä»£ç è¿›å…¥åŒæ­¥å—çš„æ—¶å€™ï¼Œå¦‚æžœåŒæ­¥å¯¹è±¡é”çŠ¶æ€ä¸ºæ— é”çŠ¶æ€ï¼ˆé”æ ‡å¿—ä½ä¸ºâ€œ01â€çŠ¶æ€ï¼Œæ˜¯å¦ä¸ºåå‘é”æ ‡å¿—ä¸ºâ€œ0â€ï¼‰ï¼Œè™šæ‹Ÿæœºé¦–å…ˆå°†åœ¨å½“å‰çº¿ç¨‹çš„æ ˆå¸§ä¸­å»ºç«‹ä¸€ä¸ªåä¸ºé”è®°å½•ï¼ˆLock Recordï¼‰çš„ç©ºé—´ï¼Œç”¨äºŽå­˜å‚¨é”å¯¹è±¡ç›®å‰çš„Mark Wordçš„æ‹·è´ï¼Œå®˜æ–¹ç§°ä¹‹ä¸º Displaced Mark Wordã€‚æ‹·è´å¯¹è±¡å¤´ä¸­çš„Mark Wordå¤åˆ¶åˆ°é”è®°å½•ä¸­ã€‚æ‹·è´æˆåŠŸåŽï¼Œè™šæ‹Ÿæœºå°†ä½¿ç”¨CASæ“ä½œå°è¯•å°†å¯¹è±¡çš„Mark Wordæ›´æ–°ä¸ºæŒ‡å‘Lock Recordçš„æŒ‡é’ˆï¼Œå¹¶å°†Lock recordé‡Œçš„owneræŒ‡é’ˆæŒ‡å‘object mark wordã€‚å¦‚æžœæ›´æ–°æˆåŠŸï¼Œåˆ™æ‰§è¡Œæ­¥éª¤4ï¼Œå¦åˆ™æ‰§è¡Œæ­¥éª¤5ã€‚å¦‚æžœè¿™ä¸ªæ›´æ–°åŠ¨ä½œæˆåŠŸäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±æ‹¥æœ‰äº†è¯¥å¯¹è±¡çš„é”ï¼Œå¹¶ä¸”å¯¹è±¡Mark Wordçš„é”æ ‡å¿—ä½è®¾ç½®ä¸ºâ€œ00â€ï¼Œå³è¡¨ç¤ºæ­¤å¯¹è±¡å¤„äºŽè½»é‡çº§é”å®šçŠ¶æ€ã€‚å¦‚æžœè¿™ä¸ªæ›´æ–°æ“ä½œå¤±è´¥äº†ï¼Œè™šæ‹Ÿæœºé¦–å…ˆä¼šæ£€æŸ¥å¯¹è±¡çš„Mark Wordæ˜¯å¦æŒ‡å‘å½“å‰çº¿ç¨‹çš„æ ˆå¸§ï¼Œå¦‚æžœæ˜¯å°±è¯´æ˜Žå½“å‰çº¿ç¨‹å·²ç»æ‹¥æœ‰äº†è¿™ä¸ªå¯¹è±¡çš„é”ï¼Œé‚£å°±å¯ä»¥ç›´æŽ¥è¿›å…¥åŒæ­¥å—ç»§ç»­æ‰§è¡Œã€‚å¦åˆ™è¯´æ˜Žå¤šä¸ªçº¿ç¨‹ç«žäº‰é”ï¼Œè½»é‡çº§é”å°±è¦è†¨èƒ€ä¸ºé‡é‡çº§é”ï¼Œé”æ ‡å¿—çš„çŠ¶æ€å€¼å˜ä¸ºâ€œ10â€ï¼ŒMark Wordä¸­å­˜å‚¨çš„å°±æ˜¯æŒ‡å‘é‡é‡çº§é”ï¼ˆäº’æ–¥é‡ï¼‰çš„æŒ‡é’ˆï¼ŒåŽé¢ç­‰å¾…é”çš„çº¿ç¨‹ä¹Ÿè¦è¿›å…¥é˜»å¡žçŠ¶æ€ã€‚ è€Œå½“å‰çº¿ç¨‹ä¾¿å°è¯•ä½¿ç”¨è‡ªæ—‹æ¥èŽ·å–é”ï¼Œè‡ªæ—‹å°±æ˜¯ä¸ºäº†ä¸è®©çº¿ç¨‹é˜»å¡žï¼Œè€Œé‡‡ç”¨å¾ªçŽ¯åŽ»èŽ·å–é”çš„è¿‡ç¨‹ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„ä¸¤ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€ï¼šCASæ˜¯å¯¹Mark Wordè¿›è¡Œçš„CASã€‚ç¬¬äºŒå°±æ˜¯è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆæ›´æ–°æ“ä½œå¤±è´¥äº†ï¼Œè™šæ‹Ÿæœºé¦–å…ˆä¼šæ£€æŸ¥å¯¹è±¡çš„Mark Wordæ˜¯å¦æŒ‡å‘å½“å‰çº¿ç¨‹çš„æ ˆå¸§ï¼Ÿåœ¨ä»£ç è¿›å…¥åŒæ­¥å—çš„æ—¶å€™ï¼ŒåŒæ­¥å¯¹è±¡é”çŠ¶æ€ä¸ºæ— é”çŠ¶æ€ï¼ŒæŠŠå¯¹è±¡å¤´ä¸­çš„Mark Wordå¤åˆ¶åˆ°é”è®°å½•ä¸­åŽå¦‚æžœå‘ç”Ÿäº†çº¿ç¨‹è°ƒåº¦ï¼Œå¯èƒ½å†è°ƒåº¦å›žæ¥çš„æ—¶å€™åˆ«çš„çº¿ç¨‹CASæˆåŠŸï¼Œæ‰€ä»¥æœ¬çº¿ç¨‹ä¼šCASå¤±è´¥ï¼Œæ­¤æ—¶å¯¹è±¡çš„Mark WordæŒ‡å‘åˆ«çš„çº¿ç¨‹çš„æ ˆå¸§ã€‚ä½†æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ€Žä¹ˆæ—¢èƒ½CASå¤±è´¥ï¼ŒåˆæŒ‡å‘æœ¬çº¿ç¨‹çš„æ ˆå¸§å‘¢ï¼Ÿç¬”è€…æ²¡æœ‰å¼„æ‡‚ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨æœ‰ç«žäº‰çš„æ¡ä»¶ä¸‹ï¼Œè½»é‡çº§é”ä¼šè†¨èƒ€ä¸ºé‡é‡çº§é”ï¼Œæ­¤æ—¶ä¸ä»…ä½¿ç”¨åˆ°ä¿¡å·é‡ï¼Œè¿˜ä¼šå¢žåŠ å¤šä½™çš„CASæ“ä½œï¼Œæ‰€ä»¥åœ¨æœ‰ç«žäº‰çš„æ¡ä»¶ä¸‹ï¼Œè½»é‡çº§é”çš„å¼•å…¥ä¼šå¢žåŠ çº¿ç¨‹åŒæ­¥æ¶ˆè€—ã€‚ä¸è¿‡äº‹å®žè¯æ˜Žï¼šâ€œå¯¹äºŽç»å¤§éƒ¨åˆ†çš„é”ï¼Œåœ¨æ•´ä¸ªåŒæ­¥å‘¨æœŸå†…éƒ½æ˜¯ä¸å­˜åœ¨ç«žäº‰çš„â€ï¼Œè¿™æ˜¯è½»é‡çº§é”å­˜åœ¨çš„å¿…è¦ã€‚åå‘é”è½»é‡çº§é”çš„ç›®çš„æ˜¯åœ¨æ— ç«žäº‰çš„æƒ…å†µä¸‹ä½¿ç”¨CASæ“ä½œåŽ»é™¤åŒæ­¥ä½¿ç”¨çš„äº’æ–¥é‡ã€‚è€Œåå‘é”å°±æ˜¯åœ¨æ— ç«žäº‰çš„æƒ…å†µä¸‹æŠŠæ•´ä¸ªåŒæ­¥éƒ½åŽ»æŽ‰ï¼Œè¿žCASéƒ½ä¸ç”¨åšäº†ã€‚å…·ä½“è¿‡ç¨‹ï¼šè®¿é—®Mark Wordä¸­åå‘é”çš„æ ‡è¯†æ˜¯å¦è®¾ç½®æˆ1ï¼Œé”æ ‡å¿—ä½æ˜¯å¦ä¸º01ï¼Œç¡®è®¤ä¸ºå¯åå‘çŠ¶æ€ã€‚å¦‚æžœä¸ºå¯åå‘çŠ¶æ€ï¼Œåˆ™æµ‹è¯•çº¿ç¨‹IDæ˜¯å¦æŒ‡å‘å½“å‰çº¿ç¨‹ï¼Œå¦‚æžœæ˜¯ï¼Œè¿›å…¥æ­¥éª¤5ï¼Œå¦åˆ™è¿›å…¥æ­¥éª¤3ã€‚å¦‚æžœçº¿ç¨‹IDå¹¶æœªæŒ‡å‘å½“å‰çº¿ç¨‹ï¼Œåˆ™é€šè¿‡CASæ“ä½œç«žäº‰é”ã€‚å¦‚æžœç«žäº‰æˆåŠŸï¼Œåˆ™å°†Mark Wordä¸­çº¿ç¨‹IDè®¾ç½®ä¸ºå½“å‰çº¿ç¨‹IDï¼Œç„¶åŽæ‰§è¡Œ5ï¼›å¦‚æžœç«žäº‰å¤±è´¥ï¼Œæ‰§è¡Œ4ã€‚å¦‚æžœCASèŽ·å–åå‘é”å¤±è´¥ï¼Œåˆ™è¡¨ç¤ºæœ‰ç«žäº‰ã€‚å½“åˆ°è¾¾å…¨å±€å®‰å…¨ç‚¹ï¼ˆsafepointï¼‰ï¼ˆåœ¨è¿™ä¸ªæ—¶é—´ç‚¹ä¸Šæ²¡æœ‰å­—èŠ‚ç æ­£åœ¨æ‰§è¡Œï¼‰æ—¶èŽ·å¾—åå‘é”çš„çº¿ç¨‹è¢«æŒ‚èµ·ï¼Œåå‘é”å‡çº§ä¸ºè½»é‡çº§é”ï¼Œç„¶åŽè¢«é˜»å¡žåœ¨å®‰å…¨ç‚¹çš„çº¿ç¨‹ç»§ç»­å¾€ä¸‹æ‰§è¡ŒåŒæ­¥ä»£ç ã€‚ï¼ˆæ’¤é”€åå‘é”çš„æ—¶å€™ä¼šå¯¼è‡´stop the wordï¼‰æ‰§è¡ŒåŒæ­¥ä»£ç ã€‚æ’¤é”€æ“ä½œï¼šåå‘é”åªæœ‰é‡åˆ°å…¶ä»–çº¿ç¨‹å°è¯•ç«žäº‰åå‘é”æ—¶ï¼ŒæŒæœ‰åå‘é”çš„çº¿ç¨‹æ‰ä¼šé‡Šæ”¾é”ï¼Œçº¿ç¨‹ä¸ä¼šä¸»åŠ¨åŽ»é‡Šæ”¾åå‘é”ã€‚åå‘é”çš„æ’¤é”€ï¼Œéœ€è¦ç­‰å¾…å…¨å±€å®‰å…¨ç‚¹ï¼ˆåœ¨è¿™ä¸ªæ—¶é—´ç‚¹ä¸Šæ²¡æœ‰å­—èŠ‚ç æ­£åœ¨æ‰§è¡Œï¼‰ï¼Œå®ƒä¼šé¦–å…ˆæš‚åœæ‹¥æœ‰åå‘é”çš„çº¿ç¨‹ï¼Œåˆ¤æ–­é”å¯¹è±¡æ˜¯å¦å¤„äºŽè¢«é”å®šçŠ¶æ€ï¼Œæ’¤é”€åå‘é”åŽæ¢å¤åˆ°æœªé”å®šï¼ˆæ ‡å¿—ä½ä¸ºâ€œ01â€ï¼‰æˆ–è½»é‡çº§é”ï¼ˆæ ‡å¿—ä½ä¸ºâ€œ00â€ï¼‰çš„çŠ¶æ€ã€‚é”è†¨èƒ€ä¸€ä¸ªå¯¹è±¡åˆšå¼€å§‹å®žä¾‹åŒ–çš„æ—¶å€™ï¼Œæ²¡æœ‰ä»»ä½•çº¿ç¨‹æ¥è®¿é—®å®ƒçš„æ—¶å€™ã€‚å®ƒæ˜¯å¯åå‘çš„ï¼Œæ„å‘³ç€ï¼Œå®ƒçŽ°åœ¨è®¤ä¸ºåªå¯èƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ¥è®¿é—®å®ƒï¼Œå½“åˆ°æ¥ç¬¬ä¸€ä¸ªçº¿ç¨‹æ—¶ï¼Œè¿™ä¸ªçº¿ç¨‹åœ¨ä¿®æ”¹å¯¹è±¡å¤´æˆä¸ºåå‘é”çš„æ—¶å€™ä½¿ç”¨CASæ“ä½œï¼Œè¿™æ—¶å€™çš„CASæ˜¯å¯¹å¯¹è±¡å¤´ä¸­çš„åå‘çº¿ç¨‹IDåšï¼Œä¼šå°†åå‘çº¿ç¨‹IDè¯¥ä¸ºæœ¬çº¿ç¨‹çš„IDï¼Œä¹‹åŽå†æ¬¡è®¿é—®è¿™ä¸ªå¯¹è±¡æ—¶ï¼Œåªéœ€è¦å¯¹æ¯”IDï¼Œä¸éœ€è¦å†ä½¿ç”¨CASåœ¨è¿›è¡Œæ“ä½œã€‚ä¸€æ—¦æœ‰ç¬¬äºŒä¸ªçº¿ç¨‹è®¿é—®è¿™ä¸ªå¯¹è±¡ï¼ˆä¸ªäººç†è§£ï¼Œå³ä½¿ç¬¬ä¸€ä¸ªçº¿ç¨‹è¿è¡Œç»“æŸï¼Œå®ƒæŒæœ‰çš„åå‘é”ä¸ä¼šä¸»åŠ¨é‡Šæ”¾ï¼Œå³å¯¹è±¡å¤´ä¸ä¼šè¢«ä¿®æ”¹ï¼‰ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªçº¿ç¨‹å¯ä»¥çœ‹åˆ°å¯¹è±¡æ—¶åå‘çŠ¶æ€ï¼Œè¿™æ—¶è¡¨æ˜Žåœ¨è¿™ä¸ªå¯¹è±¡ä¸Šå·²ç»å­˜åœ¨ç«žäº‰äº†ï¼Œæ£€æŸ¥åŽŸæ¥æŒæœ‰è¯¥å¯¹è±¡é”çš„çº¿ç¨‹æ˜¯å¦ä¾ç„¶å­˜æ´»ï¼Œå¦‚æžœæŒ‚äº†ï¼Œåˆ™å¯ä»¥å°†å¯¹è±¡å˜ä¸ºæ— é”çŠ¶æ€ï¼Œç„¶åŽé‡æ–°åå‘æ–°çš„çº¿ç¨‹ï¼Œå¦‚æžœåŽŸæ¥çš„çº¿ç¨‹ä¾ç„¶å­˜æ´»ï¼Œåˆ™æ£€æŸ¥è¯¥å¯¹è±¡çš„ä½¿ç”¨æƒ…å†µï¼Œå¦‚æžœä»ç„¶éœ€è¦æŒæœ‰åå‘é”ï¼Œåˆ™åå‘é”å‡çº§ä¸ºè½»é‡çº§é”ï¼Œï¼ˆåå‘é”å°±æ˜¯è¿™ä¸ªæ—¶å€™å‡çº§ä¸ºè½»é‡çº§é”çš„ï¼‰ã€‚å¦‚æžœä¸å­˜åœ¨ä½¿ç”¨äº†ï¼Œåˆ™å¯ä»¥å°†å¯¹è±¡å›žå¤æˆæ— é”çŠ¶æ€ï¼Œç„¶åŽé‡æ–°åå‘ã€‚è½»é‡çº§é”è®¤ä¸ºç«žäº‰å­˜åœ¨ï¼Œä½†æ˜¯ç«žäº‰çš„ç¨‹åº¦å¾ˆè½»ï¼Œä¸€èˆ¬ä¸¤ä¸ªçº¿ç¨‹å¯¹äºŽåŒä¸€ä¸ªé”çš„æ“ä½œéƒ½ä¼šé”™å¼€ï¼Œæˆ–è€…è¯´ç¨å¾®ç­‰å¾…ä¸€ä¸‹ï¼ˆè‡ªæ—‹ï¼‰ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å°±ä¼šé‡Šæ”¾é”ã€‚ ä½†æ˜¯å½“è‡ªæ—‹è¶…è¿‡ä¸€å®šçš„æ¬¡æ•°ï¼Œæˆ–è€…ä¸€ä¸ªçº¿ç¨‹åœ¨æŒæœ‰é”ï¼Œä¸€ä¸ªåœ¨è‡ªæ—‹ï¼Œåˆæœ‰ç¬¬ä¸‰ä¸ªæ¥è®¿æ—¶ï¼Œè½»é‡çº§é”è†¨èƒ€ä¸ºé‡é‡çº§é”ï¼Œé‡é‡çº§é”ä½¿é™¤äº†æ‹¥æœ‰é”çš„çº¿ç¨‹ä»¥å¤–çš„çº¿ç¨‹éƒ½é˜»å¡žï¼Œé˜²æ­¢CPUç©ºè½¬ã€‚æŽ˜é‡‘ä¸Šçš„å·¨ä½¬ï¼Œæå‡ºäº†ä¸€äº›æ„è§ï¼šæŒ‰ç…§å›¾ä¸­æµç¨‹ï¼Œå¦‚æžœå‘çŽ°é”å·²ç»è†¨èƒ€ä¸ºé‡é‡çº§é”ï¼Œå°±ç›´æŽ¥ä½¿ç”¨äº’æ–¥é‡mutexé˜»å¡žå½“å‰çº¿ç¨‹ã€‚ç„¶è€Œï¼Œè‡ªæ—‹é”çš„ä¸€å¤§å¥½å¤„å°±æ˜¯å‡å°‘çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ã€‚åœ¨è¿™é‡Œæ²¡æœ‰å¿…è¦ç›´æŽ¥é˜»å¡žå½“å‰çº¿ç¨‹ï¼Œå¤§å¯ä»¥åƒè½»é‡çº§é”ä¸€æ ·ï¼Œè‡ªæ—‹ä¸€ä¼šï¼Œå¤±è´¥äº†å†é˜»å¡žã€‚å‚è€ƒhttps://blog.csdn.net/choukekai/article/details/63688332https://blog.dreamtobe.cn/2015/11/13/java_synchronized/https://juejin.im/post/5a5c09d051882573282164aeæ·±å…¥ç†è§£JVMç¬¬äºŒç‰ˆï¼ˆå‘¨å¿—æ˜Žï¼‰]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JITå’Œé€ƒé€¸åˆ†æž]]></title>
    <url>%2F2019%2FJIT%E5%92%8C%E9%80%83%E9%80%B8%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[JITå…¨ç§°ï¼šJust-In-Time Compilationã€‚åœ¨éƒ¨åˆ†å•†ç”¨è™šæ‹Ÿæœºä¸­ï¼ˆå¦‚HotSpotï¼‰ï¼ŒJavaç¨‹åºæœ€åˆæ˜¯é€šè¿‡è§£é‡Šå™¨ï¼ˆInterpreterï¼‰è¿›è¡Œè§£é‡Šæ‰§è¡Œçš„ï¼Œå½“è™šæ‹Ÿæœºå‘çŽ°æŸä¸ªæ–¹æ³•æˆ–ä»£ç å—çš„è¿è¡Œç‰¹åˆ«é¢‘ç¹æ—¶ï¼Œå°±ä¼šæŠŠè¿™äº›ä»£ç è®¤å®šä¸ºâ€œçƒ­ç‚¹ä»£ç â€ã€‚ä¸ºäº†æé«˜çƒ­ç‚¹ä»£ç çš„æ‰§è¡Œæ•ˆçŽ‡ï¼Œåœ¨è¿è¡Œæ—¶ï¼Œè™šæ‹Ÿæœºå°†ä¼šæŠŠè¿™äº›ä»£ç ç¼–è¯‘æˆä¸Žæœ¬åœ°å¹³å°ç›¸å…³çš„æœºå™¨ç ï¼Œå¹¶è¿›è¡Œå„ç§å±‚æ¬¡çš„ä¼˜åŒ–ï¼Œå®Œæˆè¿™ä¸ªä»»åŠ¡çš„ç¼–è¯‘å™¨ç§°ä¸ºå³æ—¶ç¼–è¯‘å™¨ï¼ˆJust In Time Compilerï¼Œä¸‹æ–‡ç»Ÿç§°JITç¼–è¯‘å™¨ï¼‰ã€‚å¼•å…¥JITç¼–è¯‘å™¨çš„Javaç¨‹åºè¿è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾ï¼šå³æ—¶ç¼–è¯‘å™¨å¹¶ä¸æ˜¯è™šæ‹Ÿæœºå¿…é¡»çš„éƒ¨åˆ†ï¼ŒJavaè™šæ‹Ÿæœºè§„èŒƒå¹¶æ²¡æœ‰è§„å®šJavaè™šæ‹Ÿæœºå†…å¿…é¡»è¦æœ‰å³æ—¶ç¼–è¯‘å™¨å­˜åœ¨ï¼Œæ›´æ²¡æœ‰é™å®šæˆ–æŒ‡å¯¼å³æ—¶ç¼–è¯‘å™¨åº”è¯¥å¦‚ä½•åŽ»å®žçŽ°ã€‚ä½†æ˜¯ï¼Œå³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘æ€§èƒ½çš„å¥½åã€ä»£ç ä¼˜åŒ–ç¨‹åº¦çš„é«˜ä½Žå´æ˜¯è¡¡é‡ä¸€æ¬¾å•†ç”¨è™šæ‹Ÿæœºä¼˜ç§€ä¸Žå¦çš„æœ€å…³é”®çš„æŒ‡æ ‡ä¹‹ä¸€ï¼Œå®ƒä¹Ÿæ˜¯è™šæ‹Ÿæœºä¸­æœ€æ ¸å¿ƒä¸”æœ€èƒ½ä½“çŽ°è™šæ‹ŸæœºæŠ€æœ¯æ°´å¹³çš„éƒ¨åˆ†ã€‚ç”±äºŽJavaè™šæ‹Ÿæœºè§„èŒƒå¹¶æ²¡æœ‰å…·ä½“çš„çº¦æŸè§„åˆ™åŽ»é™åˆ¶å³ä½¿ç¼–è¯‘å™¨åº”è¯¥å¦‚ä½•å®žçŽ°ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†åŠŸèƒ½å®Œå…¨æ˜¯ä¸Žè™šæ‹Ÿæœºå…·ä½“å®žçŽ°ç›¸å…³çš„å†…å®¹ï¼Œå¦‚æ— ç‰¹æ®Šè¯´æ˜Žï¼Œæˆ‘ä»¬æåˆ°çš„ç¼–è¯‘å™¨ã€å³æ—¶ç¼–è¯‘å™¨éƒ½æ˜¯æŒ‡Hotspotè™šæ‹Ÿæœºå†…çš„å³æ—¶ç¼–è¯‘å™¨ï¼Œè™šæ‹Ÿæœºä¹Ÿæ˜¯ç‰¹æŒ‡HotSpotè™šæ‹Ÿæœºã€‚HotSpotè™šæ‹Ÿæœºåœ¨JDK8ä¸­é»˜è®¤å¼€å¯äº†JITã€‚ä¸Šå›¾ä¸­çš„mixed modeä¾¿æ˜¯æŒ‡åœ¨ç¡¬ä»¶ä¸Šè·‘ç¨‹åºæ—¶ï¼Œä½¿ç”¨è§£é‡Šå’ŒJITç¼–è¯‘çš„æ··åˆæ¨¡å¼ã€‚è®¾å®šHotSpotå·¥ä½œæ¨¡å¼è§£é‡Šæ¨¡å¼ï¼š-Xintç¼–è¯‘æ¨¡å¼ï¼š-Xcompæ··åˆæ¨¡å¼ï¼š-Xmixedçƒ­ç‚¹æŽ¢æµ‹å¦‚ä½•åˆ¤æ–­æ–¹æ³•æˆ–ä¸€æ®µä»£ç æˆ–æ˜¯ä¸æ˜¯çƒ­ç‚¹ä»£ç å‘¢ï¼Ÿè¦çŸ¥é“æ–¹æ³•æˆ–ä¸€æ®µä»£ç æ˜¯ä¸æ˜¯çƒ­ç‚¹ä»£ç ï¼Œæ˜¯ä¸æ˜¯éœ€è¦è§¦å‘å³æ—¶ç¼–è¯‘ï¼Œéœ€è¦è¿›è¡ŒHot Spot Detectionï¼ˆçƒ­ç‚¹æŽ¢æµ‹ï¼‰ã€‚ç›®å‰ä¸»è¦çš„çƒ­ç‚¹æŽ¢æµ‹æ–¹å¼æœ‰ä»¥ä¸‹ä¸¤ç§ï¼šåŸºäºŽé‡‡æ ·çš„çƒ­ç‚¹æŽ¢æµ‹é‡‡ç”¨è¿™ç§æ–¹æ³•çš„è™šæ‹Ÿæœºä¼šå‘¨æœŸæ€§åœ°æ£€æŸ¥å„ä¸ªçº¿ç¨‹çš„æ ˆé¡¶ï¼Œå¦‚æžœå‘çŽ°æŸäº›æ–¹æ³•ç»å¸¸å‡ºçŽ°åœ¨æ ˆé¡¶ï¼Œé‚£è¿™ä¸ªæ–¹æ³•å°±æ˜¯â€œçƒ­ç‚¹æ–¹æ³•â€ã€‚è¿™ç§æŽ¢æµ‹æ–¹æ³•çš„å¥½å¤„æ˜¯å®žçŽ°ç®€å•é«˜æ•ˆï¼Œè¿˜å¯ä»¥å¾ˆå®¹æ˜“åœ°èŽ·å–æ–¹æ³•è°ƒç”¨å…³ç³»ï¼ˆå°†è°ƒç”¨å †æ ˆå±•å¼€å³å¯ï¼‰ï¼Œç¼ºç‚¹æ˜¯å¾ˆéš¾ç²¾ç¡®åœ°ç¡®è®¤ä¸€ä¸ªæ–¹æ³•çš„çƒ­åº¦ï¼Œå®¹æ˜“å› ä¸ºå—åˆ°çº¿ç¨‹é˜»å¡žæˆ–åˆ«çš„å¤–ç•Œå› ç´ çš„å½±å“è€Œæ‰°ä¹±çƒ­ç‚¹æŽ¢æµ‹ã€‚åŸºäºŽè®¡æ•°å™¨çš„çƒ­ç‚¹æŽ¢æµ‹é‡‡ç”¨è¿™ç§æ–¹æ³•çš„è™šæ‹Ÿæœºä¼šä¸ºæ¯ä¸ªæ–¹æ³•ï¼ˆç”šè‡³æ˜¯ä»£ç å—ï¼‰å»ºç«‹è®¡æ•°å™¨ï¼Œç»Ÿè®¡æ–¹æ³•çš„æ‰§è¡Œæ¬¡æ•°ï¼Œå¦‚æžœæ‰§è¡Œæ¬¡æ•°è¶…è¿‡ä¸€å®šçš„é˜€å€¼ï¼Œå°±è®¤ä¸ºå®ƒæ˜¯â€œçƒ­ç‚¹æ–¹æ³•â€ã€‚è¿™ç§ç»Ÿè®¡æ–¹æ³•å®žçŽ°å¤æ‚ä¸€äº›ï¼Œéœ€è¦ä¸ºæ¯ä¸ªæ–¹æ³•å»ºç«‹å¹¶ç»´æŠ¤è®¡æ•°å™¨ï¼Œè€Œä¸”ä¸èƒ½ç›´æŽ¥èŽ·å–åˆ°æ–¹æ³•çš„è°ƒç”¨å…³ç³»ï¼Œä½†æ˜¯å®ƒçš„ç»Ÿè®¡ç»“æžœç›¸å¯¹æ›´åŠ ç²¾ç¡®ä¸¥è°¨ã€‚HotSpotçš„çƒ­ç‚¹æ£€æµ‹æ–¹å¼ï¼Ÿåœ¨HotSpotè™šæ‹Ÿæœºä¸­ä½¿ç”¨çš„æ˜¯ç¬¬äºŒç§â€”â€”åŸºäºŽè®¡æ•°å™¨çš„çƒ­ç‚¹æŽ¢æµ‹æ–¹æ³•ï¼Œå› æ­¤å®ƒä¸ºæ¯ä¸ªæ–¹æ³•å‡†å¤‡äº†ä¸¤ä¸ªè®¡æ•°å™¨ï¼šæ–¹æ³•è°ƒç”¨è®¡æ•°å™¨å’Œå›žè¾¹è®¡æ•°å™¨ã€‚åœ¨ç¡®å®šè™šæ‹Ÿæœºè¿è¡Œå‚æ•°çš„å‰æä¸‹ï¼Œè¿™ä¸¤ä¸ªè®¡æ•°å™¨éƒ½æœ‰ä¸€ä¸ªç¡®å®šçš„é˜ˆå€¼ï¼Œå½“è®¡æ•°å™¨è¶…è¿‡é˜ˆå€¼æº¢å‡ºäº†ï¼Œå°±ä¼šè§¦å‘JITç¼–è¯‘ã€‚æ–¹æ³•è°ƒç”¨è®¡æ•°å™¨é¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªè®¡æ•°å™¨ç”¨äºŽç»Ÿè®¡æ–¹æ³•è¢«è°ƒç”¨çš„æ¬¡æ•°ã€‚å½“ä¸€ä¸ªæ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä¼šå…ˆæ£€æŸ¥è¯¥æ–¹æ³•æ˜¯å¦å­˜åœ¨è¢«JITç¼–è¯‘è¿‡çš„ç‰ˆæœ¬ï¼Œå¦‚æžœå­˜åœ¨ï¼Œåˆ™ä¼˜å…ˆä½¿ç”¨ç¼–è¯‘åŽçš„æœ¬åœ°ä»£ç æ¥æ‰§è¡Œã€‚å¦‚æžœä¸å­˜åœ¨å·²è¢«ç¼–è¯‘è¿‡çš„ç‰ˆæœ¬ï¼Œåˆ™å°†æ­¤æ–¹æ³•çš„è°ƒç”¨è®¡æ•°å™¨å€¼åŠ 1ï¼Œç„¶åŽåˆ¤æ–­æ–¹æ³•è°ƒç”¨è®¡æ•°å™¨ä¸Žå›žè¾¹è®¡æ•°å™¨å€¼ä¹‹å’Œæ˜¯å¦è¶…è¿‡æ–¹æ³•è°ƒç”¨è®¡æ•°å™¨çš„é˜ˆå€¼ã€‚å¦‚æžœè¶…è¿‡é˜ˆå€¼ï¼Œé‚£ä¹ˆå°†ä¼šå‘å³æ—¶ç¼–è¯‘å™¨æäº¤ä¸€ä¸ªè¯¥æ–¹æ³•çš„ä»£ç ç¼–è¯‘è¯·æ±‚ã€‚å¦‚æžœä¸åšä»»ä½•è®¾ç½®ï¼Œæ‰§è¡Œå¼•æ“Žå¹¶ä¸ä¼šåŒæ­¥ç­‰å¾…ç¼–è¯‘è¯·æ±‚å®Œæˆï¼Œè€Œæ˜¯ç»§ç»­è¿›è¡Œè§£é‡Šå™¨æŒ‰ç…§è§£é‡Šæ–¹å¼æ‰§è¡Œå­—èŠ‚ç ï¼Œç›´åˆ°æäº¤çš„è¯·æ±‚è¢«ç¼–è¯‘å™¨ç¼–è¯‘å®Œæˆã€‚å½“ç¼–è¯‘å·¥ä½œå®Œæˆä¹‹åŽï¼Œè¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨å…¥å£åœ°å€å°±ä¼šç³»ç»Ÿè‡ªåŠ¨æ”¹å†™æˆæ–°çš„ï¼Œä¸‹ä¸€æ¬¡è°ƒç”¨è¯¥æ–¹æ³•æ—¶å°±ä¼šä½¿ç”¨å·²ç¼–è¯‘çš„ç‰ˆæœ¬ã€‚å›žè¾¹è®¡æ•°å™¨å®ƒçš„ä½œç”¨å°±æ˜¯ç»Ÿè®¡ä¸€ä¸ªæ–¹æ³•ä¸­å¾ªçŽ¯ä½“ä»£ç æ‰§è¡Œçš„æ¬¡æ•°ï¼Œåœ¨å­—èŠ‚ç ä¸­é‡åˆ°æŽ§åˆ¶æµå‘åŽè·³è½¬çš„æŒ‡ä»¤ç§°ä¸ºâ€œå›žè¾¹â€ã€‚é€ƒé€¸åˆ†æžåœ¨ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºä¸­ã€‹å…³äºŽJavaå †å†…å­˜æœ‰è¿™æ ·ä¸€æ®µæè¿°ï¼šä½†æ˜¯ï¼Œéšç€JITç¼–è¯‘å™¨çš„å‘å±•ä¸Žé€ƒé€¸åˆ†æžæŠ€æœ¯é€æ¸æˆç†Ÿï¼Œæ ˆä¸Šåˆ†é…ã€æ ‡é‡æ›¿æ¢ä¼˜åŒ–æŠ€æœ¯å°†ä¼šå¯¼è‡´ä¸€äº›å¾®å¦™çš„å˜åŒ–ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½åˆ†é…åˆ°å †ä¸Šä¹Ÿæ¸æ¸å˜å¾—ä¸é‚£ä¹ˆâ€œç»å¯¹â€äº†ã€‚è¿™é‡Œåªæ˜¯ç®€å•æäº†ä¸€å¥ï¼Œå¹¶æ²¡æœ‰æ·±å…¥åˆ†æžï¼Œç¬”è€…åœ¨åˆšåˆ°è¿™é‡Œç”±äºŽå¯¹JITã€é€ƒé€¸åˆ†æžç­‰æŠ€æœ¯ä¸äº†è§£ï¼Œæ— æ³•çœŸæ­£ç†è§£ä¸Šé¢è¿™æ®µè¯çš„å«ä¹‰ï¼Œä½†çŽ°åœ¨ç•¥æœ‰ç†è§£ã€‚JITåˆšæ‰å·²ç»ä»‹ç»è¿‡ï¼Œé€ƒé€¸åˆ†æžè¿™éƒ¨åˆ†æ‘˜å–å‘¨å¿—æ˜Žè€å¸ˆçš„æ·±å…¥ç†è§£JVMç¬¬äºŒç‰ˆã€‚é€ƒé€¸é€ƒé€¸åˆ†æžçš„åŸºæœ¬è¡Œä¸ºå°±æ˜¯åˆ†æžå¯¹è±¡åŠ¨æ€ä½œç”¨åŸŸï¼šæ–¹æ³•é€ƒé€¸å½“ä¸€ä¸ªå¯¹è±¡åœ¨æ–¹æ³•ä¸­è¢«å®šä¹‰åŽï¼Œå®ƒå¯èƒ½è¢«å¤–éƒ¨æ–¹æ³•æ‰€å¼•ç”¨ï¼Œä¾‹å¦‚ä½œä¸ºè°ƒç”¨å‚æ•°ä¼ é€’åˆ°å…¶ä»–åœ°æ–¹ä¸­ï¼Œç§°ä¸ºæ–¹æ³•é€ƒé€¸ã€‚123456public static StringBuffer craeteStringBuffer(String s1, String s2) &#123; StringBuffer sb = new StringBuffer(); sb.append(s1); sb.append(s2); return sb;&#125;ä¸Šè¯‰ä»£ç ä¸­è¿”å›žäº†sbï¼Œè¿™æ ·è¿™ä¸ªStringBufferæœ‰å¯èƒ½è¢«å…¶ä»–æ–¹æ³•æ‰€æ”¹å˜ï¼Œè¿™æ ·å®ƒçš„ä½œç”¨åŸŸå°±ä¸åªæ˜¯åœ¨æ–¹æ³•å†…éƒ¨ï¼Œè™½ç„¶å®ƒæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œç§°å…¶é€ƒé€¸åˆ°äº†æ–¹æ³•å¤–éƒ¨ã€‚å¦‚æžœæƒ³è¦StringBuffer sbä¸é€ƒå‡ºæ–¹æ³•ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š123456public static String createStringBuffer(String s1, String s2) &#123; StringBuffer sb = new StringBuffer(); sb.append(s1); sb.append(s2); return sb.toString();&#125;çº¿ç¨‹é€ƒé€¸åŒç†ï¼Œå¦‚æžœä¸€ä¸ªå¯¹è±¡å¯èƒ½è¢«å¤–éƒ¨çº¿ç¨‹è®¿é—®åˆ°ï¼Œè­¬å¦‚èµ‹å€¼ç»™ç±»å˜é‡æˆ–å¯ä»¥åœ¨å…¶ä»–çº¿ç¨‹ä¸­è®¿é—®çš„å®žä¾‹å˜é‡ï¼Œåˆ™ç§°ä¸ºçº¿ç¨‹é€ƒé€¸ã€‚é€ƒé€¸åˆ†æžå¦‚æžœèƒ½è¯æ˜Žä¸€ä¸ªå¯¹è±¡ä¸ä¼šé€ƒé€¸åˆ°æ–¹æ³•æˆ–çº¿ç¨‹ä»¥å¤–ï¼Œä¹Ÿå°±æ˜¯åˆ«çš„æ–¹æ³•æˆ–çº¿ç¨‹æ— æ³•é€šè¿‡ä»»ä½•é€”å¾„è®¿é—®è¿™ä¸ªå¯¹è±¡ï¼Œåˆ™å¯èƒ½ä¸ºè¿™ä¸ªå˜é‡è¿›è¡Œä¸€äº›é«˜æ•ˆçš„ä¼˜åŒ–ã€‚å¦‚ä½•ä¼˜åŒ–æ ˆä¸Šåˆ†é…Javaè™šæ‹Ÿæœºä¸­ï¼Œåœ¨Javaå †ä¸Šåˆ†é…åˆ›å»ºå¯¹è±¡çš„å†…å­˜ç©ºé—´å‡ ä¹Žæ˜¯Javaç¨‹åºå‘˜éƒ½æ¸…æ¥šçš„å¸¸è¯†äº†ï¼ŒJavaå †ä¸­çš„å¯¹è±¡å¯¹äºŽå„ä¸ªçº¿ç¨‹éƒ½æ˜¯å…±äº«å¯è§çš„ï¼Œåªè¦æŒæœ‰è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå°±å¯ä»¥è®¿é—®å †ä¸­å­˜å‚¨çš„å¯¹è±¡æ•°æ®ã€‚è™šæ‹Ÿæœºçš„åžƒåœ¾æ”¶é›†ç³»ç»Ÿå¯ä»¥å›žæ”¶å †ä¸­ä¸å†ä½¿ç”¨çš„å¯¹è±¡ï¼Œä½†å›žæ”¶åŠ¨ä½œæ— è®ºæ˜¯ç­›é€‰å¯å›žæ”¶å¯¹è±¡è¿˜æ˜¯å›žæ”¶å’Œæ•´ç†å†…å­˜éƒ½éœ€è¦è€—è´¹æ—¶é—´ã€‚å¦‚æžœç¡®å®šä¸€ä¸ªå¯¹è±¡ä¸ä¼šé€ƒé€¸å‡ºæ–¹æ³•ä¹‹å¤–ï¼Œé‚£è®©è¿™ä¸ªå¯¹è±¡åœ¨æ ˆä¸Šåˆ†é…å†…å­˜å°†ä¼šæ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„ä¸»æ„ï¼Œå¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ç©ºé—´å°±å¯ä»¥éšç€æ ˆå¸§çš„å‡ºæ ˆè€Œé”€æ¯ã€‚åœ¨ä¸€èˆ¬åº”ç”¨ä¸­ï¼Œä¸ä¼šé€ƒé€¸çš„å±€éƒ¨å¯¹è±¡æ‰€å çš„æ¯”ä¾‹å¾ˆå¤§ï¼Œå¦‚æžœèƒ½ä½¿ç”¨æ ˆä¸Šåˆ†é…ï¼Œé‚£å¤§é‡çš„å¯¹è±¡å°±ä¼šéšç€æ–¹æ³•çš„ç»“æŸè€Œè‡ªåŠ¨é”€æ¯äº†ï¼Œåžƒåœ¾æ”¶é›†ç³»ç»Ÿçš„åŽ‹åŠ›ä¼šå°å¾ˆå¤šã€‚åŒæ­¥æ¶ˆé™¤çº¿ç¨‹åŒæ­¥æœ¬èº«æ˜¯ä¸€ä¸ªå¾ˆè€—æ—¶çš„è¿‡ç¨‹ï¼Œå¦‚æžœé€ƒé€¸åˆ†æžèƒ½å¤Ÿç¡®å®šä¸€ä¸ªå˜é‡ä¸ä¼šé€ƒé€¸å‡ºçº¿ç¨‹ï¼Œæ— æ³•è¢«å…¶ä»–çº¿ç¨‹è®¿é—®ï¼Œé‚£è¿™ä¸ªå˜é‡çš„è¯»å†™è‚¯å®šå°±ä¸ä¼šæœ‰ç«žäº‰ï¼Œå¯¹è¿™ä¸ªå˜é‡å®žæ–½çš„åŒæ­¥æŽªæ–½ä¹Ÿå°±å¯ä»¥æ¶ˆé™¤æŽ‰ã€‚æ ‡é‡æ›¿æ¢æ ‡é‡æ˜¯æŒ‡ä¸€ä¸ªæ•°æ®å·²ç»æ— æ³•å†åˆ†è§£æˆæ›´å°çš„æ•°æ®æ¥æ˜¾ç¤ºäº†ï¼ŒJavaè™šæ‹Ÿæœºä¸­çš„åŽŸå§‹æ•°æ®ç±»åž‹ï¼ˆingã€longç­‰æ•°å€¼ç±»åž‹ä»¥åŠå¼•ç”¨ç±»åž‹ï¼‰éƒ½ä¸èƒ½å†è¿›ä¸€æ­¥åˆ†è§£ï¼Œä»–ä»¬å°±å¯ä»¥ç§°ä¸ºæ ‡é‡ã€‚ç›¸åº”çš„ï¼Œå¦‚æžœä¸€ä¸ªæ•°æ®å¯ä»¥ç»§ç»­åˆ†è§£ï¼Œé‚£ä¹ˆå°±æŠŠå®ƒå«åšèšåˆé‡ã€‚å¯¹è±¡å°±æ˜¯å¸¸è§çš„èšåˆé‡ã€‚å¦‚æžœæŠŠä¸€ä¸ªJavaå¯¹è±¡æ‹†æ•£ï¼Œæ ¹æ®ç¨‹åºè®¿é—®çš„æƒ…å†µï¼Œå°†å…¶ä½¿ç”¨åˆ°çš„æˆå‘˜å˜é‡æ¢å¤åŽŸå§‹ç±»åž‹æ¥è®¿é—®å°±å«åšæ ‡é‡æ›¿æ¢ã€‚å¦‚æžœé€ƒé€¸åˆ†æžè¯æ˜Žä¸€ä¸ªå¯¹è±¡ä¸ä¼šè¢«å¤–éƒ¨è®¿é—®ï¼Œå¹¶ä¸”è¿™ä¸ªå¯¹è±¡å¯ä»¥è¢«æ‹†æ•£çš„è¯ï¼Œç¨‹åºè¿è¡Œçš„æ—¶å€™å°±å¯ä»¥ä¸åˆ›å»ºè¿™ä¸ªå¯¹è±¡ï¼Œè€Œæ”¹ä¸ºç›´æŽ¥åˆ›å»ºè‹¥å¹²ä¸ªæ ‡é‡æ¥ä»£æ›¿ã€‚é€ƒé€¸åˆ†æžå¼€å¯JDK8ä¸­JITå’Œé€ƒé€¸åˆ†æžéƒ½æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œ JVMå‚æ•°å¦‚ä¸‹ï¼š-XX:+DoEscapeAnalysis ï¼š è¡¨ç¤ºå¼€å¯é€ƒé€¸åˆ†æž-XX:-DoEscapeAnalysis ï¼š è¡¨ç¤ºå…³é—­é€ƒé€¸åˆ†æžé€ƒé€¸åˆ†æžæµ‹è¯•12345678910111213141516171819202122public class Test &#123; public static void main(String[] args) &#123; long a1 = System.currentTimeMillis(); for (int i = 0; i &lt; 1000000; i++) &#123; alloc(); &#125; long a2 = System.currentTimeMillis(); System.out.println("cost " + (a2 - a1) + " ms"); // ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹å †å†…å­˜ä¸­å¯¹è±¡ä¸ªæ•°ï¼Œçº¿ç¨‹sleep try &#123; Thread.sleep(100000); &#125; catch (InterruptedException e1) &#123; e1.printStackTrace(); &#125; &#125; private static void alloc() &#123; User user = new User(); &#125; static class User &#123; &#125;&#125;å…³é—­é€ƒé€¸åˆ†æžDOSçª—å£æ‰§è¡Œå‘½ä»¤1java -Xmx4G -Xms4G -XX:-DoEscapeAnalysis -XX:+PrintGCDetails -XX:+HeapDumpOnOutOfMemoryError Testæ–°å¼€ä¸€ä¸ªDOSçª—å£ï¼Œè¾“å…¥jpsï¼Œæ‰¾åˆ°Testè¿›ç¨‹ï¼Œä½¿ç”¨jmap -histo PIDæŸ¥çœ‹ã€‚å¼€å¯é€ƒé€¸åˆ†æžDOSçª—å£æ‰§è¡Œå‘½ä»¤1java -Xmx4G -Xms4G -XX:+DoEscapeAnalysis -XX:+PrintGCDetails -XX:+HeapDumpOnOutOfMemoryError Testæ–°å¼€ä¸€ä¸ªDOSçª—å£ï¼Œè¾“å…¥jpsï¼Œæ‰¾åˆ°Testè¿›ç¨‹ï¼Œä½¿ç”¨jmap -histo PIDæŸ¥çœ‹ã€‚å¯ä»¥å‘çŽ°å¼€å¯é€ƒé€¸åˆ†æžä¹‹åŽï¼Œå †ä¸­åªåˆ›å»ºäº†11ä¸‡ä¸ªå¯¹è±¡ã€‚ä¸å¼€å¯å°±ä¼šåˆ›å»º100ä¸‡ä¸ªå¯¹è±¡ã€‚é€ƒé€¸åˆ†æžå¹¶ä¸æˆç†Ÿå…³äºŽé€ƒé€¸åˆ†æžçš„è®ºæ–‡åœ¨1999å¹´å°±å·²ç»å‘è¡¨äº†ï¼Œä½†ç›´åˆ°JDK 1.6æ‰æœ‰å®žçŽ°ï¼Œè€Œä¸”è¿™é¡¹æŠ€æœ¯åˆ°å¦‚ä»Šä¹Ÿå¹¶ä¸æ˜¯ååˆ†æˆç†Ÿçš„ã€‚å…¶æ ¹æœ¬åŽŸå› å°±æ˜¯æ— æ³•ä¿è¯é€ƒé€¸åˆ†æžçš„æ€§èƒ½æ¶ˆè€—ä¸€å®šèƒ½é«˜äºŽä»–çš„æ¶ˆè€—ã€‚è™½ç„¶ç»è¿‡é€ƒé€¸åˆ†æžå¯ä»¥åšæ ‡é‡æ›¿æ¢ã€æ ˆä¸Šåˆ†é…ã€å’Œé”æ¶ˆé™¤ã€‚ä½†æ˜¯é€ƒé€¸åˆ†æžè‡ªèº«ä¹Ÿæ˜¯éœ€è¦è¿›è¡Œä¸€ç³»åˆ—å¤æ‚çš„åˆ†æžçš„ï¼Œè¿™å…¶å®žä¹Ÿæ˜¯ä¸€ä¸ªç›¸å¯¹è€—æ—¶çš„è¿‡ç¨‹ã€‚ä¸€ä¸ªæžç«¯çš„ä¾‹å­ï¼Œå°±æ˜¯ç»è¿‡é€ƒé€¸åˆ†æžä¹‹åŽï¼Œå‘çŽ°æ²¡æœ‰ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸é€ƒé€¸çš„ã€‚é‚£è¿™ä¸ªé€ƒé€¸åˆ†æžçš„è¿‡ç¨‹å°±ç™½ç™½æµªè´¹æŽ‰äº†ã€‚è™½ç„¶è¿™é¡¹æŠ€æœ¯å¹¶ä¸ååˆ†æˆç†Ÿï¼Œä½†æ˜¯ä»–ä¹Ÿæ˜¯å³æ—¶ç¼–è¯‘å™¨ä¼˜åŒ–æŠ€æœ¯ä¸­ä¸€ä¸ªååˆ†é‡è¦çš„æ‰‹æ®µã€‚JITå’Œé€ƒé€¸åˆ†æžçš„è”ç³»æœ€å¼€å§‹çš„æ—¶å€™ç¬”è€…ä¸€ç›´ä»¥ä¸ºï¼Œé€ƒé€¸åˆ†æžæ˜¯JITä¸­çš„ä¼˜åŒ–æŠ€æœ¯ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºé€ƒé€¸åˆ†æžçš„ä»£ä»·è¾ƒå¤§ï¼Œè€ŒJITæ˜¯å¯¹çƒ­ç‚¹ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œå¦‚æžœå¯¹è¯¸å¦‚å¾ªçŽ¯ç­‰ä»£ç è¿›è¡Œé€ƒé€¸åˆ†æžï¼Œåªéœ€è¦åˆ†æžä¸€æ¬¡å°±å¯ä»¥å¾—åˆ°å¾ªçŽ¯ä¸­çš„ä»£ç æ˜¯å¦æ»¡è¶³é€ƒé€¸çš„æ¡ä»¶ï¼Œå¯ä»¥æ·¡åŒ–é€ƒé€¸åˆ†æžçš„ä»£ä»·ã€‚ä½†äº‹å®žä¸Šæ˜¯ç¬”è€…çš„ä¸€ä¸ªé”™è¯¯ç†è§£ã€‚æµ‹è¯•ä¸­å³ä½¿å…³é—­JITä¹Ÿå¯ä»¥å¼€å¯é€ƒé€¸åˆ†æžã€‚å¦‚java -Xint -XX:+DoEscapeAnalysis Testã€‚thiså¼•ç”¨é€ƒé€¸æåˆ°é€ƒé€¸ï¼Œå¿…é¡»å¼•å‡ºå¦å¤–ä¸€ä¸ªåå­—ç±»ä¼¼ï¼Œä½†æ„ä¹‰å®Œå…¨ä¸åŒçš„æ¦‚å¿µï¼Œthiså¼•ç”¨é€ƒé€¸ï¼šåœ¨æž„é€ å™¨æž„é€ è¿˜æœªå½»åº•å®Œæˆå‰ï¼ˆå³å®žä¾‹åˆå§‹åŒ–é˜¶æ®µè¿˜æœªå®Œæˆï¼‰ï¼Œå°†è‡ªèº«thiså¼•ç”¨å‘å¤–æŠ›å‡ºå¹¶è¢«å…¶ä»–çº¿ç¨‹å¤åˆ¶ï¼ˆè®¿é—®ï¼‰äº†è¯¥å¼•ç”¨ï¼Œå¯èƒ½ä¼šé—®åˆ°è¯¥è¿˜æœªè¢«åˆå§‹åŒ–çš„å˜é‡ï¼Œç”šè‡³å¯èƒ½ä¼šé€ æˆæ›´å¤§ä¸¥é‡çš„é—®é¢˜ã€‚thiså¼•ç”¨é€ƒé€¸æ˜¯ä¸€ç§é”™è¯¯ï¼Œè€Œé€ƒé€¸åˆ†æžæ˜¯ä¼˜åŒ–ç­–ç•¥ã€‚è¯¦è§ï¼šhttps://www.cnblogs.com/straybirds/p/8640748.htmlå‚è€ƒhttps://blog.csdn.net/sunxianghuang/article/details/52094859æ·±å…¥ç†è§£JVMç¬¬äºŒç‰ˆï¼Œå‘¨å¿—æ˜Žhttp://ju.outofmemory.cn/entry/354837]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºäºŽæ¯”è¾ƒçš„ä¸‰ç§ç®€å•æŽ’åº]]></title>
    <url>%2F2019%2F%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E4%B8%89%E7%A7%8D%E7%AE%80%E5%8D%95%E6%8E%92%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687#include&lt;bits/stdc++.h&gt;using namespace std;/* ç®€å•æŽ’åºï¼š å¹³å‡æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(Næ–¹)çº§åˆ«ã€‚åŒ…æ‹¬ï¼šå†’æ³¡æŽ’åºã€æ’å…¥æŽ’åºã€é€‰æ‹©æŽ’åº è¯´æ˜Žï¼š å®žçŽ°çš„ç®—æ³•éƒ½æ˜¯å‡åºæŽ’åºã€‚ */void swap(int &amp;e1, int &amp;e2)&#123; int temp = e1; e1 = e2; e2 = temp;&#125;/* å†’æ³¡æŽ’åºï¼ˆç¨³å®šï¼‰ï¼š é‡å¤åœ°èµ°è®¿è¿‡è¦æŽ’åºçš„å…ƒç´ åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æžœä»–ä»¬çš„é¡ºåºï¼ˆå¦‚ä»Žå¤§åˆ°å°ã€é¦–å­—æ¯ä»Ž Aåˆ°Zï¼‰é”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿å…ƒç´ çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰ç›¸é‚»å…ƒç´ éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´ è¯¥å…ƒç´ å·²ç»æŽ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå¤§çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ ï¼ˆå‡åºæˆ–é™åºæŽ’åˆ—ï¼‰ï¼Œå°±å¦‚åŒç¢³é…¸é¥®æ–™ä¸­äºŒæ°§åŒ–ç¢³çš„æ°”æ³¡æœ€ç»ˆä¼šä¸Šæµ®åˆ°é¡¶ç«¯ä¸€æ ·ï¼Œæ•…åâ€œå†’æ³¡æŽ’åºâ€ã€‚*/ void bubbleSort(int *arr, int len)&#123; for(int i = 0; i &lt; len - 1; i++) //len - 1 è¶Ÿå°±è¡Œ &#123; int flag = 0; for(int j = 0; j &lt; len - i - 1; j++) &#123; if(arr[j] &gt; arr[j + 1]) &#123; swap(arr[j], arr[j + 1]); flag = 1; &#125; &#125; if(flag == 0) //æŸè¶ŸæŽ’åºæ²¡æœ‰è¿›è¡Œäº¤æ¢æ—¶ï¼ŒæŽ’åºç»“æŸ break; &#125;&#125;/* æ’å…¥æŽ’åºï¼ˆç¨³å®šï¼‰ï¼š ä»Žç´¢å¼•ä¸º1çš„å…ƒç´ ï¼ˆè®¾ä¸ºtempï¼‰å¼€å§‹å¼€å§‹ï¼Œæ¯æ¬¡æŠŠä¹‹å‰çš„å…ƒç´ è°ƒæ•´æˆæœ‰åºåºåˆ—ã€‚ç”±äºŽä¹‹å‰çš„å…ƒç´ éƒ½æ˜¯æœ‰åºåºåˆ—ï¼Œ ä»ŽåŽå‘å‰è‹¥tempå°äºŽå½“å‰éåŽ†åˆ°çš„å…ƒç´ ï¼ˆarr[j]ï¼‰ï¼Œæ­¤å…ƒç´ åŽç§»ã€‚å¦åˆ™é€€å‡ºæ­¤æ¬¡éåŽ†ã€‚é€€å‡ºåŽæŠŠtempæ’å…¥å½“å‰çš„arr[j]ã€‚ */ void insertSort(int *arr, int len)&#123; for(int i = 1; i &lt; len; i++) &#123; int temp = arr[i], j; for(j = i - 1; j &gt;= 0 &amp;&amp; arr[j] &gt; temp; j--) arr[j + 1] = arr[j]; arr[j + 1] = temp; &#125;&#125;/* é€‰æ‹©æŽ’åºï¼ˆä¸ç¨³å®šï¼‰ï¼š æ¯æ¬¡ä»Žå¾…æŽ’åºçš„æ•°æ®å…ƒç´ ä¸­é€‰å‡ºæœ€å°çš„ä¸€ä¸ªå…ƒç´ ï¼Œå­˜æ”¾åœ¨åºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç›´åˆ°å…¨éƒ¨å¾…æŽ’åºçš„æ•°æ®å…ƒç´ æŽ’å®Œã€‚*/void selectSort(int *arr, int len)&#123; for(int i = 0; i &lt; len; i++) &#123; int min = i; for(int j = i; j &lt; len; j++) if(arr[j] &lt; arr[min]) min = j; swap(arr[min], arr[i]); &#125;&#125;int main()&#123; int arr[10]; srand((unsigned)time(NULL)); for(int i = 0; i &lt; 10; i++) arr[i] = rand() % 10; for(int i = 0; i &lt; 10; i++) cout &lt;&lt; arr[i] &lt;&lt; " "; cout &lt;&lt; endl; selectSort(arr, 10); for(int i = 0; i &lt; 10; i++) cout &lt;&lt; arr[i] &lt;&lt; " "; return 0;&#125;]]></content>
      <categories>
        <category>DS</category>
      </categories>
      <tags>
        <tag>DSA</tag>
        <tag>æŽ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTMLåŸºç¡€]]></title>
    <url>%2F2019%2FHTML%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[è¶…é“¾æŽ¥1&lt;a href="http://www.baidu.com" target="_self"&gt;ç™¾åº¦&lt;/a&gt;targetçš„å±žæ€§å€¼_selfï¼šåœ¨æœ¬çª—å£ä¸­æ‰“å¼€ç›®æ ‡é¡µé¢ã€‚é»˜è®¤å±žæ€§å€¼ã€‚_blankï¼šåœ¨æ–°çš„æµè§ˆå™¨çª—å£æ‰“å¼€ç›®æ ‡é¡µé¢ã€‚_parentï¼šè¿™ä¸ªç›®æ ‡ä½¿å¾—æ–‡æ¡£è½½å…¥çˆ¶çª—å£æˆ–è€…åŒ…å«æ¥è¶…é“¾æŽ¥å¼•ç”¨çš„æ¡†æž¶çš„æ¡†æž¶é›†ã€‚å¦‚æžœè¿™ä¸ªå¼•ç”¨æ˜¯åœ¨çª—å£æˆ–è€…åœ¨é¡¶çº§æ¡†æž¶ä¸­ï¼Œé‚£ä¹ˆå®ƒä¸Žç›®æ ‡_selfç­‰æ•ˆï¼Œå³å¦‚æžœä¸ä½¿ç”¨framesetï¼Œå°±å’Œ_selfç­‰æ•ˆã€‚_topï¼šè¿™ä¸ªç›®æ ‡ä½¿å¾—æ–‡æ¡£è½½å…¥åŒ…å«è¿™ä¸ªè¶…é“¾æŽ¥çš„çª—å£ï¼Œç”¨_topç›®æ ‡å°†ä¼šæ¸…é™¤æ‰€æœ‰è¢«åŒ…å«çš„æ¡†æž¶å¹¶å°†æ–‡æ¡£è½½å…¥æ•´ä¸ªæµè§ˆå™¨çª—å£ã€‚å…¶ä»–å€¼ï¼šç»™ä¸€å †è¶…é“¾æŽ¥ä»¥ç›¸åŒçš„targetå€¼ï¼Œè¿™ç§æ–¹å¼å¯ä»¥ä½¿å¾—ä¸€ç»„è¶…é“¾æŽ¥åœ¨åŒä¸€çª—å£æ‰“å¼€ï¼Œå³é€šè¿‡å•å‡»ä¸€ä¸ªçª—å£ä¸­çš„ä¸åŒé“¾æŽ¥æŽ§åˆ¶å¦ä¸€çª—å£å†…å®¹å˜åŒ–ã€‚é¦–å…ˆï¼Œæµè§ˆå™¨ä¼šæ‰¾ä¸Žtargetå€¼ç›¸ç¬¦çš„æ¡†æž¶æˆ–è€…çª—å£ä¸­çš„æ–‡æ¡£ï¼Œæœ‰åˆ™åœ¨å…¶ä¸­æ˜¾ç¤ºæ–‡æ¡£ã€‚å¦‚æžœä¸å­˜åœ¨ï¼Œæµè§ˆå™¨æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ï¼Œç»™å…¶æŒ‡å®šä¸€ä¸ªæ ‡è¯†ä¸ºtargetå€¼ï¼Œä¹‹åŽåªè¦è¯¥çª—å£ä¸å…³é—­ï¼Œå…¶å®ƒè¶…é“¾æŽ¥å°±å¯ä»¥æŒ‡å‘è¿™ä¸ªæ–°çª—å£ã€‚123456&lt;ul&gt; &lt;li&gt;&lt;a href="http://www.google.com.hk" target="HelloWorld"&gt;google&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="http://cn.bing.com" target="HelloWorld"&gt;å¿…åº”&lt;/li&gt; &lt;li&gt;&lt;a href="http://www.baidu.com" target="HelloWorld"&gt;ç™¾åº¦&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="http://www.soso.com" target="HelloWorld"&gt;æœæœ&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;é”šé“¾æŽ¥è·³è½¬è‡³ç½‘é¡µçš„æŒ‡å®šéƒ¨åˆ†ã€‚123&lt;a name="tar"&gt;&lt;!-- 1000è¡Œ --&gt;&lt;a href="#tar"&gt;é”šé“¾æŽ¥&lt;/a&gt;é“¾æŽ¥é‚®ä»¶1&lt;a href="mailto:xxx@yyy.zzz"&gt;å‘é€é‚®ä»¶&lt;/a&gt;æ°´å¹³çº¿æ ‡ç­¾&lt;hr /&gt;å›¾ç‰‡1&lt;img src="..." border="xxx" alt="yyy" title="zzz" /&gt;å›¾ç‰‡åˆ†ç±»bmpï¼šwindowsç³»ç»Ÿä¸‹çš„æ ‡å‡†ä½å›¾ï¼ˆåƒç´ ç‚¹æž„æˆçš„å›¾ï¼‰æ ¼å¼ã€‚æ–‡ä»¶è¾ƒå¤§ï¼Œä¸å»ºè®®å¤§é‡ä½¿ç”¨ã€‚gifï¼šåŠ¨å›¾ã€‚ä½†æ˜¯åªæ”¯æŒ256ç§è‰²å½©ï¼Œä¸é€‚åˆä¿å­˜å›¾ç‰‡ã€‚jpegï¼šåˆç§°jpgï¼Œæœ‰æŸåŽ‹ç¼©çš„å›¾ç‰‡ã€‚æœ‰æŸåŽ‹ç¼©ï¼šåªå¯¹å›¾åƒæˆ–å£°æ³¢ä¸­çš„æŸäº›é¢‘çŽ‡æˆåˆ†ä¸æ•æ„Ÿçš„ç‰¹æ€§ï¼Œå…è®¸åŽ‹ç¼©è¿‡ç¨‹ä¸­æŸå¤±ä¸€å®šçš„ä¿¡æ¯ï¼›è™½ç„¶ä¸èƒ½å®Œå…¨æ¢å¤åŽŸå§‹æ•°æ®ï¼Œä½†æ˜¯æ‰€æŸå¤±çš„éƒ¨åˆ†å¯¹ç†è§£åŽŸå§‹å›¾åƒçš„å½±å“ç¼©å°ï¼Œå´æ¢æ¥äº†å¤§å¾—å¤šçš„åŽ‹ç¼©æ¯”ã€‚pngï¼šæ— æŸåŽ‹ç¼©å›¾ç‰‡ã€‚altå›¾ç‰‡æ— æ³•åŠ è½½æ—¶ï¼Œç”¨äºŽæ›¿æ¢å›¾ç‰‡å†…å®¹çš„æ–‡å­—ã€‚titleé¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºçš„æ–‡å­—ã€‚å›¾ç‰‡çƒ­ç‚¹1234567&lt;img src ="planets.gif" alt="Planets" usemap ="#planetmap" /&gt;&lt;map name="planetmap"&gt; &lt;area shape="rect" coords="0,0,110,260" href="sun.htm" alt="Sun" /&gt; &lt;area shape="circle" coords="129,161,10" href="mercur.htm" alt="Mercury" /&gt; &lt;area shape="circle" coords="180,139,14" href="venus.htm" alt="Venus" /&gt;&lt;/map&gt;å‚è€ƒï¼šhttp://www.w3school.com.cn/tags/att_area_coords.aspæ–‡æœ¬æ ¼å¼åŒ–æ ‡ç­¾æ»šåŠ¨å­—å¹•12345678910111213141516171819&lt;marquee&gt;é»˜è®¤çš„æ»šåŠ¨å­—å¹•ï¼ˆå·¦â†å³ï¼‰&lt;/marquee&gt;&lt;marquee direction="right"&gt; &lt;img src="02_11 (1).jpg" width="128" /&gt; &lt;img src="02_11 (2).jpg" width="128" /&gt; &lt;img src="02_11 (3).jpg" width="128" /&gt; &lt;img src="02_11 (4).jpg" width="128" /&gt; &lt;img src="02_11 (5).jpg" width="128" /&gt; &lt;img src="02_11 (6).jpg" width="128" /&gt; &lt;img src="02_11 (7).jpg" width="128" /&gt; &lt;img src="02_11 (8).jpg" width="128" /&gt; &lt;img src="02_11 (9).jpg" width="128" /&gt;&lt;/marquee&gt;&lt;marquee height="150" bgcolor="#eeeeee" direction="up" scrollamount="220"&gt; &lt;p&gt;1111111111111111&lt;/p&gt; &lt;p&gt;2222222222222222&lt;/p&gt; &lt;p&gt;3333333333333333&lt;/p&gt; &lt;p&gt;4444444444444444&lt;/p&gt; &lt;p&gt;5555555555555555&lt;/p&gt;&lt;/marquee&gt;è¡¨æ ¼cellpaddingï¼šè§„å®šå•å…ƒè¾¹æ²¿ä¸Žå…¶å†…å®¹ä¹‹é—´çš„ç©ºç™½cellspacingï¼šè§„å®šçš„æ˜¯å•å…ƒä¹‹é—´çš„ç©ºé—´ã€‚colspanï¼šåˆå¹¶åˆ—1234567891011121314151617181920&lt;table border="1" width="400"&gt; &lt;thead&gt; &lt;tr&gt; &lt;th width="30%"&gt;å§“å&lt;/th&gt; &lt;th colspan="2" width="70%"&gt;è€ƒè¯•æˆç»©&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;å¼ ä¸‰&lt;/td&gt; &lt;td width="35%"&gt;ç†è®ºï¼š79åˆ†&lt;/td&gt; &lt;td width="35%"&gt;ä¸Šæœºï¼š88åˆ†&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;æŽå››&lt;/td&gt; &lt;td&gt;ç†è®ºï¼š87åˆ†&lt;/td&gt; &lt;td&gt;ä¸Šæœºï¼š74åˆ†&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;rowspanï¼šåˆå¹¶åˆ—123456789101112131415161718192021222324252627282930313233&lt;table border="1" width="90%" align="center"&gt; &lt;thead&gt; &lt;tr bgcolor="#eeeeee"&gt; &lt;th width="30%"&gt;æ—¥æœŸ&lt;/th&gt; &lt;th width="30%"&gt;æ—¶é—´&lt;/th&gt; &lt;th width="40%"&gt;ä¸Šæ˜ ç”µå½±&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td rowspan="3"&gt;8æœˆ1æ—¥&lt;/td&gt; &lt;td&gt;8:00-11:00&lt;/td&gt; &lt;td&gt;å“ˆåˆ©ç€ç‰¹7&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;11:00-13:00&lt;/td&gt; &lt;td&gt;å“ˆåˆ©ç€ç‰¹7&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;13:00-15:00&lt;/td&gt; &lt;td&gt;é˜¿å‡¡è¾¾2&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td rowspan="2"&gt;8æœˆ2æ—¥&lt;/td&gt; &lt;td&gt;8:00-11:00&lt;/td&gt; &lt;td&gt;å“ˆåˆ©ç€ç‰¹7&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;13:00-15:00&lt;/td&gt; &lt;td&gt;é˜¿å‡¡è¾¾2&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaçš„GC]]></title>
    <url>%2F2019%2FJava%E7%9A%84GC%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆè¿™äº›åŒºåŸŸä¸éœ€è¦è¿‡å¤šè€ƒè™‘å›žæ”¶çš„é—®é¢˜ï¼Œå› ä¸ºæ–¹æ³•ç»“æŸæˆ–è€…çº¿ç¨‹ç»“æŸæ—¶ï¼Œå†…å­˜è‡ªç„¶å°±è·Ÿç€å›žæ”¶äº†ã€‚åžƒåœ¾æ”¶é›†å™¨å…³æ³¨çš„æ˜¯å †å’Œæ–¹æ³•åŒºä¸­çš„åžƒåœ¾ã€‚å¯¹è±¡å·²æ­»å—å¯¹è±¡åˆ¤æ­»ç®—æ³•å¼•ç”¨è®¡æ•°å™¨ç»™å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼Œæ¯å½“æœ‰ä¸€ä¸ªåœ°æ–¹å¼•ç”¨å®ƒæ—¶ï¼Œè®¡æ•°å™¨å€¼å°±åŠ 1ï¼›å½“å¼•ç”¨å¤±æ•ˆæ—¶ï¼Œè®¡æ•°å™¨å€¼å°±å‡1ï¼›ä»»ä½•æ—¶åˆ»è®¡æ•°å™¨ä¸º0çš„å¯¹è±¡å°±æ˜¯ä¸å¯èƒ½å†è¢«ä½¿ç”¨çš„ã€‚ä½†è¿™ç§è®¡æ•°æ³•æ— æ³•è§£å†³å¾ªçŽ¯å¼•ç”¨çš„é—®é¢˜ï¼Œå³è‹¥Aå¯¹è±¡ä¸­æœ‰å±žæ€§Bï¼ŒBå¯¹è±¡ä¸­æœ‰å±žæ€§Aï¼Œåˆ™Aã€Bæ°¸è¿œéƒ½æœ‰è®¡æ•°ã€‚å¯è¾¾æ€§åˆ†æžç®—æ³•é€šè¿‡ä¸€ç³»åˆ—çš„ç§°ä¸ºâ€œGC Rootsâ€çš„å¯¹è±¡ä½œä¸ºèµ·å§‹ç‚¹ï¼Œä»Žè¿™äº›èŠ‚ç‚¹å¼€å§‹å‘ä¸‹æœç´¢ï¼Œæœç´¢æ‰€èµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ï¼ˆReference Chainï¼‰ï¼Œå½“ä¸€ä¸ªå¯¹è±¡åˆ°GC Rootsæ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾ç›¸è¿žï¼ˆç”¨å›¾è®ºçš„è¯æ¥è¯´ï¼Œå°±æ˜¯ä»ŽGC Rootsåˆ°è¿™ä¸ªå¯¹è±¡ä¸å¯è¾¾ï¼‰æ—¶ï¼Œåˆ™è¯æ˜Žæ­¤å¯¹è±¡æ˜¯ä¸å¯ç”¨çš„ã€‚åœ¨Javaè¯­è¨€ä¸­ï¼Œå¯ä½œä¸ºGC Rootsçš„å¯¹è±¡åŒ…æ‹¬ä¸‹é¢å‡ ç§ï¼šè™šæ‹Ÿæœºæ ˆï¼ˆæ ˆå¸§ä¸­çš„æœ¬åœ°å˜é‡è¡¨ï¼‰ä¸­å¼•ç”¨çš„å¯¹è±¡ã€‚æ–¹æ³•åŒºä¸­ç±»é™æ€å±žæ€§å¼•ç”¨çš„å¯¹è±¡ã€‚æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡ã€‚æœ¬åœ°æ–¹æ³•æ ˆä¸­JNIï¼ˆå³ä¸€èˆ¬è¯´çš„Nativeæ–¹æ³•ï¼‰å¼•ç”¨çš„å¯¹è±¡å†è°ˆå¼•ç”¨åœ¨Java1.2ä¹‹å‰ï¼Œå¼•ç”¨çš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼šå¦‚æžœreferenceç±»åž‹çš„æ•°æ®ä¸­å­˜å‚¨çš„æ•°å€¼ä»£è¡¨çš„æ˜¯å¦å¤–ä¸€å—å†…å­˜ä¸­çš„èµ·å§‹åœ°å€ï¼Œå°±ç§°è¿™å—å†…å­˜ä»£è¡¨ç€ä¸€ä¸ªå¼•ç”¨ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªå¼•ç”¨çš„å®šä¹‰æ˜¯éžå¸¸ç‹­éš˜çš„ï¼Œå› ä¸ºä»–ä¸èƒ½æè¿°ä¸€äº›â€œé¸¡è‚‹â€å¯¹è±¡ï¼Œå³æˆ‘ä»¬æœ€å¸Œæœ›çš„æ˜¯èƒ½æè¿°è¿™æ ·ä¸€ç±»å¯¹è±¡ï¼šå½“å†…å­˜ç©ºé—´è¿˜è¶³å¤Ÿæ—¶ï¼Œåˆ™èƒ½ä¿å­˜åœ¨å†…ä¸­ï¼Œå¦‚æžœå†…å­˜ç©ºé—´åœ¨å›žæ”¶åŽä»ç„¶å¾ˆç´§å¼ åˆ™å¯ä»¥æŠ›å¼ƒè¿™äº›å¯¹è±¡ã€‚æ‰€ä»¥ï¼Œåœ¨Java1.2ä»¥åŽæå‡ºäº†æ–°çš„å¼•ç”¨å®šä¹‰ï¼šå¼ºå¼•ç”¨ï¼šåœ¨ä»£ç ä¸­æ™®éå­˜åœ¨çš„ï¼Œç±»ä¼¼Object obj = new Object();ã€‚åªè¦å¼ºå¼•ç”¨è¿˜å­˜åœ¨ï¼Œåžƒåœ¾å›žæ”¶æœŸå°±æ°¸è¿œä¸ä¼šå›žæ”¶è¢«å¼•ç”¨çš„å¯¹è±¡è½¯å¼•ç”¨ï¼šç”¨æ¥æè¿°ä¸€äº›è¿˜æœ‰ç”¨ï¼Œä½†å¹¶éžå¿…é¡»çš„å¯¹è±¡ã€‚è¿™æ ·å½“ç³»ç»Ÿè¦å‘ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œå°±ä¼šæŠŠè½¯å¼•ç”¨åˆ—è¿›ç¬¬äºŒæ¬¡åžƒåœ¾å›žæ”¶çš„è®¡åˆ’ä¸­ã€‚å¼±å¼•ç”¨ï¼šæ¯”è½¯å¼•ç”¨è¿˜å¼±çš„å¼•ç”¨ï¼Œè¢«å¼±å¼•ç”¨çš„å¯¹è±¡åªèƒ½å­˜æ´»åˆ°ä¸‹ä¸€æ¬¡åžƒåœ¾å›žæ”¶ä¹‹å‰ã€‚è™šå¼•ç”¨ï¼šæœ€å¼±çš„ä¸€ç§å¼•ç”¨å…³ç³»äº†ã€‚ä½¿ç”¨è™šå¼•ç”¨çš„å”¯ä¸€ç›®çš„å°±æ˜¯åœ¨è¿™ä¸ªå¯¹è±¡å›žæ”¶å‰æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿå›žæ”¶é€šçŸ¥ã€‚ç”Ÿå­˜è¿˜æ˜¯æ­»äº¡å³ä½¿æ˜¯ä¸å¯è¾¾å¯¹è±¡ï¼Œä¹Ÿå¹¶éžæ˜¯éžæ­»ä¸å¯çš„ï¼Œè¿™æ—¶å€™å®ƒä»¬æš‚æ—¶å¤„äºŽâ€ç¼“åˆ‘â€œé˜¶æ®µï¼ŒçœŸæ­£å®£å‘Šä¸€ä¸ªå¯¹è±¡æ­»äº¡ï¼Œè‡³å°‘è¦ç»è¿‡ä¸¤æ¬¡æ ‡è®°è¿‡ç¨‹ï¼šå¦‚æžœå¯¹è±¡åœ¨è¿›è¡Œæ ¹æœç´¢åŽå‘çŽ°è·Ÿrootä¸åŒæ ¹ï¼Œå°±è¢«æ ‡è®°ä¸€æ¬¡ï¼ŒåŒæ—¶è¿›è¡Œç­›é€‰ï¼Œç­›é€‰çš„æ¡ä»¶æ˜¯æ­¤å¯¹è±¡æ˜¯å¦æœ‰å¿…è¦æ‰§è¡Œfinalize()æ–¹æ³•ï¼Œâ€æ²¡æœ‰å¿…è¦æ‰§è¡Œâ€çš„åŽŸå› å¦‚ä¸‹ï¼šå½“å¯¹è±¡æ²¡æœ‰è¦†ç›–finalize()æ–¹æ³•ï¼Œæˆ–è€…finalize()å·²ç»è¢«JVMè°ƒç”¨è¿‡ï¼ˆè¯´æ˜Žä¸€ä¸ªå¯¹è±¡çš„finalize()æ–¹æ³•åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼‰ã€‚å¦‚æžœè¿™ä¸ªå¯¹è±¡æœ‰å¿…è¦æ‰§è¡Œfinalize()æ–¹æ³•ï¼ŒJVMå°±ä¼šæŠŠå®ƒæ”¾åœ¨F-Queueä¸­ï¼Œç¨åŽJVMä¼šè§¦å‘ä¸€ä¸ªä½Žä¼˜å…ˆçº§çš„çº¿ç¨‹åŽ»æ‰§è¡Œã€‚ä½†æ˜¯åŽ»æ‰§è¡Œå¹¶ä¸æ‰¿è¯ºä¼šç­‰å¾…å®ƒè¿è¡Œç»“æŸï¼Œå› ä¸ºå¦‚æžœä¸€ä¸ªå¯¹è±¡åœ¨finalize()æ–¹æ³•ä¸­æ‰§è¡Œç¼“æ…¢ï¼Œç”šè‡³å‘ç”Ÿäº†æ­»å¾ªçŽ¯ï¼Œå°±ä¼šå¯¼è‡´F-Queueå…¶ä»–å¯¹è±¡æ°¸ä¹…å¤„äºŽç­‰å¾…çŠ¶æ€ï¼Œæ›´ä¸¥é‡çš„è¯å¯èƒ½ä¼šæ‹–åž®æ•´ä¸ªå†…å­˜å›žæ”¶ç³»ç»Ÿã€‚finalize()æ˜¯å¯¹è±¡é€ƒè„±æ­»äº¡å‘½è¿çš„æœ€åŽä¸€æ¬¡æœºä¼šï¼Œç¨åŽGCå°†ä¼šå¯¹F-Queueè¿›è¡Œç¬¬äºŒæ¬¡å°è§„æ¨¡çš„æ ‡è®°ï¼Œå¦‚æžœåœ¨finalize()ä¸­å°†è‡ªå·±å’ŒrootæŒ‚åœ¨ä¸€ä¸ªæ ¹ä¸Šï¼ˆæ¯”å¦‚æŠŠè‡ªå·±èµ‹å€¼ç»™æŸä¸ªç±»å˜é‡æˆ–è€…å¯¹è±¡çš„æˆå‘˜å˜é‡ï¼‰ï¼Œé‚£ä¹ˆåœ¨è¿™ç¬¬äºŒæ¬¡æ ‡è®°å°†ä¼šè¢«ç§»é™¤å‡ºâ€œå³å°†å›žæ”¶çš„é›†åˆâ€ï¼šå¦‚æžœå¯¹è±¡è¿˜æ²¡æœ‰é€ƒè„±ï¼Œé‚£ä¹ˆå°±åŸºæœ¬ä¸ŠçœŸçš„è¢«å›žæ”¶äº†ã€‚ä¸è¿‡éžå¸¸ä¸æŽ¨èä½¿ç”¨finalize()æ–¹æ³•è‡ªæ•‘å¯¹è±¡ï¼Œå› ä¸ºè¿™æ˜¯Javaåˆšè¯žç”Ÿä¸ºäº†ä½¿C/C++ç¨‹åºå‘˜æ›´å®¹æ˜“æŽ¥å—å®ƒä½œçš„ä¸€ä¸ªå¦¥åã€‚å®ƒçš„è¿è¡Œå¸¦ä»·é«˜æ˜‚ï¼Œä¸ç¡®å®šæ€§å¤§ï¼Œæ— æ³•ä¿è¯å„ä¸ªå¯¹è±¡çš„è°ƒç”¨é¡ºåºã€‚æœ‰äº›æ•™æä¸­æåˆ°å®ƒä½¿ç”¨â€œå…³é—­å¤–éƒ¨èµ„æºâ€ä¹‹ç±»çš„å·¥ä½œï¼Œè¿™å®Œå…¨æ˜¯å¯¹è¿™ç§æ–¹æ³•çš„ç”¨é€”çš„ä¸€ç§è‡ªæˆ‘å®‰æ…°ã€‚finalize()èƒ½åšçš„æ‰€æœ‰å·¥ä½œï¼Œä½¿ç”¨try-finallyæˆ–å…¶ä»–æ–¹æ³•éƒ½å¯ä»¥åšçš„æ›´å¥½ã€æ›´åŠæ—¶ï¼ŒJavaç¨‹åºå‘˜å®Œå…¨å¯ä»¥å¿˜æŽ‰Javaæœ‰finalize()ã€‚finalize()æµ‹è¯•ï¼š1234567891011121314151617181920212223242526272829303132333435363738public class FinalizeEscapeGC &#123; public static FinalizeEscapeGC SAVE_HOOK = null; public void isAlive() &#123; System.out.println("haha, i'm still alive!"); &#125; @Override protected void finalize() throws Throwable &#123; super.finalize(); System.out.println("finalize method executed!"); FinalizeEscapeGC.SAVE_HOOK = this; &#125; public static void main(String[] args) throws Throwable &#123; SAVE_HOOK = new FinalizeEscapeGC(); //å¯¹è±¡ç¬¬ä¸€æ¬¡æ‹¯æ•‘è‡ªå·± SAVE_HOOK = null; System.gc(); Thread.sleep(500); if(SAVE_HOOK != null) &#123; SAVE_HOOK.isAlive(); &#125; else &#123; System.out.println("5555, i'm dead!"); &#125; //å¯¹è±¡ç¬¬äºŒæ¬¡æ‹¯æ•‘è‡ªå·±ï¼Œä½†æ˜¯å´è·ªäº†ã€‚å› ä¸ºfinalizeåªèƒ½æ‰§è¡Œä¸€æ¬¡å‘€ï¼Œäº²ï¼ï¼ SAVE_HOOK = null; System.gc(); Thread.sleep(500); if(SAVE_HOOK != null) &#123; SAVE_HOOK.isAlive(); &#125; else &#123; System.out.println("5555, i'm dead!"); &#125; &#125;&#125;/*output: finalize method executed! haha, i'm still alive! 5555, i'm dead!*/å›žæ”¶æ–¹æ³•åŒºæ°¸ä¹…ä»£çš„åžƒåœ¾æ”¶é›†ä¸»è¦å›žæ”¶ä¸¤éƒ¨åˆ†å†…å®¹ï¼šåºŸå¼ƒå¸¸é‡ï¼šä»¥å¸¸é‡æ± ä¸­å­—é¢é‡çš„å›žæ”¶ä¸ºä¾‹ï¼Œå‡å¦‚ä¸€ä¸ªå­—ç¬¦ä¸²â€œabcâ€å·²ç»è¿›å…¥äº†å¸¸é‡æ± ä¸­ï¼Œä½†æ˜¯å½“å‰ç³»ç»Ÿæ²¡æœ‰ä»»ä½•ä¸€ä¸ªStringå¯¹è±¡æ˜¯å«åšâ€œabcâ€çš„ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯æ²¡æœ‰ä»»ä½•Stringå¯¹è±¡å¼•ç”¨å¸¸é‡æ± ä¸­çš„â€œabcâ€å¸¸é‡ï¼Œä¹Ÿæ²¡æœ‰å…¶ä»–åœ°æ–¹å¼•ç”¨äº†è¿™ä¸ªå­—é¢é‡ï¼Œå¦‚æžœè¿™æ—¶å‘ç”Ÿå†…å­˜å›žæ”¶ï¼Œè€Œä¸”å¿…è¦çš„è¯ï¼Œè¿™ä¸ªâ€œabcâ€å¸¸é‡å°±ä¼šè¢«ç³»ç»Ÿæ¸…ç†å‡ºå¸¸é‡æ± ã€‚å¸¸é‡æ± ä¸­çš„å…¶ä»–ç±»ï¼ˆæŽ¥å£ï¼‰ã€æ–¹æ³•ã€å­—æ®µçš„ç¬¦å·å¼•ç”¨ä¹Ÿä¸Žæ­¤ç±»ä¼¼ã€‚æ— ç”¨çš„ç±»ï¼šåˆ¤æ–­ä¸€ä¸ªç±»æ˜¯æ— ç”¨çš„ç±»çš„æ¡ä»¶æ¯”åºŸå¼ƒå˜é‡è¦è‹›åˆ»çš„å¤šï¼Œè¦åŒæ—¶æ»¡è¶³3ä¸ªæ¡ä»¶æ‰èƒ½ç®—æ˜¯â€œæ— ç”¨çš„ç±»â€ï¼šè¯¥ç±»æ‰€æœ‰çš„å®žä¾‹éƒ½å·²ç»è¢«å›žæ”¶ï¼Œæ„æ€æ˜¯å †ä¸Šæ²¡æœ‰è¯¥å¯¹è±¡çš„å®žä¾‹äº†åŠ è½½è¯¥ç±»çš„ClassLoaderå·²ç»è¢«å›žæ”¶ã€‚è¯¥ç±»å¯¹è±¡çš„java.lang.Classå¯¹è±¡æ²¡æœ‰åœ¨ä»»ä½•åœ°æ–¹è¢«å¼•ç”¨ï¼Œæ— æ³•åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡åå°„è®¿é—®è¯¥ç±»çš„æ–¹æ³•ï¼ˆå› ä¸ºé€šè¿‡åå°„ï¼Œå°±ä¸€å®šè¦åŠ è½½è¯¥ç±»ï¼‰åœ¨å¤§é‡ä½¿ç”¨åå°„ã€åŠ¨æ€ä»£ç†ã€CGLibç­‰ByteCodeæ¡†æž¶ã€åŠ¨æ€ç”ŸæˆJSPä»¥åŠOSGiè¿™ç±»é¢‘ç¹è‡ªå®šä¹‰ClassLoaderçš„åœºæ™¯éƒ½éœ€è¦è™šæ‹Ÿæœºå…·å¤‡ç±»å¸è½½çš„åŠŸèƒ½ï¼Œä»¥ä¿è¯æ°¸ä¹…ä»£ä¸ä¼šæº¢å‡ºã€‚åžƒåœ¾æ”¶é›†ç®—æ³•æ ‡è®°-æ¸…é™¤ç®—æ³•é¦–å…ˆæ ‡è®°å‡ºæ‰€æœ‰éœ€è¦å›žæ”¶çš„å¯¹è±¡ï¼Œåœ¨æ ‡è®°å®ŒæˆåŽç»Ÿä¸€å›žæ”¶æ‰€æœ‰è¢«æ ‡è®°çš„å¯¹è±¡ï¼Œå®ƒçš„æ ‡è®°è¿‡ç¨‹å…¶å®žåœ¨å‰ä¸€èŠ‚è®²è¿°å¯¹è±¡æ ‡è®°åˆ¤å®šæ—¶å·²ç»ä»‹ç»è¿‡äº†ã€‚æœ‰ä¸¤ä¸ªé—®é¢˜ï¼šä¸€æ˜¯æ•ˆçŽ‡ä¸é«˜ï¼Œå› ä¸ºå½“å¯¹è±¡æ•°é‡æ¯”è¾ƒå¤šçš„æ—¶å€™ä¸€ä¸€è¿›è¡Œæ ‡è®°å’Œæ¸…é™¤è¾ƒå¤æ‚ï¼›äºŒæ˜¯ä¼šäº§ç”Ÿå†…å­˜ç¢Žç‰‡ï¼Œå½“éœ€è¦å¤§çš„è¿žç»­å†…å­˜ç©ºé—´æ—¶ï¼Œå³ä½¿ç¢Žç‰‡å†…å­˜æ€»å’Œè¿œå¤§äºŽéœ€æ±‚ï¼Œä¹Ÿä¼šè§¦å‘åžƒåœ¾å›žæ”¶æ“ä½œã€‚å¤åˆ¶ç®—æ³•å°†å¯ç”¨å†…å­˜æŒ‰å®¹é‡åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„ä¸¤å—ï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­çš„ä¸€å—ã€‚å½“è¿™ä¸€å—çš„å†…å­˜ç”¨å®Œäº†ï¼Œå°±å°†è¿˜å­˜æ´»ç€çš„å¯¹è±¡å¤åˆ¶åˆ°å¦å¤–ä¸€å—ä¸Šé¢ï¼Œç„¶åŽå†æŠŠå·²ä½¿ç”¨è¿‡çš„å†…å­˜ç©ºé—´ä¸€æ¬¡æ¸…ç†æŽ‰ã€‚å®žçŽ°ç®€å•ï¼Œè¿è¡Œé«˜æ•ˆï¼Œä½†æ˜¯ç©ºé—´ç¼©å°ä¸ºåŽŸæ¥çš„ä¸€åŠäº†ã€‚çŽ°åœ¨çš„å•†ä¸šJVMé‡‡ç”¨è¿™ç§ç®—æ³•æ¥å›žæ”¶æ–°ç”Ÿä»£ï¼ŒIBMç»è¿‡è°ƒç ”å‘çŽ°ï¼Œæ–°ç”Ÿä»£çš„å¯¹è±¡98%éƒ½æ˜¯æœç”Ÿå¤•æ­»çš„ï¼Œæ‰€æœ‰å¹¶ä¸éœ€è¦æŒ‰ç…§1ï¼š1çš„æ¯”ä¾‹æ¥åˆ’åˆ†å†…å­˜ç©ºé—´ï¼Œè€Œæ˜¯å°†å†…å­˜åˆ†ä¸ºä¸€å—è¾ƒå¤§çš„Edenç©ºé—´å’Œå’Œä¸¤å—è¾ƒå°çš„Survivorç©ºé—´ï¼Œæ¯æ¬¡ä½¿ç”¨Edenå’Œå…¶ä¸­çš„ä¸€å—Survivorã€‚å½“å›žæ”¶æ—¶ï¼Œå°†Edenå’ŒSurvivorè¿˜å­˜æ´»ç€çš„å¯¹è±¡ä¸€æ¬¡æ€§æ‹·è´åˆ°å¦å¤–ä¸€å—Survivorç©ºé—´ä¸Šï¼Œæœ€åŽæ¸…ç†æŽ‰Edenå’Œåˆšæ‰ç”¨è¿‡çš„Survivorçš„ç©ºé—´ã€‚HotSpotè™šæ‹Ÿæœºé»˜è®¤Edenå’ŒSurvivorçš„å¤§å°æ¯”ä¾‹æ˜¯8ï¼š1ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡æ–°ç”Ÿä»£ä¸­å¯ç”¨å†…å­˜ç©ºé—´ä¸ºæ•´ä¸ªå†…å­˜ç©ºé—´çš„9/10ï¼Œåªæœ‰10%çš„å†…å­˜æ˜¯ç”¨æ¥æµªè´¹çš„ã€‚å½“ç„¶äº†ï¼Œæˆ‘ä»¬æ— æ³•ä¿è¯æ¯æ¬¡å›žæ”¶åªæœ‰å°‘äºŽ10%çš„å¯¹è±¡å­˜æ´»ï¼Œå½“å­˜æ´»å¯¹è±¡å¤§äºŽ10%ï¼Œå°±ä¼šå€Ÿç”¨å…¶ä»–å†…å­˜ï¼ˆè¿™é‡ŒæŒ‡è€å¹´ä»£ï¼‰è¿›è¡Œåˆ†é…æ‹…ä¿ã€‚åˆ†é…æ‹…ä¿çš„è¯¦ç»†ä»‹ç»åœ¨åŽé¢ã€‚æ ‡è®°æ•´ç†ç®—æ³•æ ‡è®°è¿‡ç¨‹ä»ç„¶ä¸Žâ€œæ ‡è®°-æ¸…é™¤â€ç®—æ³•ä¸€æ ·ï¼Œä½†åŽç»­æ­¥éª¤ä¸æ˜¯ç›´æŽ¥å¯¹å¯å›žæ”¶å¯¹è±¡è¿›è¡Œæ¸…ç†ï¼Œè€Œæ˜¯è®©æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡éƒ½å‘ä¸€ç«¯ç§»åŠ¨ï¼Œç„¶åŽç›´æŽ¥æ¸…ç†æŽ‰ç«¯è¾¹ç•Œä»¥å¤–çš„å†…å­˜ã€‚ï¼ˆè€å¹´ä»£ä¸€èˆ¬é‡‡ç”¨è¿™ä¸ªæ–¹æ³•ï¼‰åˆ†ä»£æ”¶é›†ç®—æ³•å½“å‰å•†ä¸šè™šæ‹Ÿæœºçš„åžƒåœ¾å›žæ”¶éƒ½é‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œè¿™ç§ç®—æ³•æ²¡æœ‰å•¥ç‰¹åˆ«çš„ï¼Œå°±æ˜¯æ ¹æ®å¯¹è±¡çš„å­˜æ´»å‘¨æœŸçš„ä¸åŒå°†å†…å­˜åˆ’åˆ†ä¸ºå‡ å—ï¼Œä¸€èˆ¬æ˜¯æŠŠJavaå †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®æ¯ä¸ªä»£ä¸åŒçš„ç‰¹ç‚¹é‡‡ç”¨æœ€é€‚å½“çš„å›žæ”¶ç®—æ³•ã€‚æ¯”å¦‚æ–°ç”Ÿä»£å­˜æ´»å¯¹è±¡å°‘ï¼Œå°±é‡‡ç”¨å¤åˆ¶ç®—æ³•ï¼›è€å¹´ä»£å­˜æ´»å¯¹è±¡å°‘ï¼Œå¤åˆ¶çš„è¯ä»£ä»·å¤ªå¤§ï¼Œå°±å¯ä»¥é‡‡ç”¨æ ‡è®°-æ•´ç†ç®—æ³•ã€‚HotSpot çš„ç®—æ³•å®žçŽ°æžšä¸¾æ ¹èŠ‚ç‚¹å¯è¾¾æ€§åˆ†æžåœ¨é€ä¸ªæ£€æŸ¥å¼•ç”¨é“¾å’ŒGCåœé¡¿ï¼ˆä¿è¯åˆ†æžå·¥ä½œçš„ä¸€è‡´æ€§ï¼‰ä¸Šæµªè´¹æ—¶é—´è¾ƒå¤šã€‚ä¸»æµJavaè™šæ‹Ÿæœºä½¿ç”¨çš„éƒ½æ˜¯å‡†ç¡®å¼GCï¼Œå³è™šæ‹Ÿæœºåº”å½“æœ‰åŠžæ³•ç›´æŽ¥å¾—çŸ¥å“ªäº›åœ°æ–¹å­˜æ”¾ç€å¯¹è±¡çš„å¼•ç”¨ã€‚HotSpotæ˜¯é€šè¿‡ä¸€ä¸ªOopMapçš„æ•°æ®ç»“æž„æ¥è¾¾åˆ°è¿™ä¸ªç›®çš„çš„ã€‚åœ¨ç±»åŠ è½½å®Œæˆçš„æ—¶å€™ï¼ŒHotSpotå°±æŠŠå¯¹è±¡å†…ä»€ä¹ˆåç§»é‡ä¸Šæ˜¯ä»€ä¹ˆç±»åž‹çš„æ•°æ®è®¡ç®—å‡ºæ¥ï¼Œåœ¨JITç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¼šåœ¨ç‰¹å®šçš„ä½ç½®è®°å½•ä¸‹æ ˆå’Œå¯„å­˜å™¨ä¸­å“ªäº›ä½ç½®æ˜¯å¼•ç”¨ã€‚å®‰å…¨ç‚¹HotSpotæ²¡æœ‰ä¸ºæ¯æ¡æŒ‡ä»¤éƒ½ç”ŸæˆOopMapï¼Œé‚£æ ·å ç”¨ç©ºé—´å¤ªå¤šï¼Œå‰é¢å·²ç»æåˆ°ï¼Œåªæ˜¯åœ¨â€œç‰¹å®šçš„ä½ç½®â€è®°å½•äº†è¿™äº›ä¿¡æ¯ï¼Œè¿™äº›ä½ç½®ç§°ä¸ºå®‰å…¨ç‚¹ï¼ˆSafepointï¼‰ï¼Œå³ç¨‹åºæ‰§è¡Œæ—¶å¹¶éžåœ¨æ‰€æœ‰åœ°æ–¹éƒ½èƒ½åœé¡¿ä¸‹æ¥å¼€å§‹GCï¼Œåªæœ‰åœ¨åˆ°è¾¾å®‰å…¨ç‚¹æ—¶æ‰èƒ½æš‚åœã€‚Safepointçš„é€‰å®šæ—¢ä¸èƒ½å¤ªå°‘ä»¥è‡´äºŽè®©GCç­‰å¾…æ—¶é—´å¤ªé•¿ï¼Œä¹Ÿä¸èƒ½è¿‡äºŽé¢‘ç¹ä»¥è‡´äºŽè¿‡åˆ†å¢žå¤§è¿è¡Œæ—¶çš„è´Ÿè·ã€‚æ‰€ä»¥ï¼Œå®‰å…¨ç‚¹çš„é€‰å®šåŸºæœ¬ä¸Šæ˜¯ä»¥ç¨‹åºâ€œæ˜¯å¦å…·æœ‰è®©ç¨‹åºé•¿æ—¶é—´æ‰§è¡Œçš„ç‰¹å¾â€ä¸ºæ ‡å‡†è¿›è¡Œé€‰å®šçš„ï¼Œâ€œé•¿æ—¶é—´æ‰§è¡Œâ€çš„æœ€æ˜Žæ˜¾ç‰¹å¾å°±æ˜¯æŒ‡ä»¤åºåˆ—å¤ç”¨ï¼Œä¾‹å¦‚æ–¹æ³•è°ƒç”¨ã€å¾ªçŽ¯è·³è½¬ã€å¼‚å¸¸è·³è½¬ç­‰ï¼Œæ‰€ä»¥å…·æœ‰è¿™äº›åŠŸèƒ½çš„æŒ‡ä»¤æ‰ä¼šäº§ç”ŸSafepointã€‚å¦ä¸€ä¸ªé—®é¢˜æ˜¯å¦‚ä½•è®©æ‰€æœ‰çº¿ç¨‹éƒ½è·‘åˆ°æœ€è¿‘çš„å®‰å…¨ç‚¹åœé¡¿ã€‚è¿™é‡Œæœ‰ä¸¤ç§æ–¹æ¡ˆå¯ä¾›é€‰æ‹©ï¼šæŠ¢å…ˆå¼ä¸­æ–­ï¼ˆPreemptive Suspensionï¼‰å’Œä¸»åŠ¨å¼ä¸­æ–­ï¼ˆVoluntary Suspensionï¼‰ï¼Œå…¶ä¸­æŠ¢å…ˆå¼ä¸­æ–­ä¸éœ€è¦çº¿ç¨‹çš„æ‰§è¡Œä»£ç ä¸»åŠ¨åŽ»é…åˆï¼Œåœ¨GCå‘ç”Ÿæ—¶ï¼Œé¦–å…ˆæŠŠæ‰€æœ‰çº¿ç¨‹å…¨éƒ¨ä¸­æ–­ï¼Œå¦‚æžœå‘çŽ°æœ‰çº¿ç¨‹ä¸­æ–­çš„åœ°æ–¹ä¸åœ¨å®‰å…¨ç‚¹ä¸Šï¼Œå°±æ¢å¤çº¿ç¨‹ï¼Œè®©å®ƒâ€œè·‘â€åˆ°å®‰å…¨ç‚¹ä¸Šã€‚çŽ°åœ¨å‡ ä¹Žæ²¡æœ‰è™šæ‹Ÿæœºå®žçŽ°é‡‡ç”¨æŠ¢å…ˆå¼ä¸­æ–­æ¥æš‚åœçº¿ç¨‹ä»Žè€Œå“åº”GCäº‹ä»¶ã€‚è€Œä¸»åŠ¨å¼ä¸­æ–­çš„æ€æƒ³æ˜¯å½“GCéœ€è¦ä¸­æ–­çº¿ç¨‹çš„æ—¶å€™ï¼Œä¸ç›´æŽ¥å¯¹çº¿ç¨‹æ“ä½œï¼Œä»…ä»…ç®€å•åœ°è®¾ç½®ä¸€ä¸ªæ ‡å¿—ï¼Œå„ä¸ªçº¿ç¨‹æ‰§è¡Œæ—¶ä¸»åŠ¨åŽ»è½®è¯¢è¿™ä¸ªæ ‡å¿—ï¼Œå‘çŽ°ä¸­æ–­æ ‡å¿—ä¸ºçœŸæ—¶å°±è‡ªå·±ä¸­æ–­æŒ‚èµ·ã€‚å®‰å…¨åŒºåŸŸå¦‚æžœçº¿ç¨‹æ²¡æœ‰åœ¨æ‰§è¡Œå‘¢ï¼Œæ¯”å¦‚çº¿ç¨‹å¤„äºŽSleepçŠ¶æ€æˆ–è€…BlockedçŠ¶æ€ï¼Œå°±éœ€è¦å®‰å…¨åŒºåŸŸè§£å†³äº†ã€‚å®‰å…¨åŒºåŸŸæ˜¯æŒ‡åœ¨ä¸€æ®µä»£ç ç‰‡æ®µä¹‹ä¸­ï¼Œå¼•ç”¨å…³ç³»ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚åœ¨è¿™ä¸ªåŒºåŸŸä¸­çš„ä»»æ„åœ°æ–¹å¼€å§‹GCéƒ½æ˜¯å®‰å…¨çš„ã€‚åœ¨çº¿ç¨‹æ‰§è¡Œåˆ°Safe Regionä¸­çš„ä»£ç æ—¶ï¼Œé¦–å…ˆæ ‡è¯†è‡ªå·±å·²ç»è¿›å…¥äº†Safe Regionï¼Œé‚£æ ·ï¼Œå½“åœ¨è¿™æ®µæ—¶é—´é‡ŒJVMè¦å‘èµ·GCæ—¶ï¼Œå°±ä¸ç”¨ç®¡æ ‡è¯†è‡ªå·±ä¸ºSafe RegionçŠ¶æ€çš„çº¿ç¨‹äº†ã€‚åœ¨çº¿ç¨‹è¦ç¦»å¼€Safe Regionæ—¶ï¼Œå®ƒè¦æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦å·²ç»å®Œæˆäº†æ ¹èŠ‚ç‚¹æžšä¸¾ï¼ˆæˆ–è€…æ˜¯æ•´ä¸ªGCè¿‡ç¨‹ï¼‰ï¼Œå¦‚æžœå®Œæˆäº†ï¼Œé‚£çº¿ç¨‹å°±ç»§ç»­æ‰§è¡Œï¼Œå¦åˆ™å®ƒå°±å¿…é¡»ç­‰å¾…ç›´åˆ°æ”¶åˆ°å¯ä»¥å®‰å…¨ç¦»å¼€Safe Regionçš„ä¿¡å·ä¸ºæ­¢ã€‚OopMapå’Œå®‰å…¨ç‚¹è¾¨æžOopMap è®°å½•äº†æ ˆä¸Šæœ¬åœ°å˜é‡åˆ°å †ä¸Šå¯¹è±¡çš„å¼•ç”¨å…³ç³»ã€‚å…¶ä½œç”¨æ˜¯ï¼šåžƒåœ¾æ”¶é›†æ—¶ï¼Œæ”¶é›†çº¿ç¨‹ä¼šå¯¹æ ˆä¸Šçš„å†…å­˜è¿›è¡Œæ‰«æï¼Œçœ‹çœ‹å“ªäº›ä½ç½®å­˜å‚¨äº† Reference ç±»åž‹ã€‚å¦‚æžœå‘çŽ°æŸä¸ªä½ç½®ç¡®å®žå­˜çš„æ˜¯ Reference ç±»åž‹ï¼Œå°±æ„å‘³ç€å®ƒæ‰€å¼•ç”¨çš„å¯¹è±¡è¿™ä¸€æ¬¡ä¸èƒ½è¢«å›žæ”¶ã€‚ä½†é—®é¢˜æ˜¯ï¼Œæ ˆä¸Šçš„æœ¬åœ°å˜é‡è¡¨é‡Œé¢åªæœ‰ä¸€éƒ¨åˆ†æ•°æ®æ˜¯ Reference ç±»åž‹çš„ï¼ˆå®ƒä»¬æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ï¼‰ï¼Œé‚£äº›éž Reference ç±»åž‹çš„æ•°æ®å¯¹æˆ‘ä»¬è€Œè¨€æ¯«æ— ç”¨å¤„ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯ä¸å¾—ä¸å¯¹æ•´ä¸ªæ ˆå…¨éƒ¨æ‰«æä¸€éï¼Œè¿™æ˜¯å¯¹æ—¶é—´å’Œèµ„æºçš„ä¸€ç§æµªè´¹ã€‚ä¸€ä¸ªå¾ˆè‡ªç„¶çš„æƒ³æ³•æ˜¯ï¼Œèƒ½ä¸èƒ½ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œåœ¨æŸä¸ªæ—¶å€™æŠŠæ ˆä¸Šä»£è¡¨å¼•ç”¨çš„ä½ç½®å…¨éƒ¨è®°å½•ä¸‹æ¥ï¼Œè¿™æ ·åˆ°çœŸæ­£ gc çš„æ—¶å€™å°±å¯ä»¥ç›´æŽ¥è¯»å–ï¼Œè€Œä¸ç”¨å†ä¸€ç‚¹ä¸€ç‚¹çš„æ‰«æäº†ã€‚äº‹å®žä¸Šï¼Œå¤§éƒ¨åˆ†ä¸»æµçš„è™šæ‹Ÿæœºä¹Ÿæ­£æ˜¯è¿™ä¹ˆåšçš„ï¼Œæ¯”å¦‚ HotSpot ï¼Œå®ƒä½¿ç”¨ä¸€ç§å«åš OopMap çš„æ•°æ®ç»“æž„æ¥è®°å½•è¿™ç±»ä¿¡æ¯ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªçº¿ç¨‹æ„å‘³ç€ä¸€ä¸ªæ ˆï¼Œä¸€ä¸ªæ ˆç”±å¤šä¸ªæ ˆå¸§ç»„æˆï¼Œä¸€ä¸ªæ ˆå¸§å¯¹åº”ç€ä¸€ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ–¹æ³•é‡Œé¢å¯èƒ½æœ‰å¤šä¸ªå®‰å…¨ç‚¹ã€‚ gc å‘ç”Ÿæ—¶ï¼Œç¨‹åºé¦–å…ˆè¿è¡Œåˆ°æœ€è¿‘çš„ä¸€ä¸ªå®‰å…¨ç‚¹åœä¸‹æ¥ï¼Œç„¶åŽæ›´æ–°è‡ªå·±çš„OopMapï¼Œè®°ä¸‹æ ˆä¸Šå“ªäº›ä½ç½®ä»£è¡¨ç€å¼•ç”¨ã€‚æžšä¸¾æ ¹èŠ‚ç‚¹æ—¶ï¼Œé€’å½’éåŽ†æ¯ä¸ªæ ˆå¸§çš„OopMapï¼Œé€šè¿‡æ ˆä¸­è®°å½•çš„è¢«å¼•ç”¨å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œå³å¯æ‰¾åˆ°è¿™äº›å¯¹è±¡ï¼ˆ GC Roots ï¼‰ã€‚å‚è€ƒï¼šhttps://dsxwjhf.iteye.com/blog/2201685åžƒåœ¾æ”¶é›†å™¨Serialæ”¶é›†å™¨æœ€åŸºæœ¬ï¼ŒåŽ†å²æœ€æ‚ ä¹…ã€‚æ–°ç”Ÿä»£çš„ï¼Œâ€œå•çº¿ç¨‹çš„â€ï¼Œåªä¼šç”¨ä¸€ä¸ªCPUæˆ–ä¸€ä¸ªçº¿ç¨‹å·¥ä½œï¼Œå¹¶ä¸”æ”¶é›†æ—¶ï¼Œå¿…é¡»æš‚åœæ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹ï¼Œç›´åˆ°æ”¶é›†ç»“æŸã€‚å®ƒä¾ç„¶æ˜¯è™šæ‹Ÿæœºè¿è¡Œåœ¨Clientç«¯çš„é»˜è®¤æ–°ç”Ÿä»£æ”¶é›†å™¨ã€‚ç®€å•è€Œé«˜æ•ˆï¼Œå› ä¸ºå®ƒä¸éœ€è¦è€ƒè™‘çº¿ç¨‹åˆ‡æ¢ï¼Œåªä¸“æ³¨ä¸€æ¬¡æŠŠæ”¶é›†å·¥ä½œæžå®šï¼Œè€Œä¸”åœ¨Clientç«¯ï¼Œæ–°ç”Ÿä»£çš„å†…å­˜ä¸€èˆ¬åªæœ‰å‡ åMæˆ–è€…ä¸€ä¸¤ç™¾Mçš„æ ·å­ï¼Œå®Œæˆä¸€æ¬¡æ”¶é›†å·¥ä½œå®Œå…¨å¯ä»¥æŽ§åˆ¶åœ¨å‡ åæ¯«ç§’æˆ–è€…ä¸€ç™¾æ¯«ç§’å·¦å³ï¼Œä¸ä¼šæœ‰å¾ˆå¤§çš„åœé¡¿æ„Ÿã€‚ParNewæ”¶é›†å™¨è¿™ä¸ªæœ¬è´¨ä¸Šå°±æ˜¯Serialæ”¶é›†å™¨çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ã€‚è®¸å¤šè¿è¡Œåœ¨Serveræ¨¡å¼ä¸‹çš„è™šæ‹Ÿæœºä¸­é¦–é€‰çš„æ–°ç”Ÿä»£æ”¶é›†å™¨ï¼Œå…¶ä¸­è¿˜æœ‰ä¸€ä¸ªä¸Žæ€§èƒ½æ— å…³ä½†å¾ˆé‡è¦çš„åŽŸå› æ˜¯ï¼šé™¤äº†Serialæ”¶é›†å™¨å¤–ï¼Œç›®å‰åªæœ‰å®ƒèƒ½ä¸ŽCMSæ”¶é›†å™¨é…åˆå·¥ä½œã€‚ï¼ˆåŽŸå› æ˜¯Parallel Scavengeæ”¶é›†å™¨å’ŒåŽé¢çš„G1æ”¶é›†å™¨éƒ½æ²¡æœ‰ä½¿ç”¨ä¼ ç»Ÿçš„GCæ”¶é›†å™¨ä»£ç æ¡†æž¶ï¼Œè€Œæ˜¯å¦å¤–ç‹¬ç«‹å®žçŽ°çš„ï¼Œå…¶ä½™å‡ ç§æ”¶é›†å™¨åˆ™å…±ç”¨äº†æ¡†æž¶ä»£ç ï¼‰ã€‚ParNewæ”¶é›†å™¨ä¹Ÿæ˜¯ä½¿ç”¨-XX:+UseConcMarkSweepGCé€‰é¡¹åŽçš„é»˜è®¤æ–°ç”Ÿä»£æ”¶é›†å™¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨-XX:+UseParNewGCé€‰é¡¹æ¥æ˜¾å¼æŒ‡å®šä½¿ç”¨å•CPUçš„è¯ä¸€èˆ¬ä¼šè€ƒè™‘ç”¨Serialï¼Œå¤šCPUçš„è¯ä¸€èˆ¬è€ƒè™‘ç”¨ParNewï¼Œå®ƒé»˜è®¤å¼€å¯çš„æ”¶é›†å™¨çº¿ç¨‹æ•°å’ŒCPUæ ¸æ•°ç›¸åŒï¼Œå½“ä½ æƒ³æŽ§åˆ¶çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨-XX:ParallelGCThreadså‚æ•°æ¥é™åˆ¶æ”¶é›†å™¨çš„çº¿ç¨‹æ•°ã€‚ç„¶åŽæå‰è§£é‡Šä¸€ä¸‹å¹¶è¡Œå’Œå¹¶å‘çš„æ¦‚å¿µï¼Œå› ä¸ºåŽé¢ä¼šæœ‰å‡ ä¸ªå¹¶å‘å’Œå¹¶è¡Œçš„æ”¶é›†å™¨ï¼šå¹¶è¡Œ(Parallel)ï¼šæŒ‡å¤šæ¡åžƒåœ¾æ”¶é›†çº¿ç¨‹å¹¶è¡Œå·¥ä½œï¼Œä½†æ­¤æ—¶ç”¨æˆ·çº¿ç¨‹ä»ç„¶å¤„äºŽç­‰å¾…çŠ¶æ€ã€‚æ‰€ä»¥ï¼Œé‡åˆ° Parallel å…³é”®å­—çš„è¯ï¼Œéƒ½æ˜¯å¹¶è¡Œã€‚æ‰€ä»¥å½“å®ƒä»¬å·¥ä½œçš„æ—¶å€™ï¼Œç”¨æˆ·çº¿ç¨‹æ˜¯é˜»å¡žçš„ã€‚æ‰€ä»¥ä¹Ÿæ˜¯ stop the worldå¹¶å‘(Concurrent)ï¼šæŒ‡ç”¨æˆ·çº¿ç¨‹ä¸Žåžƒåœ¾æ”¶é›†çº¿ç¨‹åŒæ—¶æ‰§è¡Œï¼ˆä½†ä¸ä¸€å®šæ˜¯å¹¶è¡Œçš„ï¼Œå¯èƒ½ä¼šæ ¹æ®æ—¶é—´ç‰‡è½®è½¬äº¤æ›¿è¿›è¡Œï¼‰ï¼Œç”¨æˆ·ç¨‹åºç»§ç»­è¿è¡Œï¼Œè€Œåžƒåœ¾æ”¶é›†ç¨‹åºè¿è¡Œåœ¨å¦å¤–ä¸€ä¸ªCPUä¸Šã€‚æ‰€ä»¥é‡åˆ° concurrent å…³é”®å­—å°±æ˜¯ GC çº¿ç¨‹å’Œç”¨æˆ·çº¿ç¨‹åœ¨ä¸€æ®µæ—¶é—´å†…äº¤å‰è¿è¡Œï¼Œä¸ä¼šå°†ç”¨æˆ·çº¿ç¨‹é˜»å¡žï¼Œä¸æ˜¯ stop the worldParallel Scavengeæ”¶é›†å™¨Parallel Scavengeä¹Ÿæ˜¯ä¸€ä¸ªæ–°ç”Ÿä»£æ”¶é›†å™¨ï¼Œå®ƒä¹Ÿæ˜¯ä½¿ç”¨å¤åˆ¶ç®—æ³•çš„æ”¶é›†å™¨ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¹¶è¡Œçš„å¤šçº¿ç¨‹æ”¶é›†å™¨ã€‚å®ƒçš„ç›®æ ‡æ˜¯è¾¾åˆ°å¯æŽ§åˆ¶çš„CPUåžåé‡ã€‚æ‰€è°“åžåé‡å°±æ˜¯CPUç”¨äºŽè¿è¡Œç”¨æˆ·ä»£ç çš„æ—¶é—´ä¸ŽCPUæ€»æ¶ˆè€—æ—¶é—´çš„æ¯”å€¼ï¼Œå³åžåé‡=è¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´/ï¼ˆè¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´+åžƒåœ¾å›žæ”¶æ—¶é—´ï¼‰ã€‚æ¯”å¦‚è™šæ‹Ÿæœºè¿è¡Œäº†100åˆ†é’Ÿï¼Œåžƒåœ¾å›žæ”¶ä½¿ç”¨äº†1åˆ†é’Ÿï¼Œé‚£ä¹ˆåžåé‡å°±æ˜¯99%ã€‚è¿™å°±è¯´è¯´ä¸€ä¸‹åº”ç”¨åœºæ™¯äº†ã€‚åœé¡¿æ—¶é—´ï¼ˆåžƒåœ¾å›žæ”¶æ—¶é—´ï¼‰ï¼š åœé¡¿æ—¶é—´è¶ŠçŸ­è¶Šé€‚åˆäºŽç”¨æˆ·äº¤äº’çš„ç¨‹åºï¼Œè‰¯å¥½çš„å“åº”é€Ÿåº¦èƒ½æå‡ç”¨æˆ·ä½“éªŒé«˜åžåé‡ï¼š å¯ä»¥æœ€é«˜æ•ˆçŽ‡çš„åˆ©ç”¨CPUæ—¶é—´ï¼Œå°½å¿«çš„å®Œæˆç¨‹åºçš„è¿ç®—ä»»åŠ¡ï¼Œä¸»è¦é€‚åˆåœ¨åŽå°è¿ç®—è€Œä¸éœ€è¦å¤ªå¤šäº¤äº’çš„ä»»åŠ¡ä¸ºäº†è¿™ä¸¤ä¸ªç›®çš„ï¼ŒParallel Scavengeæ”¶é›†å™¨æä¾›äº†2ä¸ªå‚æ•°ï¼š-XX:MaxGCPauseMillisï¼šå¤§äºŽ0çš„æ¯«ç§’æ•°ï¼Œæ”¶é›†å™¨å°†å°½åŠ›ä¿è¯å†…å­˜å›žæ”¶æ—¶é—´ä¸è¶…è¿‡è¿™ä¸ªå€¼ã€‚ä¸è¿‡ä¸è¦å¼‚æƒ³å¤©å¼€è®¤ä¸ºæŠŠè¿™ä¸ªå€¼è®¾çš„ç‰¹åˆ«å°ï¼Œå°±èƒ½ä½¿ç³»ç»Ÿåžƒåœ¾æ”¶é›†é€Ÿåº¦æ›´å¿«ï¼ŒGCåœé¡¿æ—¶é—´ç¼©çŸ­è‚¯å®šæ˜¯æœ‰ä»£ä»·çš„ï¼Œå®ƒä¼šç‰ºç‰²åžåé‡å’Œæ–°ç”Ÿä»£ç©ºé—´æ¥å®žçŽ°ã€‚-XX:GCTimeRatioï¼šå¤§äºŽ0å°äºŽ100çš„æ•´æ•°.å‡å¦‚è®¾ä¸ºNï¼Œé‚£ä¹ˆåžƒåœ¾æ”¶é›†æ—¶é—´å æ€»æ—¶é—´çš„æ¯”çŽ‡å°±æ˜¯1/(1+N),æ¯”å¦‚è®¾ç½®ä¸º19,å æ¯”å°±æ˜¯1/(1+19)=5%ï¼Œé»˜è®¤å€¼æ˜¯99ï¼Œå³1%ã€‚-XX:+UseAdaptiveSizePolicyï¼šè¿™ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰ç”¨çš„å‚æ•°ï¼Œæ”¾åœ¨è¿™é‡Œè¯´ä¸€ä¸‹ã€‚å®ƒæ˜¯ä¸€ä¸ªå¼€å…³å‚æ•°ï¼Œå½“è¿™ä¸ªå‚æ•°æ‰“å¼€ä¹‹åŽï¼Œå°±ä¸éœ€è¦æ‰‹å·¥æŒ‡å®šæ–°ç”Ÿä»£çš„å¤§å°ï¼ˆ-Xmnï¼‰ã€Edenã€SurvivoråŒºçš„æ¯”ä¾‹ï¼ˆ-XX:SurvivorRatioï¼‰ã€æ™‹å‡è€å¹´ä»£å¯¹è±¡å¹´é¾„ï¼ˆ-XX:PretenureSizeThresholdï¼‰ç­‰ç»†èŠ‚å‚æ•°äº†ï¼Œè™šæ‹Ÿæœºä¼šæ ¹æ®å½“å‰ç³»ç»Ÿçš„è¿è¡Œæƒ…å†µæ”¶é›†æ€§èƒ½ç›‘æŽ§ä¿¡æ¯ï¼ŒåŠ¨æ€è°ƒæ•´è¿™äº›å‚æ•°ä»¥ä¸€åŒæœ€åˆé€‚çš„åœé¡¿æ—¶é—´æˆ–æœ€å¤§çš„åžåé‡ï¼Œè¿™ç§è°ƒèŠ‚æ–¹å¼ç§°ä¸ºGCè‡ªé€‚åº”çš„è°ƒèŠ‚ç­–ç•¥ï¼ˆGC Ergonomicsï¼‰ã€‚è‡ªé€‚åº”è°ƒèŠ‚ç­–ç•¥ä¹Ÿæ˜¯Parallel Scavengeæ”¶é›†å™¨å’ŒParNewæ”¶é›†å™¨çš„ä¸€ä¸ªé‡è¦åŒºåˆ«Serial Old æ”¶é›†å™¨Serial Oldæ˜¯Serialæ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ï¼Œå®ƒåŒæ ·æ˜¯ä¸€ä¸ªå•çº¿ç¨‹æ”¶é›†å™¨ï¼Œä½¿ç”¨â€æ ‡è®°-æ•´ç†â€œç®—æ³•ã€‚è¿™ä¸ªæ”¶é›†å™¨çš„ä¸»è¦æ„ä¹‰å°±æ˜¯è¢«Clientæ¨¡å¼ä¸‹çš„è™šæ‹Ÿæœºä½¿ç”¨ã€‚å¦‚æžœåœ¨Serveræ¨¡å¼ä¸‹ï¼Œå®ƒè¿˜æœ‰ä¸¤å¤§ç”¨é€”ï¼šåœ¨JDK1.5åŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­ä¸ŽParallel Scavengeæ”¶é›†å™¨æ­é…ä½¿ç”¨ï¼›å¦å¤–ä¸€ä¸ªå°±æ˜¯CMSçš„åŽå¤‡é¢„æ¡ˆï¼Œåœ¨å¹¶å‘æ”¶é›†å‘ç”ŸConcurrent Mode Failureçš„æ—¶å€™ä½¿ç”¨ã€‚Parallel Oldæ”¶é›†å™¨Parallel Oldæ˜¯Parallel Scavengeæ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ï¼Œä½¿ç”¨å¤šçº¿ç¨‹å’Œæ ‡è®°-æ•´ç†ç®—æ³•ã€‚æ˜¯åœ¨JDK 1.6ä¹‹åŽæ‰æä¾›çš„ã€‚å‰é¢è¯´è¿‡ï¼ŒParallel Scavengeæ”¶é›†å™¨é‡‡ç”¨äº†ç‹¬ç«‹çš„æž¶æž„ï¼Œæ— æ³•å’ŒCMSé…åˆä½¿ç”¨ã€‚é‚£ä¹ˆï¼Œåœ¨JDK 1.6ä»¥å‰ï¼ŒParallel Scavengeåªèƒ½å’ŒSerial Oldé…åˆä½¿ç”¨ã€‚å› ä¸ºSerial Oldæ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥åœ¨å¤šCPUæƒ…å†µä¸‹æ— æ³•å‘æŒ¥æ€§èƒ½ï¼Œæ‰€ä»¥æ ¹æœ¬å®žçŽ°ä¸äº†é«˜åžåé‡çš„éœ€æ±‚ï¼Œç›´åˆ°JDK 1.6æŽ¨å‡ºäº†Parallel Oldä¹‹åŽï¼ŒParallel Scavengeæ”¶é›†å™¨å’ŒParallel Oldæ­é…ï¼Œæ‰çœŸæ­£å®žçŽ°äº†å¯¹åžåé‡ä¼˜å…ˆçš„æŽ§åˆ¶ã€‚æ‰€ä»¥ï¼Œåœ¨æ³¨é‡åžåé‡åŠCPUèµ„æºæ•æ„Ÿçš„åœºåˆï¼Œéƒ½å¯ä»¥è€ƒè™‘Parallel Scavengeå’ŒParallel Oldç»„åˆã€‚CMSï¼ˆComcurrent Mark Sweepï¼‰æ”¶é›†å™¨CMSæ”¶é›†å™¨æ˜¯ä»¥èŽ·å–æœ€çŸ­å›žæ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ã€‚ç›®å‰å¾ˆå¤§ä¸€éƒ¨åˆ†çš„Javaåº”ç”¨éƒ½é›†ä¸­åœ¨äº’è”ç½‘ç«™æˆ–è€…B/Sç³»ç»Ÿä¸Šï¼Œè¿™ç±»åº”ç”¨å°¤å…¶é‡è§†æœåŠ¡çš„å“åº”é€Ÿåº¦ï¼Œå¸Œæœ›ç³»ç»Ÿåœé¡¿æ—¶é—´æœ€çŸ­ï¼Œç»™ç”¨æˆ·æœ€ä½³çš„ç”¨æˆ·ä½“éªŒã€‚è€ŒCMSæ”¶é›†å™¨å°±éžå¸¸ç¬¦åˆè¿™ç±»åº”ç”¨çš„éœ€æ±‚ä»Žåå­—ä¸Šå¯ä»¥çœ‹å‡ºï¼Œâ€Mark Sweepâ€œæ˜¯åŸºäºŽæ ‡è®°-æ¸…é™¤ç®—æ³•å®žçŽ°çš„ï¼Œå®ƒçš„è¿ä½œè¿‡ç¨‹ç›¸å¯¹äºŽå‰é¢å‡ ç§æ”¶é›†å™¨æ¥è¯´è¦æ›´å¤æ‚ä¸€äº›ï¼Œæ•´ä¸ªè¿‡ç¨‹åˆ†ä¸º4ä¸ªæ­¥éª¤ï¼šåˆå§‹æ ‡è®°ï¼šåˆå§‹æ ‡è®°ä»…ä»…åªæ˜¯æ ‡è®°ä¸€ä¸‹GC rootsèƒ½ç›´æŽ¥å…³è”åˆ°çš„å¯¹è±¡ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œéœ€è¦stop the worldã€‚å¹¶å‘æ ‡è®°ï¼šå¹¶å‘æ ‡è®°å°±æ˜¯è¿›è¡ŒGC Roots Tracingï¼ˆå¯è¾¾æ€§ç®—æ³•ï¼‰çš„è¿‡ç¨‹ã€‚é‡æ–°æ ‡è®°ï¼šé‡æ–°æ ‡è®°åˆ™æ˜¯ä¸ºäº†ä¿®æ­£å¹¶å‘æ ‡è®°æœŸé—´ï¼Œå› ç”¨æˆ·ç¨‹åºç»§ç»­è¿ä½œè€Œå¯¼è‡´æ ‡è®°äº§ç”Ÿå˜åŒ–çš„é‚£ä¸€éƒ¨åˆ†å¯¹è±¡çš„æ ‡è®°è®°å½•ï¼Œè¿™ä¸ªé˜¶æ®µçš„åœé¡¿æ—¶é—´ä¸€èˆ¬ä¼šæ¯”åˆå§‹æ ‡è®°é˜¶æ®µç¨å¾®é•¿ä¸€äº›ï¼Œä½†è¿œæ¯”å¹¶å‘æ ‡è®°çš„æ—¶é—´çŸ­ï¼Œéœ€è¦stop the worldã€‚å¹¶å‘æ¸…é™¤ï¼šåžƒåœ¾æ¸…é™¤ç”±äºŽæ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¹¶å‘æ ‡è®°å’Œå¹¶å‘æ¸…é™¤æ—¶é—´æœ€é•¿ï¼Œæ”¶é›†å™¨çº¿ç¨‹å¯ä»¥å’Œç”¨æˆ·çº¿ç¨‹ä¸€èµ·å·¥ä½œï¼Œæ‰€ä»¥ä»Žæ€»ä½“ä¸Šæ¥è¯´ï¼ŒCMSæ”¶é›†å™¨çš„å†…å­˜å›žæ”¶è¿‡ç¨‹æ˜¯ä¸Žç”¨æˆ·çº¿ç¨‹ä¸€èµ·å¹¶å‘æ‰§è¡Œçš„ã€‚CMSæ”¶é›†å™¨çš„ä¼˜ç‚¹åœ¨äºŽå¹¶å‘æ”¶é›†ã€ä½Žåœé¡¿ï¼Œä½†æ˜¯ä¹Ÿä¸æ˜¯å®Œç¾Žçš„ï¼Œä¸»è¦æœ‰3ä¸ªæ˜¾è‘—çš„ç¼ºç‚¹ï¼šCMSæ”¶é›†å™¨å¯¹CPUèµ„æºéžå¸¸æ•æ„Ÿã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒCMSçš„æ”¶é›†çº¿ç¨‹æ•°=(CPUæ•°ç›®+3)/4ï¼Œå½“CPUä¸ªæ•°å¤§äºŽ4çš„æ—¶å€™ï¼ŒCMSçš„æ”¶é›†çº¿ç¨‹ä¸ä¼šè¶…è¿‡æ•´ä¸ªCPUå ç”¨çŽ‡çš„25%ã€‚ä½†æ˜¯åœ¨CPUä¸ªæ•°æ¯”è¾ƒå°çš„æƒ…å†µä¸‹ï¼ŒCPUå ç”¨å°±ä¼šçªç„¶å¢žå¤§ï¼Œè¿™æ ·å¯¹äºŽåˆå§‹æ ‡è®°å’Œå¹¶å‘æ ‡è®°è¿™æ ·â€Stop The Worldâ€çš„è¿‡ç¨‹æ¥è¯´ï¼Œç”¨æˆ·å°±ä¼šæ˜Žæ˜¾æ„Ÿè§‰åˆ°åœé¡¿ã€‚CMSæ”¶é›†å™¨æ— æ³•å¤„ç†æµ®åŠ¨åžƒåœ¾ï¼Œå¯èƒ½å‡ºçŽ°â€Concurrent Mode Failureâ€å¤±è´¥è€Œå¯¼è‡´å¦ä¸€æ¬¡Full GCçš„äº§ç”Ÿã€‚ç”±äºŽCMSå¹¶å‘æ¸…ç†é˜¶æ®µç”¨æˆ·çº¿ç¨‹è¿˜åœ¨è¿è¡Œç€ï¼Œä¼´éšç¨‹åºè¿è¡Œè‡ªç„¶å°±è¿˜ä¼šæœ‰æ–°çš„åžƒåœ¾ä¸æ–­äº§ç”Ÿï¼Œè¿™ä¸€éƒ¨åˆ†åžƒåœ¾å‡ºçŽ°åœ¨æ ‡è®°è¿‡ç¨‹ä¹‹åŽï¼ŒCMSæ— æ³•åœ¨å½“æ¬¡æ”¶é›†ä¸­å¤„ç†æŽ‰å®ƒä»¬ï¼Œåªå¥½ç•™å¾…ä¸‹ä¸€æ¬¡GCæ—¶å†æ¸…ç†æŽ‰ã€‚è¿™ä¸€éƒ¨åˆ†åžƒåœ¾å°±ç§°ä¸ºâ€œæµ®åŠ¨åžƒåœ¾â€ã€‚CMSæ”¶é›†å™¨ä¸èƒ½åƒå…¶ä»–æ”¶é›†å™¨é‚£æ ·ç­‰åˆ°è€å¹´ä»£å‡ ä¹Žå®Œå…¨è¢«å¡«æ»¡äº†å†è¿›è¡Œæ”¶é›†ï¼Œå®ƒéœ€è¦é¢„ç•™ä¸€éƒ¨åˆ†ç©ºé—´æä¾›å¹¶å‘æ”¶é›†æ—¶çš„çº¿ç¨‹ä½¿ç”¨ã€‚åœ¨JDK1.5é»˜è®¤è®¾ç½®ä¸‹ï¼ŒCMSæ”¶é›†å™¨åœ¨è€å¹´ä»£ä½¿ç”¨äº†68%çš„ç©ºé—´ä¼šè¢«æ¿€æ´»ï¼Œè¿™æ˜¯ä¸€ä¸ªåä¿å®ˆçš„è®¾ç½®ã€‚å¦‚æžœåœ¨åº”ç”¨ä¸­ï¼Œè€å¹´ä»£å¢žé•¿ä¸æ˜¯å¤ªå¿«ï¼Œå¯ä»¥é€‚å½“è°ƒé«˜è¿™ä¸ªå‚æ•°-XX:CMSInitiatingOccupancyFractionã€‚è¦æ˜¯CMSè¿è¡ŒæœŸé—´é¢„ç•™çš„å†…å­˜æ— æ³•æ»¡è¶³ç¨‹åºçš„éœ€è¦ï¼Œå°±ä¼šå‡ºçŽ°â€Concurrent Mode Failureâ€å¤±è´¥ï¼Œè¿™æ—¶å€™JVMä¼šå¯åŠ¨åŽå¤‡æ–¹æ¡ˆï¼šä¸´æ—¶å¯åŠ¨Serial Oldæ”¶é›†å™¨æ¥é‡æ–°è¿›è¡Œè€å¹´ä»£çš„åžƒåœ¾æ”¶é›†ï¼Œå› ä¸ºæ˜¯å•çº¿ç¨‹ï¼Œåœé¡¿æ—¶é—´å°±ä¼šæ›´é•¿äº†ã€‚æ‰€ä»¥å¦‚æžœå¤§é‡å‡ºçŽ°â€Concurrent Mode Failureâ€ï¼Œå°±å¯ä»¥å°†è¿™ä¸ªå€¼è°ƒä½ŽCMSæ˜¯åŸºäºŽæ ‡è®°-æ¸…é™¤ç®—æ³•å®žçŽ°çš„æ”¶é›†å™¨ï¼Œæ‰€ä»¥ä¼šäº§ç”Ÿå†…å­˜ç¢Žç‰‡ã€‚ç©ºé—´ç¢Žç‰‡è¿‡å¤šæ—¶ï¼Œå°†ä¼šç»™å¤§å¯¹è±¡åˆ†é…å¸¦æ¥å¾ˆå¤§çš„éº»çƒ¦ï¼šè€å¹´ä»£è¿˜æœ‰ç©ºé—´ä½†æ˜¯æ²¡æœ‰è¿žç»­çš„è¶³å¤Ÿå¤§çš„ç©ºé—´ï¼ŒäºŽæ˜¯ä¸å¾—ä¸è§¦å‘ä¸€æ¬¡Full GCã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ‰ä¸€ä¸ªå¼€å…³å«åš-XX:+UseCMSCompactAtFullCollectionï¼Œç”¨äºŽåœ¨Full GCæ—¶å¼€å¯å†…å­˜ç¢Žç‰‡çš„åˆå¹¶æ•´ç†è¿‡ç¨‹ã€‚å½“ç„¶ï¼Œè¿™ä¸ªå†…å­˜æ•´ç†æ²¡æ³•å¹¶å‘ï¼Œåªæœ‰â€Stop The Worldâ€äº†ã€‚å¦å¤–ï¼Œè™šæ‹Ÿæœºè¿˜è®¾è®¡äº†ä¸€ä¸ªå‚æ•°-XX:CMSFullGCsBeforeCompaction,ç”¨äºŽæŒ‡å®šåœ¨å¤šå°‘æ¬¡ä¸åŽ‹ç¼©çš„Full GCåŽï¼Œè·Ÿç€æ¥ä¸€æ¬¡å¸¦åŽ‹ç¼©çš„ã€‚G1æ”¶é›†å™¨G1æ˜¯ä¸€æ¬¾é¢å‘æœåŠ¡ç«¯åº”ç”¨çš„åžƒåœ¾æ”¶é›†å™¨ã€‚ä¸Žå…¶ä»–GCæ”¶é›†å™¨ç›¸æ¯”ï¼ŒG1å…·å¤‡å¦‚ä¸‹ç‰¹ç‚¹ã€‚å¹¶è¡Œä¸Žå¹¶å‘ï¼šG1èƒ½å……åˆ†åˆ©ç”¨å¤šCPUã€å¤šæ ¸çŽ¯å¢ƒä¸‹çš„ç¡¬ä»¶ä¼˜åŠ¿ï¼Œä½¿ç”¨å¤šä¸ªCPUï¼ˆCPUæˆ–è€…CPUæ ¸å¿ƒï¼‰æ¥ç¼©çŸ­Stop-The-Worldåœé¡¿çš„æ—¶é—´ï¼Œéƒ¨åˆ†å…¶ä»–æ”¶é›†å™¨åŽŸæœ¬éœ€è¦åœé¡¿Javaçº¿ç¨‹æ‰§è¡Œçš„GCåŠ¨ä½œï¼ŒG1æ”¶é›†å™¨ä»ç„¶å¯ä»¥é€šè¿‡å¹¶å‘çš„æ–¹å¼è®©Javaç¨‹åºç»§ç»­æ‰§è¡Œã€‚åˆ†ä»£æ”¶é›†ï¼šä¸Žå…¶ä»–æ”¶é›†å™¨ä¸€æ ·ï¼Œåˆ†ä»£æ¦‚å¿µåœ¨G1ä¸­ä¾ç„¶å¾—ä»¥ä¿ç•™ã€‚è™½ç„¶G1å¯ä»¥ä¸éœ€è¦å…¶ä»–æ”¶é›†å™¨é…åˆå°±èƒ½ç‹¬ç«‹ç®¡ç†æ•´ä¸ªGCå †ï¼Œä½†å®ƒèƒ½å¤Ÿé‡‡ç”¨ä¸åŒçš„æ–¹å¼åŽ»å¤„ç†æ–°åˆ›å»ºçš„å¯¹è±¡å’Œå·²ç»å­˜æ´»äº†ä¸€æ®µæ—¶é—´ã€ç†¬è¿‡å¤šæ¬¡GCçš„æ—§å¯¹è±¡ä»¥èŽ·å–æ›´å¥½çš„æ”¶é›†æ•ˆæžœã€‚ç©ºé—´æ•´åˆï¼šä¸ŽCMSçš„â€œæ ‡è®°â€”æ¸…ç†â€ç®—æ³•ä¸åŒï¼ŒG1ä»Žæ•´ä½“æ¥çœ‹æ˜¯åŸºäºŽâ€œæ ‡è®°â€”æ•´ç†â€ç®—æ³•å®žçŽ°çš„æ”¶é›†å™¨ï¼Œä»Žå±€éƒ¨ï¼ˆä¸¤ä¸ªRegionä¹‹é—´ï¼‰ä¸Šæ¥çœ‹æ˜¯åŸºäºŽâ€œå¤åˆ¶â€ç®—æ³•å®žçŽ°çš„ï¼Œä½†æ— è®ºå¦‚ä½•ï¼Œè¿™ä¸¤ç§ç®—æ³•éƒ½æ„å‘³ç€G1è¿ä½œæœŸé—´ä¸ä¼šäº§ç”Ÿå†…å­˜ç©ºé—´ç¢Žç‰‡ï¼Œæ”¶é›†åŽèƒ½æä¾›è§„æ•´çš„å¯ç”¨å†…å­˜ã€‚è¿™ç§ç‰¹æ€§æœ‰åˆ©äºŽç¨‹åºé•¿æ—¶é—´è¿è¡Œï¼Œåˆ†é…å¤§å¯¹è±¡æ—¶ä¸ä¼šå› ä¸ºæ— æ³•æ‰¾åˆ°è¿žç»­å†…å­˜ç©ºé—´è€Œæå‰è§¦å‘ä¸‹ä¸€æ¬¡GCã€‚å¯é¢„æµ‹çš„åœé¡¿ï¼šè¿™æ˜¯G1ç›¸å¯¹äºŽCMSçš„å¦ä¸€å¤§ä¼˜åŠ¿ï¼Œé™ä½Žåœé¡¿æ—¶é—´æ˜¯G1å’ŒCMSå…±åŒçš„å…³æ³¨ç‚¹ï¼Œä½†G1é™¤äº†è¿½æ±‚ä½Žåœé¡¿å¤–ï¼Œè¿˜èƒ½å»ºç«‹å¯é¢„æµ‹çš„åœé¡¿æ—¶é—´æ¨¡åž‹ï¼Œèƒ½è®©ä½¿ç”¨è€…æ˜Žç¡®æŒ‡å®šåœ¨ä¸€ä¸ªé•¿åº¦ä¸ºMæ¯«ç§’çš„æ—¶é—´ç‰‡æ®µå†…ï¼Œæ¶ˆè€—åœ¨åžƒåœ¾æ”¶é›†ä¸Šçš„æ—¶é—´ä¸å¾—è¶…è¿‡Næ¯«ç§’ï¼Œè¿™å‡ ä¹Žå·²ç»æ˜¯å®žæ—¶Javaï¼ˆRTSJï¼‰çš„åžƒåœ¾æ”¶é›†å™¨çš„ç‰¹å¾äº†ã€‚G1æ”¶é›†å™¨çš„è¿ä½œå¤§è‡´å¯åˆ’åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼šåˆå§‹æ ‡è®°ï¼ˆInitial Markingï¼‰å¹¶å‘æ ‡è®°ï¼ˆConcurrent Markingï¼‰æœ€ç»ˆæ ‡è®°ï¼ˆFinal Markingï¼‰ç­›é€‰å›žæ”¶ï¼ˆLive Data Counting and Evacuationï¼‰ç†è§£GCæ—¥å¿—1233.125: [GC [DefNew: 3324K-&gt;152K(3712K), 0.0025925 secs] 3324K-&gt;152K(11904K), 0.0031680 secs]100.667: [Full GC [Tenured: 0K-&gt;210K(10240K), 0.0149142 secs] 4603K-&gt;210K(19456K), [Perm : 2999K-&gt;2999K(21248K)], 0.0150007 secs] [Times: user=0.01 sys=0.00, real=0.02 secs]æœ€å‰é¢çš„æ•°å­—â€œ33.125ï¼šâ€å’Œâ€œ100.667ï¼šâ€ä»£è¡¨äº†GCå‘ç”Ÿçš„æ—¶é—´ï¼Œè¿™ä¸ªæ•°å­—çš„å«ä¹‰æ˜¯ä»ŽJavaè™šæ‹Ÿæœºå¯åŠ¨ä»¥æ¥ç»è¿‡çš„ç§’æ•°ã€‚GCæ—¥å¿—å¼€å¤´çš„â€œ[GCâ€å’Œâ€œ[Full GCâ€è¯´æ˜Žäº†è¿™æ¬¡åžƒåœ¾æ”¶é›†çš„åœé¡¿ç±»åž‹ï¼Œè€Œä¸æ˜¯ç”¨æ¥åŒºåˆ†æ–°ç”Ÿä»£GCè¿˜æ˜¯è€å¹´ä»£GCçš„ã€‚å¦‚æžœæœ‰â€œFullâ€ï¼Œè¯´æ˜Žè¿™æ¬¡GCæ˜¯å‘ç”Ÿäº†Stop-The-Worldçš„ï¼Œä¾‹å¦‚ä¸‹é¢è¿™æ®µæ–°ç”Ÿä»£æ”¶é›†å™¨ParNewçš„æ—¥å¿—ä¹Ÿä¼šå‡ºçŽ°â€œ[Full GCâ€ï¼ˆè¿™ä¸€èˆ¬æ˜¯å› ä¸ºå‡ºçŽ°äº†åˆ†é…æ‹…ä¿å¤±è´¥ä¹‹ç±»çš„é—®é¢˜ï¼Œæ‰€ä»¥æ‰å¯¼è‡´STWï¼‰ã€‚å¦‚æžœæ˜¯è°ƒç”¨System.gc()æ–¹æ³•æ‰€è§¦å‘çš„æ”¶é›†ï¼Œé‚£ä¹ˆåœ¨è¿™é‡Œå°†æ˜¾ç¤ºâ€œ[Full GCï¼ˆSystemï¼‰â€ã€‚1[Full GC 283.736: [ParNew: 261599k-&gt;261599k(261592k), 0.0000288sec]]æŽ¥ä¸‹æ¥çš„â€œ[DefNewâ€ã€â€œ[Tenuredâ€ã€â€œ[Permâ€è¡¨ç¤ºGCå‘ç”Ÿçš„åŒºåŸŸï¼Œè¿™é‡Œæ˜¾ç¤ºçš„åŒºåŸŸåç§°ä¸Žä½¿ç”¨çš„GCæ”¶é›†å™¨æ˜¯å¯†åˆ‡ç›¸å…³çš„ã€‚åŽé¢æ–¹æ‹¬å·å†…éƒ¨çš„â€œ3324K-&gt;152Kï¼ˆ3712Kï¼‰â€å«ä¹‰æ˜¯â€œGCå‰è¯¥å†…å­˜åŒºåŸŸå·²ä½¿ç”¨å®¹é‡-&gt;GCåŽè¯¥å†…å­˜åŒºåŸŸå·²ä½¿ç”¨å®¹é‡ï¼ˆè¯¥å†…å­˜åŒºåŸŸæ€»å®¹é‡ï¼‰â€ã€‚è€Œåœ¨æ–¹æ‹¬å·ä¹‹å¤–çš„â€œ3324K-&gt;152Kï¼ˆ11904Kï¼‰â€è¡¨ç¤ºâ€œGCå‰Javaå †å·²ä½¿ç”¨å®¹é‡-&gt;GCåŽJavaå †å·²ä½¿ç”¨å®¹é‡ï¼ˆJavaå †æ€»å®¹é‡ï¼‰â€ã€‚å†å¾€åŽï¼Œâ€œ0.0025925 secsâ€è¡¨ç¤ºè¯¥å†…å­˜åŒºåŸŸGCæ‰€å ç”¨çš„æ—¶é—´ï¼Œå•ä½æ˜¯ç§’ã€‚æœ‰çš„æ”¶é›†å™¨ä¼šç»™å‡ºæ›´å…·ä½“çš„æ—¶é—´æ•°æ®ï¼Œå¦‚â€œ[Timesï¼šuser=0.01 sys=0.00ï¼Œreal=0.02 secs]â€ï¼Œè¿™é‡Œé¢çš„userã€syså’Œrealä¸ŽLinuxçš„timeå‘½ä»¤æ‰€è¾“å‡ºçš„æ—¶é—´å«ä¹‰ä¸€è‡´ã€‚å‚æ•°æ€»ç»“å‚æ•°æè¿°UseSerialGCè™šæ‹Ÿæœºè¿è¡Œåœ¨Clientæ¨¡å¼ä¸‹çš„é»˜è®¤å€¼ï¼Œæ‰“å¼€æ­¤å¼€å…³åŽï¼Œä½¿ç”¨Serial+Serial Oldçš„æ”¶é›†å™¨ç»„åˆè¿›è¡Œå†…å­˜å›žæ”¶UseParNewGCæ‰“å¼€æ­¤å¼€å…³åŽï¼Œä½¿ç”¨ParNew+Serial Oldçš„æ”¶é›†å™¨ç»„åˆè¿›è¡Œå†…å­˜å›žæ”¶UseConcMarkSweepGCæ‰“å¼€æ­¤å¼€å…³åŽï¼Œä½¿ç”¨ParNew+CMS+Serial Oldçš„æ”¶é›†å™¨ç»„åˆè¿›è¡Œå†…å­˜å›žæ”¶ã€‚Serial Oldæ”¶é›†å™¨å°†ä½œä¸ºCMSæ”¶é›†å™¨å‡ºçŽ°Concurrent Mode Failureå¤±è´¥åŽçš„åŽå£æ”¶é›†å™¨ä½¿ç”¨UseParallelGCè™šæ‹Ÿæœºè¿è¡Œåœ¨Serveræ¨¡å¼ä¸‹çš„é»˜è®¤å€¼ï¼Œæ‰“å¼€æ­¤å¼€å…³åŽï¼Œä½¿ç”¨Parallel Scavenge+Serial Oldï¼ˆPS MarkSweepï¼‰çš„æ”¶é›†å™¨ç»„åˆè¿›è¡Œå†…å­˜å›žæ”¶UseParallelOldGCæ‰“å¼€æ­¤å¼€å…³åŽï¼Œä½¿ç”¨Parallel Scavenge+Parallel Oldçš„æ”¶é›†å™¨ç»„åˆè¿›è¡Œå†…å­˜å›žæ”¶SurvivorRatioæ–°ç”Ÿä»£ä¸­EdenåŒºåŸŸä¸ŽSurvivoråŒºåŸŸçš„å®¹é‡æ¯”å€¼ï¼Œé»˜è®¤ä¸º8ï¼Œä»£è¡¨Eden:Survivor=8:1PretenureSizeThresholdç›´æŽ¥æ™‹å‡åˆ°è€å¹´ä»£çš„å¯¹è±¡å¤§å°ï¼Œè®¾ç½®è¿™ä¸ªå‚æ•°åŽï¼Œå¤§äºŽè¿™ä¸ªå‚æ•°çš„å¯¹è±¡å°†ç›´æŽ¥åœ¨è€å¹´ä»£åˆ†é…MaxTenuringThresholdæ™‹å‡åˆ°è€å¹´ä»£çš„å¯¹è±¡å¹´é¾„ã€‚æ¯ä¸ªå¯¹è±¡åœ¨åšæŒè¿‡ä¸€æ¬¡Minor GCä¹‹åŽï¼Œå¹´é¾„åŠ 1ï¼Œå½“è¶…è¿‡è¿™ä¸ªå‚æ•°å€¼æ—¶å°±è¿›å…¥è€å¹´ä»£UseAdaptiveSizePolicyåŠ¨æ€è°ƒæ•´Javaå †ä¸­å„ä¸ªåŒºåŸŸçš„å¤§å°ä»¥åŠè¿›å…¥è€å¹´ä»£çš„å¹´é¾„HandlePromotionFailureæ˜¯å¦å…è®¸åˆ†é…æ‹…ä¿å¤±è´¥ï¼Œå³è€å¹´ä»£çš„å‰©ä½™ç©ºé—´ä¸è¶³ä»¥åº”å¯¹æ–°ç”Ÿä»£çš„æ•´ä¸ªEdenå’ŒSurvivoråŒºçš„æ‰€æœ‰å¯¹è±¡éƒ½å­˜æ´»çš„æžç«¯æƒ…å†µParallelGCThreadsè®¾ç½®å¹¶è¡ŒGCæ—¶è¿›è¡Œå†…å­˜å›žæ”¶çš„çº¿ç¨‹æ•°GCTimeRatioGCæ—¶é—´å æ€»æ—¶é—´çš„æ¯”çŽ‡ï¼Œé»˜è®¤å€¼ä¸º99ï¼Œå³å…è®¸1%çš„GCæ—¶é—´ã€‚ä»…åœ¨ä½¿ç”¨Parallel Scavengeæ”¶é›†å™¨æ—¶ç”Ÿæ•ˆMaxGCPauseMillisè®¾ç½®GCçš„æœ€å¤§åœé¡¿æ—¶é—´ã€‚ä»…åœ¨ä½¿ç”¨Parallel Scavengeæ”¶é›†å™¨æ—¶ç”Ÿæ•ˆCMSinitiatingOccupancyFractionè®¾ç½®CMSæ”¶é›†å™¨åœ¨è€å¹´ä»£ç©ºé—´è¢«ä½¿ç”¨å¤šå°‘åŽå‡ºå‘åžƒåœ¾æ”¶é›†ã€‚é»˜è®¤å€¼ä¸º68%ï¼Œä»…åœ¨ä½¿ç”¨CMSæ”¶é›†å™¨æ—¶ç”Ÿæ•ˆUseCMSCompactAtFullCollectionè®¾ç½®CMSæ”¶é›†å™¨åœ¨å®Œæˆåžƒåœ¾æ”¶é›†åŽæ˜¯å¦è¦è¿›è¡Œä¸€æ¬¡å†…å­˜ç¢Žç‰‡æ•´ç†ã€‚ä»…åœ¨ä½¿ç”¨CMSæ”¶é›†å™¨æ—¶ç”Ÿæ•ˆCMSFullGCsBeforeCompactionè®¾ç½®CMSæ”¶é›†å™¨åœ¨è¿›è¡Œè‹¥å¹²æ¬¡åžƒåœ¾æ”¶é›†åŽå†å¯åŠ¨ä¸€æ¬¡å†…å­˜ç¢Žç‰‡æ•´ç†ã€‚ä»…åœ¨ä½¿ç”¨CMSæ”¶é›†å™¨æ—¶ç”Ÿæ•ˆå†…å­˜åˆ†é…ä¸Žå›žæ”¶ç­–ç•¥Minor GCå’ŒFull GCMinor GCï¼šå‘ç”Ÿåœ¨æ–°ç”Ÿä»£çš„GCã€‚Cè§¦å‘æ¡ä»¶ï¼šå½“EdenåŒºæ»¡æ—¶ã€‚Full GCï¼ˆä¹Ÿå«Major GCï¼‰ï¼šå‘ç”Ÿåœ¨è€å¹´ä»£çš„GCï¼Œé€šå¸¸ä¼šè§¦å‘MinorGCã€‚Major GCçš„é€Ÿåº¦ä¸€èˆ¬ä¼šæ¯”Minor GCæ…¢10å€ä»¥ä¸Šã€‚è§¦å‘æ¡ä»¶ï¼šè°ƒç”¨System.gcæ—¶ï¼Œç³»ç»Ÿå»ºè®®æ‰§è¡ŒFull GCï¼Œä½†æ˜¯ä¸å¿…ç„¶æ‰§è¡Œè€å¹´ä»£ç©ºé—´ä¸è¶³æ–¹æ³•åŒºç©ºé—´ä¸è¶³é€šè¿‡Minor GCåŽè¿›å…¥è€å¹´ä»£çš„å¹³å‡å¤§å°å¤§äºŽè€å¹´ä»£çš„å¯ç”¨å†…å­˜ç”±EdenåŒºã€From SpaceåŒºå‘To SpaceåŒºå¤åˆ¶æ—¶ï¼Œå¯¹è±¡å¤§å°å¤§äºŽTo Spaceå¯ç”¨å†…å­˜ï¼Œåˆ™æŠŠè¯¥å¯¹è±¡è½¬å­˜åˆ°è€å¹´ä»£ï¼Œä¸”è€å¹´ä»£çš„å¯ç”¨å†…å­˜å°äºŽè¯¥å¯¹è±¡å¤§å°ä½†æ˜¯è¿™ç§å®šä¹‰ä¸æ˜¯å¾ˆè§„èŒƒï¼Œè¯¦ç»†å‚è€ƒï¼šhttp://www.importnew.com/15820.htmlå¯¹è±¡ä¼˜å…ˆåœ¨Edenåˆ†é…å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¯¹è±¡åœ¨æ–°ç”Ÿä»£EdenåŒºä¸­åˆ†é…ã€‚å½“EdenåŒºæ²¡æœ‰è¶³å¤Ÿç©ºé—´è¿›è¡Œåˆ†é…æ—¶ï¼Œè™šæ‹Ÿæœºå°†å‘èµ·ä¸€æ¬¡Minor GCã€‚å¤§å¯¹è±¡ç›´æŽ¥è¿›å…¥è€å¹´ä»£æ‰€è°“çš„å¤§å¯¹è±¡æ˜¯æŒ‡ï¼Œéœ€è¦å¤§é‡è¿žç»­å†…å­˜ç©ºé—´çš„Javaå¯¹è±¡ï¼Œæœ€å…¸åž‹çš„å¤§å¯¹è±¡å°±æ˜¯é‚£ç§å¾ˆé•¿çš„å­—ç¬¦ä¸²ä»¥åŠæ•°ç»„ï¼ˆç¬”è€…åˆ—å‡ºçš„ä¾‹å­ä¸­çš„byte[]æ•°ç»„å°±æ˜¯å…¸åž‹çš„å¤§å¯¹è±¡ï¼‰ã€‚å¤§å¯¹è±¡å¯¹è™šæ‹Ÿæœºçš„å†…å­˜åˆ†é…æ¥è¯´å°±æ˜¯ä¸€ä¸ªåæ¶ˆæ¯ï¼Œç»å¸¸å‡ºçŽ°å¤§å¯¹è±¡å®¹æ˜“å¯¼è‡´å†…å­˜è¿˜æœ‰ä¸å°‘ç©ºé—´æ—¶å°±æå‰è§¦å‘åžƒåœ¾æ”¶é›†ä»¥èŽ·å–è¶³å¤Ÿçš„è¿žç»­ç©ºé—´æ¥â€œå®‰ç½®â€å®ƒä»¬ã€‚è™šæ‹Ÿæœºæä¾›äº†ä¸€ä¸ª-XX:PretenureSizeThresholdå‚æ•°ï¼Œä»¤å¤§äºŽè¿™ä¸ªè®¾ç½®å€¼çš„å¯¹è±¡ç›´æŽ¥åœ¨è€å¹´ä»£åˆ†é…ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯é¿å…åœ¨EdenåŒºåŠä¸¤ä¸ªSur-vivoråŒºä¹‹é—´å‘ç”Ÿå¤§é‡çš„å†…å­˜å¤åˆ¶ã€‚æ³¨æ„PretenureSizeThresholdå‚æ•°åªå¯¹Serialå’ŒParNewä¸¤æ¬¾æ”¶é›†å™¨æœ‰æ•ˆã€‚é•¿æœŸå­˜æ´»çš„å¯¹è±¡å°†è¿›å…¥è€å¹´ä»£è™šæ‹Ÿæœºç»™æ¯ä¸ªå¯¹è±¡å®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡å¹´é¾„ï¼ˆAgeï¼‰è®¡æ•°å™¨ã€‚å¦‚æžœå¯¹è±¡åœ¨Edenå‡ºç”Ÿå¹¶ç»è¿‡ç¬¬ä¸€æ¬¡MinorGCåŽä»ç„¶å­˜æ´»ï¼Œå¹¶ä¸”èƒ½è¢«Survivorå®¹çº³çš„è¯ï¼Œå°†è¢«ç§»åŠ¨åˆ°Survivorç©ºé—´ä¸­ï¼Œå¹¶ä¸”å¯¹è±¡å¹´é¾„è®¾ä¸º1ã€‚å¯¹è±¡åœ¨SurvivoråŒºä¸­æ¯â€œç†¬è¿‡â€ä¸€æ¬¡Minor GCï¼Œå¹´é¾„å°±å¢žåŠ 1å²ï¼Œå½“å®ƒçš„å¹´é¾„å¢žåŠ åˆ°ä¸€å®šç¨‹åº¦ï¼ˆé»˜è®¤ä¸º15å²ï¼‰ï¼Œå°±å°†ä¼šè¢«æ™‹å‡åˆ°è€å¹´ä»£ä¸­ã€‚å¯¹è±¡æ™‹å‡è€å¹´ä»£çš„å¹´é¾„é˜ˆå€¼ï¼Œå¯ä»¥é€šè¿‡å‚æ•°-XX:MaxTenuringThresholdè®¾ç½®ã€‚åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®šè™šæ‹Ÿæœºå¹¶ä¸æ˜¯æ°¸è¿œåœ°è¦æ±‚å¯¹è±¡çš„å¹´é¾„å¿…é¡»è¾¾åˆ°äº†MaxTenuringThresholdæ‰èƒ½æ™‹å‡è€å¹´ä»£ï¼Œå¦‚æžœåœ¨Survivorç©ºé—´ä¸­ç›¸åŒå¹´é¾„æ‰€æœ‰å¯¹è±¡å¤§å°çš„æ€»å’Œå¤§äºŽSurvivorç©ºé—´çš„ä¸€åŠï¼Œå¹´é¾„å¤§äºŽæˆ–ç­‰äºŽè¯¥å¹´é¾„çš„å¯¹è±¡å°±å¯ä»¥ç›´æŽ¥è¿›å…¥è€å¹´ä»£ï¼Œæ— é¡»ç­‰åˆ°MaxTenuringThresholdä¸­è¦æ±‚çš„å¹´é¾„ã€‚ç©ºé—´åˆ†é…æ‹…ä¿åœ¨å‘ç”ŸMinor GCä¹‹å‰ï¼Œè™šæ‹Ÿæœºä¼šå…ˆæ£€æŸ¥è€å¹´ä»£æœ€å¤§å¯ç”¨çš„è¿žç»­ç©ºé—´æ˜¯å¦å¤§äºŽæ–°ç”Ÿä»£æ‰€æœ‰å¯¹è±¡æ€»ç©ºé—´ï¼Œå¦‚æžœè¿™ä¸ªæ¡ä»¶æˆç«‹ï¼Œé‚£ä¹ˆMinor GCå¯ä»¥ç¡®ä¿æ˜¯å®‰å…¨çš„ã€‚å¦‚æžœä¸æˆç«‹ï¼Œåˆ™è™šæ‹Ÿæœºä¼šæŸ¥çœ‹HandlePromotionFailureè®¾ç½®å€¼æ˜¯å¦å…è®¸æ‹…ä¿å¤±è´¥ã€‚å¦‚æžœå…è®¸ï¼Œé‚£ä¹ˆä¼šæ£€æŸ¥è€å¹´ä»£æœ€å¤§å¯ç”¨çš„è¿žç»­ç©ºé—´æ˜¯å¦å¤§äºŽåŽ†æ¬¡æ™‹å‡åˆ°è€å¹´ä»£å¯¹è±¡çš„å¹³å‡å¤§å°ï¼Œå¦‚æžœå¤§äºŽå°±å°è¯•è¿›ç¨‹ä¸€æ¬¡Minor GCï¼ˆå°½ç®¡æ­¤æ¬¡GCæ˜¯æœ‰é£Žé™©çš„ï¼‰ï¼Œå¦‚æžœå°äºŽæˆ–è€…ä¸å…è®¸å†’é™©ï¼Œéœ€è¦è¿›è¡Œä¸€æ¬¡Full GCã€‚åœ¨JDK 6 Update 24ä¹‹åŽï¼ŒHandlePromotionFailureå‚æ•°ä¸ä¼šå†å½±å“åˆ°è™šæ‹Ÿæœºçš„ç©ºé—´åˆ†é…æ‹…ä¿ç­–ç•¥ï¼Œè§„åˆ™å˜ä¸ºåªè¦è€å¹´ä»£çš„è¿žç»­ç©ºé—´å¤§äºŽæ–°ç”Ÿä»£å¯¹è±¡æ€»å¤§å°æˆ–è€…åŽ†æ¬¡æ™‹å‡çš„å¹³å‡å¤§å°å°±ä¼šè¿›è¡ŒMinor GCï¼Œå¦åˆ™å°†è¿›è¡ŒFull GCã€‚å‚è€ƒæ·±å…¥ç†è§£JVMç¬¬äºŒç‰ˆï¼ˆå‘¨å¿—æ˜Žï¼‰http://howiefh.github.io/2015/04/08/jvm-note-2/https://blog.csdn.net/yhyr_ycy/article/details/52566105]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›´æŽ¥å¼•ç”¨å’Œç¬¦å·å¼•ç”¨]]></title>
    <url>%2F2019%2F%E7%9B%B4%E6%8E%A5%E5%BC%95%E7%94%A8%E5%92%8C%E7%AC%A6%E5%8F%B7%E5%BC%95%E7%94%A8%2F</url>
    <content type="text"><![CDATA[åœ¨JVMä¸­ï¼Œç±»ä»Žè¢«åŠ è½½åˆ°è™šæ‹Ÿæœºå†…å­˜ä¸­å¼€å§‹ï¼Œåˆ°å¸è½½å‡ºå†…å­˜ä¸ºæ­¢ï¼Œå®ƒçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬ï¼šåŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€è§£æžã€åˆå§‹åŒ–ã€ä½¿ç”¨å’Œå¸è½½7ä¸ªé˜¶æ®µã€‚è€Œè§£æžé˜¶æ®µå³æ˜¯è™šæ‹Ÿæœºå°†å¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æŽ¥å¼•ç”¨çš„è¿‡ç¨‹ã€‚ç¬¦å·å¼•ç”¨ç¬¦å·å¼•ç”¨ï¼ˆSymbolic Referencesï¼‰ï¼šç¬¦å·å¼•ç”¨ä»¥ä¸€ç»„ç¬¦å·æ¥æè¿°æ‰€å¼•ç”¨çš„ç›®æ ‡ï¼Œç¬¦å·å¯ä»¥æ˜¯ä»»ä½•å½¢å¼çš„å­—é¢é‡ï¼Œåªè¦ä½¿ç”¨æ—¶èƒ½å¤Ÿæ— æ­§ä¹‰çš„å®šä½åˆ°ç›®æ ‡å³å¯ã€‚ä¾‹å¦‚ï¼Œåœ¨Classæ–‡ä»¶ä¸­å®ƒä»¥CONSTANT_Class_infoã€CONSTANT_Fieldref_infoã€CONSTANT_Methodref_infoç­‰ç±»åž‹çš„å¸¸é‡å‡ºçŽ°ã€‚ç¬¦å·å¼•ç”¨ä¸Žè™šæ‹Ÿæœºçš„å†…å­˜å¸ƒå±€æ— å…³ï¼Œå¼•ç”¨çš„ç›®æ ‡å¹¶ä¸ä¸€å®šåŠ è½½åˆ°å†…å­˜ä¸­ã€‚åœ¨Javaä¸­ï¼Œä¸€ä¸ªJavaç±»å°†ä¼šç¼–è¯‘æˆä¸€ä¸ªclassæ–‡ä»¶ã€‚åœ¨ç¼–è¯‘æ—¶ï¼ŒJavaç±»å¹¶ä¸çŸ¥é“æ‰€å¼•ç”¨çš„ç±»çš„å®žé™…åœ°å€ï¼Œå› æ­¤åªèƒ½ä½¿ç”¨ç¬¦å·å¼•ç”¨æ¥ä»£æ›¿ã€‚æ¯”å¦‚org.simple.Peopleç±»å¼•ç”¨äº†org.simple.Languageç±»ï¼Œåœ¨ç¼–è¯‘æ—¶Peopleç±»å¹¶ä¸çŸ¥é“Languageç±»çš„å®žé™…å†…å­˜åœ°å€ï¼Œå› æ­¤åªèƒ½ä½¿ç”¨ç¬¦å·org.simple.Languageï¼ˆå‡è®¾æ˜¯è¿™ä¸ªï¼Œå½“ç„¶å®žé™…ä¸­æ˜¯ç”±ç±»ä¼¼äºŽCONSTANT_Class_infoçš„å¸¸é‡æ¥è¡¨ç¤ºçš„ï¼‰æ¥è¡¨ç¤ºLanguageç±»çš„åœ°å€ã€‚å„ç§è™šæ‹Ÿæœºå®žçŽ°çš„å†…å­˜å¸ƒå±€å¯èƒ½æœ‰æ‰€ä¸åŒï¼Œä½†æ˜¯å®ƒä»¬èƒ½æŽ¥å—çš„ç¬¦å·å¼•ç”¨éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå› ä¸ºç¬¦å·å¼•ç”¨çš„å­—é¢é‡å½¢å¼æ˜Žç¡®å®šä¹‰åœ¨Javaè™šæ‹Ÿæœºè§„èŒƒçš„Classæ–‡ä»¶æ ¼å¼ä¸­ã€‚ç›´æŽ¥å¼•ç”¨ç›´æŽ¥å¼•ç”¨å¯ä»¥æ˜¯ç›´æŽ¥æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆã€ç›¸å¯¹åç§»é‡æˆ–æ˜¯ä¸€ä¸ªèƒ½é—´æŽ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„ã€‚ç›´æŽ¥å¼•ç”¨æ˜¯å’Œè™šæ‹Ÿæœºçš„å¸ƒå±€ç›¸å…³çš„ï¼ŒåŒä¸€ä¸ªç¬¦å·å¼•ç”¨åœ¨ä¸åŒçš„è™šæ‹Ÿæœºå®žä¾‹ä¸Šç¿»è¯‘å‡ºæ¥çš„ç›´æŽ¥å¼•ç”¨ä¸€èˆ¬ä¸ä¼šç›¸åŒã€‚å¦‚æžœæœ‰äº†ç›´æŽ¥å¼•ç”¨ï¼Œé‚£å¼•ç”¨çš„ç›®æ ‡å¿…å®šå·²ç»è¢«åŠ è½½å…¥å†…å­˜ä¸­äº†ã€‚å‚è€ƒhttps://blog.csdn.net/u014656992/article/details/51107127æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºç¬¬ä¸ƒç« ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸é‡æ± å’ŒString]]></title>
    <url>%2F2019%2F%E5%B8%B8%E9%87%8F%E6%B1%A0%E5%92%8CString%2F</url>
    <content type="text"><![CDATA[å£°æ˜Žå¸¸é‡æ± åŠStringåœ¨JDK6ã€JDK7ã€JDK8ä¸­çš„å®žçŽ°ä»¥åŠåœ¨ä¸åŒè™šæ‹Ÿæœºä¸­çš„å®žçŽ°æœ‰å¾ˆå¤§åŒºåˆ«ï¼Œé™äºŽç¬”è€…æ°´å¹³æ— æ³•å…¼é¡¾åˆ°å¤ªå¤šç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚ï¼Œæ‰€ä»¥ä¸‹æ–‡ç« ä¸­çš„è§£é‡Šå’Œæµ‹è¯•éƒ½ä»…ä»…é’ˆå¯¹äºŽHotSpotè™šæ‹Ÿæœºçš„JDK8ã€‚å¸¸é‡æ± å’Œè¿è¡Œæ—¶å¸¸é‡æ± åœ¨åˆšå¼€å§‹å­¦ä¹ Javaå†…å­˜æ¨¡åž‹çš„æ—¶å€™ç¬”è€…æŽ‰è¿›å…¥è¿‡ä¸€ä¸ªå¤§å‘ï¼Œå³è®¤ä¸ºå¸¸é‡æ± æ˜¯è¿è¡Œæ—¶å¸¸é‡æ± çš„ç®€ç§°ã€‚ä½†æ˜¯å®žé™…ä¸Šè¿™ä¸¤è€…æ˜¯ä¸ä¸€æ ·æ± å­ï¼Œè¿è¡Œæ—¶å¸¸é‡æ± çš„è‹±æ–‡ï¼šRuntime Constant Poolï¼Œå¸¸é‡æ± çš„è‹±æ–‡ï¼šConstant Pool Tableï¼Œè¿è¡Œæ—¶å¸¸é‡æ± æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ã€‚å¸¸é‡æ± æ˜¯Classæ–‡ä»¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºŽå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ã€‚ç¬¦å·å¼•ç”¨å’Œç›´æŽ¥å¼•ç”¨è¯·å‚è€ƒï¼šhttps://isjinhao.github.io/2019/%E7%9B%B4%E6%8E%A5%E5%BC%95%E7%94%A8%E5%92%8C%E7%AC%A6%E5%8F%B7%E5%BC%95%E7%94%A8/#moreå¸¸é‡æ± çš„å†…å®¹å¸¸é‡æ± åˆ°è¿è¡Œæ—¶å¸¸é‡æ± é™æ€å¸¸é‡æ± å­˜å‚¨çš„æ˜¯å½“classæ–‡ä»¶è¢«javaè™šæ‹ŸæœºåŠ è½½è¿›æ¥åŽå­˜æ”¾åœ¨æ–¹æ³•åŒºçš„ä¸€äº›å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ï¼Œå­—é¢é‡åŒ…æ‹¬å­—ç¬¦ä¸²ï¼ŒåŸºæœ¬ç±»åž‹çš„å¸¸é‡ï¼Œç¬¦å·å¼•ç”¨å…¶å®žå¼•ç”¨çš„å°±æ˜¯å¸¸é‡æ± é‡Œé¢çš„å­—ç¬¦ä¸²ï¼Œä½†ç¬¦å·å¼•ç”¨ä¸æ˜¯ç›´æŽ¥å­˜å‚¨å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯å­˜å‚¨å­—ç¬¦ä¸²åœ¨å¸¸é‡æ± é‡Œçš„ç´¢å¼•ã€‚åŠ¨æ€å¸¸é‡æ± æ˜¯å½“classæ–‡ä»¶è¢«åŠ è½½å®ŒæˆåŽï¼Œjavaè™šæ‹Ÿæœºä¼šå°†é™æ€å¸¸é‡æ± é‡Œçš„å†…å®¹è½¬ç§»åˆ°åŠ¨æ€å¸¸é‡æ± é‡Œï¼Œåœ¨é™æ€å¸¸é‡æ± çš„ç¬¦å·å¼•ç”¨æœ‰ä¸€éƒ¨åˆ†æ˜¯ä¼šè¢«è½¬å˜ä¸ºç›´æŽ¥å¼•ç”¨çš„ï¼Œæ¯”å¦‚è¯´ç±»çš„é™æ€æ–¹æ³•æˆ–ç§æœ‰æ–¹æ³•ï¼Œå®žä¾‹æž„é€ æ–¹æ³•ï¼Œçˆ¶ç±»æ–¹æ³•ï¼Œè¿™æ˜¯å› ä¸ºè¿™äº›æ–¹æ³•ä¸èƒ½è¢«é‡å†™å…¶ä»–ç‰ˆæœ¬ï¼Œæ‰€ä»¥èƒ½åœ¨åŠ è½½çš„æ—¶å€™å°±å¯ä»¥å°†ç¬¦å·å¼•ç”¨è½¬å˜ä¸ºç›´æŽ¥å¼•ç”¨ï¼Œè€Œå…¶ä»–çš„ä¸€äº›æ–¹æ³•æ˜¯åœ¨è¿™ä¸ªæ–¹æ³•è¢«ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™æ‰ä¼šå°†ç¬¦å·å¼•ç”¨è½¬å˜ä¸ºç›´æŽ¥å¼•ç”¨çš„ã€‚8ç§åŸºæœ¬ç±»åž‹çš„åŒ…è£…ç±»å’Œå¸¸é‡æ± Javaä¸­åŸºæœ¬ç±»åž‹çš„åŒ…è£…ç±»çš„å¤§éƒ¨åˆ†éƒ½å®žçŽ°äº†å¸¸é‡æ± æŠ€æœ¯ï¼Œå³Byteã€Shortã€Integerã€Longã€Characterã€Booleanã€‚ä»–ä¹ˆé»˜è®¤åˆ›å»ºäº†æ•°å€¼[-128ï¼Œ127]çš„ç›¸åº”ç±»åž‹çš„ç¼“å­˜æ•°æ®ï¼Œä½†æ˜¯è¶…å‡ºæ­¤èŒƒå›´ä»ç„¶ä¼šåŽ»åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚1234567//Integer ç¼“å­˜ä»£ç  ï¼špublic static Integer valueOf(int i) &#123; assert IntegerCache.high &gt;= 127; if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high) return IntegerCache.cache[i + (-IntegerCache.low)]; return new Integer(i); &#125;1234567Integer i1 = 40;Integer i2 = 40;System.out.println(i1==i2);//è¾“å‡ºTRUEInteger i1 = 400;Integer i2 = 400;System.out.println(i1==i2);//è¾“å‡ºfalseIntegeræ¯”è¾ƒæ›´ä¸°å¯Œçš„ä¸€ä¸ªä¾‹å­12345678910111213141516171819202122Integer i1 = 40;Integer i2 = 40;Integer i3 = 0;Integer i4 = new Integer(40);Integer i5 = new Integer(40);Integer i6 = new Integer(0);System.out.println("i1=i2 " + (i1 == i2));System.out.println("i1=i2+i3 " + (i1 == i2 + i3));System.out.println("i1=i4 " + (i1 == i4));System.out.println("i4=i5 " + (i4 == i5));System.out.println("i4=i5+i6 " + (i4 == i5 + i6)); System.out.println("40=i5+i6 " + (40 == i5 + i6));/* i1=i2 true i1=i2+i3 true i1=i4 false i4=i5 false i4=i5+i6 true 40=i5+i6 true*/è§£é‡Šï¼šè¯­å¥i4 == i5 + i6ï¼Œå› ä¸º+è¿™ä¸ªæ“ä½œç¬¦ä¸é€‚ç”¨äºŽIntegerå¯¹è±¡ï¼Œé¦–å…ˆi5å’Œi6è¿›è¡Œè‡ªåŠ¨æ‹†ç®±æ“ä½œï¼Œè¿›è¡Œæ•°å€¼ç›¸åŠ ï¼Œå³i4 == 40ã€‚ç„¶åŽIntegerå¯¹è±¡æ— æ³•ä¸Žæ•°å€¼è¿›è¡Œç›´æŽ¥æ¯”è¾ƒï¼Œæ‰€ä»¥i4è‡ªåŠ¨æ‹†ç®±è½¬ä¸ºintå€¼40ï¼Œæœ€ç»ˆè¿™æ¡è¯­å¥è½¬ä¸º40 == 40è¿›è¡Œæ•°å€¼æ¯”è¾ƒã€‚Stringç±»å’Œå¸¸é‡æ± å­—ç¬¦ä¸²å¸¸é‡æ± è‹±æ–‡åå­—ï¼šString Poolï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± çš„æœ¬è´¨æ˜¯ä¸€ä¸ªStringTableç±»ï¼ˆå®ƒæ˜¯ä¸€ä¸ªHashSetï¼‰ã€‚è¿™ä¸ªStringTableåœ¨æ¯ä¸ªHotSpot VMçš„å®žä¾‹åªæœ‰ä¸€ä»½ï¼Œè¢«æ‰€æœ‰çš„ç±»å…±äº«ã€‚ä½†å®ƒåªå­˜å‚¨è¿è¡Œæ—¶å¸¸é‡æ± é‡ŒStringå¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œä¸å­˜å‚¨Stringå¯¹è±¡çš„å†…å®¹ï¼Œæ ¹æ®è¿™ä¸ªå¼•ç”¨å¯ä»¥å¾—åˆ°å…·ä½“çš„Stringå¯¹è±¡ã€‚æ³¨æ„ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± æ˜¯å­—ç¬¦ä¸²ç±»ç»´æŠ¤çš„ã€‚å­—ç¬¦ä¸²å¸¸é‡æ± åªæ˜¯ä¸ºäº†åŠ å¿«Stringç±»åž‹å¸¸é‡çš„æ£€ç´¢ã€‚intern()String.intern() æ˜¯ä¸€ä¸ª Native æ–¹æ³•ï¼ŒJDKå¯¹å®ƒçš„è§£é‡Šæ˜¯ï¼ˆæ°´å¹³æœ‰é™ï¼Œä¸å†ç¿»è¯‘ï¼‰ï¼šA pool of strings, initially empty, is maintained privately by the class String. When the intern method is invoked, if the pool already contains a string equal to this String object as determined by the equals(Object) method, then the string from the pool is returned. Otherwise, this String object is added to the pool and a reference to this String object is returned.It follows that for any two strings s and t, s.intern() == t.intern() is true if and only if s.equals(t) is true.All literal strings and string-valued constant expressions are interned.å¤§è‡´æ„æ€æ˜¯ï¼šå¦‚æžœå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å·²ç»æœ‰äº†è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆç›´æŽ¥è¿”å›žå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„å®ƒçš„å¼•ç”¨ï¼Œå¦‚æžœæ²¡æœ‰ï¼Œé‚£å°±å°†å®ƒçš„å¼•ç”¨ä¿å­˜ä¸€ä»½åˆ°å­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œç„¶åŽç›´æŽ¥è¿”å›žè¿™ä¸ªå¼•ç”¨ã€‚åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ä½¿ç”¨equalsæ–¹æ³•ã€‚å­—é¢é‡è¿›å…¥å­—ç¬¦ä¸²å¸¸é‡æ± çš„æ—¶æœºå°±HotSpot VMçš„å®žçŽ°æ¥è¯´ï¼Œåœ¨åŠ è½½ç±»çš„æ—¶å€™ï¼Œå­—ç¬¦ä¸²å­—é¢é‡ä¼šè¿›å…¥å½“å‰ç±»çš„è¿è¡Œæ—¶å¸¸é‡æ± ï¼Œä¸ä¼šè¿›å…¥String Poolã€‚åŠ è½½ç±»çš„æ—¶å€™ï¼Œæ²¡æœ‰è§£æžå­—ç¬¦ä¸²å­—é¢é‡ï¼Œç­‰åˆ°æ‰§è¡ŒldcæŒ‡ä»¤çš„æ—¶å€™å°±ä¼šè§¦å‘è¿™ä¸ªè§£æžçš„åŠ¨ä½œã€‚è§£æžæŒ‡ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æŽ¥å¼•ç”¨çš„è¿‡ç¨‹ï¼Œå‚è§ï¼šhttps://isjinhao.github.io/2019/%E7%9B%B4%E6%8E%A5%E5%BC%95%E7%94%A8%E5%92%8C%E7%AC%A6%E5%8F%B7%E5%BC%95%E7%94%A8/#moreldcæŒ‡ä»¤çš„è¯­ä¹‰æ˜¯ï¼šåˆ°å½“å‰ç±»çš„è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime Constant Poolï¼‰åŽ»æŸ¥æ‰¾è¯¥indexå¯¹åº”çš„é¡¹ï¼Œå¦‚æžœè¯¥é¡¹å°šæœªresolveåˆ™resolveä¹‹ï¼Œå¹¶è¿”å›žresolveåŽçš„å†…å®¹ã€‚ åœ¨é‡åˆ°Stringç±»åž‹å¸¸é‡æ—¶ï¼Œresolveçš„è¿‡ç¨‹å¦‚æžœå‘çŽ°StringTableå·²ç»æœ‰äº†å†…å®¹åŒ¹é…çš„java.lang.Stringçš„å¼•ç”¨ï¼Œåˆ™ç›´æŽ¥è¿”å›žè¿™ä¸ªå¼•ç”¨ï¼Œåä¹‹ï¼Œå¦‚æžœStringTableé‡Œå°šæœªæœ‰å†…å®¹åŒ¹é…çš„Stringå®žä¾‹çš„å¼•ç”¨ï¼Œåˆ™ä¼šåœ¨Javaå †é‡Œåˆ›å»ºä¸€ä¸ªå¯¹åº”å†…å®¹çš„Stringå¯¹è±¡ï¼Œç„¶åŽåœ¨StringTableè®°å½•ä¸‹è¿™ä¸ªå¼•ç”¨ï¼Œå¹¶è¿”å›žè¿™ä¸ªå¼•ç”¨å‡ºåŽ»ã€‚å¯è§ï¼ŒldcæŒ‡ä»¤æ˜¯å¦éœ€è¦åˆ›å»ºæ–°çš„Stringå®žä¾‹ï¼Œå…¨çœ‹åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œè¿™ä¸€æ¡ldcæŒ‡ä»¤æ—¶ï¼ŒStringTableæ˜¯å¦å·²ç»è®°å½•äº†ä¸€ä¸ªå¯¹åº”å†…å®¹çš„Stringçš„å¼•ç”¨ã€‚å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æœ‰å“ªäº›å­—ç¬¦ä¸²çš„å¼•ç”¨ç”±å­—é¢é‡åˆ›å»ºçš„Stringåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­éƒ½æœ‰ä¸€ä»½å¼•ç”¨è¢«newå‡ºæ¥çš„å¯¹è±¡è°ƒç”¨intern()æ–¹æ³•åŽå†å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ‰æœ‰ä¸€ä»½å¼•ç”¨èŽ·å¾—Stringå¯¹è±¡123String str1 = "abcd";String str2 = new String("abcd");System.out.println(str1==str2); //falseç›´æŽ¥ä½¿ç”¨åŒå¼•å·å£°æ˜Žå‡ºæ¥çš„ String å¯¹è±¡ä¼šç›´æŽ¥å­˜å‚¨åœ¨å¸¸é‡æ± ä¸­ã€‚ä½¿ç”¨åŒå¼•å·å£°æ˜Žæ—¶ä¼šè°ƒç”¨ldcå‘½ä»¤ï¼Œæ‰€ä»¥å…¶æ£€æŸ¥çš„æ˜¯å­—ç¬¦ä¸²å¸¸é‡æ± ã€‚å¯¹äºŽnew String()åˆ™ä¼šåœ¨å †ä¸­åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ï¼Œå¹¶è¿”å›žè¯¥å¯¹è±¡çš„å¼•ç”¨ã€‚Initializes a newly created String object so that it represents the same sequence of characters as the argument; in other words, the newly created string is a copy of the argument string. Unless an explicit copy of original is needed, use of this constructor is unnecessary since Strings are immutable.ä¾‹é¢˜1Qï¼šString s = new String(&quot;123&quot;);å®šä¹‰äº†å‡ ä¸ªå¯¹è±¡ã€‚Aï¼šè‹¥å¸¸é‡æ± ä¸­å·²ç»å­˜åœ¨â€123â€ï¼Œåˆ™ç›´æŽ¥å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶åªä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æžœå¸¸é‡æ± ä¸­ä¸å­˜â€123â€ï¼Œåˆ™å…ˆåˆ›å»ºåŽå°†åœ¨å †ä¸­åˆ›å»ºâ€123â€çš„ä¸€ä»½æ‹·è´ï¼Œå¹¶æŠŠè¿™ä¸ªæ‹·è´çš„å¼•ç”¨è¿”å›žã€‚æ­¤æ—¶å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æœ‰â€123â€œçš„å¼•ç”¨ã€‚2Qï¼š123456String s1 = "Hollis";String s2 = new String("Hollis");String s3 = new String("Hollis").intern();System.out.println(s1 == s2); //falseSystem.out.println(s1 == s3); //trueAï¼š3Qï¼š12345678String s = new String("1");String s2 = "1";s.intern();System.out.println(s == s2); //falseString s3 = new String("1") + new String("2");s3.intern();String s4 = "12";System.out.println(s3 == s4); //trueAï¼š123451ï¼šå¸¸é‡æ± ä¸­æœ‰&quot;1&quot;ï¼Œå †ä¸­æœ‰å­—ç¬¦ä¸²&quot;1&quot;ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ˜¯å¸¸é‡æ± ä¸­&quot;1&quot;çš„å¼•ç”¨ï¼Œsæ˜¯å †ä¸­çš„å¼•ç”¨2ï¼šåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ£€ç´¢ï¼Œæœ‰&quot;1&quot;ï¼Œåˆ™å¾—åˆ°å¸¸é‡æ± ä¸­&quot;1&quot;çš„å¼•ç”¨5ï¼šå¸¸é‡æ± ä¸­æœ‰&quot;1&quot;ï¼Œ&quot;2&quot;ã€‚new String(&quot;1&quot;) + new String(&quot;2&quot;);çš„åº•å±‚æ˜¯ä½¿ç”¨StringBufferçš„appendæ–¹æ³•å°†&quot;2&quot;å’Œ&quot;2&quot;æ‹¼æŽ¥åœ¨ä¸€å—ï¼Œç„¶åŽè°ƒç”¨toStringæ–¹æ³•newå‡ºâ€œ22â€ï¼›æ‰€ä»¥æ­¤æ—¶çš„â€œ22â€å­—ç¬¦ä¸²æ˜¯åˆ›å»ºåœ¨å †åŒºçš„ï¼›6ï¼šåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ£€ç´¢ï¼Œæ²¡æœ‰&quot;22&quot;ï¼ŒæŠŠå †ä¸­è¯¥å¯¹è±¡çš„å¼•ç”¨æ”¾åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­7ï¼šæ£€æŸ¥å­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œæœ‰&quot;2&quot;çš„å¼•ç”¨ï¼ŒæŒ‡å‘å †4Qï¼š1234String s1=new String("xy") + "z"; String s2=s1.intern(); System.out.println(s1==s1.intern()); //true System.out.println(s2==s1.intern());Aï¼š12341ï¼šå †ä¸­æœ‰&quot;xyz&quot;ï¼Œå¸¸é‡æ± ä¸­æœ‰&quot;xy&quot;ï¼Œ&quot;z&quot;2ï¼šæŠŠå †ä¸­çš„&quot;xyz&quot;çš„å¼•ç”¨å­˜åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ã€‚3ï¼šéƒ½æŒ‡å‘å †ä¸­4ï¼šéƒ½æŒ‡å‘å †ä¸­5Qï¼š1234String s1=new String("xyz") ; String s2=s1.intern(); System.out.println(s1==s1.intern()); //falseSystem.out.println(s2==s1.intern()); //trueAï¼š12341ï¼šå¸¸é‡æ± ä¸­æœ‰&quot;xyz&quot;ï¼Œå †ä¸­æœ‰&quot;xyz&quot;2ï¼šs2æŒ‡å‘å¸¸é‡æ± ä¸­çš„&quot;xyz&quot;3ï¼šs1.intern()æŒ‡å‘å¸¸é‡æ± ï¼Œs1æŒ‡å‘å †4ï¼šs2æŒ‡å‘å †6Qï¼š1234String s1 = "xy" + "z";String s2 = s1.intern();System.out.println( s1==s1.intern() ); //trueSystem.out.println( s2==s1.intern() ); //trueAï¼š12341ï¼šç¼–è¯‘æœŸå¯ä»¥ç¡®å®šs1æ˜¯&quot;xyz&quot;ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨ä¼šä¼˜åŒ–ã€‚åœ¨å¸¸é‡æ± ä¸­æœ‰&quot;xyz&quot;2ï¼šs2æŒ‡å‘å¸¸é‡æ± ä¸­çš„&quot;xyz&quot;3ï¼šéƒ½æŒ‡å‘å¸¸é‡æ± ä¸­çš„&quot;xyz&quot;4ï¼šéƒ½æŒ‡å‘å¸¸é‡æ± ä¸­çš„&quot;xyz&quot;7Qï¼š12345678String s1=new String("xy") + "z"; String s3 = "xyz";String s2=s1.intern(); System.out.println(s1 == s3); //falseSystem.out.println(s1 == s2); //falseSystem.out.println(s2 == s3); //trueSystem.out.println(s1==s1.intern()); //falseSystem.out.println(s2==s1.intern()); //trueAï¼š123456781ï¼šå †ä¸­æœ‰&quot;xyz&quot;ï¼Œå¸¸é‡æ± ä¸­æœ‰&quot;xy&quot;å’Œ&quot;z&quot;ï¼Œs1æŒ‡å‘å †ä¸­çš„&quot;xyz&quot;2ï¼šæ£€ç´¢å­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œæ²¡æœ‰&quot;xyz&quot;ï¼Œåœ¨å¸¸é‡æ± ä¸­åˆ›å»º&quot;xyz&quot;ï¼Œs3æŒ‡å‘å¸¸é‡æ± ä¸­çš„&quot;xyz&quot;3ï¼šå­—ç¬¦ä¸²å¸¸é‡æ± æœ‰&quot;xyz&quot;çš„å¼•ç”¨ï¼Œä¸”æŒ‡å‘å¸¸é‡æ± ï¼Œs2æŒ‡å‘å¸¸é‡æ± ä¸­&quot;xyz&quot;4ï¼šs1æŒ‡å‘å †ä¸­çš„&quot;xyz&quot;ï¼Œs2æŒ‡å‘å¸¸é‡æ± ä¸­&quot;xyz&quot;5ï¼šs1æŒ‡å‘å †ä¸­çš„&quot;xyz&quot;ï¼Œs3æŒ‡å‘å¸¸é‡æ± ä¸­çš„&quot;xyz&quot;6ï¼šéƒ½æŒ‡å‘å¸¸é‡æ± ä¸­&quot;xyz&quot;7ï¼šs1æŒ‡å‘å †ä¸­çš„&quot;xyz&quot;ï¼Œs1==s1.internæŒ‡å‘å¸¸é‡æ± ä¸­çš„&quot;xyz&quot;8ï¼šs2æŒ‡å‘å¸¸é‡æ± ä¸­&quot;xyz&quot;ï¼Œs1==s1.internæŒ‡å‘å¸¸é‡æ± ä¸­çš„&quot;xyz&quot;å‚è€ƒhttps://blog.csdn.net/wangbiao007/article/details/78545189https://blog.csdn.net/Mypromise_TFS/article/details/81504137https://www.zhihu.com/question/55994121æ·±å…¥ç†è§£JVMç¬¬äºŒç‰ˆ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaå†…å­˜æ¨¡åž‹]]></title>
    <url>%2F2019%2FJava%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[JVMJVMåˆ™æ˜¯JREä¸­çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼Œæ‰¿æ‹…åˆ†æžå’Œæ‰§è¡ŒJavaå­—èŠ‚ç çš„å·¥ä½œã€‚åœ¨JavaåŽ†å²ä¸Šæœ‰å¾ˆå¤šå‘è¡Œçš„Javaè™šæ‹Ÿæœºï¼Œä½†ç›®å‰ä¸€èˆ¬éƒ½æ˜¯HotSpotã€‚æŸ¥çœ‹æœ¬æœºJVMï¼šjava -versionè¿è¡Œæ—¶æ•°æ®åŒºJavaè™šæ‹Ÿæœºåœ¨æ‰§è¡ŒJavaç¨‹åºçš„æ—¶å€™ä¼šæŠŠå®ƒæ‰€ç®¡ç†çš„å†…å­˜åŒºåŸŸåˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªä¸åŒçš„æ•°æ®åŒºåŸŸã€‚æ ¹æ®JVMè§„èŒƒï¼ŒJVM å†…å­˜å…±åˆ†ä¸ºè™šæ‹Ÿæœºæ ˆã€å †ã€æ–¹æ³•åŒºã€ç¨‹åºè®¡æ•°å™¨ã€æœ¬åœ°æ–¹æ³•æ ˆäº”ä¸ªéƒ¨åˆ†ã€‚è¿è¡Œæ—¶æ•°æ®åŒºåˆ’åˆ†JDK6JDK8çº¿ç¨‹ç§æœ‰ç¨‹åºè®¡æ•°å™¨ç¨‹åºè®¡æ•°å™¨æ˜¯ä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨ã€‚å­—èŠ‚ç è§£é‡Šå™¨å·¥ä½œæ—¶é€šè¿‡æ”¹å˜è¿™ä¸ªè®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œåˆ†æ”¯ã€å¾ªçŽ¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤ç­‰åŠŸèƒ½éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªè®¡æ•°å™¨æ¥å®Œã€‚å¦å¤–ï¼Œä¸ºäº†çº¿ç¨‹åˆ‡æ¢åŽèƒ½æ¢å¤åˆ°æ­£ç¡®çš„æ‰§è¡Œä½ç½®ï¼Œæ¯æ¡çº¿ç¨‹éƒ½éœ€è¦æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨ï¼Œå„çº¿ç¨‹ä¹‹é—´è®¡æ•°å™¨äº’ä¸å½±å“ï¼Œç‹¬ç«‹å­˜å‚¨ï¼Œæˆ‘ä»¬ç§°è¿™ç±»å†…å­˜åŒºåŸŸä¸ºâ€œçº¿ç¨‹ç§æœ‰â€çš„å†…å­˜ã€‚ä»Žä¸Šé¢çš„ä»‹ç»ä¸­æˆ‘ä»¬çŸ¥é“ç¨‹åºè®¡æ•°å™¨ä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨ï¼šå­—èŠ‚ç è§£é‡Šå™¨é€šè¿‡æ”¹å˜ç¨‹åºè®¡æ•°å™¨æ¥ä¾æ¬¡è¯»å–æŒ‡ä»¤ï¼Œä»Žè€Œå®žçŽ°ä»£ç çš„æµç¨‹æŽ§åˆ¶ï¼Œå¦‚ï¼šé¡ºåºæ‰§è¡Œã€é€‰æ‹©ã€å¾ªçŽ¯ã€å¼‚å¸¸å¤„ç†ã€‚åœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œç¨‹åºè®¡æ•°å™¨ç”¨äºŽè®°å½•å½“å‰çº¿ç¨‹æ‰§è¡Œçš„ä½ç½®ï¼Œä»Žè€Œå½“çº¿ç¨‹è¢«åˆ‡æ¢å›žæ¥çš„æ—¶å€™èƒ½å¤ŸçŸ¥é“è¯¥çº¿ç¨‹ä¸Šæ¬¡è¿è¡Œåˆ°å“ªå„¿äº†ã€‚æ³¨æ„ï¼šç¨‹åºè®¡æ•°å™¨æ˜¯å”¯ä¸€ä¸€ä¸ªä¸ä¼šå‡ºçŽ°OutOfMemoryErrorçš„å†…å­˜åŒºåŸŸï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸéšç€çº¿ç¨‹çš„åˆ›å»ºè€Œåˆ›å»ºï¼Œéšç€çº¿ç¨‹çš„ç»“æŸè€Œæ­»äº¡ã€‚Javaè™šæ‹Ÿæœºæ ˆä¸Žç¨‹åºè®¡æ•°å™¨ä¸€æ ·ï¼ŒJavaè™šæ‹Ÿæœºæ ˆä¹Ÿæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸå’Œçº¿ç¨‹ç›¸åŒï¼Œæè¿°çš„æ˜¯ Java æ–¹æ³•æ‰§è¡Œçš„å†…å­˜æ¨¡åž‹ï¼Œæ¯æ¬¡æ–¹æ³•è°ƒç”¨çš„æ•°æ®éƒ½æ˜¯é€šè¿‡æ ˆä¼ é€’çš„ã€‚Java å†…å­˜å¯ä»¥ç²—ç³™çš„åŒºåˆ†ä¸ºå †å†…å­˜ï¼ˆHeapï¼‰å’Œæ ˆå†…å­˜(Stack)ï¼Œå…¶ä¸­æ ˆå°±æ˜¯çŽ°åœ¨è¯´çš„è™šæ‹Ÿæœºæ ˆï¼Œæˆ–è€…è¯´æ˜¯è™šæ‹Ÿæœºæ ˆä¸­å±€éƒ¨å˜é‡è¡¨éƒ¨åˆ†ã€‚ ï¼ˆå®žé™…ä¸Šï¼ŒJavaè™šæ‹Ÿæœºæ ˆæ˜¯ç”±ä¸€ä¸ªä¸ªæ ˆå¸§ç»„æˆï¼Œè€Œæ¯ä¸ªæ ˆå¸§ä¸­éƒ½æ‹¥æœ‰ï¼šå±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æŽ¥ã€æ–¹æ³•å‡ºå£ä¿¡æ¯ï¼‰å±€éƒ¨å˜é‡è¡¨ä¸»è¦å­˜æ”¾äº†ç¼–è¯‘å™¨å¯çŸ¥çš„å„ç§æ•°æ®ç±»åž‹ï¼ˆbooleanã€byteã€charã€shortã€intã€floatã€longã€doubleï¼‰ã€å¯¹è±¡å¼•ç”¨ï¼ˆreferenceç±»åž‹ï¼Œå®ƒä¸åŒäºŽå¯¹è±¡æœ¬èº«ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡èµ·å§‹åœ°å€çš„å¼•ç”¨æŒ‡é’ˆï¼Œä¹Ÿå¯èƒ½æ˜¯æŒ‡å‘ä¸€ä¸ªä»£è¡¨å¯¹è±¡çš„å¥æŸ„æˆ–å…¶ä»–ä¸Žæ­¤å¯¹è±¡ç›¸å…³çš„ä½ç½®ï¼‰å’ŒreturnAddressç±»åž‹ï¼ˆæŒ‡å‘ä¸€æ¡å­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ï¼‰ã€‚Java è™šæ‹Ÿæœºæ ˆä¼šå‡ºçŽ°ä¸¤ç§å¼‚å¸¸ï¼šStackOverFlowError å’Œ OutOfMemoryErrorã€‚StackOverFlowErrorï¼š è‹¥Javaè™šæ‹Ÿæœºæ ˆçš„å†…å­˜å¤§å°ä¸å…è®¸åŠ¨æ€æ‰©å±•ï¼Œé‚£ä¹ˆå½“çº¿ç¨‹è¯·æ±‚æ ˆçš„æ·±åº¦è¶…è¿‡å½“å‰Javaè™šæ‹Ÿæœºæ ˆçš„æœ€å¤§æ·±åº¦çš„æ—¶å€™ï¼Œå°±æŠ›å‡ºStackOverFlowErrorå¼‚å¸¸ã€‚OutOfMemoryErrorï¼š è‹¥ Java è™šæ‹Ÿæœºæ ˆçš„å†…å­˜å¤§å°å…è®¸åŠ¨æ€æ‰©å±•ï¼Œä¸”å½“çº¿ç¨‹è¯·æ±‚æ ˆæ—¶å†…å­˜ç”¨å®Œäº†ï¼Œæ— æ³•å†åŠ¨æ€æ‰©å±•äº†ï¼Œæ­¤æ—¶æŠ›å‡ºOutOfMemoryErrorå¼‚å¸¸ã€‚Java è™šæ‹Ÿæœºæ ˆä¹Ÿæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰å„è‡ªçš„Javaè™šæ‹Ÿæœºæ ˆï¼Œè€Œä¸”éšç€çº¿ç¨‹çš„åˆ›å»ºè€Œåˆ›å»ºï¼Œéšç€çº¿ç¨‹çš„æ­»äº¡è€Œæ­»äº¡ã€‚æ‰©å±•ï¼šé‚£ä¹ˆæ–¹æ³•/å‡½æ•°å¦‚ä½•è°ƒç”¨ï¼ŸJava æ ˆå¯ç”¨ç±»æ¯”æ•°æ®ç»“æž„ä¸­æ ˆï¼ŒJava æ ˆä¸­ä¿å­˜çš„ä¸»è¦å†…å®¹æ˜¯æ ˆå¸§ï¼Œæ¯ä¸€æ¬¡å‡½æ•°è°ƒç”¨éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„æ ˆå¸§è¢«åŽ‹å…¥Javaæ ˆï¼Œæ¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨ç»“æŸåŽï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªæ ˆå¸§è¢«å¼¹å‡ºã€‚Javaæ–¹æ³•æœ‰ä¸¤ç§è¿”å›žæ–¹å¼ï¼šreturn è¯­å¥ã€‚æŠ›å‡ºå¼‚å¸¸ã€‚ä¸ç®¡å“ªç§è¿”å›žæ–¹å¼éƒ½ä¼šå¯¼è‡´æ ˆå¸§è¢«å¼¹å‡ºã€‚æœ¬åœ°æ–¹æ³•æ ˆå’Œè™šæ‹Ÿæœºæ ˆæ‰€å‘æŒ¥çš„ä½œç”¨éžå¸¸ç›¸ä¼¼ï¼ŒåŒºåˆ«æ˜¯ï¼š è™šæ‹Ÿæœºæ ˆä¸ºè™šæ‹Ÿæœºæ‰§è¡Œ Java æ–¹æ³• ï¼ˆä¹Ÿå°±æ˜¯å­—èŠ‚ç ï¼‰æœåŠ¡ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ä¸ºè™šæ‹Ÿæœºä½¿ç”¨åˆ°çš„ Native æ–¹æ³•æœåŠ¡ã€‚ åœ¨ HotSpot è™šæ‹Ÿæœºä¸­å’Œ Java è™šæ‹Ÿæœºæ ˆåˆäºŒä¸ºä¸€ã€‚æœ¬åœ°æ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œåœ¨æœ¬åœ°æ–¹æ³•æ ˆä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œç”¨äºŽå­˜æ”¾è¯¥æœ¬åœ°æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æŽ¥ã€å‡ºå£ä¿¡æ¯ã€‚æ–¹æ³•æ‰§è¡Œå®Œæ¯•åŽç›¸åº”çš„æ ˆå¸§ä¹Ÿä¼šå‡ºæ ˆå¹¶é‡Šæ”¾å†…å­˜ç©ºé—´ï¼Œä¹Ÿä¼šå‡ºçŽ° StackOverFlowError å’Œ OutOfMemoryError ä¸¤ç§å¼‚å¸¸ã€‚çº¿ç¨‹å…±äº«Javaå †Java è™šæ‹Ÿæœºæ‰€ç®¡ç†çš„å†…å­˜ä¸­æœ€å¤§çš„ä¸€å—ï¼ŒJava å †æ˜¯æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ä¸€å—å†…å­˜åŒºåŸŸï¼Œåœ¨è™šæ‹Ÿæœºå¯åŠ¨æ—¶åˆ›å»ºã€‚æ­¤å†…å­˜åŒºåŸŸçš„å”¯ä¸€ç›®çš„å°±æ˜¯å­˜æ”¾å¯¹è±¡å®žä¾‹ï¼Œå‡ ä¹Žæ‰€æœ‰çš„å¯¹è±¡å®žä¾‹ä»¥åŠæ•°ç»„éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ã€‚Java å †æ˜¯åžƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„ä¸»è¦åŒºåŸŸï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä½œGCå †ï¼ˆGarbage Collected Heapï¼‰ã€‚ä»Žåžƒåœ¾å›žæ”¶çš„è§’åº¦ï¼Œç”±äºŽçŽ°åœ¨æ”¶é›†å™¨åŸºæœ¬éƒ½é‡‡ç”¨åˆ†ä»£åžƒåœ¾æ”¶é›†ç®—æ³•ï¼Œæ‰€ä»¥Javaå †è¿˜å¯ä»¥ç»†åˆ†ä¸ºï¼šæ–°ç”Ÿä»£å’Œè€å¹´ä»£ã€‚å†ç»†è‡´ä¸€ç‚¹æœ‰ï¼šEdenç©ºé—´ã€From Survivorã€To Survivorç©ºé—´ç­‰ã€‚è¿›ä¸€æ­¥åˆ’åˆ†çš„ç›®çš„æ˜¯æ›´å¥½åœ°å›žæ”¶å†…å­˜ï¼Œæˆ–è€…æ›´å¿«åœ°åˆ†é…å†…å­˜ã€‚ä¸Šå›¾æ‰€ç¤ºçš„edenåŒºã€s0åŒºã€s1åŒºéƒ½å±žäºŽæ–°ç”Ÿä»£ï¼ŒtentiredåŒºå±žäºŽè€å¹´ä»£ã€‚å¤§éƒ¨åˆ†æƒ…å†µï¼Œå¯¹è±¡éƒ½ä¼šé¦–å…ˆåœ¨EdenåŒºåŸŸåˆ†é…ï¼Œåœ¨ä¸€æ¬¡æ–°ç”Ÿä»£åžƒåœ¾å›žæ”¶åŽï¼Œå¦‚æžœå¯¹è±¡è¿˜å­˜æ´»ï¼Œåˆ™ä¼šè¿›å…¥s0æˆ–è€…s1ï¼Œå¹¶ä¸”å¯¹è±¡çš„å¹´é¾„è¿˜ä¼šåŠ  1ï¼ˆEdenåŒº-&gt;Survivor åŒºåŽå¯¹è±¡çš„åˆå§‹å¹´é¾„å˜ä¸º1ï¼‰ï¼Œå½“å®ƒçš„å¹´é¾„å¢žåŠ åˆ°ä¸€å®šç¨‹åº¦ï¼ˆé»˜è®¤ä¸º15å²ï¼‰ï¼Œå°±ä¼šè¢«æ™‹å‡åˆ°è€å¹´ä»£ä¸­ã€‚å¯¹è±¡æ™‹å‡åˆ°è€å¹´ä»£çš„å¹´é¾„é˜ˆå€¼ï¼Œå¯ä»¥é€šè¿‡å‚æ•° -XX:MaxTenuringThreshold æ¥è®¾ç½®ã€‚æ–¹æ³•åŒºæ–¹æ³•åŒºä¸Ž Java å †ä¸€æ ·ï¼Œæ˜¯å„ä¸ªçº¿ç¨‹å…±äº«çš„å†…å­˜åŒºåŸŸï¼Œå®ƒç”¨äºŽå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åŽçš„ä»£ç ç­‰æ•°æ®ã€‚è™½ç„¶Javaè™šæ‹Ÿæœºè§„èŒƒæŠŠæ–¹æ³•åŒºæè¿°ä¸ºå †çš„ä¸€ä¸ªé€»è¾‘éƒ¨åˆ†ï¼Œä½†æ˜¯å®ƒå´æœ‰ä¸€ä¸ªåˆ«åå«åš Non-Heapï¼ˆéžå †ï¼‰ï¼Œç›®çš„åº”è¯¥æ˜¯ä¸Ž Java å †åŒºåˆ†å¼€æ¥ã€‚HotSpot è™šæ‹Ÿæœºä¸­æ–¹æ³•åŒºä¹Ÿå¸¸è¢«ç§°ä¸º â€œæ°¸ä¹…ä»£â€ï¼Œæœ¬è´¨ä¸Šä¸¤è€…å¹¶ä¸ç­‰ä»·ã€‚ä»…ä»…æ˜¯å› ä¸º HotSpot è™šæ‹Ÿæœºè®¾è®¡å›¢é˜Ÿç”¨æ°¸ä¹…ä»£æ¥å®žçŽ°æ–¹æ³•åŒºè€Œå·²ï¼Œè¿™æ · HotSpot è™šæ‹Ÿæœºçš„åžƒåœ¾æ”¶é›†å™¨å°±å¯ä»¥åƒç®¡ç† Java å †ä¸€æ ·ç®¡ç†è¿™éƒ¨åˆ†å†…å­˜äº†ã€‚ä½†æ˜¯è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œå› ä¸ºè¿™æ ·æ›´å®¹æ˜“é‡åˆ°å†…å­˜æº¢å‡ºé—®é¢˜ã€‚ç›¸å¯¹è€Œè¨€ï¼Œåžƒåœ¾æ”¶é›†è¡Œä¸ºåœ¨è¿™ä¸ªåŒºåŸŸæ˜¯æ¯”è¾ƒå°‘å‡ºçŽ°çš„ï¼Œä½†å¹¶éžæ•°æ®è¿›å…¥æ–¹æ³•åŒºåŽå°±â€œæ°¸ä¹…å­˜åœ¨â€äº†ã€‚JDK 1.8 çš„æ—¶å€™ï¼Œæ–¹æ³•åŒºè¢«å½»åº•ç§»é™¤äº†ï¼ˆJDK1.7å°±å·²ç»å¼€å§‹äº†ï¼‰ï¼Œå–è€Œä»£ä¹‹æ˜¯å…ƒç©ºé—´ï¼Œå…ƒç©ºé—´ä½¿ç”¨çš„æ˜¯ç›´æŽ¥å†…å­˜ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‚æ•°ï¼š -XX:MetaspaceSize æ¥æŒ‡å®šå…ƒæ•°æ®åŒºçš„å¤§å°ã€‚ä¸Žæ°¸ä¹…åŒºå¾ˆå¤§çš„ä¸åŒå°±æ˜¯ï¼Œå¦‚æžœä¸æŒ‡å®šå¤§å°çš„è¯ï¼Œéšç€æ›´å¤šç±»çš„åˆ›å»ºï¼Œè™šæ‹Ÿæœºä¼šè€—å°½æ‰€æœ‰å¯ç”¨çš„ç³»ç»Ÿå†…å­˜ã€‚è¿è¡Œæ—¶å¸¸é‡æ± è¿è¡Œæ—¶å¸¸é‡æ± æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ã€‚Class æ–‡ä»¶ä¸­é™¤äº†æœ‰ç±»çš„ç‰ˆæœ¬ã€å­—æ®µã€æ–¹æ³•ã€æŽ¥å£ç­‰æè¿°ä¿¡æ¯å¤–ï¼Œè¿˜æœ‰å¸¸é‡æ± ä¿¡æ¯ï¼ˆç”¨äºŽå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ï¼‰å­—é¢é‡å°±æ˜¯æŒ‡è¿™ä¸ªé‡æœ¬èº«ï¼Œæ¯”å¦‚å­—é¢é‡3ã€‚ä¹Ÿå°±æ˜¯æŒ‡3. å†æ¯”å¦‚ stringç±»åž‹çš„å­—é¢é‡â€ABCâ€, è¿™ä¸ªâ€ABCâ€ é€šè¿‡å­—æ¥æè¿°ã€‚ å¯ä»¥ç†è§£æˆä¸€çœ¼å°±èƒ½çŸ¥é“çš„é‡ã€‚æ—¢ç„¶è¿è¡Œæ—¶å¸¸é‡æ± æ—¶æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼Œè‡ªç„¶å—åˆ°æ–¹æ³•åŒºå†…å­˜çš„é™åˆ¶ï¼Œå½“å¸¸é‡æ± æ— æ³•å†ç”³è¯·åˆ°å†…å­˜æ—¶ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚JDK1.8åŠä¹‹åŽç‰ˆæœ¬çš„ JVM å·²ç»å°†è¿è¡Œæ—¶å¸¸é‡æ± ä»Žæ–¹æ³•åŒºä¸­ç§»äº†å‡ºæ¥ï¼Œåœ¨ Java å †ï¼ˆHeapï¼‰ä¸­å¼€è¾Ÿäº†ä¸€å—åŒºåŸŸå­˜æ”¾è¿è¡Œæ—¶å¸¸é‡æ± ã€‚ç›´æŽ¥å†…å­˜ç›´æŽ¥å†…å­˜å¹¶ä¸æ˜¯è™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒºçš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿä¸æ˜¯è™šæ‹Ÿæœºè§„èŒƒä¸­å®šä¹‰çš„å†…å­˜åŒºåŸŸï¼Œä½†æ˜¯è¿™éƒ¨åˆ†å†…å­˜ä¹Ÿè¢«é¢‘ç¹åœ°ä½¿ç”¨ã€‚è€Œä¸”ä¹Ÿå¯èƒ½å¯¼è‡´ OutOfMemoryError å¼‚å¸¸å‡ºçŽ°ã€‚JDK1.4 ä¸­æ–°åŠ å…¥çš„ NIO(New Input/Output) ç±»ï¼Œå¼•å…¥äº†ä¸€ç§åŸºäºŽé€šé“ï¼ˆChannelï¼‰ ä¸Žç¼“å­˜åŒºï¼ˆBufferï¼‰ çš„ I/O æ–¹å¼ï¼Œå®ƒå¯ä»¥ç›´æŽ¥ä½¿ç”¨ Native å‡½æ•°åº“ç›´æŽ¥åˆ†é…å †å¤–å†…å­˜ï¼Œç„¶åŽé€šè¿‡ä¸€ä¸ªå­˜å‚¨åœ¨ Java å †ä¸­çš„ DirectByteBuffer å¯¹è±¡ä½œä¸ºè¿™å—å†…å­˜çš„å¼•ç”¨è¿›è¡Œæ“ä½œã€‚è¿™æ ·å°±èƒ½åœ¨ä¸€äº›åœºæ™¯ä¸­æ˜¾è‘—æé«˜æ€§èƒ½ï¼Œå› ä¸ºé¿å…äº†åœ¨ Java å †å’Œ Native å †ä¹‹é—´æ¥å›žå¤åˆ¶æ•°æ®ã€‚æœ¬æœºç›´æŽ¥å†…å­˜çš„åˆ†é…ä¸ä¼šæ”¶åˆ° Java å †çš„é™åˆ¶ï¼Œä½†æ˜¯ï¼Œæ—¢ç„¶æ˜¯å†…å­˜å°±ä¼šå—åˆ°æœ¬æœºæ€»å†…å­˜å¤§å°ä»¥åŠå¤„ç†å™¨å¯»å€ç©ºé—´çš„é™åˆ¶ã€‚å…ƒç©ºé—´å…ƒç©ºé—´çš„æœ¬è´¨å’Œæ°¸ä¹…ä»£ç±»ä¼¼ï¼Œéƒ½æ˜¯å¯¹JVMè§„èŒƒä¸­æ–¹æ³•åŒºçš„å®žçŽ°ã€‚ä¸è¿‡å…ƒç©ºé—´ä¸Žæ°¸ä¹…ä»£ä¹‹é—´æœ€å¤§çš„åŒºåˆ«åœ¨äºŽï¼šå…ƒç©ºé—´å¹¶ä¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜ã€‚å› æ­¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå…ƒç©ºé—´çš„å¤§å°ä»…å—æœ¬åœ°å†…å­˜é™åˆ¶ã€‚ä¸ºä»€ä¹ˆæ°¸ä¹…ä»£å‘å…ƒç©ºé—´çš„è½¬æ¢å­—ç¬¦ä¸²å­˜åœ¨æ°¸ä¹…ä»£ä¸­ï¼Œå®¹æ˜“å‡ºçŽ°æ€§èƒ½é—®é¢˜å’Œå†…å­˜æº¢å‡ºã€‚ç±»åŠæ–¹æ³•çš„ä¿¡æ¯ç­‰æ¯”è¾ƒéš¾ç¡®å®šå…¶å¤§å°ï¼Œå› æ­¤å¯¹äºŽæ°¸ä¹…ä»£çš„å¤§å°æŒ‡å®šæ¯”è¾ƒå›°éš¾ï¼Œå¤ªå°å®¹æ˜“å‡ºçŽ°æ°¸ä¹…ä»£æº¢å‡ºï¼Œå¤ªå¤§åˆ™å®¹æ˜“å¯¼è‡´è€å¹´ä»£æº¢å‡ºã€‚æ°¸ä¹…ä»£ä¼šä¸º GC å¸¦æ¥ä¸å¿…è¦çš„å¤æ‚åº¦ï¼Œå¹¶ä¸”å›žæ”¶æ•ˆçŽ‡åä½Žã€‚ç±»çš„å„ä¸ªéƒ¨åˆ†åˆ†åˆ«åœ¨å“ªä¸ªä½ç½®å­—èŠ‚ç ï¼šæ–¹æ³•åŒºå­—èŠ‚ç å¯¹è±¡ï¼šå †æ™®é€šå¯¹è±¡ï¼šå¤§éƒ¨åˆ†å­˜åœ¨äºŽå †ã€‚æ›´å¤šå‚è€ƒï¼šhttps://blog.csdn.net/rickiyeat/article/details/76802085å¯¹è±¡çš„å±žæ€§ï¼šå¤§éƒ¨åˆ†å­˜åœ¨äºŽå †staticå±žæ€§ï¼šå¸¸é‡æ± æ–¹æ³•ï¼šæ–¹æ³•åŒºæ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡ï¼šJavaè™šæ‹Ÿæœºæ ˆStringå¯¹è±¡ï¼šå †æˆ–å¸¸é‡æ± finalå±žæ€§ï¼šå¸¸é‡æ± å¯¹è±¡çš„åˆ›å»ºç±»åŠ è½½æ£€æŸ¥ï¼š è™šæ‹Ÿæœºé‡åˆ°ä¸€æ¡ new æŒ‡ä»¤æ—¶ï¼Œé¦–å…ˆå°†åŽ»æ£€æŸ¥è¿™ä¸ªæŒ‡ä»¤çš„å‚æ•°æ˜¯å¦èƒ½åœ¨å¸¸é‡æ± ä¸­å®šä½åˆ°è¿™ä¸ªç±»çš„ç¬¦å·å¼•ç”¨ï¼Œå¹¶ä¸”æ£€æŸ¥è¿™ä¸ªç¬¦å·å¼•ç”¨ä»£è¡¨çš„ç±»æ˜¯å¦å·²è¢«åŠ è½½è¿‡ã€è§£æžå’Œåˆå§‹åŒ–è¿‡ã€‚å¦‚æžœæ²¡æœ‰ï¼Œé‚£å¿…é¡»å…ˆæ‰§è¡Œç›¸åº”çš„ç±»åŠ è½½è¿‡ç¨‹ã€‚åˆ†é…å†…å­˜ï¼š åœ¨ç±»åŠ è½½æ£€æŸ¥é€šè¿‡åŽï¼ŒæŽ¥ä¸‹æ¥è™šæ‹Ÿæœºå°†ä¸ºæ–°ç”Ÿå¯¹è±¡åˆ†é…å†…å­˜ã€‚å¯¹è±¡æ‰€éœ€çš„å†…å­˜å¤§å°åœ¨ç±»åŠ è½½å®ŒæˆåŽä¾¿å¯ç¡®å®šï¼Œä¸ºå¯¹è±¡åˆ†é…ç©ºé—´çš„ä»»åŠ¡ç­‰åŒäºŽæŠŠä¸€å—ç¡®å®šå¤§å°çš„å†…å­˜ä»Ž Java å †ä¸­åˆ’åˆ†å‡ºæ¥ã€‚åˆ†é…æ–¹å¼æœ‰ â€œæŒ‡é’ˆç¢°æ’žâ€ å’Œ â€œç©ºé—²åˆ—è¡¨â€ ä¸¤ç§ï¼Œé€‰æ‹©é‚£ç§åˆ†é…æ–¹å¼ç”± Java å †æ˜¯å¦è§„æ•´å†³å®šï¼Œè€ŒJavaå †æ˜¯å¦è§„æ•´åˆç”±æ‰€é‡‡ç”¨çš„åžƒåœ¾æ”¶é›†å™¨æ˜¯å¦å¸¦æœ‰åŽ‹ç¼©æ•´ç†åŠŸèƒ½å†³å®šã€‚å†…å­˜åˆ†é…çš„ä¸¤ç§æ–¹å¼é€‰æ‹©ä»¥ä¸Šä¸¤ç§æ–¹å¼ä¸­çš„å“ªä¸€ç§ï¼Œå–å†³äºŽ Java å †å†…å­˜æ˜¯å¦è§„æ•´ã€‚è€Œ Java å †å†…å­˜æ˜¯å¦è§„æ•´ï¼Œå–å†³äºŽ GC æ”¶é›†å™¨çš„ç®—æ³•æ˜¯â€æ ‡è®°-æ¸…é™¤â€ï¼Œè¿˜æ˜¯â€æ ‡è®°-æ•´ç†â€ï¼ˆä¹Ÿç§°ä½œâ€æ ‡è®°-åŽ‹ç¼©â€ï¼‰ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¤åˆ¶ç®—æ³•å†…å­˜ä¹Ÿæ˜¯è§„æ•´çš„ã€‚è¯¦ç»†å¯å‚è€ƒï¼šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºç¬¬äºŒç‰ˆç¬¬ä¸‰ç« ã€‚æŒ‡é’ˆç¢°æ’žï¼šå‡è®¾JAVAå †ä¸­çš„å†…å­˜æ—¶ç»å¯¹è§„æ•´çš„ï¼Œæ‰€æœ‰ç”¨è¿‡çš„å†…å­˜éƒ½æ”¾åœ¨ä¸€è¾¹ï¼Œç©ºé—²çš„å†…å­˜æ”¾åœ¨å¦ä¸€è¾¹ï¼Œä¸­é—´æ”¾ç€ä¸€ä¸ªæŒ‡é’ˆä½œä¸ºåˆ†ç•Œç‚¹çš„æŒ‡ç¤ºå™¨ï¼Œé‚£æ‰€åˆ†é…å†…å­˜å°±ä»…ä»…æ˜¯æŠŠé‚£ä¸ªæŒ‡é’ˆå‘ç©ºé—²ç©ºé—´é‚£è¾¹æŒªåŠ¨ä¸€æ®µä¸Žå¯¹è±¡å¤§å°ç›¸ç­‰çš„è·ç¦»ï¼Œè¿™ç§åˆ†é…æ–¹å¼æˆä¸ºâ€œæŒ‡é’ˆç¢°æ’žâ€ã€‚ç©ºé—²é“¾è¡¨ï¼šå¦‚æžœJAVAå †ä¸­çš„å†…å­˜å¹¶ä¸æ˜¯è§„æ•´çš„ï¼Œå·²ä½¿ç”¨çš„å†…å­˜å’Œç©ºé—²çš„å†…å­˜ç›¸äº’äº¤é”™ï¼Œé‚£å°±æ²¡æœ‰åŠžæ³•ç®€å•åœ°è¿›è¡ŒæŒ‡é’ˆç¢°æ’žäº†ï¼Œè™šæ‹Ÿæœºå°±å¿…é¡»ç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨ï¼Œè®°å½•ä¸Šå“ªäº›å†…å­˜å—æ˜¯å¯ç”¨çš„ï¼Œåœ¨åˆ†é…çš„æ—¶å€™ä»Žåˆ—è¡¨ä¸­æ‰¾åˆ°ä¸€å—è¶³å¤Ÿå¤§çš„ç©ºé—´åˆ’åˆ†ç»™å¯¹è±¡å®žä¾‹ï¼Œå¹¶æ›´æ–°åˆ—è¡¨ä¸Šçš„è®°å½•ï¼Œè¿™ç§åˆ†é…æ–¹å¼æˆä¸ºâ€œç©ºé—²åˆ—è¡¨â€ã€‚åˆå§‹åŒ–é›¶å€¼ï¼š å†…å­˜åˆ†é…å®ŒæˆåŽï¼Œè™šæ‹Ÿæœºéœ€è¦å°†åˆ†é…åˆ°çš„å†…å­˜ç©ºé—´éƒ½åˆå§‹åŒ–ä¸ºé›¶å€¼ï¼ˆä¸åŒ…æ‹¬å¯¹è±¡å¤´ï¼‰ï¼Œè¿™ä¸€æ­¥æ“ä½œä¿è¯äº†å¯¹è±¡çš„å®žä¾‹å­—æ®µåœ¨ Java ä»£ç ä¸­å¯ä»¥ä¸èµ‹åˆå§‹å€¼å°±ç›´æŽ¥ä½¿ç”¨ï¼Œç¨‹åºèƒ½è®¿é—®åˆ°è¿™äº›å­—æ®µçš„æ•°æ®ç±»åž‹æ‰€å¯¹åº”çš„é›¶å€¼ã€‚è®¾ç½®å¯¹è±¡å¤´ï¼š åˆå§‹åŒ–é›¶å€¼å®Œæˆä¹‹åŽï¼Œè™šæ‹Ÿæœºè¦å¯¹å¯¹è±¡è¿›è¡Œå¿…è¦çš„è®¾ç½®ï¼Œä¾‹å¦‚è¿™ä¸ªå¯¹è±¡æ˜¯é‚£ä¸ªç±»çš„å®žä¾‹ã€å¦‚ä½•æ‰èƒ½æ‰¾åˆ°ç±»çš„å…ƒæ•°æ®ä¿¡æ¯ã€å¯¹è±¡çš„å“ˆå¸Œå—ã€å¯¹è±¡çš„ GC åˆ†ä»£å¹´é¾„ç­‰ä¿¡æ¯ã€‚ è¿™äº›ä¿¡æ¯å­˜æ”¾åœ¨å¯¹è±¡å¤´ä¸­ã€‚ å¦å¤–ï¼Œæ ¹æ®è™šæ‹Ÿæœºå½“å‰è¿è¡ŒçŠ¶æ€çš„ä¸åŒï¼Œå¦‚æ˜¯å¦å¯ç”¨åå‘é”ç­‰ï¼Œå¯¹è±¡å¤´ä¼šæœ‰ä¸åŒçš„è®¾ç½®æ–¹å¼ã€‚æ‰§è¡Œ init æ–¹æ³•ï¼š åœ¨ä¸Šé¢å·¥ä½œéƒ½å®Œæˆä¹‹åŽï¼Œä»Žè™šæ‹Ÿæœºçš„è§†è§’æ¥çœ‹ï¼Œä¸€ä¸ªæ–°çš„å¯¹è±¡å·²ç»äº§ç”Ÿäº†ï¼Œä½†ä»Ž Java ç¨‹åºçš„è§†è§’æ¥çœ‹ï¼Œå¯¹è±¡åˆ›å»ºæ‰åˆšå¼€å§‹ï¼Œ&lt;init&gt; æ–¹æ³•è¿˜æ²¡æœ‰æ‰§è¡Œï¼Œæ‰€æœ‰çš„å­—æ®µéƒ½è¿˜ä¸ºé›¶ã€‚æ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œæ‰§è¡Œ new æŒ‡ä»¤ä¹‹åŽä¼šæŽ¥ç€æ‰§è¡Œ &lt;init&gt; æ–¹æ³•ï¼ŒæŠŠå¯¹è±¡æŒ‰ç…§ç¨‹åºå‘˜çš„æ„æ„¿è¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™æ ·ä¸€ä¸ªçœŸæ­£å¯ç”¨çš„å¯¹è±¡æ‰ç®—å®Œå…¨äº§ç”Ÿå‡ºæ¥ã€‚å†…å­˜åˆ†é…å¹¶å‘é—®é¢˜åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„é—®é¢˜ï¼Œå°±æ˜¯çº¿ç¨‹å®‰å…¨ï¼Œå› ä¸ºåœ¨å®žé™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œåˆ›å»ºå¯¹è±¡æ˜¯å¾ˆé¢‘ç¹çš„äº‹æƒ…ï¼Œä½œä¸ºè™šæ‹Ÿæœºæ¥è¯´ï¼Œå¿…é¡»è¦ä¿è¯çº¿ç¨‹æ˜¯å®‰å…¨çš„ï¼Œå¦åˆ™æ¯”å¦‚å½“è™šæ‹Ÿæœºæ­£åœ¨ç»™å¯¹è±¡Aåˆ†é…å†…å­˜ï¼ŒæŒ‡é’ˆè¿˜æ²¡æ¥å¾—åŠä¿®æ”¹ï¼Œå¯¹è±¡BåˆåŒæ—¶ä½¿ç”¨äº†åŽŸæ¥çš„æŒ‡é’ˆæ¥åˆ†é…å†…å­˜å°±ä¼šå¼•å‘ä¸¥é‡çš„é—®é¢˜ã€‚é€šå¸¸æ¥è®²ï¼Œè™šæ‹Ÿæœºé‡‡ç”¨ä¸¤ç§æ–¹å¼æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼šCAS+å¤±è´¥é‡è¯•ï¼š CAS æ˜¯ä¹è§‚é”çš„ä¸€ç§å®žçŽ°æ–¹å¼ã€‚æ‰€è°“ä¹è§‚é”å°±æ˜¯ï¼Œæ¯æ¬¡ä¸åŠ é”è€Œæ˜¯å‡è®¾æ²¡æœ‰å†²çªè€ŒåŽ»å®ŒæˆæŸé¡¹æ“ä½œï¼Œå¦‚æžœå› ä¸ºå†²çªå¤±è´¥å°±é‡è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ã€‚è™šæ‹Ÿæœºé‡‡ç”¨ CAS é…ä¸Šå¤±è´¥é‡è¯•çš„æ–¹å¼ä¿è¯æ›´æ–°æ“ä½œçš„åŽŸå­æ€§ã€‚TLABï¼š ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹é¢„å…ˆåœ¨EdenåŒºåˆ†é…ä¸€å—å„¿å†…å­˜ï¼Œç§°ä¸ºæœ¬åœ°çº¿ç¨‹åˆ†é…ç¼“å­˜ï¼ˆThread Local Allocation Bufferï¼ŒTLABï¼‰ï¼ŒJVMåœ¨ç»™çº¿ç¨‹ä¸­çš„å¯¹è±¡åˆ†é…å†…å­˜æ—¶ï¼Œé¦–å…ˆåœ¨TLABåˆ†é…ï¼Œå½“å¯¹è±¡å¤§äºŽTLABä¸­çš„å‰©ä½™å†…å­˜æˆ–TLABçš„å†…å­˜å·²ç”¨å°½æ—¶ï¼Œå†é‡‡ç”¨ä¸Šè¿°çš„CASè¿›è¡Œå†…å­˜åˆ†é…ã€‚å¯¹è±¡çš„å†…å­˜å¸ƒå±€åœ¨ Hotspot è™šæ‹Ÿæœºä¸­ï¼Œå¯¹è±¡åœ¨å†…å­˜ä¸­çš„å¸ƒå±€å¯ä»¥åˆ†ä¸º3å—åŒºåŸŸï¼šå¯¹è±¡å¤´ã€å®žä¾‹æ•°æ®å’Œå¯¹é½å¡«å……ã€‚Hotspotè™šæ‹Ÿæœºçš„å¯¹è±¡å¤´åŒ…æ‹¬ä¸¤éƒ¨åˆ†ä¿¡æ¯ï¼Œç¬¬ä¸€éƒ¨åˆ†ç”¨äºŽå­˜å‚¨å¯¹è±¡è‡ªèº«çš„è‡ªèº«è¿è¡Œæ—¶æ•°æ®ï¼ˆå“ˆå¸Œç ã€GCåˆ†ä»£å¹´é¾„ã€é”çŠ¶æ€æ ‡å¿—ç­‰ç­‰ï¼‰ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯ç±»åž‹æŒ‡é’ˆï¼Œå³å¯¹è±¡æŒ‡å‘å®ƒçš„ç±»å…ƒæ•°æ®çš„æŒ‡é’ˆï¼Œè™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥ç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯é‚£ä¸ªç±»çš„å®žä¾‹ã€‚å®žä¾‹æ•°æ®éƒ¨åˆ†æ˜¯å¯¹è±¡çœŸæ­£å­˜å‚¨çš„æœ‰æ•ˆä¿¡æ¯ï¼Œä¹Ÿæ˜¯åœ¨ç¨‹åºä¸­æ‰€å®šä¹‰çš„å„ç§ç±»åž‹çš„å­—æ®µå†…å®¹ã€‚å¯¹é½å¡«å……éƒ¨åˆ†ä¸æ˜¯å¿…ç„¶å­˜åœ¨çš„ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„å«ä¹‰ï¼Œä»…ä»…èµ·å ä½ä½œç”¨ã€‚ å› ä¸ºHotspotè™šæ‹Ÿæœºçš„è‡ªåŠ¨å†…å­˜ç®¡ç†ç³»ç»Ÿè¦æ±‚å¯¹è±¡èµ·å§‹åœ°å€å¿…é¡»æ˜¯8å­—èŠ‚çš„æ•´æ•°å€ï¼Œæ¢å¥è¯è¯´å°±æ˜¯å¯¹è±¡çš„å¤§å°å¿…é¡»æ˜¯8å­—èŠ‚çš„æ•´æ•°å€ã€‚è€Œå¯¹è±¡å¤´éƒ¨åˆ†æ­£å¥½æ˜¯8å­—èŠ‚çš„å€æ•°ï¼ˆ1å€æˆ–2å€ï¼‰ï¼Œå› æ­¤ï¼Œå½“å¯¹è±¡å®žä¾‹æ•°æ®éƒ¨åˆ†æ²¡æœ‰å¯¹é½æ—¶ï¼Œå°±éœ€è¦é€šè¿‡å¯¹é½å¡«å……æ¥è¡¥å…¨ã€‚å¯¹è±¡çš„è®¿é—®å®šä½å»ºç«‹å¯¹è±¡å°±æ˜¯ä¸ºäº†ä½¿ç”¨å¯¹è±¡ï¼Œæˆ‘ä»¬çš„Javaç¨‹åºé€šè¿‡æ ˆä¸Šçš„ reference æ•°æ®æ¥æ“ä½œå †ä¸Šçš„å…·ä½“å¯¹è±¡ã€‚å¯¹è±¡çš„è®¿é—®æ–¹å¼æœ‰è™šæ‹Ÿæœºå®žçŽ°è€Œå®šï¼Œç›®å‰ä¸»æµçš„è®¿é—®æ–¹å¼æœ‰ä½¿ç”¨å¥æŸ„å’Œç›´æŽ¥æŒ‡é’ˆä¸¤ç§ï¼šå¥æŸ„ï¼š å¦‚æžœä½¿ç”¨å¥æŸ„çš„è¯ï¼Œé‚£ä¹ˆJavaå †ä¸­å°†ä¼šåˆ’åˆ†å‡ºä¸€å—å†…å­˜æ¥ä½œä¸ºå¥æŸ„æ± ï¼Œreference ä¸­å­˜å‚¨çš„å°±æ˜¯å¯¹è±¡çš„å¥æŸ„åœ°å€ï¼Œè€Œå¥æŸ„ä¸­åŒ…å«äº†å¯¹è±¡å®žä¾‹æ•°æ®ä¸Žç±»åž‹æ•°æ®å„è‡ªçš„å…·ä½“åœ°å€ä¿¡æ¯ï¼›ç›´æŽ¥æŒ‡é’ˆï¼šå¦‚æžœä½¿ç”¨ç›´æŽ¥æŒ‡é’ˆè®¿é—®ï¼Œé‚£ä¹ˆ Java å †å¯¹è±¡çš„å¸ƒå±€ä¸­å°±å¿…é¡»è€ƒè™‘å¦‚ä½•æ”¾ç½®è®¿é—®ç±»åž‹æ•°æ®çš„ç›¸å…³ä¿¡æ¯ï¼Œè€Œreference ä¸­å­˜å‚¨çš„ç›´æŽ¥å°±æ˜¯å¯¹è±¡çš„åœ°å€ã€‚è¿™ä¸¤ç§å¯¹è±¡è®¿é—®æ–¹å¼å„æœ‰ä¼˜åŠ¿ã€‚ä½¿ç”¨å¥æŸ„æ¥è®¿é—®çš„æœ€å¤§å¥½å¤„æ˜¯ reference ä¸­å­˜å‚¨çš„æ˜¯ç¨³å®šçš„å¥æŸ„åœ°å€ï¼Œåœ¨å¯¹è±¡è¢«ç§»åŠ¨æ—¶åªä¼šæ”¹å˜å¥æŸ„ä¸­çš„å®žä¾‹æ•°æ®æŒ‡é’ˆï¼Œè€Œ reference æœ¬èº«ä¸éœ€è¦ä¿®æ”¹ã€‚ä½¿ç”¨ç›´æŽ¥æŒ‡é’ˆè®¿é—®æ–¹å¼æœ€å¤§çš„å¥½å¤„å°±æ˜¯é€Ÿåº¦å¿«ï¼Œå®ƒèŠ‚çœäº†ä¸€æ¬¡æŒ‡é’ˆå®šä½çš„æ—¶é—´å¼€é”€ã€‚å‚è€ƒJavaGuideæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºäºŽwinpcapçš„cppæŽ§åˆ¶å°ç½‘ç»œåè®®åˆ†æž]]></title>
    <url>%2F2019%2F%E5%9F%BA%E4%BA%8Ewinpcap%E7%9A%84cpp%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[çŽ¯å¢ƒæ­å»ºè½¯ä»¶ç‰ˆæœ¬winpcap4.1.3vs2015åˆ›å»ºé¡¹ç›®æ–°å»ºé¡¹ç›®-&gt;Visual C++é¡¹ç›®-&gt;Win32æŽ§åˆ¶å°é¡¹ç›®ï¼Œåœ¨Win32åº”ç”¨ç¨‹åºå‘å¯¼çª—å£ä¸­çš„åº”ç”¨ç¨‹åºè®¾ç½®-&gt;é™„åŠ é€‰é¡¹é€‰ä¸­ç©ºé¡¹ç›®ã€‚å°†WinPcapå¼€å‘åŒ…ä¸­çš„Includeå’ŒLibä¸¤ä¸ªæ–‡ä»¶å¤¹å¤åˆ¶åˆ°æ–°å»ºé¡¹ç›®æ‰€åœ¨æ–‡ä»¶å¤¹ä¸‹ã€‚ç‚¹å‡»é¡¹ç›®ï¼Œå³å‡»ï¼Œç„¶åŽç‚¹å‡»å±žæ€§C/C++-&gt;å¸¸è§„-&gt;é™„åŠ åŒ…å«ç›®å½•ï¼šå¦‚ ..\includeé“¾æŽ¥å™¨-&gt;å¸¸è§„-&gt;é™„åŠ åº“ç›®å½•ï¼šå¦‚ ..\libé“¾æŽ¥å™¨-&gt;è¾“å…¥-&gt;é™„åŠ ä¾èµ–é¡¹ï¼šwpcap.libï¼ˆwinpcapçš„åŒ…ï¼‰ï¼Œws2_32.libï¼ˆwindowsçš„socketï¼‰æ•°æ®ç»“æž„123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107#ifdef _MSC_VER#define _CRT_SECURE_NO_WARNINGS#endif#include "pcap.h"typedef struct eth_address&#123; u_char byte1; u_char byte2; u_char byte3; u_char byte4; u_char byte5; u_char byte6;&#125;eth_address;/* 4 bytes IP address */typedef struct ip_address&#123; u_char byte1; u_char byte2; u_char byte3; u_char byte4;&#125;ip_address;/* IPv4 header */typedef struct ip_header&#123; u_char ver_ihl; // Version (4 bits) + Internet header length (4 bits) u_char tos; // Type of service u_short tlen; // Total length u_short identification; // Identification u_short flags_fo; // Flags (3 bits) + Fragment offset (13 bits) u_char ttl; // Time to live u_char proto; // Protocol u_short crc; // Header checksum ip_address saddr; // Source address ip_address daddr; // Destination address u_int op_pad; // Option + Padding&#125;ip_header;/* UDP header*/typedef struct udp_header&#123; u_short sport; // Source port u_short dport; // Destination port u_short len; // Datagram length u_short crc; // Checksum&#125;udp_header;/* MAC header*/typedef struct eth_header&#123; eth_address daddr; eth_address saddr; u_short type;&#125;eth_header;typedef struct arp_header&#123; u_short hardtype; //ç¡¬ä»¶ç±»åž‹å­—æ®µ u_short prototype; //åè®®ç±»åž‹å­—æ®µ u_char htlen; //ç¡¬ä»¶åœ°å€çš„é•¿åº¦,ä»¥å­—èŠ‚ä¸ºå•ä½.å¯¹äºŽä»¥å¤ªç½‘ä¸ŠIPåœ°å€çš„ARPè¯·æ±‚æˆ–åº”ç­”æ¥è¯´,å®ƒä»¬çš„å€¼ä¸º6 u_char ptlen; //åè®®åœ°å€çš„é•¿åº¦,ä»¥å­—èŠ‚ä¸ºå•ä½.å¯¹äºŽä»¥å¤ªç½‘ä¸ŠIPåœ°å€çš„ARPè¯·æ±‚æˆ–åº”ç­”æ¥è¯´,å®ƒä»¬çš„å€¼ä¸º4 u_short op; //æ“ä½œå­—æ®µ eth_address arp_esa; //å‘é€ç«¯MACåœ°å€ ip_address arp_isa; //å‘é€ç«¯IPåœ°å€ eth_address arp_eda; //ç›®çš„ç«¯MACåœ°å€ ip_address arp_ida; //ç›®çš„ç«¯IPåœ°å€&#125;arp_header;typedef struct icmp_header&#123; u_char type; //ICMPæŠ¥æ–‡ç±»åž‹ u_char code; //ä»£ç  u_short checksum; //æ ¡éªŒå’Œ u_short identifier; //æ ‡è¯†ç¬¦ u_short sequence_number; //åºåˆ—å·&#125;icmp_header;/* TCP header */typedef struct tcp_header&#123; u_short sport; //æºç«¯å£ u_short dport; //ç›®çš„ç«¯å£ u_long sequence_number; //åºå·ï¼ˆ4å­—èŠ‚ntohlï¼‰ u_long acknowlegement_number; //ç¡®è®¤å· u_short hlen_bl_flags; //æ•°æ®åç§»+ä¿ç•™+æŽ§åˆ¶ä½ u_short window_size; //çª—å£ï¼ˆå‘é€æ–¹è‡ªå·±çš„æŽ¥æ”¶çª—å£ï¼‰ u_short checksum; //æ£€éªŒå’Œï¼ˆé¦–éƒ¨+æ•°æ®ï¼‰ u_short urg; //ç´§æ€¥æŒ‡é’ˆ u_long option; //å¯é€‰+å¡«å……&#125;tcp_header;typedef struct dns_packet //æŠ¥æ–‡head+data&#123; u_short id; //æ¯ä¸€ä¸ªå 2ä¸ªå­—èŠ‚ï¼Œå…±12ä¸ªå­—èŠ‚ u_short flags; //æ ‡å¿—ç¬¬ä¸€ä¸ªä¸º0ä»£è¡¨æŸ¥è¯¢æŠ¥æ–‡ u_short ques; u_short answer; u_short author; u_short addition; u_char dns_data; //æŸ¥è¯¢é—®é¢˜éƒ¨åˆ†&#125;dns_packet;è¿è¡Œä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506#ifdef _MSC_VER#define _CRT_SECURE_NO_WARNINGS#endif#include "pcap.h"#include "headers.c"#define DNSPORT 53//è¾“å‡ºåŸºæœ¬ä¿¡æ¯void myPrintBaseInfo(const struct pcap_pkthdr *header)&#123; struct tm *ltime; char timestr[16]; time_t local_tv_sec; local_tv_sec = header-&gt;ts.tv_sec; ltime=localtime(&amp;local_tv_sec); strftime(timestr, sizeof timestr, "%H:%M:%S", ltime); printf("\n\n\n\nç›‘å¬åˆ°Macå¸§çš„æ—¶é—´ï¼š%s MACå¸§é•¿åº¦:%d Byte(s)\n", timestr, header-&gt;len * 4); /* ä»¥å››å­—èŠ‚ä¸ºå•ä½ */&#125;//è¾“å‡ºç¡¬ä»¶åœ°å€void myPrintEthAddress(eth_address eth)&#123; printf("%02X:%02X:%02X:%02X:%02X:%02X", eth.byte1, eth.byte2, eth.byte3, eth.byte4, eth.byte5, eth.byte6 );&#125;//è¾“å‡ºIPåœ°å€void myPrintIPAddress(ip_address ia)&#123; printf("%d.%d.%d.%d", ia.byte1, ia.byte2, ia.byte3, ia.byte4 );&#125;//è¾“å‡ºç½‘ç»œå±‚åè®®ç±»åž‹void myPrintNetType(u_short type)&#123; printf("ç½‘ç»œå±‚åè®®ï¼š "); if(type==0x0800) printf("IPåè®®"); else if(type==0x0806) printf("ARPåè®®"); else if(type==0x8035) printf("RARPåè®®"); else printf("æŽ¥æ”¶åˆ°éžæœ¬ç¨‹åºèƒ½å¤„ç†çš„ç½‘ç»œå±‚åè®®ç±»åž‹ï¼"); printf("\n");&#125;/* åˆ†æžMacå¸§ï¼š è¾“å‡ºï¼š ç½‘ç»œå±‚åè®®ç±»åž‹ï¼šæºMAC -&gt; ç›®çš„MAC è¿”å›žï¼š ç½‘ç»œå±‚åè®®ç±»åž‹*/u_short handleMac(eth_header *eth)&#123; u_short type=ntohs(eth-&gt;type); printf("Macåœ°å€ï¼š "); myPrintEthAddress(eth-&gt;saddr); printf("-&gt;"); myPrintEthAddress(eth-&gt;daddr); printf("\n\n"); return type;&#125;void handleARPAndRARP(arp_header *ah)&#123; u_short arp_ht; //ç¡¬ä»¶åœ°å€çš„ç±»åž‹.å®ƒçš„å€¼ä¸º1å³è¡¨ç¤ºä»¥å¤ªç½‘åœ°å€ u_short arp_pt; //è¦æ˜ å°„çš„åè®®åœ°å€ç±»åž‹.å®ƒçš„å€¼ä¸º0x0800ï¼Œå³è¡¨ç¤ºIPåœ°å€ u_short arp_op; //å››ç§æ“ä½œç±»åž‹,å®ƒä»¬æ˜¯ARPè¯·æ±‚(å€¼ä¸º1)ã€ARPåº”ç­”(å€¼ä¸º2)ã€RARPè¯·æ±‚(å€¼ä¸º3)å’ŒRARPåº”ç­”(å€¼ä¸º4) arp_ht=ntohs(ah-&gt;hardtype); //ç¡¬ä»¶åœ°å€çš„ç±»åž‹.å®ƒçš„å€¼ä¸º1å³è¡¨ç¤ºä»¥å¤ªç½‘åœ°å€ arp_pt=ntohs(ah-&gt;prototype); //è¦æ˜ å°„çš„åè®®åœ°å€ç±»åž‹.å®ƒçš„å€¼ä¸º0x0800ï¼Œå³è¡¨ç¤ºIPåœ°å€ arp_op=ntohs(ah-&gt;op); printf("ç¡¬ä»¶åœ°å€ç±»åž‹ä¸ºï¼š%d\t\t\t",arp_ht); printf("åè®®åœ°å€ç±»åž‹ä¸ºï¼š0x%04X\n",arp_pt); printf("ç¡¬ä»¶åœ°å€é•¿åº¦ä¸ºï¼š%d\t\t\t",ah-&gt;htlen); printf("åè®®åœ°å€é•¿åº¦ä¸ºï¼š%d\n",ah-&gt;ptlen); if (arp_op == 1)&#123; printf("æ“ä½œç±»åž‹ä¸ºï¼šARPè¯·æ±‚æŠ¥æ–‡ã€‚\næœ¬æœºMacåœ°å€ï¼š"); myPrintEthAddress(ah-&gt;arp_esa); printf("\tæ­£åœ¨è¯·æ±‚"); myPrintIPAddress(ah-&gt;arp_ida); printf("çš„Macåœ°å€\n"); &#125; if (arp_op == 2)&#123; printf("æ“ä½œç±»åž‹ä¸ºï¼šARPåº”ç­”æŠ¥æ–‡ã€‚\nåº”ç­”æ–¹çš„Macåœ°å€ï¼š"); myPrintEthAddress(ah-&gt;arp_eda); printf("\tåº”ç­”æ–¹çš„IPåœ°å€"); myPrintIPAddress(ah-&gt;arp_ida); printf("\n"); &#125; if (arp_op == 3) printf("æ“ä½œç±»åž‹ä¸ºï¼šRARPè¯·æ±‚æŠ¥æ–‡\n"); if (arp_op == 4) printf("æ“ä½œç±»åž‹ä¸ºï¼šRARPåº”ç­”æŠ¥æ–‡\n");&#125;int all_ip_len = 20;u_short handleIP(ip_header *ih)&#123; u_int ip_ver; //ç‰ˆæœ¬ u_int ip_len; //é¦–éƒ¨é•¿åº¦ u_short ip_tlen; //æ€»é•¿åº¦ u_short ip_ident; //æ ‡è¯† u_short ip_flag_fo; //æ ‡å¿—å’Œç‰‡åç§» u_int ip_flag; //æ ‡å¿—ï¼ˆ3ä½ï¼Œå€¼ä¸º2è¿˜æœ‰åˆ†ç‰‡ä¸”å…è®¸åˆ†ç‰‡,1ä¸èƒ½åˆ†ç‰‡,0æ²¡æœ‰åˆ†ç‰‡ä¸”å…è®¸åˆ†ç‰‡ï¼‰ u_int ip_fo; //ç‰‡åç§» u_short ip_type; //åè®® u_short ip_crc; //é¦–éƒ¨æ£€éªŒå’Œ u_long ip_op_pad; //å¯é€‰é¡¹ /* retireve the position of the ip header *///æ£€ç´¢IPé¦–éƒ¨çš„ä½ç½® ip_ver = (ih-&gt;ver_ihl &gt;&gt; 4); //ç‰ˆæœ¬ ip_len = (ih-&gt;ver_ihl &amp; 0xf) * 4; //é¦–éƒ¨é•¿åº¦ï¼Œä¸Žè¿ç®—ï¼Œå¯ä»¥åªå–ipå¤´éƒ¨çš„ç‰ˆæœ¬é•¿åº¦å­—æ®µçš„åŽ4ä½ ip_tlen=ntohs(ih-&gt;tlen); //æ€»é•¿åº¦ ip_ident=ntohs(ih-&gt;identification); //æ ‡è¯† ip_flag_fo = ntohs(ih-&gt;flags_fo); //2å­—èŠ‚å­˜æ”¾ï¼Œä¼šæœ‰å­—èŠ‚åºé—®é¢˜ ip_flag = (ip_flag_fo &gt;&gt; 13); //æ ‡å¿— ip_fo = (ip_flag_fo &amp; 0x1fff); //ç‰‡åç§» ip_type = ih-&gt;proto; //ä¸Šå±‚åè®®ç±»åž‹ ip_crc = ntohs(ih-&gt;crc); //é¦–éƒ¨æ ¡éªŒå’Œ /*æ‰“å°IPæ•°æ®æŠ¥é¦–éƒ¨*/ printf("ç‰ˆæœ¬ï¼š%d\t\t\t",ip_ver); printf("é¦–éƒ¨é•¿åº¦ï¼š%d\n",ip_len); printf("åŒºåˆ†æœåŠ¡ï¼š%d\t\t", ih-&gt;tos); printf("æ€»é•¿åº¦ï¼š%d\n", ip_tlen); printf("æ ‡è¯†ï¼š%d\t\t", ip_ident); if (ip_flag == 2) printf("æ ‡å¿—ï¼šDF=1ï¼ˆä¸èƒ½åˆ†ç‰‡ï¼‰ï¼ŒMF=0ï¼ˆæ²¡æœ‰åŽç»­åˆ†ç‰‡ï¼‰\n"); if (ip_flag == 1) printf("æ ‡å¿—ï¼šDF=0ï¼ˆå…è®¸åˆ†ç‰‡ï¼‰ï¼ŒMF=1ï¼ˆè¿˜æœ‰åŽç»­åˆ†ç‰‡ï¼‰\n"); if (ip_flag == 0) printf("æ ‡å¿—ï¼šDF=0ï¼ˆå…è®¸åˆ†ç‰‡ï¼‰ï¼ŒMF=0ï¼ˆæ²¡æœ‰åŽç»­åˆ†ç‰‡ï¼‰\n"); printf("ç‰‡åç§»ï¼š%d\t\t",ip_fo*8);//ç‰‡åç§»ä»¥8å­—èŠ‚ä¸ºå•ä½ printf("ç”Ÿå­˜æ—¶é—´ï¼š%d\n",ih-&gt;ttl); printf("åè®®ï¼š%d\t\t\t",ih-&gt;proto); printf("é¦–éƒ¨æ ¡éªŒå’Œï¼š%d\n",ip_crc); printf("IPåœ°å€ï¼š "); myPrintIPAddress(ih-&gt;saddr); printf(" -&gt; "); myPrintIPAddress(ih-&gt;daddr); printf("\n"); if (ip_len == 20)//IPé¦–éƒ¨é•¿åº¦&gt;20æ—¶æ‰æœ‰ printf("é¦–éƒ¨é•¿åº¦ä¸º20ï¼ŒIPæŠ¥æ–‡é¦–éƒ¨æ²¡æœ‰å¯é€‰å­—æ®µã€‚\n"); else&#123; ip_op_pad = ntohl(ih-&gt;op_pad); printf("å¯é€‰è‡ªæ®µå†…å®¹ä¸ºï¼š%u\n", ip_op_pad); &#125; all_ip_len = ip_len; return ip_type;&#125;void handleICMP(icmp_header *ich)&#123; u_short icmp_checksum; //æ ¡éªŒå’Œ u_short icmp_ident; //æ ‡è¯†ç¬¦ u_short icmp_seqnum; //åºåˆ—å· icmp_checksum = ntohs(ich-&gt;checksum); //æ ¡éªŒå’Œ icmp_ident = ntohs(ich-&gt;identifier); //æ ‡è¯†ç¬¦ icmp_seqnum = ntohs(ich-&gt;sequence_number); printf("\nè¿è¾“å±‚åè®®ï¼š ICMPåè®®\n"); /*æ‰“å°ICMPæŠ¥æ–‡é¦–éƒ¨*/ if (ich-&gt;type == 0) printf("ICMPç±»åž‹ï¼šå›žæ˜¾åº”ç­”\n"); else if (ich-&gt;type == 8) printf("ICMPç±»åž‹ï¼šå›žæ˜¾è¯·æ±‚\n"); else printf("ICMPç±»åž‹ï¼šå…¶ä»–\n"); printf("ä»£ç ï¼š%d\t\t",ich-&gt;code); printf("æ ¡éªŒå’Œï¼š%d\n",icmp_checksum); printf("æ ‡è¯†ç¬¦ï¼š%d\t\t",icmp_ident); printf("åºåˆ—å·ï¼š%d\n",icmp_seqnum);&#125;u_int udp_len;bool handleUDP(udp_header *uh)&#123; u_short sport, dport;//ç«¯å£ u_short uh_len; //é•¿åº¦ u_short uh_crc; //æ ¡éªŒå’Œ sport = ntohs( uh-&gt;sport );//æºç«¯å£ dport = ntohs( uh-&gt;dport );//ç›®çš„ç«¯å£ uh_len = ntohs(uh-&gt;len); //é•¿åº¦ uh_crc = ntohs(uh-&gt;crc); //æ ¡éªŒå’Œ printf("\nè¿è¾“å±‚åè®®ï¼š UDPåè®®\n"); printf("ç«¯å£å·ï¼š%d -&gt; %d\n", sport, dport); printf("é•¿åº¦ï¼š%d\t\t", uh_len); printf("æ ¡éªŒå’Œï¼š%d\n", uh_crc); udp_len = uh_len; if(sport == DNSPORT || dport == DNSPORT) return true; return false;&#125;void handleTCP(tcp_header *th)&#123; u_short tcp_sport; //æºç«¯å£ u_short tcp_dport; //ç›®çš„ç«¯å£ u_long tcp_seqnum; //åºå·ï¼ˆ4å­—èŠ‚ntohlï¼‰ u_long tcp_acknum; //ç¡®è®¤å· u_short tcp_hlen_bl_flags; //æ•°æ®åç§»+ä¿ç•™+æŽ§åˆ¶ä½ u_short tcp_hlen; u_short tcp_bl; u_short tcp_flags_urg; //ç´§æ€¥1æœ‰æ•ˆ u_short tcp_flags_ack; //ç¡®è®¤=1æ—¶ï¼Œç¡®è®¤å·æœ‰æ•ˆ u_short tcp_flags_psh; //æŽ¨é€1æœ‰æ•ˆï¼Œå¯ä»¥ä¸ç”¨å¡«æ»¡ç¼“å­˜å°±å‘æŠ¥ u_short tcp_flags_rst; //å¤ä½1æœ‰æ•ˆï¼Œé‡æ–°å»ºç«‹è¿žæŽ¥ u_short tcp_flags_syn; //åŒæ­¥syn=1,ack=0æ—¶ï¼Œè¡¨æ˜Žè¿™æ˜¯ä¸€ä¸ªè¿žæŽ¥è¯·æ±‚æŠ¥æ–‡ï¼›syn=1,ack=1,æŽ¥å—è¿žæŽ¥è¯·æ±‚ u_short tcp_flags_fin; //é‡Šæ”¾è¿žæŽ¥=1æ—¶ï¼Œè¡¨ç¤ºæ•°æ®æŠ¥ u_short tcp_window_size; //çª—å£ï¼ˆå‘é€æ–¹è‡ªå·±çš„æŽ¥æ”¶çª—å£ï¼‰ u_short tcp_checksum; //æ£€éªŒå’Œï¼ˆé¦–éƒ¨+æ•°æ®ï¼‰ u_short tcp_urg; //ç´§æ€¥æŒ‡é’ˆ u_long tcp_option; tcp_sport=ntohs(th-&gt;sport); //æºç«¯å£ tcp_dport=ntohs(th-&gt;dport); //ç›®çš„ç«¯å£ tcp_seqnum=ntohl(th-&gt;sequence_number); //åºå·ï¼ˆ4å­—èŠ‚ntohlï¼‰ tcp_acknum=ntohl(th-&gt;acknowlegement_number);//ç¡®è®¤å· tcp_hlen_bl_flags=ntohs(th-&gt;hlen_bl_flags); //æ•°æ®åç§»4+ä¿ç•™6+æŽ§åˆ¶ä½6 tcp_hlen=(tcp_hlen_bl_flags &gt;&gt; 12)*4; //ä»¥4å­—èŠ‚ä¸ºå•ä½ tcp_bl=(tcp_hlen_bl_flags &amp; 0x0fc0); //ä¿ç•™ tcp_flags_urg=(tcp_hlen_bl_flags &amp; 0x0020); //ç´§æ€¥1æœ‰æ•ˆ ----- tcp_flags_ack=(tcp_hlen_bl_flags &amp; 0x0010); //ç¡®è®¤=1æ—¶ï¼Œç¡®è®¤å·æœ‰æ•ˆ tcp_flags_psh=(tcp_hlen_bl_flags &amp; 0x0008); //æŽ¨é€1æœ‰æ•ˆï¼Œå¯ä»¥ä¸ç”¨å¡«æ»¡ç¼“å­˜å°±å‘æŠ¥ tcp_flags_rst=(tcp_hlen_bl_flags &amp; 0x0004); //å¤ä½1æœ‰æ•ˆï¼Œé‡æ–°å»ºç«‹è¿žæŽ¥ tcp_flags_syn=(tcp_hlen_bl_flags &amp; 0x0002); //åŒæ­¥syn=1,ack=0æ—¶ï¼Œè¡¨æ˜Žè¿™æ˜¯ä¸€ä¸ªè¿žæŽ¥è¯·æ±‚æŠ¥æ–‡ï¼›syn=1,ack=1,æŽ¥å—è¿žæŽ¥è¯·æ±‚ tcp_flags_fin=(tcp_hlen_bl_flags &amp; 0x0001); //é‡Šæ”¾è¿žæŽ¥=1æ—¶ï¼Œè¡¨ç¤ºæ•°æ®æŠ¥ tcp_window_size=ntohs(th-&gt;window_size); //çª—å£ï¼ˆå‘é€æ–¹è‡ªå·±çš„æŽ¥æ”¶çª—å£ï¼‰ tcp_checksum=ntohs(th-&gt;checksum); //æ£€éªŒå’Œï¼ˆé¦–éƒ¨+æ•°æ®ï¼‰ tcp_urg=ntohs(th-&gt;urg); printf("\nè¿è¾“å±‚åè®®ï¼š TCPåè®®\n"); /*æ‰“å°TCPæ•°æ®æŠ¥é¦–éƒ¨*/ printf("ç«¯å£å·ï¼š%d -&gt; %d\n",tcp_sport,tcp_dport); printf("åºå·ï¼š%u\t",tcp_seqnum); printf("ç¡®è®¤å·ï¼š%u\n",tcp_acknum); printf("æ•°æ®åç§»ï¼š%d\t\t",tcp_hlen);//é¦–éƒ¨é•¿åº¦// printf("ä¿ç•™ï¼š%d\n",tcp_bl); /*æŽ§åˆ¶å­—æ®µ,æ ‡å¿—ä½*/ if (tcp_flags_urg == 1) printf("æ ‡å¿—ï¼šURG\n"); if (tcp_flags_ack == 1) printf("æ ‡å¿—ï¼šACK\n"); if (tcp_flags_psh == 1) printf("æ ‡å¿—ï¼šPSH\n"); if (tcp_flags_rst == 1) printf("æ ‡å¿—ï¼šRST\n"); if (tcp_flags_syn == 1) printf("æ ‡å¿—ï¼šSYN\n"); if (tcp_flags_fin == 1) printf("æ ‡å¿—ï¼šFIN\n"); printf("çª—å£ï¼š%d\t\t",tcp_window_size); printf("æ£€éªŒå’Œï¼š%d\n",tcp_checksum); printf("ç´§æ€¥æŒ‡é’ˆï¼š%d\t\t",tcp_urg);//URG=1æ—¶æ‰æœ‰ç”¨ï¼Œçª—å£å¤§å°ä¸º0ä¹Ÿèƒ½å‘é€ if(tcp_hlen == 20)//æ•°æ®åç§»(TCPé¦–éƒ¨é•¿åº¦)&gt;20æ—¶æ‰æœ‰ printf("é¦–éƒ¨é•¿åº¦ä¸º20å­—èŠ‚ï¼Œæ²¡æœ‰å¡«å……å­—æ®µã€‚\n"); else &#123; tcp_option = ntohl(th-&gt;option); printf("å¡«å……å­—æ®µ:%u\n", tcp_option); &#125;&#125;/* Callback function invoked by libpcap for every incoming packet */void packet_handler(u_char *param, const struct pcap_pkthdr *header, const u_char *pkt_data) //param æ— ç”¨&#123; eth_header *eth; u_short macType; myPrintBaseInfo(header); eth=(eth_header *) (pkt_data); //è¿‡æ»¤ä»¥å¤ªç½‘å¤´éƒ¨ pkt_data += 14; //HandleMac macType=handleMac(eth); myPrintNetType(macType); // å¤„ç†ARP å’Œ RARP if(macType==0x0806 || macType==0x8035) &#123; arp_header *ap; ap = (arp_header *)(pkt_data); handleARPAndRARP(ap); &#125; // å¤„ç†IP if(macType==0x0800) &#123; u_short ip_type; ip_header *ih; ih = (ip_header *) (pkt_data); ip_type = handleIP(ih); if (ip_type == 1) &#123; icmp_header *ich; ich = (icmp_header *)((u_char*)ih + all_ip_len); handleICMP(ich); &#125;else if(ip_type == 17)&#123; udp_header *uh; uh = (udp_header *) ((u_char*)ih + all_ip_len); if(handleUDP(uh)) &#123; /* struct dns_packet *pdns; pdns = (struct dns_packet *)(pkt_data + all_ip_len + udp_len); // sport+dport+length+checksum,DNSå¤´æŒ‡é’ˆ u_char *query=&amp;(pdns-&gt;dns_data);//å®šä½åˆ°æŸ¥è¯¢éƒ¨åˆ†å¤´éƒ¨ printf("QueryDomain="); u_char domainname[100]=&#123;0&#125;; u_int i=0; //query++;//æŠŠç‚¹åŽ»äº† while(*query) &#123; printf("%d", *query); if(*query &lt; 0x10)//48ä»¥åŽå‡ºçŽ°æ•°å­—å’Œè‹±æ–‡å­—æ¯ printf("."); else printf("%c", *query); query++; i++; &#125; printf("\n"); */ &#125; &#125;else if(ip_type == 6)&#123; tcp_header *th; th=(tcp_header *) ((u_char*)ih + all_ip_len); handleTCP(th); &#125; &#125;&#125;int main()&#123; pcap_if_t *alldevs; pcap_if_t *d; int inum; int i=0; pcap_t *adhandle; char errbuf[PCAP_ERRBUF_SIZE]; u_int netmask; char packet_filter[100]; int i; scanf("%d", &amp;i); printf("åˆ†æžIPæ•°æ®æŠ¥è¾“å…¥ï¼š\t1\n"); printf("åˆ†æžARPæ•°æ®æŠ¥è¾“å…¥ï¼š\t2\n"); printf("åˆ†æžTCPæ•°æ®æŠ¥è¾“å…¥ï¼š\t3\n"); printf("åˆ†æžUDPæ•°æ®æŠ¥è¾“å…¥ï¼š\t4\n"); printf("åˆ†æžICMPæ•°æ®æŠ¥è¾“å…¥ï¼š\t5\n"); printf("åˆ†æžMACã€IPã€ARPã€TCPã€UDPã€IMCPè¾“å…¥\t6\n"); if(i == 1) packet_filter = "ip"; else if(i == 2) packet_filter = "arp"; else if(i == 3) packet_filter = "ip and tcp"; else if(i == 4) packet_filter = "ip and udp"; else if(i == 5) packet_filter = "ip and icmp"; else if(i == 6) packet_filter = ""; else&#123; printf("InputError : check the number you input! exit(1)"); exit(1); &#125; struct bpf_program fcode; if(pcap_findalldevs(&amp;alldevs, errbuf) == -1) &#123; fprintf(stderr,"Error in pcap_findalldevs: %s\n", errbuf); exit(1); &#125; for(d=alldevs; d; d=d-&gt;next) &#123; printf("%d. %s", ++i, d-&gt;name); if (d-&gt;description) printf(" (%s)\n", d-&gt;description); else printf(" (No description available)\n"); &#125; if(i==0) &#123; printf("\nNo interfaces found! Make sure WinPcap is installed.\n"); return -1; &#125; printf("Enter the interface number (1-%d):",i); scanf("%d", &amp;inum); /* Check if the user specified a valid adapter */ if(inum &lt; 1 || inum &gt; i) &#123; printf("\nAdapter number out of range.\n"); pcap_freealldevs(alldevs); return -1; &#125; /* Jump to the selected adapter */ for(d=alldevs, i=0; i&lt; inum-1 ;d=d-&gt;next, i++); /* Open the adapter */ if ((adhandle= pcap_open_live(d-&gt;name, // name of the device 65536, // portion of the packet to capture. // 65536 grants that the whole packet will be captured on all the MACs. 1, // promiscuous mode (nonzero means promiscuous) 1000, // read timeout errbuf // error buffer )) == NULL) &#123; fprintf(stderr,"\nUnable to open the adapter. %s is not supported by WinPcap\n"); pcap_freealldevs(alldevs); return -1; &#125; /* Check the link layer. We support only Ethernet for simplicity. */ if(pcap_datalink(adhandle) != DLT_EN10MB) &#123; fprintf(stderr,"\nThis program works only on Ethernet networks.\n"); pcap_freealldevs(alldevs); return -1; &#125; if(d-&gt;addresses != NULL) /* Retrieve the mask of the first address of the interface */ netmask=((struct sockaddr_in *)(d-&gt;addresses-&gt;netmask))-&gt;sin_addr.S_un.S_addr; else /* If the interface is without addresses we suppose to be in a C class network */ netmask=0xffffff; //compile the filter if (pcap_compile(adhandle, &amp;fcode, packet_filter, 1, netmask) &lt;0 ) &#123; fprintf(stderr,"\nUnable to compile the packet filter. Check the syntax.\n"); pcap_freealldevs(alldevs); return -1; &#125; //set the filter if (pcap_setfilter(adhandle, &amp;fcode)&lt;0) &#123; fprintf(stderr,"\nError setting the filter.\n"); pcap_freealldevs(alldevs); return -1; &#125; printf("\nlistening on %s...\n", d-&gt;description); /* At this point, we don't need any more the device list. Free it */ pcap_freealldevs(alldevs); /* start the capture */ pcap_loop(adhandle, 0, packet_handler, NULL); return 0;&#125;åˆ†æžå¬åˆ°ç½‘å¡ä¸ŠMacå¸§æ—¶çš„å›žè°ƒå‡½æ•°12void packet_handler(u_char *param, const struct pcap_pkthdr *header, const u_char *pkt_data);è¾“å‡ºåŸºæœ¬ä¿¡æ¯ï¼šåŒ…æ‹¬ç›‘å¬åˆ°å¸§çš„æ—¶é—´ï¼Œå¸§çš„é•¿åº¦1void myPrintBaseInfo(const struct pcap_pkthdr *header);è¾“å‡ºç¡¬ä»¶åœ°å€ï¼Œæ ¼å¼ï¼šxx:xx:xx:xx:xx:xx1void myPrintEthAddress(eth_address eth);è¾“å‡ºIPåœ°å€ï¼Œæ ¼å¼ï¼šxx.xx.xx.xx1void myPrintIPAddress(ip_address ia);è¾“å‡ºç½‘ç»œå±‚åè®®ç±»åž‹ï¼Œæ ¼å¼ï¼šç½‘ç»œå±‚åè®®ï¼šxxxx1void myPrintNetType(u_short type);åˆ†æžMacå¸§ï¼š1u_short handleMac(eth_header *eth);åˆ†æžARPå’ŒRARPå¸§1void handleARPAndRARP(arp_header *ah);åˆ†æžIPæ•°æ®æŠ¥1u_short handleIP(ip_header *ih);åˆ†æžICMPæ•°æ®æŠ¥1void handleICMP(icmp_header *ich);åˆ†æžUDPæ•°æ®æŠ¥1bool handleUDP(udp_header *uh);åˆ†æžTCPæ•°æ®æŠ¥1void handleTCP(tcp_header *th);]]></content>
      <categories>
        <category>ç½‘ç»œç¼–ç¨‹</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
        <tag>winpcap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[11-å…³ç³»æ•°æ®åº“ç†è®º]]></title>
    <url>%2F2019%2F11-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%90%86%E8%AE%BA%2F</url>
    <content type="text"><![CDATA[å…³ç³» &amp; å…³ç³»æ¨¡å¼å…³ç³»æ¨¡å¼ç›¸å½“äºŽä¸€å¼ äºŒç»´è¡¨çš„æ¡†æž¶ï¼Œåœ¨è¿™ä¸ªæ¡†æž¶ä¸‹å¡«å…¥æ•°æ®ï¼Œç§°ä¸ºå…³ç³»æ¨¡å¼çš„ä¸€ä¸ªå®žä¾‹ï¼Œæˆ–è€…å«å…³ç³»Rã€‚å…³ç³»æ¨¡å¼çš„å½¢å¼åŒ–å®šä¹‰æ˜¯ï¼š$R(U,D,DOM,F)â€‹$Rï¼šå…³ç³»åUï¼šç»„æˆè¯¥å…³ç³»çš„å±žæ€§åé›†åˆDï¼šUä¸­å±žæ€§æ‰€æ¥è‡ªçš„åŸŸåŸŸï¼šä¸€ç»„å…·æœ‰ç›¸åŒæ•°æ®ç±»åž‹çš„å€¼çš„é›†åˆDOMï¼šå±žæ€§å‘åŸŸçš„æ˜ åƒé›†åˆFï¼šå±žæ€§é—´æ•°æ®çš„ä¾èµ–å…³ç³»é›†åˆç”±äºŽDå’ŒDOMåŸŸä¸Žå…³ç³»æ¨¡å¼çš„è®¾è®¡æ— å…³ï¼Œå› æ­¤åœ¨è®¨è®ºå…³ç³»æ•°æ®åº“ç†è®ºæ—¶å¯ä»¥æŠŠå…³ç³»æ¨¡å¼çœ‹åšï¼š$R(U,F)â€‹$å…³ç³»çš„å½¢å¼åŒ–å®šä¹‰ï¼šå½“ä¸”ä»…å½“$U$ä¸Šçš„ä¸€ä¸ªå…³ç³»$r$æ»¡è¶³$F$æ—¶ï¼Œrç§°ä¸ºå…³ç³»æ¨¡å¼$R(U,F)$ä¸Šçš„ä¸€ä¸ªå…³ç³»ã€‚èŒƒå¼å…³ç³»æ¨¡å¼çš„è®¾è®¡ç›´æŽ¥å½±å“ç€åŽç»­å¢žåˆ æŸ¥æ”¹ç­‰çš„æ“ä½œã€‚å¦‚æžœè®¾è®¡çš„ä¸åˆç†å°±ä¼šå‘ç”Ÿå„ç§å„æ ·çš„é—®é¢˜ï¼šæ•°æ®å†—ä½™å¤ªå¤§æ›´æ–°å¼‚å¸¸æ’å…¥å¼‚å¸¸åˆ é™¤å¼‚å¸¸æ¯”å¦‚å¯¹äºŽä¸€ä¸ªæè¿°å­¦æ ¡åœ¨æ ¡ç”Ÿä¿¡æ¯æ•°æ®åº“ï¼š$Student&lt;U,F&gt;$ï¼Œ$U=\lbrace Sno,Sdept,Mname,Cname,Grade\rbrace$ä¼šå‘ç”Ÿçš„é—®é¢˜ï¼šå†—ä½™é—®é¢˜ï¼šæ¯ä¸ªç³»çš„ç³»ä¸»ä»»å§“åé‡å¤å‡ºçŽ°ï¼Œé‡å¤æ¬¡æ•°ä¸Žè¯¥ç³»æ‰€æœ‰å­¦ç”Ÿçš„æ‰€æœ‰è¯¾ç¨‹æˆç»©æ¬¡æ•°ç›¸åŒæ›´æ–°é—®é¢˜ï¼šå¦‚æžœæŸç³»çš„ç³»ä¸»ä»»æ›´æ¢åŽï¼Œè¯¥æ•°æ®åº“è¯¥ç³»ä¸­æ‰€æœ‰çš„å…ƒç»„éƒ½è¦æ›´æ–°æ’å…¥å¼‚å¸¸ï¼šå¦‚æžœä¸€ä¸ªç³»åˆšæˆç«‹ï¼Œå°šæ— å­¦ç”Ÿï¼Œåˆ™æ— æ³•æŠŠè¯¥ç³»çš„ç³»ä¸»ä»»å­˜å…¥æ•°æ®åº“åˆ é™¤å¼‚å¸¸ï¼šå¦‚æžœæŸä¸ªç³»çš„å­¦ç”Ÿéƒ½æ¯•ä¸šäº†ï¼Œåœ¨åˆ é™¤è¯¥ç³»å­¦ç”Ÿçš„åŒæ—¶ï¼Œè¯¥ç³»ç³»ä¸»ä»»çš„ä¿¡æ¯ä¹Ÿä¼šè¢«åˆ é™¤ä¸€ä¸ªå¥½çš„æ¨¡å¼ä¸èƒ½å‘ç”Ÿæ’å…¥å¼‚å¸¸ã€åˆ é™¤å¼‚å¸¸å’Œæ›´æ–°å¼‚å¸¸ï¼Œæ•°æ®å†—ä½™åº”è¯¥å°½å¯èƒ½å°‘ã€‚å®šä¹‰èŒƒå¼æŒ‡çš„æ˜¯è§„èŒƒåŒ–çš„å…³ç³»æ¨¡å¼ï¼Œè€Œè§„èŒƒä¹Ÿå°±æ˜¯æ¡ä»¶ï¼Œæ»¡è¶³ä¸åŒçš„æ¡ä»¶å¯ä»¥åˆ†åˆ«è§£é™¤ä¸Šè¿°æ‰€è¯´çš„ä¸åŒé—®é¢˜ã€‚é—®é¢˜å‘ç”Ÿçš„åŽŸå› ä¹‹æ‰€ä»¥ä¼šå‘ç”Ÿä¸Šè¯‰çš„é—®é¢˜å…¶å®žå°±æ˜¯ç”±äºŽæ•°æ®ä¾èµ–ã€‚è€Œæ•°æ®ä¾èµ–å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼šå‡½æ•°ä¾èµ–å’Œå¤šå€¼ä¾èµ–ã€‚ä½†è¿™ä¸¤ç§ä¾èµ–å…³ç³»ä¸æ˜¯å¹³çº§ï¼Œè€Œæ˜¯é€’è¿›çš„å…³ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆä»‹ç»å‡½æ•°ä¾èµ–ã€‚å‡½æ•°ä¾èµ–è®¾$R(U)$æ˜¯ä¸€ä¸ªå±žæ€§é›†$U$ä¸Šçš„å…³ç³»æ¨¡å¼ï¼Œ$X$å’Œ$Y$æ˜¯$U$çš„å­é›†ã€‚è‹¥å¯¹äºŽ$R(U)$çš„ä»»æ„ä¸¤ä¸ªå¯èƒ½çš„å…³ç³»$r_1$ã€$r_2$ï¼Œè‹¥$r_1[x]=r_2[x]$ï¼Œåˆ™$r_1[y]=r_2[y]$ï¼Œåˆ™ç§°$X$å†³å®š$Y$ï¼Œæˆ–è€…$Y$ä¾èµ–$X$ã€‚è®°ä½œ$X \rightarrow Y$ã€‚å¯¹äºŽ$Xâ€‹$ã€$Yâ€‹$èŒƒå›´çš„ä¸åŒï¼Œå¯ä»¥å†æ¬¡åˆ†ä¸ºï¼šéžå¹³å‡¡å‡½æ•°ä¾èµ–ï¼šå¦‚æžœ$X \rightarrow Yâ€‹$ä½†$Y \nsubseteq Xâ€‹$ï¼Œåˆ™ç§°$X \rightarrow Yâ€‹$æ˜¯éžå¹³å‡¡å‡½æ•°ä¾èµ–å¹³å‡¡å‡½æ•°ä¾èµ–ï¼šå¦‚æžœ$X \rightarrow Y$ä½†$Y \subseteq X$ï¼Œåˆ™ç§°$X \rightarrow Y$æ˜¯éžå¹³å‡¡å‡½æ•°ä¾èµ–ã€‚ä¾‹ï¼š$(Sno,Sname) \rightarrow Sname$æ‰€ä»¥ï¼Œåœ¨å…³ç³»æ¨¡å¼ä¸­ï¼Œå¹³å‡¡å‡½æ•°ä¾èµ–æ˜¯ä¸€å®šæ˜¯å¯ä»¥è¢«æ»¡è¶³çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä»¥åŽçš„è®¨è®ºä¸­ä¸å†å…³æ³¨å¹³å‡¡å‡½æ•°ä¾èµ–ï¼Œåªå…³æ³¨éžå¹³å‡¡å‡½æ•°ä¾èµ–ã€‚è€Œæˆ‘ä»¬å¯¹äºŽéžå¹³å‡¡å‡½æ•°ä¾èµ–åˆå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼šå®Œå…¨å‡½æ•°ä¾èµ–ï¼šå¦‚æžœ$X \rightarrow Yâ€‹$ï¼Œå¹¶ä¸”å¯¹äºŽä»»æ„çš„çœŸå­é›†$X_iâ€‹$ï¼Œéƒ½æ— æ³•åšåˆ°$X_i \rightarrow Yâ€‹$ï¼Œåˆ™ç§°$Yâ€‹$å¯¹$Xâ€‹$æ˜¯å®Œå…¨å‡½æ•°ä¾èµ–ã€‚éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼šå¦‚æžœ$X \rightarrow Yâ€‹$ï¼Œå­˜åœ¨çœŸå­é›†$X_iâ€‹$ï¼Œå¯ä»¥åšåˆ°$X_i \rightarrow Yâ€‹$ï¼Œåˆ™ç§°$Yâ€‹$å¯¹$Xâ€‹$æ˜¯éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€‚ä¼ é€’å‡½æ•°ä¾èµ–ï¼šå¦‚æžœ$X \rightarrow Y$ï¼Œ$Y \rightarrow Z$ä¸”$Y \nrightarrow X$ï¼Œåˆ™ç§°$X$å¯¹$X$æœ‰ä¼ é€’å‡½æ•°ä¾èµ–ã€‚ç¬¬ä¸€èŒƒå¼åœ¨å…³ç³»æ¨¡åž‹ä¸­çš„æ¯ä¸€ä¸ªå…·ä½“å…³ç³»$R$ä¸­ï¼Œå¦‚æžœæ¯ä¸ªå±žæ€§éƒ½æ˜¯ä¸å¯å†åˆ†çš„ï¼Œåˆ™ç§°$R$å±žäºŽç¬¬ä¸€èŒƒå¼ï¼Œè®°ä½œ$R \in 1NF$ã€‚ç¬¬äºŒèŒƒå¼$R \in 1NFâ€‹$ä¸”æ¯ä¸€ä¸ªéžä¸»å±žæ€§å®Œå…¨å‡½æ•°ä¾èµ–äºŽç ï¼Œåˆ™$R \in 2NFâ€‹$ã€‚ä¾èµ–æœ‰ç›´æŽ¥ä¾èµ–å’Œä¼ é€’ä¾èµ–ã€‚ç¬¬ä¸‰èŒƒå¼$R \in 2NF$ä¸”$R$ä¸­çš„æ¯ä¸ªéžä¸»å±žæ€§ä¸ä¼ é€’ä¾èµ–äºŽä¸»ç ï¼Œåˆ™å…³ç³»$R$æ˜¯ç¬¬ä¸‰èŒƒå¼ï¼Œ$R \in 3NF$ã€‚æ¨¡å¼åˆ†è§£ä»Žä½Žçº§èŒƒå¼åˆ°é«˜çº§èŒƒå¼çš„æ–¹æ³•æ˜¯æ¨¡å¼åˆ†è§£ã€‚ä¸¾ä¾‹ï¼šå¯¹äºŽä¸€ä¸ªå…³ç³»$R(SNO,SNA,CNO,GRADE,CNA,TNA,TAGE)$ï¼ˆå­¦å·ã€å§“åã€è¯¾å·ã€æˆç»©ã€è¯¾ç¨‹åç§°ã€æ•™å¸ˆå§“åã€æ•™å¸ˆå¹´é¾„ï¼‰ã€‚çŽ°å®žè¯­ä¹‰ï¼šå¦‚æžœå‡è®¾ä¸€ä¸ªæ•™å¸ˆå¯ä»¥äº¤å¤šé—¨è¯¾ä¸”ä¸€é—¨è¯¾ä»…ç”±ä¸€ä¸ªæ•™å¸ˆè®²æŽˆï¼Œå¯å¾—Rçš„å‡½æ•°ä¾èµ–é›†ï¼š$SNO \rightarrow SNM$$(SNO,CNO) \rightarrow GRADEâ€‹$$CNO \rightarrow CNA$$CNO \rightarrow TNA$$TNA \rightarrow TAGEâ€‹$å‡½æ•°ä¾èµ–å›¾å¦‚ä¸‹ï¼šåˆ†è§£ä¸ºç¬¬äºŒèŒƒå¼ï¼š$R1&lt;(SNO,SNA),SNO \rightarrow SNA&gt;â€‹$$R2&lt;(SNO,CNO,GRADE), (SNO,CNO) \rightarrow GRADE&gt;â€‹$$R3&lt;(CNO,CNA,TNA,TAGE),CNO \rightarrow CNA, CNO \rightarrow TNA, TNA \rightarrow TAGE&gt;â€‹$åˆ†è§£ä¸ºç¬¬ä¸‰èŒƒå¼ï¼š$R1&lt;(SNO,SNA),SNO \rightarrow SNA&gt;$$R2&lt;(SNO,CNO,GRADE), (SNO,CNO) \rightarrow GRADE&gt;$$R3&lt;(CNO,CNA,TNA),CNO \rightarrow CNA, CNO \rightarrow TNA&gt;â€‹$$R3&lt;(CNO,TAGE),CNO \rightarrow TAGE&gt;$ç¬¬ä¸‰èŒƒå¼çš„é—®é¢˜ä»“åº“ä¿ç®¡$WPE(W#,P#,E#,QNT)$ï¼Œï¼ˆ ä»“åº“å·ï¼Œå™¨ä»¶å·ï¼ŒèŒå·¥å·ï¼Œæ•°é‡ï¼‰ã€‚ä¸€ä¸ªèŒå·¥åªèƒ½ç®¡ç†ä¸€ä¸ªä»“åº“çš„æŸç±»åž‹å™¨ä»¶ï¼Œä¸€ä¸ªä»“åº“çš„æŸç±»åž‹å™¨ä»¶æ•°é‡æ˜¯ç¡®å®šçš„ï¼Œä¸€ä¸ªå‘˜å·¥ç®¡ç†çš„æŸç±»åž‹å™¨ä»¶æ•°é‡æ˜¯ä¸€å®šçš„ã€‚å‡½æ•°ä¾èµ–ï¼š$(W#, P#) \rightarrow QNT$$(E#,P#) \rightarrow QNT$$(W#,P#) \rightarrow E#â€‹$$E# \rightarrow W#$å‡½æ•°ä¾èµ–å›¾ï¼šæ­¤æ—¶å…³ç³»æ¨¡å¼$WPEâ€‹$æœ‰ä¸¤ä¸ªä¾¯é€‰ç ï¼Œ$(W#,P#)â€‹$ ï¼Œ$(E#,P#)â€‹$ï¼Œå‡è®¾ç¡®å®š$(E#,P#)â€‹$ä¸ºä¸»ç ï¼Œé‚£ä¹ˆæŸæ–°èŒå·¥åˆ†é…æ¥ä»“åº“ï¼Œå¤„äºŽå­¦ä¹ é˜¶æ®µï¼Œä½†æ²¡æœ‰ç‹¬ç«‹æ‰¿ä½†ä»»åŠ¡ï¼Œå³æœ‰$E#â€‹$ä½†æ— $P#â€‹$ï¼Œç¼ºå°‘ç çš„ç»„æˆéƒ¨åˆ†ï¼Œæ— æ³•æ’å…¥åˆ°è¯¥å…³ç³»ï¼Œå³æ’å…¥å¼‚å¸¸ã€‚è¿™æ˜¯ç”±äºŽä¸»å±žæ€§$W#â€‹$å¯¹å¦ä¸€ä¸ªä¾¯é€‰ç $(E#,P#)â€‹$çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€‚BCèŒƒå¼BCèŒƒå¼çš„å®šä¹‰ï¼šæ¯ä¸ªå†³å®šå› ç´ éƒ½åŒ…å«ç ï¼Œåˆ™$R \in BCNFâ€‹$ã€‚è€Œæ—¢ç„¶æ¯ä¸ªå†³å®šå› ç´ éƒ½è¦åŒ…å«ç ï¼Œåˆ™æ­¤æ—¶æ„å‘³ç€å¿…é¡»æ”¾å¼ƒæŸäº›å‡½æ•°ä¾èµ–ï¼Œå³å¤±åŽ»æŸäº›çŽ°å®žè¯­ä¹‰ã€‚å¦‚ä¾‹å­ä¸­è‹¥é€‰æ‹©$(E#,P#)$ï¼Œåˆ™åªèƒ½ä¿å­˜å‡½æ•°ä¾èµ–ä¸­çš„2å’Œ4ã€‚å¤šå€¼ä¾èµ–è®¾$R(U)$æ˜¯å±žæ€§é›†Uä¸Šçš„ä¸€ä¸ªå…³ç³»æ¨¡å¼ã€‚$X$ï¼Œ$Y$ï¼Œ$Z$æ˜¯çš„$U$çš„å­é›†ï¼Œå¹¶ä¸”$Z=U-X-Y$ã€‚å…³ç³»æ¨¡å¼$R(U)$ä¸­å¤šå€¼ä¾èµ–ï¼ˆè®°åšï¼Œ$X \rightarrow \rightarrow Y$ï¼‰æˆç«‹ï¼Œå½“ä¸”ä»…å½“å¯¹$R(U)$çš„ä»»ä¸€å…³ç³»$r$ï¼Œç»™å®šçš„ä¸€å¯¹$(x,z)$å€¼æœ‰ä¸€ç»„$Y$çš„å€¼ï¼Œè¿™ç»„å€¼ä»…ä»…å†³å®šäºŽ$x$å€¼è€Œä¸Ž$z$å€¼æ— å…³ã€‚è‹¥$X \rightarrow \rightarrow Y$ï¼Œ$Z$ä¸ºç©ºï¼Œåˆ™ç§°$X \rightarrow \rightarrow Y$ä¸ºå¹³å‡¡çš„å¤šå€¼ä¾èµ–ã€‚ æ‰€ä»¥æˆ‘ä»¬ä»¥ä¸‹åªè®¨è®ºéžå¹³å‡¡çš„å‡½æ•°ä¾èµ–ã€‚ä¾‹æ¯”å¦‚å¯¹äºŽå…³ç³»æ¨¡åž‹$Teaching(C,T,B)$ä¾¿æ˜¯å­˜åœ¨å¤šå€¼ä¾èµ–ï¼ˆç ä¸ºå…¨å±žæ€§ï¼‰ï¼šç¬¬å››èŒƒå¼å¦‚æžœå¯¹äºŽ$R$çš„æ¯ä¸ªéžå¹³å‡¡å¤šå€¼ä¾èµ–$X \rightarrow \rightarrow Y$ï¼Œ$X$éƒ½å«æœ‰ç ï¼Œåˆ™$R$éƒ½å«æœ‰ç ã€‚å¤šå€¼ä¾èµ–çš„è§£å†³ä¾ç„¶æ˜¯åˆ†è§£ã€‚å¦‚ä¸Šä¾‹ä¸­åˆ†è§£ä¸ºï¼š$R(C,T)$$R(C,B)$]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CPPä¸­çš„å­—èŠ‚åº]]></title>
    <url>%2F2019%2FCPP%E4%B8%AD%E7%9A%84%E5%AD%97%E8%8A%82%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[å­—èŠ‚åºè®¡ç®—æœºç¡¬ä»¶æœ‰ä¸¤ç§å‚¨å­˜æ•°æ®çš„æ–¹å¼ï¼šå¤§ç«¯å­—èŠ‚åºï¼ˆbig endianï¼‰å’Œå°ç«¯å­—èŠ‚åºï¼ˆlittle endianï¼‰ã€‚å¤§ç«¯å­—èŠ‚åºï¼šé«˜ä½å­—èŠ‚åœ¨å‰ï¼Œä½Žä½å­—èŠ‚åœ¨åŽã€‚å°ç«¯å­—èŠ‚åºï¼šä½Žä½å­—èŠ‚åœ¨å‰ï¼Œé«˜ä½å­—èŠ‚åœ¨åŽã€‚å‡å¦‚æˆ‘ä»¬è¦å­˜å‚¨0x01234567ï¼Œå¤§ç«¯æ³•å’Œå°ç«¯æ³•å¦‚ä¸‹ï¼šä¸ºä»€ä¹ˆä¼šæœ‰å°ç«¯å­—èŠ‚åºäººç±»èƒ½æŽ¥å—çš„å­—èŠ‚åºè‚¯å®šæ˜¯å¤§ç«¯å­˜å‚¨ï¼Œæ‰€ä»¥å¾ˆå¤šäººä¼šä¸ç†è§£ä¸ºä»€ä¹ˆè¿˜è¦æœ‰å°ç«¯å­—èŠ‚åºå‘¢ï¼Ÿå…¶å®žè®¡ç®—æœºå¤„ç†å­—èŠ‚åºçš„æ—¶å€™ï¼Œä¸çŸ¥é“ä»€ä¹ˆæ˜¯é«˜ä½å­—èŠ‚ï¼Œä»€ä¹ˆæ˜¯ä½Žä½å­—èŠ‚ã€‚å®ƒåªçŸ¥é“æŒ‰é¡ºåºè¯»å–å­—èŠ‚ï¼Œå…ˆè¯»ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œå†è¯»ç¬¬äºŒä¸ªå­—èŠ‚ã€‚å¦‚æžœæ˜¯å¤§ç«¯å­—èŠ‚åºï¼Œå…ˆè¯»åˆ°çš„å°±æ˜¯é«˜ä½å­—èŠ‚ï¼ŒåŽè¯»åˆ°çš„å°±æ˜¯ä½Žä½å­—èŠ‚ã€‚å°ç«¯å­—èŠ‚åºæ­£å¥½ç›¸åã€‚ä¸ªäººè§‰å¾—ä¹‹æ‰€ä»¥ä¼šå­˜åœ¨å°ç«¯å­—èŠ‚åºæ˜¯ç”±äºŽè®¡ç®—æœºç”µè·¯åœ¨è®¡ç®—æ—¶å…ˆå¤„ç†ä½Žä½å­—èŠ‚ï¼Œå­˜å‚¨å•å…ƒé‡Œçš„æ•°æ®æŒ‰å°ç«¯å­—èŠ‚åºå­˜å‚¨æ–¹ä¾¿è®¡ç®—ã€‚å­—èŠ‚åºçš„å¤„ç†å…¶å®žåªæœ‰è¯»å–çš„æ—¶å€™ï¼Œæ‰å¿…é¡»åŒºåˆ†å­—èŠ‚åºï¼Œå…¶ä»–æƒ…å†µéƒ½ä¸ç”¨è€ƒè™‘ã€‚æ•°æ®é•¿åº¦å¤§äºŽ1å­—èŠ‚ï¼ˆ8bitsï¼‰æ—¶æ‰éœ€è¦åŒºåˆ†å­—èŠ‚åºã€‚è™½ç„¶åœ¨è®¡ç®—æœºä¸­å­˜å‚¨å’Œå…·ä½“çš„å¹³å°ç›¸å…³ï¼Œä½†æ˜¯è§„å®šåœ¨ç½‘ç»œä¸­ä¼ è¾“çš„æ•°æ®é‡‡ç”¨å¤§ç«¯ä¼ è¾“ï¼Œå³å¦‚æžœæœ‰ä¸€ä¸²ç½‘ç»œæµä¸ºï¼š010101000100110101010ï¼Œå®žé™…å‘é€æ—¶è¶Šå·¦è¾¹çš„è¶Šå…ˆå‘é€åˆ°ç½‘ç»œä¸­ã€‚Cè¯­è¨€ä¸­å¤„ç†å­—èŠ‚åº1234567891011// å‚æ•°ä¸º16ä½ä¸»æœºå­—èŠ‚åºçš„å€¼ï¼Œè¿”å›žå€¼æ˜¯16ä½ç½‘ç»œå­—èŠ‚åºçš„å€¼uing16_t htons(uint16_t host16bitvalue);// å‚æ•°ä¸º32ä½ä¸»æœºå­—èŠ‚åºçš„å€¼ï¼Œè¿”å›žå€¼æ˜¯32ä½ç½‘ç»œå­—èŠ‚åºçš„å€¼uint32_t htonl(uint32_t host32bitvalue);// å‚æ•°ä¸º16ä½ç½‘ç»œå­—èŠ‚åºçš„å€¼ï¼Œè¿”å›žå€¼æ˜¯16ä½ä¸»æœºå­—èŠ‚åºçš„å€¼uint16_t ntohs(uint16_t net16bitvalue);// å‚æ•°ä¸º16ä½ç½‘ç»œå­—èŠ‚åºçš„å€¼ï¼Œè¿”å›žå€¼æ˜¯16ä½ä¸»æœºå­—èŠ‚åºçš„å€¼uint32_t ntohl(uint32_t net32bitvalue);]]></content>
      <categories>
        <category>è®¡ç®—æœºç»„æˆåŽŸç†</category>
      </categories>
      <tags>
        <tag>å­—èŠ‚åº</tag>
        <tag>è®¡ç®—æœºç»„æˆåŽŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç‰©ç†å±‚]]></title>
    <url>%2F2019%2F%E7%89%A9%E7%90%86%E5%B1%82%2F</url>
    <content type="text"><![CDATA[ç å…ƒå®˜æ–¹è§£é‡Šæ•°å­—é€šä¿¡ä¸­å¯¹æ•°å­—ä¿¡å·çš„è®¡é‡å•ä½ã€‚åœ¨ä½¿ç”¨æ—¶é—´åŸŸï¼ˆæˆ–ç®€ç§°ä¸ºæ—¶åŸŸï¼‰çš„æ³¢å½¢è¡¨ç¤ºæ•°å­—ä¿¡å·æ—¶ï¼Œä»£è¡¨ä¸åŒç¦»æ•£æ•°å€¼çš„åŸºæœ¬æ³¢å½¢ã€‚ç†è§£å‡å¦‚åŸºå¸¦ä¿¡å·æ˜¯101011000110111010...ï¼Œå¦‚æžœç›´æŽ¥å‘é€ï¼Œåˆ™æ¯ä¸ªç å…ƒæºå¸¦ä¸€ä¸ªæ¯”ç‰¹çš„ä¿¡æ¯ï¼ˆæ¯ä¸ªç å…ƒåªæœ‰2ç§çŠ¶æ€ï¼‰ï¼Œä½†æ˜¯å¦‚æžœå°†ä¿¡å·ä¸­çš„ä¸‰ä¸ªæ¯”ç‰¹ç¼–ä¸ºä¸€ç»„ï¼Œå³101ï¼Œ011ï¼Œ000ï¼Œ110ï¼Œ111ï¼Œ010â€¦ï¼Œä¸‰ä¸ªæ¯”ç‰¹å…±æœ‰8ç§ä¸åŒçš„æŽ’åˆ—ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸åŒçš„è°ƒåˆ¶æ–¹æ³•æ¥è¡¨ç¤ºè¿™ç§ä¿¡ï¼Œå¦‚8ç§ä¸åŒçš„æŒ¯å¹…ï¼Œé¢‘çŽ‡ï¼Œç›¸ä½ç­‰ï¼Œå¦‚æžœé‡‡ç”¨ç›¸ä½è°ƒåˆ¶ï¼Œç›¸ä½$\phi_0$è¡¨ç¤º000ï¼Œ$\phi_1$è¡¨ç¤º001ï¼Œä»¥æ­¤ç±»æŽ¨ï¼Œé‚£ä¹ˆæŽ¥æ”¶ç«¯å¦‚æžœæ”¶åˆ°ç›¸ä½æ˜¯$\phi_0$çš„ä¿¡å·å°±çŸ¥é“è¡¨ç¤ºçš„æ˜¯000ï¼Œä»¥æ­¤ç±»æŽ¨ï¼Œè¿™æ ·ä¸€ä¸ªç å…ƒå°±ä¸çŸ¥ä¸è§‰çš„ä¼ è¾“äº†ä¸‰ä¸ªæ¯”ç‰¹ä½çš„ä¿¡å·ï¼Œæ­¤æ—¶æ¯ä¸ªç å…ƒæœ‰8ç§çŠ¶æ€ã€‚ä¸€ä¸ªç å…ƒå¯è¡¨ç¤ºçš„æ¯”ç‰¹æ•°è¶Šå¤šï¼Œåˆ™åœ¨æŽ¥æ”¶ç«¯è¿›è¡Œè§£è°ƒæ—¶è¦æ­£ç¡®è¯†åˆ«æ¯ä¸€ç§çŠ¶æ€å°±è¶Šå›°éš¾ã€‚ç¼–ç çº§åˆ«å¦‚æžœæŠŠnä¸ªæ¯”ç‰¹ç¼–ç æˆä¸€ä¸ªç å…ƒï¼Œåˆ™æ­¤æ—¶ç¼–ç çŠ¶æ€$M=2^n$ï¼Œå…¶è¡¨ç¤ºå½“å‰ä¼ è¾“æ—¶æœ‰å¤šå°‘ä¸åŒçš„çŠ¶æ€ï¼Œå¦‚8çº§ç¼–ç ï¼Œä¼šæœ‰ï¼š000ã€001ã€010 â€¦å¥ˆæ–¯å‡†åˆ™ç é—´ä¸²æ‰°ç å…ƒçš„ä¼ è¾“é€ŸçŽ‡æ˜¯æœ‰é™åˆ¶çš„ï¼Œè¶…è¿‡æŸä¸Šé™å°±ä¼šå‡ºçŽ°ç é—´ä¸²æ‰°é—®é¢˜ã€‚è¿™æ˜¯ç”±äºŽåœ¨çœŸæ­£ä¼ è¾“ä¸­ï¼Œä¿¡å·åœ¨ä¼ è¾“æ—¶éƒ½ä¸æ˜¯ç†æƒ³åŒ–çš„ï¼Œå¦‚ä¸‹å›¾å°±æ˜¯ç†æƒ³åŒ–çš„é«˜ä½Žç”µå¹³å’ŒçœŸå®žä¼ è¾“æ—¶çš„é«˜ä½Žç”µå¹³ã€‚å‡å¦‚æ­¤æ—¶é€Ÿåº¦å¤ªå¿«ï¼Œå°±å¯èƒ½æŠŠä½Žç”µå¹³å’Œé«˜ç”µå¹³å¼„æ··ã€‚è€Œæœ€é«˜çš„ç å…ƒä¼ è¾“é€ŸçŽ‡è¢«å¥ˆæ–¯å‡†åˆ™é™åˆ¶ã€‚å¥ˆæ–¯å‡†åˆ™å†…å®¹ç†æƒ³ä½Žé€šä¿¡é“ï¼ˆèƒ½é€šè¿‡ä¿¡å·é¢‘çŽ‡åœ¨æŸå€¼ä¹‹ä¸‹ï¼‰çš„æœ€é«˜ç å…ƒä¼ è¾“é€ŸçŽ‡ä¸ºï¼š$2W Baud$ã€‚ç†æƒ³å¸¦é€šä¿¡é“ï¼ˆèƒ½é€šè¿‡ä¿¡å·é¢‘çŽ‡åœ¨æŸèŒƒå›´ä¹‹å†…ï¼‰çš„æœ€é«˜ç å…ƒä¼ è¾“é€ŸçŽ‡ä¸ºï¼š$1W Baud$ã€‚Wæ˜¯ç†æƒ³ä½Žé€šä¿¡é“çš„å¸¦å®½ï¼Œå•ä½ä¸ºèµ«(Hz)ã€‚Baud æ˜¯æ³¢ç‰¹ï¼Œæ˜¯ç å…ƒä¼ è¾“é€ŸçŽ‡çš„å•ä½ï¼Œ1 æ³¢ç‰¹ä¸ºæ¯ç§’ä¼ é€ 1 ä¸ªç å…ƒã€‚æ³¢ç‰¹çŽ‡å•ä½æ—¶é—´å†…æ•°æ®é€šä¿¡ç³»ç»Ÿæ‰€ä¼ è¾“çš„ç å…ƒä¸ªæ•°ï¼ˆä¿¡å·ä¸ªæ•°ï¼‰ï¼Œå•ä½æ˜¯æ³¢ç‰¹ï¼ˆBaudï¼‰ã€‚æ¯”ç‰¹çŽ‡è¡¨ç¤ºå•ä½æ—¶é—´å†…æ•°æ®é€šä¿¡ç³»ç»Ÿä¼ è¾“çš„æ¯”ç‰¹æ•°ï¼Œå•ä½æ˜¯æ¯”ç‰¹/ç§’ï¼ˆb/sæˆ–bpsï¼‰ã€‚$æ¯”ç‰¹çŽ‡ = æ³¢ç‰¹çŽ‡ * log_2M$é¦™å†œå…¬å¼ç¼–ç çº§æ•°é™åˆ¶è™½ç„¶ç å…ƒä¼ è¾“é€ŸçŽ‡æœ‰é™åˆ¶ï¼Œä½†æ˜¯å¦‚æžœæˆ‘ä»¬èƒ½å°½å¯èƒ½æé«˜ç¼–ç çº§æ•°ä¸å°±èƒ½æå‡ä¿¡æ¯ä¼ è¾“é€ŸçŽ‡äº†å—ï¼Ÿä½†äº‹å®žä¸Šä¿¡å·ä¼ è¾“é€ŸçŽ‡ä¸å—é™äºŽè°ƒåˆ¶æŠ€æœ¯ï¼Œè€Œæ˜¯å—é™äºŽä¿¡å™ªæ¯”ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æžœæˆ‘ä»¬æ˜¯åœ¨å¤©æ°”æ™´æœ—çš„ä¸€å¤©å‡ºé—¨ï¼Œæˆ‘ä»¬ç©¿ä»»æ„é¢œè‰²è¡£æœéƒ½èƒ½è¢«åˆ†è¾¨å‡ºæ¥ï¼Œä½†æ˜¯å¦‚æžœæˆ‘ä»¬åœ¨æ²™å°˜æš´å¤©æ°”å‡ºé—¨ï¼Œç©¿æ©˜é»„å’Œæ©™é»„ä¸¤ç§é¢œè‰²çš„è¡£æœåˆ«äººè‡ªç„¶å°±è®¤ä¸å‡ºæ¥äº†ã€‚åœ¨è¿™ä¸ªæ¯”å–»ä¸­è¡£æœçš„é¢œè‰²ä»£è¡¨ç å…ƒï¼Œç¡®å®šè¡£æœçš„é¢œè‰²ä»£è¡¨ä¿¡æ¯ï¼Œæ²™å°˜æš´å°±æ˜¯å™ªå£°ã€‚é¦™å†œå…¬å¼å†…å®¹å¸¦å®½å—é™ä¸”æœ‰é«˜æ–¯ç™½å™ªå£°å¹²æ‰°çš„ä¿¡é“çš„æžé™ä¿¡æ¯ä¼ è¾“é€ŸçŽ‡$C=W \ast log_2(1+PS/PN)ï¼ˆb/sï¼‰â€‹$ã€‚å…¶ä¸­$W$æ˜¯ä¿¡é“çš„å¸¦å®½ã€‚$PS$æ˜¯ä¿¡å·çš„èƒ½é‡ã€‚$PN$æ˜¯å™ªå£°çš„èƒ½é‡ã€‚ä¿¡å™ªæ¯”ï¼š$S/N=10lg{PS/PN}$ã€‚ä¸¾ä¾‹è®¾å¸¦å®½æ˜¯1MHzï¼Œä¿¡å™ªæ¯”æ˜¯24dBï¼Œåˆ™ä¿¡é“çš„æœ€é«˜ä¿¡æ¯ä¼ è¾“é€ŸçŽ‡ä¸ºï¼š$C=1M \ast log_2{(1+(10^{2.4}))}=7.98Mbps$ã€‚å¥ˆæ°å‡†åˆ™vsé¦™å†œå…¬å¼å¤šè·¯å¤ç”¨ç”µè·¯äº¤æ¢ä¸­ç‹¬å ç”µè·¯èµ„æºï¼Œå¹¶ä¸æ˜¯æŒ‡ç”¨æˆ·çº¿å’Œä¸­ç»§çº¿éƒ½è¢«æ­¤æ¬¡äº¤æ¢æ‰€ç‹¬å ï¼Œè€Œæ˜¯è¯´åœ¨ä¸¤ä¸ªç”¨æˆ·å»ºç«‹è¿žæŽ¥ä¹‹åŽï¼Œé™¤éžè¿žæŽ¥ä¸­æ–­ï¼Œå¦åˆ™ä»–ä»¬å½“å‰æ‰€æ‹¥æœ‰çš„èµ„æºä¸ä¼šè¢«é‡Šæ”¾ï¼Œå³ä½¿ä»–ä»¬ä¹‹é—´ä¸ä¼ è¾“ä¿¡æ¯ã€‚è€Œå¦‚ä½•åœ¨ä¸­ç»§çº¿ä¸Šå®žçŽ°å¤šç»„ç”¨æˆ·é€šä¿¡å°±æ˜¯å¤šè·¯å¤ç”¨æŠ€æœ¯ã€‚äº§ç”Ÿå¤šè·¯å¤ç”¨çš„ç‰©ç†åŸºç¡€æ˜¯ï¼šä¼ è¾“åª’ä½“çš„å¸¦å®½æˆ–å®¹é‡å¾€å¾€ä¼šå¤§äºŽä¼ è¾“å•ä¸€ä¿¡å·çš„éœ€æ±‚ï¼Œä½¿ç”¨å¤šè·¯å¤ç”¨ï¼Œä¸ºäº†æœ‰æ•ˆåœ°åˆ©ç”¨é€šä¿¡çº¿è·¯ï¼Œå¸Œæœ›ä¸€ä¸ªä¿¡é“åŒæ—¶ä¼ è¾“å¤šè·¯ä¿¡å·ã€‚è¿™ç§æŠ€æœ¯ä¼šå°†é“¾è·¯/ç½‘ç»œèµ„æºï¼ˆå¦‚å¸¦å®½ï¼‰åˆ’åˆ†ä¸ºâ€œèµ„æºç‰‡â€ï¼Œå°†èµ„æºç‰‡åˆ†é…ç»™å„è·¯â€œå‘¼å«â€ï¼ˆcallsï¼‰ï¼Œæ¯è·¯å‘¼å«ç‹¬å åˆ†é…åˆ°çš„èµ„æºç‰‡è¿›è¡Œé€šä¿¡ï¼Œèµ„æºç‰‡å¯èƒ½â€œé—²ç½®â€å¸¸è§çš„å¤ç”¨æŠ€æœ¯æœ‰ï¼šé¢‘åˆ†å¤šè·¯å¤ç”¨ã€æ—¶åˆ†å¤šè·¯å¤ç”¨ã€æ³¢åˆ†å¤šè·¯å¤ç”¨ã€ç åˆ†å¤šè·¯å¤ç”¨ã€‚é¢‘åˆ†å¤šè·¯å¤ç”¨FMDï¼šFrequency-division multiplexingï¼Œæ˜¯æŒ‡è½½æ³¢å¸¦å®½è¢«åˆ’åˆ†ä¸ºå¤šç§ä¸åŒé¢‘å¸¦çš„å­ä¿¡é“ï¼Œæ¯ä¸ªå­ä¿¡é“å¯ä»¥å¹¶è¡Œä¼ é€ä¸€è·¯ä¿¡å·çš„ä¸€ç§å¤šè·¯å¤ç”¨æŠ€æœ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ä¿¡é“çš„å¯ç”¨é¢‘å¸¦è¢«åˆ†æˆè‹¥å¹²ä¸ªäº’ä¸äº¤å çš„é¢‘æ®µï¼Œæ¯è·¯ä¿¡å·ç”¨å…¶ä¸­ä¸€ä¸ªé¢‘æ®µä¼ è¾“ï¼Œå› è€Œå¯ä»¥ç”¨æ»¤æ³¢å™¨å°†å®ƒä»¬åˆ†åˆ«æ»¤å‡ºæ¥ï¼Œç„¶åŽåˆ†åˆ«è§£è°ƒæŽ¥æ”¶ã€‚æ—¶åˆ†å¤šè·¯å¤ç”¨TDMï¼štime division multiplexingï¼Œå®ƒä½¿ä¸åŒçš„ä¿¡å·åœ¨ä¸åŒçš„æ—¶é—´å†…ä¼ é€ï¼Œå°†æ•´ä¸ªä¼ è¾“æ—¶é—´åˆ†ä¸ºè®¸å¤šæ—¶é—´é—´éš”ï¼ˆTime Slotï¼ŒTSï¼Œåˆç§°ä¸ºæ—¶éš™ï¼‰ï¼Œæ¯ä¸ªæ—¶é—´ç‰‡è¢«ä¸€è·¯ä¿¡å·å ç”¨ã€‚TDMå°±æ˜¯é€šè¿‡åœ¨æ—¶é—´ä¸Šäº¤å‰å‘é€æ¯ä¸€è·¯ä¿¡å·çš„ä¸€éƒ¨åˆ†æ¥å®žçŽ°ä¸€æ¡ç”µè·¯ä¼ é€å¤šè·¯ä¿¡å·çš„ã€‚ç”µè·¯ä¸Šçš„æ¯ä¸€çŸ­æš‚æ—¶åˆ»åªæœ‰ä¸€è·¯ä¿¡å·å­˜åœ¨ã€‚å› æ•°å­—ä¿¡å·æ˜¯æœ‰é™ä¸ªç¦»æ•£å€¼ï¼Œæ‰€ä»¥TDMå¤šåº”ç”¨äºŽæ•°å­—é€šä¿¡ç³»ç»Ÿã€‚æ³¢åˆ†å¤šè·¯å¤ç”¨å°†ä¸¤ç§æˆ–å¤šç§ä¸åŒæ³¢é•¿çš„å…‰è½½æ³¢ä¿¡å·ï¼ˆæºå¸¦å„ç§ä¿¡æ¯ï¼‰åœ¨å‘é€ç«¯ç»å¤ç”¨å™¨ï¼ˆäº¦ç§°åˆæ³¢å™¨ï¼ŒMultiplexerï¼‰æ±‡åˆåœ¨ä¸€èµ·ï¼Œå¹¶è€¦åˆåˆ°å…‰çº¿è·¯çš„åŒä¸€æ ¹å…‰çº¤ä¸­è¿›è¡Œä¼ è¾“çš„æŠ€æœ¯ï¼›åœ¨æŽ¥æ”¶ç«¯ï¼Œç»è§£å¤ç”¨å™¨ï¼ˆäº¦ç§°åˆ†æ³¢å™¨æˆ–ç§°åŽ»å¤ç”¨å™¨ï¼ŒDemultiplexerï¼‰å°†å„ç§æ³¢é•¿çš„å…‰è½½æ³¢åˆ†ç¦»ï¼Œç„¶åŽç”±å…‰æŽ¥æ”¶æœºä½œè¿›ä¸€æ­¥å¤„ç†ä»¥æ¢å¤åŽŸä¿¡å·ã€‚ç åˆ†å¤šè·¯å¤ç”¨ä¸ºæ¯ä¸ªç”¨æˆ·åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„mbitçš„ç ç‰‡åºåˆ—ï¼ˆchipping sequenceï¼‰ï¼ŒäºŒè¿›åˆ¶ä¸‹çš„0ç”¨-1è¡¨ç¤ºï¼ŒäºŒè¿›åˆ¶ä¸‹çš„1ç”¨+1è¡¨ç¤ºã€‚åœ¨ä¿¡é“ä¸Šä¼ è¾“çš„ä¿¡å· = åŽŸå§‹æ•°æ® ç ç‰‡åºåˆ—ï¼Œæ¯”å¦‚ç ç‰‡åºåˆ—æ˜¯ï¼š(-1, 1, 1)ï¼Œéœ€è¦ä¼ ä¸€ä¸ª0ï¼Œåº”è¯¥æ˜¯ -1 (-1, 1, 1)ï¼Œæ‰€ä»¥ä¼ è¾“çš„å°±æ˜¯(1, -1, -1)ã€‚åŒæ—¶ä¸ºäº†ä¿è¯æ•°æ®ä¹‹é—´ä¸ç›¸äº’å½±å“ï¼Œè¢«å…±äº«çš„ç”¨æˆ·æ‰€å æœ‰çš„ç ç‰‡åº”è¯¥ç›¸äº’æ­£äº¤çš„ã€‚å³ï¼š$\frac{1}{m}S_i \cdot S_j = 0 (i \neq j)â€‹$ã€‚è€Œä¿¡é“ä¸ŠçœŸæ­£ä¼ è¾“çš„æ•°æ®æ˜¯å„ç”¨æˆ·å‘é€æ•°æ®çš„å åŠ å€¼ã€‚æ•°å­—ä¿¡å·åœ¨æ¨¡æ‹Ÿä¿¡é“ä¼ è¾“æ•°å­—ä¿¡å·éœ€è¦ç¼–ç åŽæ‰èƒ½ä¼ è¾“ã€‚å¸¸è§çš„ä¸‰ç§ç¼–ç ï¼šNRZç¼–ç ï¼šè¿›åˆ¶æ•°å­—0ã€1åˆ†åˆ«ç”¨ä¸¤ç§ç”µå¹³æ¥è¡¨ç¤ºã€‚å¸¸ç”¨-5Vè¡¨ç¤º1ï¼Œ+5Vè¡¨ç¤º0ã€‚æ›¼åˆ‡æ–¯ç‰¹ç¼–ç ï¼šç”¨ç”µåŽ‹çš„å˜åŒ–è¡¨ç¤º0å’Œ1ï¼šé«˜â†’ä½Ž &lt;=&gt; 0ï¼Œä½Žâ†’é«˜ &lt;=&gt; 1ã€‚å·®åˆ†æ›¼åˆ‡æ–¯ç‰¹ç¼–ç ï¼šåœ¨ç å…ƒå¼€å§‹å¤„æœ‰æ— è·³å˜æ¥è¡¨ç¤º0å’Œ1ï¼šæœ‰ &lt;=&gt; 0ï¼Œæ—  &lt;=&gt; 1ã€‚]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºç½‘ç»œåŸºç¡€]]></title>
    <url>%2F2019%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[æœ¬äººæ˜¯éžé€šä¿¡ä¸“ä¸šå­¦ç”Ÿï¼ŒåŠ ä¸Šæœ¬èº«æ°´å¹³æœ‰é™ï¼Œå¯¹äºŽç‰©ç†å±‚å’Œè®¡ç®—æœºç½‘ç»œåŸºç¡€é”™è¯¯ä¼šè¾ƒå¤šï¼Œæ•¬è¯·æŒ‡å‡ºã€‚ä¿¡é“ä¿¡é“æ˜¯æ•°æ®äº¤æ¢çš„è½½ä½“ã€‚ç‹­ä¹‰ä¸Šè¯´äººå’Œäººä¹‹é—´äº¤æµæ‰€æ‰¿è½½ä¿¡æ¯çš„ç©ºæ°”å°±æ˜¯ä¿¡é“ã€‚å¹¿ä¹‰ä¸Šè¯´å®ƒè¿˜å¯ä»¥åŒ…æ‹¬æœ‰å…³çš„å˜æ¢è£…ç½®ï¼Œè¿™æ ·çš„è¯ä¿¡é“å¾€å¾€è¢«åˆ†æˆä¿¡é“ç¼–ç å™¨ã€ä¿¡é“æœ¬èº«å’Œä¿¡é“è¯‘ç å™¨ã€‚ç®€æ˜“é€šä¿¡ç³»ç»Ÿæ¨¡åž‹å¦‚ä¸‹ï¼šè®¡ç®—æœºç½‘ç»œè®¡ç®—æœºç½‘ç»œå°±æ˜¯äº’è”çš„ã€è‡ªæ²»çš„è®¡ç®—æœºé›†åˆã€‚è‡ªæ²»æŒ‡çš„æ˜¯æ‰€æœ‰çš„è®¡ç®—æœºç›´æŽ¥æ²¡æœ‰ä¸»ä»Žå…³ç³»ï¼›äº’è”æŒ‡çš„æ˜¯äº’è”äº’é€šï¼Œèƒ½è¿›è¡Œæ•°æ®äº¤æ¢ã€‚è®¡ç®—æœºç½‘ç»œçš„æœ¬è´¨æ˜¯ä¸€ç§é€šä¿¡ç½‘ç»œï¼Œåªä¸è¿‡ä¿¡æºå’Œä¿¡å®¿éƒ½æ˜¯ä¸»æœºã€‚å®ƒæ˜¯è®¡ç®—æœºæŠ€æœ¯å’Œé€šä¿¡æŠ€æœ¯çš„ç»“åˆã€‚ä¸»æœºï¼ˆhostï¼‰è¯¸å¦‚æ‰‹æœºã€ç”µè„‘ã€æœåŠ¡å™¨ç­‰ç«¯ç³»ç»Ÿï¼ˆend systemsï¼‰ã€‚äº¤æ¢æœºå¦‚æžœæƒ³å®žçŽ°å¤šä¸ªè®¡ç®—æœºä¹‹é—´çš„äº’è”ï¼ŒæŒ‰ç…§ä¹‹å‰çš„æƒ³æ³•æ˜¯æ¯ä¸¤å°è®¡ç®—æœºè¿›è¡Œè¿žæŽ¥ï¼Œä½†è¿™æ ·å¤ªéº»çƒ¦ï¼Œä¸€ä¸ªå¥½çš„åšæ³•æ˜¯æŠŠè¿™ä¸ªè®¡ç®—æœºè¿žæŽ¥åœ¨æŸä¸€ä¸­å¿ƒä¸Šï¼Œè¿™ä¸ªä¸­å¿ƒæŠŠæ‰€æœ‰è¿žæŽ¥ä¸Šæ¥çš„è®¡ç®—æœºè¿›è¡Œäº’è”ï¼Œåœ¨é“¾è·¯å±‚è¿™ä¸ªä¸­å¿ƒå«åšäº¤æ¢æœºã€‚åˆ†ç»„åˆ†ç»„æ˜¯å¸¦æœ‰åœ°å€ä¿¡æ¯çš„ä¿¡æ¯å°ç‰‡ï¼Œå¯ä»¥ç†è§£æˆæ˜¯è®¡ç®—æœºæŠŠä¸€ä¸ªæ–‡ä»¶åˆ‡ç‰‡åŽæ‰“æˆçš„åŒ…è£¹ï¼Œç”±ä¸¤éƒ¨åˆ†æž„æˆï¼šåœ°å€ä¿¡æ¯å’ŒçœŸæ­£ä¼ è¾“çš„ä¸œè¥¿ã€‚è·¯ç”±å™¨æ˜¯è®¡ç®—æœºç½‘ç»œçš„ä¸€ç§ä¸“ç”¨è®¡ç®—æœºï¼Œå®ƒåªæœ‰ä¸€ä¸ªåŠŸèƒ½ï¼Œå°±æ˜¯è½¬å‘åˆ†ç»„ã€‚å¯ä»¥ç®€å•çš„ç†è§£ä¸ºè·¯ç”±å™¨æ˜¯ç”µå­åŒ–çš„é‚®å±€ï¼Œå…¨å›½æ‰€æœ‰çš„é‚®å±€ä¹‹é—´äº’è”ï¼Œæ˜¯åŒ…è£¹èƒ½å¤Ÿä¼ é€’ï¼Œè·¯ç”±å™¨ä¹‹é—´äº’è”ï¼Œæ˜¯åˆ†ç»„èƒ½å¤Ÿæ­£ç¡®è½¬å‘ã€‚è·¯ç”±å™¨å’Œäº¤æ¢æœºçš„åŒºåˆ«æ˜¯ï¼šäº¤æ¢æœºå°†è®¡ç®—æœºè¿žåœ¨ä¸€èµ·ï¼Œæž„æˆå±€åŸŸç½‘ï¼›è·¯ç”±å™¨å°†å±€åŸŸç½‘è¿žåœ¨ä¸€èµ·ï¼Œå½¢æˆäº’è”ç½‘ã€‚è®¡ç®—æœºç½‘ç»œåŸºæœ¬åŽŸç†åˆ†ç»„äº¤æ¢æŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯æ‹†åˆ†åˆ†ç»„ã€ä¼ è¾“åˆ†ç»„ã€åˆå¹¶åˆ†ç»„çš„æŠ€æœ¯ã€‚è¿™ä¸ªæŠ€æœ¯çš„ä¼˜ç‚¹å°±æ˜¯ä¾¿å®œï¼Œå› ä¸ºæŠŠæ•°æ®æ‰“åŒ…æˆåˆ†ç»„å’Œåˆ†ç»„æ‹†åˆ†éƒ½åœ¨è®¡ç®—æœºä¸­è¿›è¡Œï¼Œç½‘ç»œä¸Šåªè¿›è¡Œåˆ†ç»„çš„è½¬å‘ï¼Œå°±ä½¿å¾—ç½‘ç»œçš„ç»“æž„å¾ˆç®€å•ï¼Œè·¯ç”±å™¨è®¾è®¡ä¹Ÿå¾ˆç®€å•ã€‚è¿™ä¸€ä¸­åŽŸåˆ™è¢«å«åšâ€œç«¯åˆ°ç«¯çš„åŽŸåˆ™â€ï¼Œå³èƒ½åœ¨ç«¯ç³»ç»Ÿåšçš„äº‹æƒ…ä¸åœ¨ç½‘ç»œä¸Šå®žçŽ°ã€‚åˆ†ç»„äº¤æ¢æŠ€æœ¯ä¸€ä¸ªä¸»æœºè‡³å°‘è¿žæŽ¥ä¸€ä¸ªè·¯ç”±å™¨ï¼šæ•°æ®æœ€ç»ˆæ˜¯é€šè¿‡è·¯ç”±å™¨è¿›è¡Œè½¬å‘çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªä¸»æœºè‡³å°‘å¾—è¿žæŽ¥ä¸€ä¸ªè·¯ç”±å™¨ã€‚åˆ†ç»„å­˜å‚¨è½¬å‘ï¼šåˆ†ç»„å®Œå…¨è¿›å…¥è·¯ç”±å™¨åŽï¼Œè·¯ç”±å™¨æŒ‰ç…§åœ°å€ä¿¡æ¯æ£€ç´¢è½¬å‘è¡¨ã€‚æ³¨æ„ä¸æ˜¯ç¬¬ä¸€ä¸ªbitæˆ–Byteè¿›å…¥æ—¶å°±å¼€å§‹è½¬å‘ï¼Œæ˜¯å…¨éƒ¨è¿›å…¥æ‰è½¬å‘ã€‚åˆ†ç»„ç‹¬ç«‹é€‰æ‹©è·¯å¾„ï¼šä¸€ä¸ªæ–‡ä»¶è¢«åˆ†æˆå¤šä¸ªåˆ†ç»„ï¼Œä½†è¿™äº›åˆ†ç»„ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œè·¯ç”±å™¨ç»™ä»–ä»¬çœ‹æˆç›¸äº’ç‹¬ç«‹çš„æ•°æ®ã€‚åˆ†ç»„çš„ç»„è£…æ˜¯é€šè¿‡æŽ¥æ”¶æ–¹è¿›è¡Œçš„ï¼Œå’Œç½‘ç»œæ— å…³ã€‚Internetç»„æˆç»†èŠ‚è§’åº¦ISPç½‘ç»œäº’è”å½¢æˆçš„ç½‘ç»œä¹‹ç½‘ç»œã€‚ç”±è¿è¡Œå„ç§ç½‘è·¯åº”ç”¨çš„è®¡ç®—è®¾å¤‡ï¼Œå…‰çº¤ã€é“œç¼†ã€æ— çº¿ç”µç­‰é€šä¿¡é“¾è·¯ã€è·¯ç”±å™¨å’Œäº¤æ¢æœºç­‰ç»„æˆçš„åˆ†ç»„äº¤æ¢è®¾å¤‡ç»„æˆã€‚æœåŠ¡è§’åº¦æ˜¯ä¸ºç½‘ç»œåº”ç”¨æä¾›é€šä¿¡æœåŠ¡çš„é€šä¿¡åŸºç¡€è®¾æ–½å’Œä¸ºç½‘ç»œåº”ç”¨æä¾›çš„åº”ç”¨ç¼–ç¨‹æŽ¥å£ã€‚ISPISPï¼Œå…¨ç§°ä¸ºInternet Service Providerï¼Œå› ç‰¹ç½‘æœåŠ¡æä¾›å•†ï¼Œå³æŒ‡æä¾›äº’è”ç½‘æœåŠ¡çš„å…¬å¸ã€‚èƒ½æä¾›æ‹¨å·ä¸Šç½‘æœåŠ¡ã€ç½‘ä¸Šæµè§ˆã€ä¸‹è½½æ–‡ä»¶ã€æ”¶å‘ç”µå­é‚®ä»¶ç­‰æœåŠ¡ã€‚ç½‘ç»œçš„ç»“æž„ç½‘ç»œè¾¹ç¼˜ï¼šä½äºŽâ€œç½‘ç»œè¾¹ç¼˜â€è¿è¡Œç½‘ç»œåº”ç”¨ç¨‹åºçš„ç«¯ç³»ç»Ÿã€‚æŽ¥å…¥ç½‘ç»œã€ç‰©ç†ä»‹è´¨ï¼šæœ‰çº¿æˆ–æ— çº¿çš„é€šä¿¡é“¾è·¯ã€‚ç½‘ç»œæ ¸å¿ƒï¼šäº’è”çš„è·¯ç”±å™¨ï¼ˆæˆ–åˆ†ç»„è½¬å‘è®¾å¤‡ï¼‰ã€‚æž„æˆâ€œç½‘ç»œä¹‹ç½‘ç»œâ€çš„å…³é”®ã€‚ç½‘ç»œåº”ç”¨æ¨¡åž‹å®¢æˆ·/æœåŠ¡å™¨åº”ç”¨æ¨¡åž‹ï¼šä¾èµ–äºŽä¸“ç”¨æœåŠ¡å™¨ï¼Œå¦‚Webåº”ç”¨ã€‚å¯¹ç­‰åº”ç”¨æ¨¡åž‹ï¼šä¸ä¾èµ–ä¸“ç”¨æœåŠ¡å™¨ï¼Œé€šä¿¡åœ¨å¯¹ç­‰å®žä½“ä¹‹é—´è¿›è¡Œï¼Œå¦‚P2Påº”ç”¨ã€‚æŽ¥å…¥ç½‘ç»œæŽ¥å…¥ç½‘ç»œæ˜¯ä¸€ç§ç”¨æˆ·ç½‘ç»œï¼Œå®ƒè¿žæŽ¥ç”¨æˆ·åˆ°ç‰¹å®šçš„æœåŠ¡æä¾›å•†å¹¶é€šè¿‡æ‰¿è½½ç½‘ç»œåˆ°è¾¾å…¶ä»–ç½‘ç»œã€‚ä¸¤ä¸ªè¢«ç”¨æˆ·å…³å¿ƒçš„ç‰¹å¾ï¼šå¸¦å®½ï¼ˆæ•°æ®ä¼ è¾“é€ŸçŽ‡ï¼Œbpsï¼‰ã€ç‹¬å /å…±äº«ï¼ˆç‹¬å æ˜¯å¸¦å®½ä¸ºæŸç”¨æˆ·ç‹¬ç”¨ï¼Œå…±äº«æ˜¯å¤šä¸ªç”¨æˆ·åˆ†ç”¨åŒä¸€å¸¦å®½ï¼‰ã€‚æ•°å­—ç”¨æˆ·çº¿è·¯ï¼šDSLæ˜¯ä»¥ç”µè¯çº¿ä¸ºä¼ è¾“ä»‹è´¨çš„ä¼ è¾“æŠ€æœ¯ç»„åˆã€‚DSLæŠ€æœ¯åœ¨ä¼ é€’å…¬ç”¨ç”µè¯ç½‘ç»œçš„ç”¨æˆ·çŽ¯è·¯ä¸Šæ”¯æŒå¯¹ç§°å’Œéžå¯¹ç§°ä¼ è¾“ADSLï¼šä¸Šè¡Œé€Ÿåº¦è¾ƒæ…¢ï¼Œä¸‹è¡Œé€Ÿåº¦è¾ƒå¿«ï¼‰æ¨¡å¼ã€‚ç”¨DSLæŽ¥å…¥Internetæ—¶ç”¨æˆ·ä¸€æ–¹ä¼šæœ‰DSLè°ƒåˆ¶è§£è°ƒå™¨ï¼Œè¢«æŽ¥å…¥æ–¹ä¼šæœ‰DSLæŽ¥å…¥å¤šè·¯å¤ç”¨å™¨ä¸Žå¤šä¸ªç”¨æˆ·è¿›è¡ŒæŽ¥å…¥ã€‚ç”µç¼†ç½‘ç»œåˆè¢«ç§°ä¸ºæ··åˆå…‰çº¤åŒè½´ç”µç¼†ç½‘ç»œã€‚ä¹Ÿæ˜¯ä¸€ç§éžå¯¹ç§°å¼çš„æŽ¥å…¥ç½‘ç»œã€‚ä½†å®ƒæ˜¯å…±äº«ç½‘ç»œï¼Œå¤šä¸ªç”¨æˆ·å…±åŒæŽ¥å…¥ä¸€ä¸ªè§£è°ƒå™¨ã€‚å¸¸è§ç½‘ç»œæŽ¥å…¥å®¶åº­æŽ¥å…¥å®¶åº­æŽ¥å…¥æœºæž„ï¼ˆä¼ä¸šï¼‰æŽ¥å…¥æ— çº¿å±€åŸŸç½‘å¹¿åŸŸå±€åŸŸç½‘ç½‘ç»œæ ¸å¿ƒç½‘ç»œæ ¸å¿ƒçš„åŠŸèƒ½æ˜¯ï¼šè·¯ç”±ï¼ˆroutingï¼‰ï¼šç¡®å®šåˆ†ç»„ä»Žæºåˆ°ç›®çš„ä¼ è¾“è·¯å¾„ï¼›è½¬å‘ï¼ˆforwardingï¼‰ï¼šå°†åˆ†ç»„ä»Žè·¯ç”±å™¨çš„è¾“å…¥ç«¯å£äº¤æ¢è‡³æ­£ç¡®çš„è¾“å‡ºç«¯å£ã€‚Internetç»“æž„ä¸€çº§ISPåŒ…å«ï¼šç½‘é€šã€ç”µä¿¡ç­‰å•†ä¸šISPï¼Œè¿˜åŒ…å«è°·æ­Œã€å¾®è½¯ç­‰å†…å®¹æä¾›å•†ç½‘ç»œã€‚IXPï¼šå…¨ç§°ï¼šInternet eXchange Pointï¼Œå³äº’è”ç½‘äº¤æ¢ä¸­å¿ƒã€‚äº’è”ç½‘Internetæ˜¯ç”±ä¼—å¤šçš„ç½‘ç»œäº’ç›¸è¿žæŽ¥è€Œå½¢æˆçš„å…¨çƒæ€§ç½‘ç»œï¼Œäº’è”ç½‘äº¤æ¢ä¸­å¿ƒè´Ÿè´£è¿™äº›ä¸åŒçš„ç½‘ç»œä¹‹é—´äº’ç›¸é€šä¿¡çš„äº¤æ¢ç‚¹ï¼Œæ˜¯äº’è”ç½‘çš„å…³é”®åŸºç¡€è®¾æ–½ã€‚æ•°æ®äº¤æ¢æ–¹å¼ç”µè·¯äº¤æ¢åŒ…å«ä¸‰ä¸ªé˜¶æ®µï¼šå»ºç«‹è¿žæŽ¥ã€é€šä¿¡ã€é‡Šæ”¾è¿žæŽ¥ã€‚æœ€æ˜¾è‘—çš„ç‰¹ç‚¹æ˜¯ç‹¬å ç”µè·¯èµ„æºã€‚æœ€å…¸åž‹çš„æ˜¯ç”µè¯ç½‘ç»œã€‚ï¼ˆä¸‹å›¾çš„ä¸­ç»§çº¿ä¸Šå¯ä»¥å­˜åœ¨å¤šç»„ç”¨æˆ·é€šä¿¡ï¼Œè¯¦è§å¤ç”¨æŠ€æœ¯ï¼‰æŠ¥æ–‡äº¤æ¢æŠ¥æ–‡äº¤æ¢æ˜¯æŒ‡æŠŠä¿¡æ¯æ•´ä¸ªæ‰“åŒ…ï¼Œç„¶åŽç»è¿‡å­˜å‚¨è½¬å‘é€åˆ°ç›®çš„åœ°ã€‚åˆ†ç»„äº¤æ¢åˆ†ç»„äº¤æ¢æ˜¯æŠŠä¿¡æ¯æ‹†åˆ†æˆä¸åŒçš„åˆ†ç»„ï¼Œç„¶åŽæŠŠæ‰€æœ‰çš„åˆ†ç»„ç›¸ç»§å‘é€ç»™è·¯ç”±å™¨ï¼Œè·¯ç”±å™¨é€šè¿‡è·¯ç”±&amp;è½¬å‘æŠŠæ•°æ®ä¼ è¾“åˆ°ç›®çš„åœ°ã€‚å’ŒæŠ¥æ–‡äº¤æ¢çš„åŒºåˆ«æ˜¯ï¼šæŠ¥æ–‡äº¤æ¢ä¸æ‹†åˆ†ä¿¡æ¯ã€‚å’Œç”µè·¯äº¤æ¢çš„åŒºåˆ«æ˜¯ï¼šå¦‚æžœæŠŠæ¯ä¸ªåˆ†ç»„çœ‹æˆåŽŸå­å•ä½ï¼ŒåŒºåˆ«å°±æ˜¯å„åˆ†ç»„èµ°ä¸åŒçš„è·¯å¾„ï¼Œä¸éœ€è¦ç‹¬å èµ„æºã€‚å›¾è§£ä¸‰ç§äº¤æ¢åˆ†ç»„äº¤æ¢çš„ä¼˜åŠ¿å’ŒæŠ¥æ–‡äº¤æ¢ç›¸æ¯”ï¼šé€Ÿåº¦å¿«ï¼Œå› ä¸ºåœ¨æŠ¥æ–‡äº¤æ¢æ—¶ï¼ŒåŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªè·¯ç”±å™¨åœ¨å·¥ä½œï¼Œå…¶ä»–è·¯ç”±å™¨åœ¨ç­‰å¾…ã€‚è·¯ç”±å™¨çš„å­˜å‚¨ç©ºé—´å°ï¼Œæœ€ä½Žå­˜å‚¨ç©ºé—´å’Œåˆ†ç»„å¤§å°å·®ä¸å¤šã€‚å’Œç”µè·¯äº¤æ¢ç›¸æ¯”ï¼šåˆ†ç»„äº¤æ¢å…è®¸æ›´å¤šç”¨æˆ·åŒæ—¶ä½¿ç”¨ç½‘ç»œï¼Œè®©ç½‘ç»œèµ„æºå……åˆ†å…±äº«ã€‚åˆ†ç»„äº¤æ¢çš„åŠ£åŠ¿å¯èƒ½äº§ç”Ÿæ‹¥å¡žï¼ˆcongestionï¼‰ï¼šåˆ†ç»„å»¶è¿Ÿå’Œä¸¢å¤±ã€‚éœ€è¦åè®®å¤„ç†å¯é æ•°æ®ä¼ è¾“å’Œæ‹¥å¡žæŽ§åˆ¶ã€‚RFCæ–‡æ¡£Request For Commentsï¼ˆRFCï¼‰ï¼Œæ˜¯ä¸€ç³»åˆ—ä»¥ç¼–å·æŽ’å®šçš„æ–‡ä»¶ã€‚æ–‡ä»¶æ”¶é›†äº†æœ‰å…³äº’è”ç½‘ç›¸å…³ä¿¡æ¯ï¼Œä»¥åŠUNIXå’Œäº’è”ç½‘ç¤¾åŒºçš„è½¯ä»¶æ–‡ä»¶ã€‚ç›®å‰RFCæ–‡ä»¶æ˜¯ç”±Internet Societyï¼ˆISOCï¼‰èµžåŠ©å‘è¡Œã€‚åŸºæœ¬çš„äº’è”ç½‘é€šä¿¡åè®®éƒ½æœ‰åœ¨RFCæ–‡ä»¶å†…è¯¦ç»†è¯´æ˜Žã€‚RFCæ–‡ä»¶è¿˜é¢å¤–åŠ å…¥è®¸å¤šçš„è®ºé¢˜åœ¨æ ‡å‡†å†…ï¼Œä¾‹å¦‚å¯¹äºŽäº’è”ç½‘æ–°å¼€å‘çš„åè®®åŠå‘å±•ä¸­æ‰€æœ‰çš„è®°å½•ã€‚å› æ­¤å‡ ä¹Žæ‰€æœ‰çš„äº’è”ç½‘æ ‡å‡†éƒ½æœ‰æ”¶å½•åœ¨RFCæ–‡ä»¶ä¹‹ä¸­ã€‚IETFå…¨ç§°ï¼šThe Internet Engineering Task Forceï¼Œå›½é™…äº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„ã€‚å…¨çƒäº’è”ç½‘æœ€å…·æƒå¨çš„æŠ€æœ¯æ ‡å‡†åŒ–ç»„ç»‡ï¼Œä¸»è¦ä»»åŠ¡æ˜¯è´Ÿè´£äº’è”ç½‘ç›¸å…³æŠ€æœ¯è§„èŒƒçš„ç ”å‘å’Œåˆ¶å®šï¼Œæ˜¯ä¸€ä¸ªç”±ä¸ºäº’è”ç½‘æŠ€æœ¯å·¥ç¨‹åŠå‘å±•åšå‡ºè´¡çŒ®çš„ä¸“å®¶è‡ªå‘å‚ä¸Žå’Œç®¡ç†çš„å›½é™…æ°‘é—´æœºæž„ã€‚ä¸»è¦ä»»åŠ¡æ˜¯è´Ÿè´£äº’è”ç½‘ç›¸å…³æŠ€æœ¯æ ‡å‡†çš„ç ”å‘å’Œåˆ¶å®šï¼Œæ˜¯å›½é™…äº’è”ç½‘ä¸šç•Œå…·æœ‰ä¸€å®šæƒå¨çš„ç½‘ç»œç›¸å…³æŠ€æœ¯ç ”ç©¶å›¢ä½“ã€‚ç»å¤§å¤šæ•°å›½é™…äº’è”ç½‘æŠ€æœ¯æ ‡å‡†å‡ºè‡ªIETFã€‚æ—¶å»¶å’Œç½‘ç»œåˆ©ç”¨çŽ‡è‹¥ä»¤D0è¡¨ç¤ºç½‘ç»œç©ºé—²æ—¶çš„æ—¶å»¶ï¼ŒDè¡¨ç¤ºç½‘ç»œå½“å‰çš„æ—¶å»¶ï¼Œåˆ™åœ¨é€‚å½“çš„å‡å®šæ¡ä»¶ä¸‹ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ç®€å•å…¬å¼è¡¨ç¤ºDå’ŒD0ä¹‹é—´çš„å…³ç³»ï¼š$D=\frac{D_0}{1-U}$ã€‚ç½‘ç»œåè®®network protocolã€‚ä¸ºè¿›è¡Œç½‘ç»œä¸­çš„æ•°æ®äº¤æ¢è€Œå»ºç«‹çš„è§„åˆ™ã€æ ‡å‡†æˆ–çº¦å®šã€‚å…¶ä¸­è§„å®šäº†é€šä¿¡å®žä½“ä¹‹é—´æ‰€äº¤æ¢çš„æ¶ˆæ¯çš„æ ¼å¼ã€æ„ä¹‰ã€é¡ºåºä»¥åŠé’ˆå¯¹æ”¶åˆ°çš„æ¶ˆæ¯æˆ–å‘ç”Ÿçš„äº‹ä»¶è€Œäº§ç”Ÿçš„åŠ¨ä½œã€‚ä¹Ÿå¯ä»¥è¯´ç½‘ç»œåè®®è§„å®šäº†ç½‘ç»œä¸­æ‰€æœ‰ä¿¡æ¯çš„å‘é€å’ŒæŽ¥å—è¿‡ç¨‹ã€‚åè®®ä¸‰è¦ç´ è¯­ä¹‰ï¼šè¯­ä¹‰æ˜¯è§£é‡ŠæŽ§åˆ¶ä¿¡æ¯æ¯ä¸ªéƒ¨åˆ†çš„æ„ä¹‰ã€‚å®ƒè§„å®šäº†éœ€è¦å‘å‡ºä½•ç§æŽ§åˆ¶ä¿¡æ¯ï¼Œä»¥åŠå®Œæˆçš„åŠ¨ä½œä¸Žåšå‡ºä»€ä¹ˆæ ·çš„å“åº”ã€‚è¯­æ³•ï¼šè¯­æ³•æ˜¯ç”¨æˆ·æ•°æ®ä¸ŽæŽ§åˆ¶ä¿¡æ¯çš„ç»“æž„ä¸Žæ ¼å¼ï¼Œä»¥åŠæ•°æ®å‡ºçŽ°çš„é¡ºåºã€‚æ—¶åºï¼šæ—¶åºæ˜¯å¯¹äº‹ä»¶å‘ç”Ÿé¡ºåºçš„è¯¦ç»†è¯´æ˜Žã€‚ï¼ˆä¹Ÿå¯ç§°ä¸ºâ€œåŒæ­¥â€ï¼‰ã€‚æ€»ç»“ï¼šè¯­ä¹‰è¡¨ç¤ºè¦åšä»€ä¹ˆï¼Œè¯­æ³•è¡¨ç¤ºè¦æ€Žä¹ˆåšï¼Œæ—¶åºè¡¨ç¤ºåšçš„é¡ºåºã€‚é€ŸçŽ‡ &amp; å¸¦å®½é€ŸçŽ‡ï¼šåˆç§°æ•°æ®çŽ‡ï¼Œæ•°æ®ä¼ è¾“é€ŸçŽ‡æˆ–æ¯”ç‰¹çŽ‡ã€‚å•ä½bpsã€kbpsã€Mbpsã€Gbpsã€‚å¸¦å®½ï¼šæ•°å­—ä¿¡é“æ‰€èƒ½ä¼ è¾“çš„æœ€å¤§æ•°æ®çŽ‡ã€‚å•ä½bpsç­‰ã€‚ä¸¢åŒ…å¦‚æžœè·¯ç”±å™¨çš„ç¼“å­˜æ»¡äº†ï¼Œå†åˆ°è¾¾çš„åˆ†ç»„ä¼šè¢«è·¯ç”±å™¨ä¸¢å¼ƒï¼Œå³é€ æˆä¸¢åŒ…çŽ°è±¡ã€‚ä¸¢åŒ…çŽ‡ = ä¸¢åŒ…æ•° / å·²å‘åˆ†ç»„æ•°ã€‚åˆ†ç»„å»¶è¿Ÿç»“ç‚¹å¤„ç†å»¶è¿Ÿï¼šå·®é”™æ£€æµ‹ã€ç¡®å®šè¾“å‡ºé“¾è·¯ï¼›æŽ’é˜Ÿå»¶è¿Ÿï¼šç­‰å¾…è¾“å‡ºé“¾è·¯å¯ç”¨ã€å–å†³äºŽè·¯ç”±å™¨æ‹¥å¡žç¨‹åº¦ï¼›ä¼ è¾“å»¶è¿Ÿï¼šåˆ†ç»„é•¿åº¦/é“¾è·¯å¸¦å®½ï¼›ä¼ æ’­å»¶è¿Ÿï¼šç‰©ç†é“¾è·¯é•¿åº¦/ä¿¡å·ä¼ è¾“é€Ÿåº¦ã€‚æµé‡å¼ºåº¦è®¾é“¾è·¯å¸¦å®½ä¸ºR(bps)ï¼Œåˆ†ç»„é•¿åº¦ä¸ºL(bits)ï¼Œå¹³å‡æ¯ç»„åˆ°è¾¾é€ŸçŽ‡ä¸ºvã€‚åˆ™ï¼š$L \ast v / R \longrightarrow 0 â€‹$æ—¶ï¼šå¹³å‡æŽ’é˜Ÿå»¶è¿Ÿå¾ˆå°ï¼›$L \ast v / R \longrightarrow 1$æ—¶ï¼šå¹³å‡æŽ’é˜Ÿå»¶è¿Ÿå¾ˆå¤§ï¼›$L \ast v / R &gt; 1â€‹$æ—¶ï¼šè¶…å‡ºæœåŠ¡èƒ½åŠ›ï¼Œå»¶è¿Ÿ è¶‹å‘äºŽ æ— é™å¤§ã€‚æ—¶å»¶å¸¦å®½ç§¯$æ—¶å»¶å¸¦å®½ç§¯ = ä¼ æ’­æ—¶å»¶ \ast å¸¦å®½$ï¼Œå•ä½ï¼šbitã€‚å®žé™…æ„ä¹‰æ˜¯ï¼šä»Žæˆ‘ä»¬å‘æŸä¸€ä¿¡é“ä¸Šå‘é€ç¬¬ä¸€ä¸ªbitï¼Œåˆ°è¿™ä¸ªbitè¢«æŽ¥æ”¶æ–¹æŽ¥å—è¿™ä¸ªæ—¶é—´é‡Œï¼Œå‘é€æ–¹æ€»å…±å‘ä¿¡é“ä¸Šå‘é€äº†å¤šå°‘bitã€‚ä¹Ÿå¯ä»¥ç§°ä¸ºä»¥æ¯”ç‰¹ä¸ºå•ä½çš„é“¾è·¯é•¿åº¦ï¼Œæ¯”å¦‚æŸæ®µé“¾è·¯é•¿åº¦ä¸ºnæ¯”ç‰¹ã€‚åžåçŽ‡/é‡ï¼ˆThroughputï¼‰å‘é€ç«¯ä¸ŽæŽ¥æ”¶ç«¯ä¹‹é—´çš„ä¼ é€æ•°æ®çŽ‡ï¼ˆb/sï¼‰ã€‚ç«¯åˆ°ç«¯çš„åžåé‡å–å†³äºŽç“¶é¢ˆé“¾è·¯ã€‚ç½‘ç»œä½“ç³»ç»“æž„æŒ‡é€šä¿¡ç³»ç»Ÿçš„æ•´ä½“è®¾è®¡ï¼Œå®ƒä¸ºç½‘ç»œç¡¬ä»¶ã€è½¯ä»¶ã€åè®®ã€å­˜å–æŽ§åˆ¶å’Œæ‹“æ‰‘æä¾›æ ‡å‡†ã€‚è®¡ç®—æœºç½‘ç»œæ˜¯ä¸€ä¸ªéžå¸¸å¤æ‚çš„ç³»ç»Ÿï¼Œéœ€è¦è§£å†³çš„é—®é¢˜å¾ˆå¤šå¹¶ä¸”æ€§è´¨å„ä¸ç›¸åŒã€‚æ‰€ä»¥ï¼Œåœ¨è®¾è®¡æ—¶ï¼Œå°±ä½¿ç”¨äº†â€œåˆ†å±‚â€çš„æ€æƒ³ï¼Œå³å°†åºžå¤§è€Œå¤æ‚çš„é—®é¢˜åˆ†ä¸ºè‹¥å¹²è¾ƒå°çš„æ˜“äºŽå¤„ç†çš„å±€éƒ¨é—®é¢˜ã€‚å„å±‚ä¹‹é—´æ˜¯æŒ‰ç…§åŠŸèƒ½è¿›è¡Œåˆ†å±‚çš„ï¼ŒåŒæ—¶æ¯å±‚éµå¾ªç›¸åº”çš„ç½‘ç»œåè®®å®Œæˆæœ¬å±‚åŠŸèƒ½ã€‚OSIå‚è€ƒæ¨¡åž‹çš„é€šä¿¡è¿‡ç¨‹ä¸ƒå±‚ç»“æž„ï¼šç‰©ç†å±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç½‘ç»œå±‚ã€ä¼ è¾“å±‚ã€å¯¹è¯å±‚ã€è¡¨ç¤ºå±‚å’Œåº”ç”¨å±‚ã€‚ç«¯ç³»ç»Ÿéœ€è¦å®Œæˆä¸ƒå±‚çš„åŠŸèƒ½ï¼Œä¸­é—´ç³»ç»Ÿå®Œæˆä¸‰å±‚åŠŸèƒ½ã€‚åè®®ä¹‹é—´æ˜¯å¯¹ç­‰çš„ï¼Œæ¯”å¦‚åº”ç”¨å±‚çš„åè®®å¯¹å‘é€æ–¹æ¥è¯´æ˜¯å¦‚ä½•æŠŠä¿¡æ¯ä¼ è¾“åˆ°è¡¨ç¤ºå±‚ï¼Œè€Œå¯¹æŽ¥æ”¶æ–¹æ¥è¯´ï¼Œæ˜¯å¦‚ä½•æŠŠä»Žè¡¨ç¤ºå±‚ä¼ æ¥çš„ä¿¡æ¯è¿˜åŽŸåˆ°åº”ç”¨å±‚ã€‚å¯¹äºŽåŽå››å±‚ï¼Œä»Žé€»è¾‘ä¸Šè¯´ä¸éœ€è¦ç»è¿‡ä¸­é—´ç³»ç»Ÿï¼Œæ‰€ä»¥è¢«ç§°ä¸ºâ€œç«¯-ç«¯å±‚â€ã€‚OSIå‚è€ƒæ¨¡åž‹çš„æ•°æ®å°è£…åŽå…­å±‚æ¯å±‚åœ¨æŠŠæ•°æ®å‘ä¸‹ä¸€å±‚ä¼ è¾“æ—¶éƒ½ä¼šåŠ ä¸ŠæŽ§åˆ¶ä¿¡æ¯ã€‚è€Œç‰©ç†å±‚ä¸å†å°è£…ï¼Œå› ä¸ºåˆ°è¾¾å®ƒçš„æ•°æ®å·²ç»æ—¶äºŒè¿›åˆ¶æ•°æ®ï¼Œç›´æŽ¥ä¼ è¾“å°±è¡Œã€‚æ•°æ®é“¾è·¯å±‚ä¼ é€ç»™ç‰©ç†å±‚æ—¶ä¸€èˆ¬åŠ å¤´åŠ å°¾ï¼Œå…¶ä»–å±‚åªåŠ å¤´ã€‚å¤´æ˜¯é¦–éƒ¨ï¼Œå°¾æ˜¯å¾ªçŽ¯å†—ä½™æ ¡éªŒã€‚PDUåè®®æ•°æ®å•å…ƒã€‚å¯èƒ½åŒ…æ‹¬åœ°å€ï¼šæ ‡è¯†å‘é€ç«¯/æŽ¥æ”¶ç«¯ç­‰ï¼›å·®é”™æ£€æµ‹ç¼–ç ï¼šç”¨äºŽå·®é”™æ£€æµ‹æˆ–çº æ­£ï¼›åè®®æŽ§åˆ¶ï¼šä¸€äº›å¦‚ä¼˜å…ˆçº§ã€æœåŠ¡è´¨é‡ã€å®‰å…¨æŽ§åˆ¶ç­‰ä¿¡æ¯ã€‚TCP/IPå‚è€ƒæ¨¡åž‹å››å±‚ç»“æž„ï¼šåº”ç”¨å±‚ã€è¿è¾“å±‚ã€ç½‘é™…å±‚å’Œç½‘ç»œæŽ¥å£å±‚ã€‚æ‰€æœ‰çš„åº”ç”¨éƒ½æž¶æž„åœ¨IPä¸Šï¼Œåœ¨ç½‘ç»œæŽ¥å£å±‚åªè¦èƒ½æž„å»ºIPï¼Œèƒ½è¿›è¡Œåˆ†ç»„å°±å¯ä»¥ç®—æ˜¯ç½‘ç»œçš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ˜¯äº’è”ç½‘å‘å±•è¿…é€Ÿçš„ä¸€å¤§åŽŸå› ã€‚äº”å±‚å‚è€ƒæ¨¡åž‹äº”å±‚ç»“æž„ï¼šç‰©ç†å±‚ã€é“¾è·¯å±‚ã€ç½‘ç»œå±‚ã€ä¼ è¾“å±‚å’Œåº”ç”¨å±‚ã€‚æ­¤æ¨¡åž‹ç»“åˆäº†OSIæ¦‚å¿µæ¸…æ™°ï¼Œåˆ†å·¥æ˜Žç¡®çš„ä¼˜ç‚¹å’ŒTCP/IPç®€å•å®žç”¨çš„ä¼˜ç‚¹ã€‚äº”å±‚ä¼ è¾“æ¨¡åž‹çš„æ•°æ®å°è£…ä¸‰ç§æ¨¡åž‹å¯¹åº”ç‰©ç†å±‚å®žçŽ°çš„åŠŸèƒ½æ¦‚è¿°æ ¸å¿ƒåŠŸèƒ½ï¼šé€æ˜Žåœ°ä¼ é€æ¯”ç‰¹æµã€‚è§£å†³çš„é—®é¢˜ä¸€èˆ¬å¦‚ä¸‹ï¼šæŽ¥å£ç‰¹æ€§ï¼šæœºæ¢°ç‰¹æ€§ï¼šæŽ¥å£çš„å‡ ä½•å½¢çŠ¶ï¼Œä½ç½®ç­‰ç­‰ï¼›ç”µæ°”ç‰¹æ€§ï¼šä½¿ç”¨ç”µåŽ‹çš„é«˜ä½Žç­‰ç­‰ï¼›åŠŸèƒ½ç‰¹æ€§ï¼šå„ä¸ªå¼•è„šçš„ä½œç”¨ç­‰ç­‰ï¼›è§„ç¨‹ç‰¹æ€§ï¼šå·¥ä½œçš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œå¦‚å“ªä¸ªå¼•è„šå…ˆå‘é€æ•°æ®ï¼Œå“ªä¸ªåŽå‘é€ç­‰ã€‚æ¯”ç‰¹ç¼–ç ï¼šç”¨ä¿¡å·çš„ä»€ä¹ˆç‰¹å¾è¡¨ç¤ºä¿¡æ¯ï¼Œå¦‚ä»€ä¹ˆæ—¶å€™ç”¨0ï¼Œä»€ä¹ˆæ—¶å€™ç”¨1ã€‚æ•°æ®çŽ‡ï¼šåœ¨ç‰©ç†å±‚ä¸Šä¼ è¾“æ•°æ®çš„é€ŸçŽ‡ã€‚æ¯”ç‰¹åŒæ­¥ï¼šè§£å†³æ—¶é’ŸåŒæ­¥é—®é¢˜ï¼Œå‘é€ç«¯ä½•æ—¶å‘é€æ•°æ®ï¼ŒæŽ¥æ”¶ç«¯ä½•æ—¶æŽ¥å—æ•°æ®ã€‚ä¼ è¾“æ¨¡å¼ï¼šå•å·¥é€šä¿¡ï¼šä¸€ä¸ªä¸ºç¡®å®šçš„å‘é€ç«¯ã€ä¸€ä¸ªä¸ºç¡®å®šçš„æŽ¥æ”¶ç«¯ï¼Œä¸èƒ½äº’æ¢ã€‚åŠåŒå·¥ï¼šå‘é€ç«¯å’ŒæŽ¥æ”¶ç«¯å¯ä»¥äº’æ¢ï¼Œä½†æ˜¯éšæ—¶é—´äº¤æ›¿çš„ã€‚åŒå·¥ï¼šä¸¤ç«¯å¯ä»¥åŒæ—¶å‘é€å’ŒæŽ¥å—æ•°æ®ã€‚æ•°æ®é“¾è·¯å±‚åŠŸèƒ½æ¦‚è¿°æ ¸å¿ƒåŠŸèƒ½ï¼šåœ¨ä¸¤ä¸ªç›¸é‚»ç»“ç‚¹ä¹‹é—´çš„é“¾è·¯ä¸Šâ€œé€æ˜Žâ€åœ°ä¼ é€æ•°æ®ã€‚è§£å†³çš„é—®é¢˜å¦‚ä¸‹ï¼šç»„å¸§ï¼šæ¥è‡ªç½‘ç»œå±‚çš„æ•°æ®è¢«åŠ å¤´åŠ å°¾åŽå½¢æˆçš„æ•°æ®å«åšå¸§ã€‚ç»„å¸§é—®é¢˜åŒ…å«ï¼šå¤´å’Œå°¾é‡ŒåŒ…å«ä»€ä¹ˆä¿¡æ¯ç­‰ã€‚ç‰©ç†å¯»å€ï¼šç‰©ç†å±‚åªè¿›è¡Œæ¯”ç‰¹æµçš„ä¼ è¾“ï¼Œå…¶ä»–çš„éƒ½ä¸åšã€‚ç‰©ç†å¯»å€æ˜¯åœ¨æ•°æ®é“¾è·¯å±‚åšçš„ï¼Œä¹Ÿå°±æ˜¯æ•°æ®é“¾è·¯å±‚ä¼ è¾“å±‚ç»™ç‰©ç†å±‚çš„æ•°æ®åŒ…å«å¤„ç†å¥½çš„åœ°å€ã€‚æµé‡æŽ§åˆ¶ï¼šä½¿æ•°æ®çš„å‘é€å’Œæ•°æ®çš„æŽ¥æ”¶å°½å¯èƒ½å¹³è¡¡ï¼Œé˜²æ­¢æ•°æ®å¤ªå¤šé€ æˆä¸¢å¤±ç­‰ã€‚å·®é”™å¤„ç†ï¼šæ£€æµ‹å¹¶é‡ä¼ æŸåæˆ–ä¸¢å¤±å¸§ï¼Œå¹¶é¿å…é‡å¤å¸§ã€‚è®¿é—®ï¼ˆæŽ¥å…¥ï¼‰æŽ§åˆ¶ï¼šåœ¨ä»»ä¸€æ—¶åˆ»è§‰å¾—å“ªä¸ªè®¾å¤‡æ‹¥æœ‰é“¾è·¯ä½¿ç”¨æƒã€‚ç½‘ç»œå±‚åŠŸèƒ½æ¦‚è¿°æ ¸å¿ƒåŠŸèƒ½ï¼šè´Ÿè´£ä¸ºåˆ†ç»„äº¤æ¢ç½‘ä¸Šçš„ä¸åŒä¸»æœºæä¾›é€šä¿¡æœåŠ¡ã€‚é€‰æ‹©åˆé€‚çš„è·¯ç”±ï¼Œæ˜¯æºä¸»æœºè¿è¾“å±‚æ‰€ä¼ ä¸‹æ¥çš„åˆ†ç»„ï¼Œèƒ½å¤Ÿé€šè¿‡ç½‘ç»œä¸­çš„è·¯ç”±å™¨æ‰¾åˆ°ç›®çš„ä¸»æœºã€‚è§£å†³çš„é—®é¢˜ï¼šé€»è¾‘å¯»å€ï¼šå…¨å±€å”¯ä¸€é€»è¾‘åœ°å€ï¼Œç¡®ä¿æ•°æ®åˆ†ç»„è¢«é€è¾¾çš„ä¸»æœºï¼Œå¦‚IPåœ°å€ã€‚è·¯ç”±å’Œåˆ†ç»„è½¬å‘ï¼šç¡®ä¿åœ¨ç½‘ç»œä¸­æ•°æ®èƒ½ä»Žæºä¸»æœºåˆ°ç›®çš„ä¸»æœºä¼ è¾“å±‚åŠŸèƒ½æ ¸å¿ƒåŠŸèƒ½ï¼šè´Ÿè´£å‘ä¸¤ä¸ªä¸»æœºä¸­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æä¾›æœåŠ¡ã€‚è§£å†³çš„é—®é¢˜ï¼šåˆ†æ®µä¸Žé‡ç»„ï¼šç½‘ç»œå±‚ä¼ è¾“çš„åˆ†ç»„å¤§å°æ˜¯æœ‰é™åˆ¶çš„ã€‚åº”ç”¨å±‚çš„SAPå¯»å€ï¼šç¡®ä¿å°†å®Œæ•´æŠ¥æ–‡æäº¤ç»™æ­£ç¡®è¿›ç¨‹ï¼Œå¦‚ç«¯å£å·SAPï¼šService Access Pointï¼Œåœ¨åŒä¸€ç³»ç»Ÿä¸­ç›¸é‚»ä¸¤å±‚çš„å®žä½“è¿›è¡Œäº¤äº’çš„åœ°æ–¹ã€‚è¿žæŽ¥æŽ§åˆ¶ï¼šæœ‰ä¸¤ç§åè®®ï¼Œé¢å‘è¿žæŽ¥çš„TCPå’Œæ— è¿žæŽ¥çš„UDPã€‚æµé‡æŽ§åˆ¶ï¼šåŒ¹é…å‘é€æ–¹å’ŒæŽ¥æ”¶æ–¹çš„é€Ÿåº¦ã€‚å·®é”™æŽ§åˆ¶ï¼šå¦‚å‘é€çš„æŠ¥æ–‡æŽ¥æ”¶æ–¹æ²¡æœ‰æŽ¥å—åˆ°æˆ–è€…æŽ¥æ”¶æ–¹ç¼“å†²åŒºç”±äºŽæ»¡æŠŠæŠ¥æ–‡ä¸¢å¼ƒè¯¥æ€Žä¹ˆå¤„ç†ã€‚åº”ç”¨å±‚æ ¸å¿ƒåŠŸèƒ½ï¼šç›´æŽ¥ä¸ºç”¨æˆ·çš„åº”ç”¨è¿›ç¨‹æä¾›æœåŠ¡ã€‚]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[10-ç´¢å¼•]]></title>
    <url>%2F2019%2F10-%E7%B4%A2%E5%BC%95%2F</url>
    <content type="text"><![CDATA[ç´¢å¼•åŸºç¡€ä½¿ç”¨ç´¢å¼•æ˜¯å› ä¸ºç´¢å¼•æ˜¯æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–æœ€æœ‰æ•ˆçš„æ‰‹æ®µã€‚Mysqlä¸­çš„ç´¢å¼•åˆ†ä¸ºä¸¤ç§ï¼šB+æ ‘å’ŒHashè¡¨ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨è¿™é‡Œåªä»‹ç»åŸºäºŽB+æ ‘çš„ç´¢å¼•ã€‚INNODBå¼•æ“Žä¹Ÿåªæ”¯æŒB+æ ‘ç´¢å¼•ã€‚Mysqlçš„ç´¢å¼•æ˜¯åœ¨å­˜å‚¨å¼•æ“Žçº§åˆ«è®¾ç½®çš„ã€‚ç´¢å¼•åŒ¹é…åŽŸåˆ™å‡å¦‚æœ‰å¦‚ä¸‹è¡¨ï¼š1234567CREATE TABLE People( last_name varchar(50) not null, first_name varchar(50) not null, dob date not null, gender enum('m', 'f') not null, key(last_name, first_name, dob));å¯¹åº”çš„B+æ ‘å¦‚ä¸‹ï¼šå»ºç«‹çš„ç´¢å¼•å¯¹å¦‚ä¸‹ç±»åž‹çš„æŸ¥è¯¢æœ‰æ•ˆï¼šå…¨å€¼åŒ¹é…å’Œç´¢å¼•ä¸­å®šä¹‰çš„æ‰€æœ‰åˆ—è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æŸ¥æ‰¾å§“åä¸ºCuba Allenï¼Œå‡ºç”ŸäºŽ1996-01-01çš„äººã€‚åŒ¹é…æœ€å·¦å‰ç¼€å‰é¢æåˆ°çš„ç´¢å¼•å¯ç”¨äºŽæŸ¥æ‰¾æ‰€æœ‰å§“ä¸ºAllençš„äººï¼Œå³åªä½¿ç”¨ç´¢å¼•çš„ç¬¬ä¸€åˆ—ã€‚åŒ¹é…åˆ—å‰ç¼€ä¹Ÿå¯ä»¥åªåŒ¹é…æŸä¸€åˆ—çš„å€¼çš„å¼€å¤´éƒ¨åˆ†ï¼Œä¾‹å¦‚å‰é¢æåˆ°çš„ç´¢å¼•å¯ç”¨äºŽæŸ¥æ‰¾æ‰€æœ‰ä»¥Jå¼€å¤´çš„å§“çš„äººã€‚è¿™é‡Œä½¿ç”¨äº†ç´¢å¼•çš„ç¬¬ä¸€åˆ—ã€‚åŒ¹é…èŒƒå›´å€¼ä¾‹å¦‚å‰é¢æåˆ°çš„ç´¢å¼•å¯ç”¨äºŽæŸ¥æ‰¾å§“åœ¨Allenå’ŒBarrymoreä¹‹é—´çš„äººã€‚è¿™é‡Œä¹Ÿåªç”¨äº†ç´¢å¼•çš„ç¬¬ä¸€åˆ—ã€‚ç²¾ç¡®åŒ¹é…æŸä¸€åˆ—å¹¶èŒƒå›´åŒ¹é…å¦å¤–ä¸€åˆ—å‰é¢æåˆ°çš„ç´¢å¼•ä¹Ÿå¯ç”¨äºŽæŸ¥æ‰¾æ‰€æœ‰å§“ä¸ºAllenï¼Œå¹¶ä¸”åå­—æ˜¯Kå¼€å¤´çš„äººã€‚ç´¢å¼•åˆ†ç±»å’Œåˆ›å»ºåˆ†ç±»æ™®é€šç´¢å¼•MySQLä¸­åŸºæœ¬ç´¢å¼•ç±»åž‹ï¼Œæ²¡æœ‰ä»€ä¹ˆé™åˆ¶ï¼Œå…è®¸åœ¨å®šä¹‰ç´¢å¼•çš„åˆ—ä¸­æ’å…¥é‡å¤å€¼å’Œç©ºå€¼ï¼Œçº¯ç²¹ä¸ºäº†æŸ¥è¯¢æ•°æ®æ›´å¿«ä¸€ç‚¹ã€‚å”¯ä¸€ç´¢å¼•ç´¢å¼•åˆ—ä¸­çš„å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯å…è®¸ä¸ºç©ºå€¼ï¼Œä¸»é”®ç´¢å¼•æ˜¯ä¸€ç§ç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼Œä¸å…è®¸æœ‰ç©ºå€¼ã€‚åŽé¢ä¼šæœ‰ä»‹ç»ï¼Œåœ¨INNODBä¸­ï¼Œä¸»é”®ç´¢å¼•æ˜¯èšç°‡ç´¢å¼•ã€‚åˆ›å»ºå»ºè¡¨æ—¶åˆ›å»º123456CREATE TABLE table_name ( [col_name data_type], ..., [UNIQUE] [INDEX | KEY] [index_name] (col_name[length], ...) [ASC | DESC]);åŽæœŸæ·»åŠ 12ALTER TABLE table_name ADD [UNIQUE] [INDEX | KEY] [index_name](col_name[length], ...) [ASC | DESC]12CREATE [UNIQUE] [INDEX | KEY] index_name ON table_name(col_name[length], ...) [ASC | DESC]INDEXå’ŒKEYå…·æœ‰ç›¸åŒçš„æ•ˆæžœã€‚lengthæ˜¯æŒ‡è¯¥åˆ—åœ¨B+æ ‘ä¸­çš„å…³é”®å­—æ‰€å çš„é•¿åº¦ã€‚èšç°‡ç´¢å¼•å’Œéžèšç°‡ç´¢å¼•èšç°‡ç´¢å¼•èšç°‡çš„æ„æ€æ˜¯é”®å€¼å’Œæ•°æ®è¡Œç´§å‡‘åœ°å­˜å‚¨åœ¨ä¸€èµ·ï¼Œå› ä¸ºæ— æ³•æŠŠæ•°æ®è¡Œæ”¾åœ¨ä¸¤ä¸ªä¸åŒçš„åœ°æ–¹ï¼Œæ‰€ä»¥ä¸€ä¸ªè¡¨åªæœ‰ä¸€ä¸ªèšç°‡ç´¢å¼•ã€‚è€Œä¸»é”®ä¼šè¢«é»˜è®¤æ·»åŠ ä¸Šèšç°‡ç´¢å¼•ï¼Œå¦‚æžœæ²¡æœ‰ä¸»é”®ï¼ŒINNODBä¼šé€‰æ‹©ä¸€ä¸ªéžç©ºç´¢å¼•æ¥æ›¿ä»£ï¼Œå¦‚æžœæ²¡æœ‰è¿™æ ·çš„ç´¢å¼•ï¼ŒINNODBä¼šéšå¼å®šä¹‰ä¸€ä¸ªä¸»é”®æ¥ä½œä¸ºèšç°‡ç´¢å¼•ã€‚éžèšç°‡ç´¢å¼•éžèšç°‡ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä»ç„¶æ˜¯ç´¢å¼•èŠ‚ç‚¹ï¼Œåªä¸è¿‡æœ‰æŒ‡å‘å¯¹åº”æ•°æ®å—çš„æŒ‡é’ˆã€‚åˆè¢«ç§°ä¸ºäºŒçº§ç´¢å¼•ã€‚INNODBçš„äºŒçº§ç´¢å¼•å…¶å¶å­ç»“ç‚¹ä¸Šä¿å­˜çš„æ˜¯KEY+PRIMARY COLã€‚INNODBç´¢å¼•æ³¨æ„ï¼šINNODBä¸­ä¸»é”®ç´¢å¼•å°±æ˜¯èšç°‡ç´¢å¼•ã€‚MyISAMç´¢å¼•]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Bæ ‘]]></title>
    <url>%2F2019%2FB%E6%A0%91%2F</url>
    <content type="text"><![CDATA[ç£ç›˜è®¿é—®æ—¶é—´ç£ç›˜æž„é€ å½“ç£ç›˜é©±åŠ¨å™¨æ‰§è¡Œè¯»/å†™åŠŸèƒ½æ—¶ã€‚ç›˜ç‰‡è£…åœ¨ä¸€ä¸ªä¸»è½´ä¸Šï¼Œå¹¶ç»•ä¸»è½´é«˜é€Ÿæ—‹è½¬ï¼Œå½“ç£é“åœ¨è¯»/å†™å¤´ï¼ˆåˆå«ç£å¤´ï¼‰ä¸‹é€šè¿‡ï¼Œå°±å¯ä»¥è¿›è¡Œæ•°æ®çš„è¯»/å†™äº†ã€‚ä¸€èˆ¬ç£ç›˜åˆ†ä¸ºå›ºå®šå¤´ç›˜ï¼ˆç£å¤´å›ºå®šï¼‰å’Œæ´»åŠ¨å¤´ç›˜ã€‚å›ºå®šå¤´ç›˜çš„æ¯ä¸€ä¸ªç£é“ä¸Šéƒ½æœ‰ç‹¬ç«‹çš„ç£å¤´ï¼Œå®ƒæ˜¯å›ºå®šä¸åŠ¨çš„ï¼Œä¸“é—¨è´Ÿè´£è¿™ä¸€ç£é“ä¸Šæ•°æ®çš„è¯»/å†™ã€‚æ´»åŠ¨å¤´ç›˜ ï¼ˆå¦‚ä¸Šå›¾ï¼‰çš„ç£å¤´æ˜¯å¯ç§»åŠ¨çš„ã€‚æ¯ä¸€ä¸ªç›˜é¢ä¸Šåªæœ‰ä¸€ä¸ªç£å¤´ï¼ˆç£å¤´æ˜¯åŒå‘çš„ï¼Œå› æ­¤æ­£åç›˜é¢éƒ½èƒ½è¯»å†™ï¼‰ã€‚å®ƒå¯ä»¥ä»Žè¯¥é¢çš„ä¸€ä¸ªç£é“ç§»åŠ¨åˆ°å¦ä¸€ä¸ªç£é“ã€‚æ‰€æœ‰ç£å¤´éƒ½è£…åœ¨åŒä¸€ä¸ªåŠ¨è‡‚ä¸Šï¼Œå› æ­¤ä¸åŒç›˜é¢ä¸Šçš„æ‰€æœ‰ç£å¤´éƒ½æ˜¯åŒæ—¶ç§»åŠ¨çš„ï¼ˆè¡ŒåŠ¨æ•´é½åˆ’ä¸€ï¼‰ã€‚å½“ç›˜ç‰‡ç»•ä¸»è½´æ—‹è½¬çš„æ—¶å€™ï¼Œç£å¤´ä¸Žæ—‹è½¬çš„ç›˜ç‰‡å½¢æˆä¸€ä¸ªåœ†æŸ±ä½“ã€‚å„ä¸ªç›˜é¢ä¸ŠåŠå¾„ç›¸åŒçš„ç£é“ç»„æˆäº†ä¸€ä¸ªåœ†æŸ±é¢ï¼Œæˆ‘ä»¬ç§°ä¸ºæŸ±é¢ ã€‚å› æ­¤ï¼ŒæŸ±é¢çš„ä¸ªæ•°ä¹Ÿå°±æ˜¯ç›˜é¢ä¸Šçš„ç£é“æ•°ã€‚è®¿é—®æ—¶é—´å…¸åž‹çš„ç£ç›˜è®¿é—®æ—¶é—´åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼šå¯»é“æ—¶é—´$T_s$ï¼š$T_s = s$æ—‹è½¬å»¶è¿Ÿæ—¶é—´$T_Ï„$ï¼š$T_t = \frac{1}{2r}$ç£ç›˜è®¿é—®æ—¶é—´ ï¼š$T_t=\frac{b}{rN}$$s$æ˜¯æŒ‡ç£å¤´ä»Žå½“å‰ä½ç½®å®šä½åˆ°å¼€å§‹ç‚¹çš„æ—¶é—´ï¼Œ$b$æ˜¯ä¼ è¾“çš„å­—èŠ‚æ•°ï¼Œ$r$æ˜¯æ¯ç§’çš„è½¬æ•°ï¼Œ$N$æ˜¯ä¸€æ¡ç£é“ä¸Šçš„å­—èŠ‚æ•°ã€‚$æ€»æ—¶é—´ = T_s + \frac{1}{2r} + \frac{b}{rN}$è¿™å…¶ä¸­ï¼Œæ—¶é—´å¼€é”€æœ€å¤§çš„æ˜¯$s$ï¼Œå°å¼æœºçš„æ—‹è½¬é€Ÿåº¦ä¸€èˆ¬æ˜¯7200è½¬/åˆ†é’Ÿï¼ˆRPMï¼‰ï¼Œå³æ—‹è½¬ä¸€å‘¨éœ€è¦8.33msï¼Œæ‰€ä»¥å¼å­ä¸­çš„$s$å¹³å‡ä¸º4.165msï¼Œè€Œä¸”ç£è‡‚çš„ç§»åŠ¨ä¹Ÿéœ€è¦æ—¶é—´ï¼Œé€šå¸¸ç£ç›˜çš„å¹³å‡å­˜å‚¨æ—¶é—´æ˜¯$8-11ms$ã€‚è€Œç¡…å­˜å‚¨çš„å¸¸è§å­˜å–æ—¶é—´æ˜¯50nsï¼Œå³$s$çº¦ä¸ºä¸€æ¬¡å­˜å–æ—¶é—´200000å€ã€‚é€šå¸¸ä¸€é¡µçš„é•¿åº¦ä¸º$2^{11}-2^{14}$ï¼Œå³ä½¿ç£ç›˜ä¸€èˆ¬æ˜¯ä¸€æ¬¡è¯»å–è¿žç»­çš„å‡ ä¸ªé¡µé¢ï¼Œå®šä½åˆ°ä¿¡æ¯çš„æ—¶é—´ä¹Ÿæ¯”å­˜å–ä¿¡æ¯çš„æ—¶é—´å¤šã€‚æ‰€ä»¥å½“å¤§é‡æ•°æ®å­˜å‚¨åœ¨å¤–å­˜ç£ç›˜ä¸­æ—¶ï¼Œéœ€è¦ä¸€ç§åˆç†é«˜æ•ˆçš„æ•°æ®ç»“æž„æ¥é™ä½Žè®¿é—®å¤–å­˜çš„æ—¶é—´ï¼šBæ ‘ã€‚éœ€è¦è¯´ä¸€ä¸‹ï¼ŒBæ ‘çš„è‹±æ–‡åæ˜¯B-treeï¼Œæ‰€ä»¥æœ‰æ—¶å€™æœ‰äººä¼šæŠŠBæ ‘å«åšB-æ ‘ï¼Œè¿™ä¸¤ä¸ªåè¯æ˜¯åŒä¸€ä¸ªæ„æ€ã€‚Bæ ‘çš„å…¸åž‹æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒBæ ‘ç®—æ³•çš„è¿è¡Œæ—¶é—´å–å†³äºŽDISK-READå’ŒDISK-WRITEã€‚1234x = a pointer to some objectDISK-READ(x)operations of xDISK-WRITE(x)é€šå¸¸ä¸€ä¸ªBæ ‘çš„ç»“ç‚¹å’Œç£ç›˜çš„ä¸€é¡µä¸€æ ·å¤§ï¼Œè¿™æ ·ä¸€æ¬¡è¯»å†™æ“ä½œèƒ½èŽ·å–æ›´å¤šçš„ä¿¡æ¯ã€‚è€Œæ¯é¡µèƒ½å­˜å‚¨å¤šå°‘ä¸ªæ•°æ®å’Œå…³é”®å­—å¤§å°æœ‰å…³ã€‚ä¸‹å›¾ä¸­çš„Bæ ‘æ¯ä¸ªç»“ç‚¹æœ‰1000ä¸ªæ•°æ®ï¼ˆBæ ‘ä¸­ç»“ç‚¹çš„åº¦æ•°ä¸ºç»“ç‚¹æ•°æ®ä¸ªæ•°+1ï¼Œè§åŽé¢çš„å®šä¹‰ï¼‰ï¼Œé«˜åº¦ä¸º2ã€‚æ‰€ä»¥å®ƒå¯ä»¥å­˜å‚¨è¶…è¿‡åäº¿ä¸ªå…³é”®å­—ï¼ŒæŸ¥æ‰¾æŸä¸ªå…³é”®å­—è‡³å¤šè¿›è¡Œä¸¤æ¬¡ç£ç›˜è®¿é—®ã€‚Bæ ‘çš„å®šä¹‰Bæ ‘çš„å®šä¹‰æ¯ä¸ªç»“ç‚¹æœ‰å¦‚ä¸‹å±žæ€§ï¼š$x.n$ï¼šè¡¨ç¤ºå½“å‰å­˜å‚¨åœ¨ç»“ç‚¹$x$ä¸­çš„å…³é”®å­—ä¸ªæ•°ã€‚æ¯ä¸ªç»“ç‚¹ä¸­çš„å…³é”®å­—ä»¥éžé™åºæ–¹å¼å­˜æ”¾ï¼š$x.key_1 \leq x.key_2 \leq \cdots \leq x.key_n$ã€‚$x.leaf$ï¼šä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æžœ$x$æ˜¯å¶ç»“ç‚¹ï¼Œåˆ™ä¸º$true$ï¼Œå¦åˆ™ä¸º$false$ã€‚æ¯ä¸ªå†…éƒ¨ç»“ç‚¹è¿˜åŒ…å«åŒ…å«$x.n+1$ä¸ªæŒ‡å‘å…¶å­©å­çš„æŒ‡é’ˆï¼š$x.c_1, x.c_2, \cdots , x.c_n $ï¼Œå¶ç»“ç‚¹çš„$c_i$å±žæ€§æ²¡æœ‰å®šä¹‰ã€‚å…³é”®å­—$x.key_iâ€‹$å¯¹å­˜å‚¨åœ¨å„å­æ ‘ä¸­çš„å…³é”®å­—èŒƒå›´åŠ ä»¥åˆ†å‰²ï¼šå¦‚æžœ$k_iâ€‹$ä¸ºä»»æ„ä¸€ä¸ªå­˜å‚¨åœ¨ä»¥$x.c_iâ€‹$ä¸ºæ ¹çš„å­æ ‘ä¸­çš„å…³é”®å­—ï¼Œæ»¡è¶³ï¼š$k_i \leq x.key_1 \leq k_2 \leq x.key_2 \leq \cdots \leq x.key_{x.n} \leq k_{x.n+1}â€‹$ã€‚æ¯ä¸ªå¶ç»“ç‚¹å…·æœ‰ç›¸åŒçš„æ·±åº¦ï¼Œå³æ ‘çš„é«˜åº¦hã€‚æ¯ä¸ªç»“ç‚¹å…³é”®å­—æ‰€åŒ…å«çš„å…³é”®å­—ä¸ªæ•°æœ‰ä¸Šç•Œå’Œä¸‹ç•Œã€‚ç”¨ä¸€ä¸ªè¢«ç§°ä¸ºBæ ‘çš„æœ€å°åº¦æ•°çš„å›ºå®šæ•´æ•°$tâ€‹$æ¥è¡¨ç¤ºè¿™äº›ç•Œï¼Œ$t \geq 2â€‹$ã€‚é™¤äº†æ ¹ç»“ç‚¹å¤–çš„æ¯ä¸ªç»“ç‚¹éƒ½è‡³å°‘æœ‰$t-1â€‹$ä¸ªå…³é”®å­—ï¼Œå› æ­¤ï¼Œé™¤äº†æ ¹ç»“ç‚¹ä»¥å¤–çš„æ¯ä¸ªå†…éƒ¨ç»“ç‚¹è‡³å°‘æœ‰$tâ€‹$ä¸ªå­©å­ã€‚å¦‚æžœæ ‘éžç©ºï¼Œæ ¹ç»“ç‚¹è‡³å°‘æœ‰ä¸€ä¸ªå…³é”®å­—ã€‚æ¯ä¸ªç»“ç‚¹è‡³å¤šå¯åŒ…å«$2t-1$ä¸ªå…³é”®å­—ï¼Œå› æ­¤ä¸€ä¸ªå†…éƒ¨ç»“ç‚¹è‡³å¤šå¯æœ‰$2t$ä¸ªå­©å­ï¼Œå½“ä¸€ä¸ªç»“ç‚¹æ°å¥½æœ‰$2t-1$ä¸ªå…³é”®å­—æ—¶ï¼Œè¯¥ç»“ç‚¹æ˜¯æ»¡çš„ã€‚$t=2â€‹$çš„æ ‘æ˜¯æœ€ç®€å•çš„ï¼Œæ¯ä¸ªå†…éƒ¨ç»“ç‚¹æœ‰2ä¸ªã€3ä¸ªæˆ–4ä¸ªå­©å­ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆæœ€å°åº¦æ•°ä¸èƒ½å–1å‘¢ï¼Ÿå› ä¸ºæœ€å°åº¦æ•°å–1ä¹‹åŽï¼Œå†…éƒ¨ç»“ç‚¹ï¼ˆè®¾æŒ‡å‘å…¶çš„æŒ‡é’ˆä¸ºpï¼‰å¯ä»¥åŒ…å«0ä¸ªå…³é”®å­—ï¼Œæ­¤æ—¶åŒ…å«0ä¸ªå…³é”®å­—çš„ç»“ç‚¹åªæœ‰ä¸€ä¸ªå­©å­ï¼ˆè®¾ä¸ºcï¼‰ï¼Œè¿™ä¸ªç»“ç‚¹å°±è¢«æµªè´¹äº†ï¼Œæˆ‘ä»¬å…¶å®žå¯ä»¥ç›´æŽ¥è®©pæŒ‡å‘cã€‚Bæ ‘çš„é«˜åº¦å¯¹ä»»æ„ä¸€æ£µåŒ…å«nï¼ˆ$n \geq 1â€‹$ï¼‰ä¸ªå…³é”®å­—ã€æœ€å°åº¦æ•°ä¸ºtçš„Bæ ‘æ¥è¯´ï¼Œæœ‰ï¼š$h \leq log_t{\frac{n+1}{2}}â€‹$ã€‚è¯æ˜Žï¼šå‡è®¾æ ¹æ‰€åœ¨çš„å±‚æ·±åº¦ä¸º0ï¼Œåˆ™é«˜åº¦ä¸ºhçš„Bæ ‘åœ¨æ·±åº¦ä¸º1çš„å±‚è‡³å°‘åŒ…å«2ä¸ªç»“ç‚¹ï¼Œåœ¨æ·±åº¦ä¸º2çš„å±‚è‡³å°‘åŒ…å«$2t$ä¸ªç»“ç‚¹ï¼Œåœ¨æ·±åº¦ä¸º3çš„å±‚è‡³å°‘åŒ…å«$2t^2$ä¸ªç»“ç‚¹â€¦ç›´åˆ°æ·±åº¦ä¸ºhçš„å±‚è‡³å°‘åŒ…å«$2t^{h-1}$ä¸ªç»“ç‚¹ã€‚å¯å¾—å…³äºŽå…³é”®å­—ä¸ªæ•°nçš„å…³é”®å­—ï¼š$n \geq 1+(t-1)\sum_{i=1}^h2t^i-1 = 1+2(t-1)(\frac{t^h-1}{t-1})=2t^h-1$$\Longrightarrow t^h \leq (n+1)/2$$\Longrightarrow h \leq log_t{\frac{n+1}{2}}$Bæ ‘çš„é˜¶æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªBæ•°çš„æœ¯è¯­ï¼šé˜¶ï¼Œå‡å¦‚æ ‘ä¸­çš„ç»“ç‚¹æœ€å¤šå«æœ‰mä¸ªå­©å­ï¼Œæ­¤Bæ ‘çš„é˜¶ä¸ºmã€‚å½“é˜¶ä¸ºå¶æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®šä¹‰ä¸­çš„$t$æ›¿æ¢æˆ$m/2$ï¼Œä½†æ˜¯å½“é˜¶ä¸ºå¥‡æ•°çš„æ—¶å€™å°±è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜äº†ï¼Œé™¤æ ¹ç»“ç‚¹å¤–çš„æ¯ä¸ªå†…éƒ¨ç»“ç‚¹è‡³å°‘å«æœ‰ceil(m/2)ä¸ªç»“ç‚¹è¿˜æ˜¯floor(m/2)ä¸ªç»“ç‚¹ï¼Ÿåº”è¯¥æ˜¯ceil(m/2)ï¼Œå› ä¸ºé™¤äº†æ ¹ç»“ç‚¹æ¯ä¸ªç»“ç‚¹çš„å­©å­ä¸ªæ•°æ»¡è¶³ï¼š$t \leq keyNum \leq 2t$ï¼Œå¦‚æžœå–floor(m/2)ä¼šå‘çŽ°æ— æ³•æ»¡è¶³ä¸Šå¼ï¼Œæ‰€ä»¥ä¸€æ£µå«æœ‰nä¸ªæ€»å…³é”®å­—æ•°çš„mé˜¶çš„Bæ ‘çš„æœ€å¤§é«˜åº¦æ˜¯ï¼š$log_{ceil(m/2)}(n+1)/2$ã€‚Bæ ‘çš„æ“ä½œä»¥ä¸‹çš„æ“ä½œéƒ½éµå¾ªä¸¤ä¸ªè§„å®šï¼šBæ ‘çš„æ ¹ç»“ç‚¹å§‹ç»ˆåœ¨ä¸»å­˜ä¸­ï¼Œè¿™æ ·å°±ä¸ç”¨å¯¹æ ¹åšDISK-READæ“ä½œã€‚ç„¶è€Œï¼Œå½“æ ¹ç»“ç‚¹è¢«æ”¹å˜åŽéœ€è¦å¯¹æ ¹ç»“ç‚¹åšä¸€æ¬¡DISK-WRITEæ“ä½œã€‚ä»»ä½•è¢«å½“åšå‚æ•°çš„ç»“ç‚¹åœ¨è¢«ä¼ é€’ä¹‹å‰ï¼Œéƒ½è¦å¯¹å®ƒä»¬å…ˆåšä¸€æ¬¡DISK-READæ“ä½œã€‚æœç´¢è®¾$x$æ˜¯æ ¹ç»“ç‚¹ï¼Œè¢«æœç´¢çš„å…³é”®å­—æ˜¯$k$ã€‚éœ€è¦è¯´æ˜Žä¸€ä¸‹ï¼Œä¼ªä»£ç ä¸­$key$å’Œ$câ€‹$çš„èµ·å§‹ä¸‹æ ‡éƒ½ä¸º1ã€‚NILä»£è¡¨ç©ºã€‚æ’å…¥æ’å…¥çš„æ—¶å€™ä¼šé‡åˆ°ä¸¤ç§æƒ…å†µï¼šå°†æ–°çš„å…³é”®å­—æ’åœ¨ä¸€ä¸ªå·²ç»å­˜åœ¨ä½†æœªæ»¡çš„ç»“ç‚¹ä¸Šï¼šç›´æŽ¥æ’å…¥ï¼›å°†æ–°çš„å…³é”®å­—æ’åœ¨ä¸€ä¸ªå·²ç»å­˜åœ¨ä½†å·²æ»¡çš„ç»“ç‚¹ä¸Šï¼šåˆ†è£‚åŽæ’å…¥ï¼›åˆ†è£‚å°†ä¸€ä¸ªæ»¡çš„ç»“ç‚¹$y$ï¼ˆæœ‰$2t-1$ä¸ªå…³é”®å­—ï¼‰æŒ‰ç…§ä¸­é—´å…³é”®å­—åˆ†è£‚æˆä¸¤ä¸ªå„å«æœ‰$t-1$ä¸ªå…³é”®å­—çš„ç»“ç‚¹ï¼Œä¸­é—´å…³é”®å­—è¢«å‡åˆ°$y$çš„çˆ¶ç»“ç‚¹ã€‚å¦‚æžœ$yâ€‹$çš„çˆ¶ç»“ç‚¹ä¹Ÿæ˜¯æ»¡çš„ï¼Œä¹Ÿéœ€è¦åˆ†è£‚ï¼Œæœ€ç»ˆæ»¡ç»“ç‚¹çš„åˆ†è£‚ä¼šå‘ä¸Šä¼ æ’­ã€‚å¦‚æžœå‘ä¸Šä¼ æ’­æ—¶å…¨ç¨‹éƒ½æ˜¯æ»¡ç»“ç‚¹ä¼šæŠŠæ ¹ç»“ç‚¹åˆ†è£‚ï¼Œä½¿Bæ ‘çš„é«˜åº¦å¢ž1ã€‚åˆ†è£‚æ˜¯ä½¿Bæ ‘å¢žé«˜çš„å”¯ä¸€åŠžæ³•ã€‚ä½†æ˜¯åœ¨å®žé™…æ“ä½œä¸­ä¸æ˜¯ç­‰åˆ°æ‰¾å‡ºæ’å…¥è¿‡ç¨‹ä¸­å®žé™…è¦åˆ†è£‚çš„ç»“ç‚¹æ‰åšåˆ†è£‚ï¼Œè€Œæ˜¯åœ¨æ²¿ç€æ ‘å‘ä¸‹æŸ¥æ‰¾æ—¶åˆ†è£‚æ‰€æœ‰é‡åˆ°çš„æ»¡ç»“ç‚¹ï¼Œè¿™æ ·å°±èƒ½ä¿è¯åœ¨æ’å…¥çš„æ—¶å€™èŠ‚ç‚¹ä¸€å®šéžæ»¡ã€‚$x$æ˜¯è¢«åˆ†è£‚çš„ç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œ$y$æ˜¯$x$çš„ç¬¬$iâ€‹$ä¸ªå­©å­ã€‚éžæ»¡ç»“ç‚¹æ’å…¥$x$æ˜¯è¢«æ’å…¥çš„èŠ‚ç‚¹ï¼Œ$k$æ˜¯æ’å…¥çš„é”®ã€‚è§£é‡Šå‡ è¡Œä»£ç ï¼š12è¡Œï¼šè¢«æ“ä½œçš„èŠ‚ç‚¹ä»Žç£ç›˜ä¸­è¯»å…¥åˆ°å†…å­˜ä¸­ï¼Œç„¶åŽåœ¨å†…å­˜ä¸­è¿›è¡Œæ“ä½œã€‚7è¡Œ+17è¡Œï¼šæ¯æ¬¡æ’å…¥çš„éƒ½æ˜¯å¶èŠ‚ç‚¹ã€‚å®Œæ•´æ’å…¥è¿‡ç¨‹æ­¤æ—¶å¯¹æ ¹çš„åˆ†è£‚éœ€è¦åˆ›å»ºä¸¤ä¸ªèŠ‚ç‚¹ï¼Œè€Œä¸”å¯¹æ ¹çš„åˆ†è£‚æ˜¯Bæ ‘é•¿é«˜çš„å”¯ä¸€åŠžæ³•ã€‚è€Œä¸”åœ¨åˆ†è£‚ä¹‹åŽæˆ‘ä»¬ä¼šå‘çŽ°æ ¹èŠ‚ç‚¹å¿…ç„¶ä¼šæœ‰ä¸€ä¸ªå…³é”®å­—ï¼Œè¿™ä¹Ÿå¯¹åº”äº†å®šä¹‰ä¸­çš„Bæ ‘çš„æ ¹è‡³å°‘æœ‰ä¸¤ä¸ªå­©å­ã€‚åˆ›å»ºåˆ†é…ç©ºèŠ‚ç‚¹ï¼šåˆ†é…ä¹‹åŽå¾ªçŽ¯è°ƒç”¨æ’å…¥å³å¯ã€‚åˆ é™¤åœ¨åˆ é™¤æ—¶éœ€è¦æ³¨æ„ä¸¤ä¸ªéƒ¨åˆ†ï¼šé™¤æ ¹èŠ‚ç‚¹å¤–ï¼Œè¢«åˆ é™¤å…³é”®å­—çš„èŠ‚ç‚¹åœ¨åˆ é™¤åŽä»ç„¶è¦æ»¡è¶³$keyNum \geq t-1$ã€‚åˆ é™¤åŽéœ€è¦é‡æ–°å®‰æŽ’è¿™ä¸ªç»“ç‚¹çš„å­©å­ã€‚æ“ä½œå¦‚æžœå…³é”®å­—$k$åœ¨ç»“ç‚¹$x$ä¸­ï¼Œå¹¶ä¸”$x$æ˜¯å¶èŠ‚ç‚¹ï¼Œä»Ž$x$ä¸­åˆ é™¤$k$å¦‚æžœå…³é”®å­—$k$åœ¨ç»“ç‚¹$x$ä¸­ï¼Œä½†$x$æ˜¯å†…éƒ¨éžæ ¹èŠ‚ç‚¹ï¼šä¸Šç§»å­©å­ç»“ç‚¹ä¸­çš„æŸç›¸è¿‘å…ƒç´ ï¼ˆâ€œå·¦å­©å­æœ€å³è¾¹çš„èŠ‚ç‚¹â€æˆ–â€œå³å­©å­æœ€å·¦è¾¹çš„èŠ‚ç‚¹â€ï¼‰åˆ°çˆ¶èŠ‚ç‚¹ä¸­ï¼Œå¹¶ä¸”é€’å½’è¢«ä¸Šç§»çš„å­©å­ã€‚åˆ é™¤å…ƒç´ ï¼Œç§»åŠ¨ç›¸åº”å…ƒç´ ä¹‹åŽï¼Œå¦‚æžœæŸç»“ç‚¹ä¸­å…ƒç´ æ•°ç›®ï¼ˆå³å…³é”®å­—æ•°ï¼‰å°äºŽ$ceil(m/2)-1$ï¼Œåˆ™éœ€è¦çœ‹å…¶æŸç›¸é‚»å…„å¼Ÿç»“ç‚¹æ˜¯å¦è´«å›°ï¼ˆç»“ç‚¹ä¸­å…ƒç´ ä¸ªæ•°ç­‰äºŽ$ceil(m/2)-1$ï¼‰å¦‚æžœéžè´«å›°ï¼Œåˆ™çˆ¶èŠ‚ç‚¹ä¸‹é™ä¸€ä¸ªå…ƒç´ æ¥æ­¤èŠ‚ç‚¹ï¼Œå…„å¼Ÿç»“ç‚¹ä¸Šå‡ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æžœå…¶ç›¸é‚»å…„å¼Ÿéƒ½è´«å›°ï¼Œåˆ™è¯¥ç»“ç‚¹ä¸Žå…¶ç›¸é‚»çš„æŸä¸€å…„å¼Ÿç»“ç‚¹è¿›è¡Œâ€œåˆå¹¶â€œæˆä¸€ä¸ªç»“ç‚¹ã€‚ä¸¾ä¾‹åˆªé™¤Hï¼šç›´æŽ¥åˆ é™¤åˆ é™¤Tï¼šWä¸Šå‡åˆ°Tçš„ä½ç½®ï¼Œ4ä¸Šå‡åˆ°Wçš„ä½ç½®åˆ é™¤Rï¼šåˆ é™¤å¯¼è‡´åªæœ‰1ä¸ªå…ƒç´ ï¼Œå·²ç»å°äºŽæœ€å°å…ƒç´ æ•°ç›®$ceil(5/2)-1=2$ï¼Œç”±äºŽå³ç›¸é‚»å…„å¼Ÿç»“ç‚¹ä¸è´«å›°ï¼Œæ‰€ä»¥å…ˆå‘çˆ¶èŠ‚ç‚¹å€Ÿä¸€ä¸ªå…ƒç´ Tä¸‹ç§»åˆ°è¯¥å¶å­ç»“ç‚¹ä¸­ï¼Œä»£æ›¿åŽŸæ¥Sçš„ä½ç½®ï¼ŒSå‰ç§»ï¼›ç„¶åŽWä¸Šç§»åˆ°çˆ¶ç»“ç‚¹ä¸­ï¼ŒXã€Yã€Zä¾æ¬¡å‰ç§»ã€‚åˆ é™¤Eï¼šå› ä¸ºEæ‰€åœ¨çš„ç»“ç‚¹å’Œç›¸é‚»çš„å…„å¼Ÿç»“ç‚¹çš„å…³é”®å­—éƒ½åˆšå¥½è¾¾æ ‡ï¼Œåˆ é™¤åŽä¸èƒ½å†å‘çˆ¶èŠ‚ç‚¹å€Ÿå…ƒç´ ï¼Œæ‰€ä»¥éœ€è¦è¯¥èŠ‚ç‚¹ä¸ŽæŸç›¸é‚»å…„å¼Ÿç»“ç‚¹è¿›è¡Œåˆå¹¶æ“ä½œï¼›é¦–å…ˆç§»åŠ¨çˆ¶ç»“ç‚¹ä¸­çš„å…ƒç´ ï¼ˆè¯¥å…ƒç´ åœ¨ä¸¤ä¸ªéœ€è¦åˆå¹¶çš„ä¸¤ä¸ªç»“ç‚¹å…ƒç´ ä¹‹é—´ï¼‰ä¸‹ç§»åˆ°å…¶å­ç»“ç‚¹ä¸­ï¼Œç„¶åŽå°†è¿™ä¸¤ä¸ªç»“ç‚¹è¿›è¡Œåˆå¹¶æˆä¸€ä¸ªç»“ç‚¹ã€‚æ‰€ä»¥åœ¨è¯¥å®žä¾‹ä¸­ï¼Œå’±ä»¬é¦–å…ˆå°†çˆ¶èŠ‚ç‚¹ä¸­çš„å…ƒç´ Dä¸‹ç§»åˆ°å·²ç»åˆ é™¤Eè€Œåªæœ‰Fçš„ç»“ç‚¹ä¸­ï¼Œç„¶åŽå°†å«æœ‰Då’ŒFçš„ç»“ç‚¹ä¸Žå«æœ‰Aå’ŒCçš„ç›¸é‚»å…„å¼Ÿç»“ç‚¹è¿›è¡Œåˆå¹¶æˆä¸€ä¸ªç»“ç‚¹ã€‚ä½†æ˜¯æ­¤æ—¶è¿˜æ²¡æœ‰ç»“æŸï¼Œæ­¤æ—¶çš„æƒ…å†µå¦‚ä¸‹å›¾ç¬¬ä¸€å¹…ï¼Œæ­¤æ—¶çˆ¶èŠ‚ç‚¹åªåŒ…å«ä¸€ä¸ªå…ƒç´ Gï¼Œæ²¡è¾¾æ ‡ã€‚å¦‚æžœè¿™ä¸ªé—®é¢˜ç»“ç‚¹çš„ç›¸é‚»å…„å¼Ÿæ¯”è¾ƒä¸°æ»¡ï¼Œåˆ™å¯ä»¥å‘çˆ¶ç»“ç‚¹å€Ÿä¸€ä¸ªå…ƒç´ ã€‚å‡è®¾è¿™æ—¶å³å…„å¼Ÿç»“ç‚¹ï¼ˆå«æœ‰Q,Xï¼‰å«æœ‰çš„å…ƒç´ ä¸ªæ•°å¤§äºŽ2ï¼Œå’±ä»¬å¯ä»¥å°†Mä¸‹ç§»åˆ°å…ƒç´ å¾ˆå°‘çš„å­ç»“ç‚¹ä¸­ï¼Œå°†Qä¸Šç§»åˆ°Mçš„ä½ç½®ï¼Œä½†æ­¤æ—¶å’±ä»¬æ²¡æœ‰åŠžæ³•åŽ»å€Ÿä¸€ä¸ªå…ƒç´ ï¼Œåªèƒ½ä¸Žå…„å¼Ÿç»“ç‚¹è¿›è¡Œåˆå¹¶æˆä¸€ä¸ªç»“ç‚¹ï¼Œè€Œæ ¹ç»“ç‚¹ä¸­çš„å”¯ä¸€å…ƒç´ Mä¸‹ç§»åˆ°å­ç»“ç‚¹ï¼Œå³æ ‘çš„é«˜åº¦å‡å°‘ä¸€å±‚ã€‚B+æ ‘åœ¨Bæ ‘ä¸­ï¼Œæˆ‘ä»¬åšæ“ä½œçš„æ—¶å€™éƒ½é»˜è®¤äº†å…³é”®å­—å’Œå…¶å¯¹åº”çš„æ•°æ®éƒ½å­˜åœ¨ä¸€ä¸ªé¡µé¢ä¸­ï¼Œä½†æ˜¯å®žé™…ä¸Šå¯ä»¥åªå­˜å‚¨å…³é”®å­—ï¼Œè€Œä¸”ä»…å­˜å…³é”®å­—å¯ä»¥è®©æ¯é¡µèƒ½å­˜å‚¨æ›´å¤šçš„æ•°æ®ã€‚åŸºäºŽæ­¤ç‚¹å’Œä¸ºäº†æ›´å¥½çš„åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­å­˜å–æ•°æ®ï¼Œè¯žç”Ÿäº†B+æ ‘ã€‚å®šä¹‰B+æ ‘å¯ä»¥è¢«è§†ä¸ºæ¯ä¸ªèŠ‚ç‚¹ä»…åŒ…å«é”®ï¼ˆä¸æ˜¯é”®å€¼å¯¹ï¼‰ï¼Œå¹¶ä¸”é“¾æŽ¥äº†å„å¶èŠ‚ç‚¹å¶çš„Bæ ‘ã€‚å’ŒBæ ‘çš„åŒºåˆ«å¦‚ä¸‹ï¼šæ‰€æœ‰çš„å¶å­ç»“ç‚¹ä¸­åŒ…å«äº†å…¨éƒ¨å…³é”®å­—çš„ä¿¡æ¯ï¼ŒåŠæŒ‡å‘å«æœ‰è¿™äº›å…³é”®å­—è®°å½•çš„æŒ‡é’ˆï¼Œä¸”å¶å­ç»“ç‚¹æœ¬èº«ä¾å…³é”®å­—çš„å¤§å°è‡ªå°è€Œå¤§çš„é¡ºåºé“¾æŽ¥ã€‚ ï¼ˆè€ŒBæ ‘çš„å¶å­èŠ‚ç‚¹å¹¶æ²¡æœ‰åŒ…æ‹¬å…¨éƒ¨éœ€è¦æŸ¥æ‰¾çš„ä¿¡æ¯ï¼‰ã€‚æ‰€æœ‰çš„éžç»ˆç«¯ç»“ç‚¹å¯ä»¥çœ‹æˆæ˜¯ç´¢å¼•éƒ¨åˆ†ï¼Œç»“ç‚¹ä¸­ä»…å«æœ‰å…¶å­æ ‘æ ¹ç»“ç‚¹ä¸­æœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰å…³é”®å­—ã€‚ ï¼ˆè€ŒBæ ‘çš„éžç»ˆèŠ‚ç‚¹ä¹ŸåŒ…å«éœ€è¦æŸ¥æ‰¾çš„æœ‰æ•ˆä¿¡æ¯ï¼‰ä¸ºä»€ä¹ˆæ•°æ®åº“ä½¿ç”¨B+æ ‘ä½œä¸ºç´¢å¼•B+æ ‘çš„ç£ç›˜è¯»å†™ä»£ä»·æ›´ä½Žã€‚B+æ ‘çš„å†…éƒ¨ç»“ç‚¹å¹¶æ²¡æœ‰æŒ‡å‘å…³é”®å­—å…·ä½“ä¿¡æ¯çš„æŒ‡é’ˆã€‚å› æ­¤å…¶å†…éƒ¨ç»“ç‚¹ç›¸å¯¹Bæ ‘æ›´å°ã€‚å¦‚æžœæŠŠæ‰€æœ‰åŒä¸€å†…éƒ¨ç»“ç‚¹çš„å…³é”®å­—å­˜æ”¾åœ¨åŒä¸€ç›˜å—ä¸­ï¼Œé‚£ä¹ˆç›˜å—æ‰€èƒ½å®¹çº³çš„å…³é”®å­—æ•°é‡ä¹Ÿè¶Šå¤šã€‚ä¸€æ¬¡æ€§è¯»å…¥å†…å­˜ä¸­çš„éœ€è¦æŸ¥æ‰¾çš„å…³é”®å­—ä¹Ÿå°±è¶Šå¤šã€‚ç›¸å¯¹æ¥è¯´IOè¯»å†™æ¬¡æ•°ä¹Ÿå°±é™ä½Žäº†ã€‚Bæ ‘åœ¨æé«˜äº†ç£ç›˜IOæ€§èƒ½çš„åŒæ—¶å¹¶æ²¡æœ‰è§£å†³å…ƒç´ éåŽ†çš„æ•ˆçŽ‡ä½Žä¸‹çš„é—®é¢˜ã€‚è€ŒB+æ ‘åªè¦éåŽ†å¶å­èŠ‚ç‚¹å°±å¯ä»¥å®žçŽ°æ•´æ£µæ ‘çš„éåŽ†ã€‚B+æ ‘å¯¹range-queryçš„æ”¯æŒå¾ˆå¼ºå¤§ã€‚æ¯”å¦‚è¦æŸ¥5-10ä¹‹é—´çš„ï¼ŒB+æ ‘ä¸€æŠŠåˆ°5è¿™ä¸ªæ ‡è®°ï¼Œå†ä¸€æŠŠåˆ°10ï¼Œç„¶åŽä¸²èµ·æ¥å°±è¡Œäº†ï¼ŒBæ ‘å°±éžå¸¸éº»çƒ¦ã€‚åˆ†è£‚B+æ ‘çš„åˆ†è£‚å’ŒBæ ‘æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œåªæ˜¯åˆ†è£‚åŽæ³¨æ„å¶å­ç»“ç‚¹éœ€è¦æœ‰é“¾æŽ¥åˆ°ä¸‹ä¸ªç»“ç‚¹çš„æŒ‡é’ˆã€‚B*æ ‘å®šä¹‰B*æ ‘æ˜¯B+æ ‘çš„å˜ä½“ï¼Œåœ¨B+æ ‘çš„åŸºç¡€ä¸Šï¼ˆæ‰€æœ‰çš„å¶å­ç»“ç‚¹ä¸­åŒ…å«äº†å…¨éƒ¨å…³é”®å­—çš„ä¿¡æ¯ï¼ŒåŠæŒ‡å‘å«æœ‰è¿™äº›å…³é”®å­—è®°å½•çš„æŒ‡é’ˆï¼‰:B*æ ‘ä¸­éžæ ¹å’Œéžå¶å­ç»“ç‚¹å†å¢žåŠ æŒ‡å‘å…„å¼Ÿçš„æŒ‡é’ˆï¼›B*æ ‘å®šä¹‰äº†éžå¶å­ç»“ç‚¹å…³é”®å­—ä¸ªæ•°è‡³å°‘ä¸º$ceil((2/3) \ast m)$ï¼Œå³å—çš„æœ€ä½Žä½¿ç”¨çŽ‡ä¸º2/3ï¼ˆä»£æ›¿B+æ ‘çš„1/2ï¼‰ã€‚åˆ†è£‚å½“ä¸€ä¸ªç»“ç‚¹æ»¡æ—¶ï¼Œå¦‚æžœå®ƒçš„ä¸‹ä¸€ä¸ªå…„å¼Ÿç»“ç‚¹æœªæ»¡ï¼Œé‚£ä¹ˆå°†ä¸€éƒ¨åˆ†æ•°æ®ç§»åˆ°å…„å¼Ÿç»“ç‚¹ä¸­ï¼Œå†åœ¨åŽŸç»“ç‚¹æ’å…¥å…³é”®å­—ï¼Œæœ€åŽä¿®æ”¹çˆ¶ç»“ç‚¹ä¸­å…„å¼Ÿç»“ç‚¹çš„å…³é”®å­—ï¼ˆå› ä¸ºå…„å¼Ÿç»“ç‚¹çš„å…³é”®å­—èŒƒå›´æ”¹å˜äº†ï¼‰ï¼›å¦‚æžœå…„å¼Ÿä¹Ÿæ»¡äº†ï¼Œåˆ™åœ¨åŽŸç»“ç‚¹ä¸Žå…„å¼Ÿç»“ç‚¹ä¹‹é—´å¢žåŠ æ–°ç»“ç‚¹ï¼Œå¹¶å„å¤åˆ¶1/3çš„æ•°æ®åˆ°æ–°ç»“ç‚¹ï¼Œæœ€åŽåœ¨çˆ¶ç»“ç‚¹å¢žåŠ æ–°ç»“ç‚¹çš„æŒ‡é’ˆã€‚æ€»ç»“Bæ ‘åŠå…¶å˜å½¢å¯ä»¥éžå¸¸å¥½çš„å¤„ç†ä¸€ç»´ç©ºé—´å­˜å‚¨çš„é—®é¢˜ã€‚å®ƒçš„æ€æƒ³å°±æ˜¯æŠŠä¸€ç»´ç›´çº¿åˆ†ä¸ºè‹¥å¹²æ®µçº¿æ®µï¼Œå½“æˆ‘ä»¬æŸ¥æ‰¾æ»¡è¶³æŸä¸ªè¦æ±‚çš„ç‚¹çš„æ—¶å€™ï¼Œåªè¦åŽ»æŸ¥æ‰¾å®ƒæ‰€å±žçš„çº¿æ®µå³å¯ã€‚ä¹Ÿå¯ä»¥è¯´è¦æŸ¥æ‰¾æŸä¸€æ»¡è¶³æ¡ä»¶çš„ç‚¹ï¼Œå…ˆåŽ»æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„çº¿æ®µï¼Œç„¶åŽéåŽ†æ‰€åœ¨çº¿æ®µä¸Šçš„ç‚¹ï¼Œå³å¯æ‰¾åˆ°ç­”æ¡ˆã€‚å¯¹æ¯”Bæ ‘ï¼šæœ‰åºæ•°ç»„+å¹³è¡¡å¤šå‰æ ‘ï¼›B+æ ‘ï¼šæœ‰åºæ•°ç»„é“¾è¡¨+å¹³è¡¡å¤šå‰æ ‘ï¼›B*æ ‘ï¼šä¸€æ£µä¸°æ»¡çš„B+æ ‘ã€‚å‚è€ƒhttps://blog.csdn.net/v_JULY_v/article/details/6530142https://en.wikipedia.org/wiki/B%2B_tree#Overviewhttps://en.wikipedia.org/wiki/B-treeç®—æ³•å¯¼è®º]]></content>
      <categories>
        <category>DSA</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æž„</tag>
        <tag>DSA</tag>
        <tag>æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[09-Mysqlç»“æž„å’Œå­˜å‚¨å¼•æ“Ž]]></title>
    <url>%2F2019%2F09-Mysql%E7%BB%93%E6%9E%84%E5%92%8C%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%2F</url>
    <content type="text"><![CDATA[MySQLä½“ç³»ç»“æž„Mysqlå¤§è‡´å¯ä»¥è¢«åˆ†ä¸ºå››å±‚ï¼šç¬¬ä¸€å±‚ConnectorsæŒ‡çš„æ˜¯ä¸åŒè¯­è¨€ä¸­ä¸ŽSQLçš„äº¤äº’ç¬¬äºŒå±‚Management Serveices &amp; Utilitiesï¼šç³»ç»Ÿç®¡ç†å’ŒæŽ§åˆ¶å·¥å…·ï¼Œä¾‹å¦‚å¤‡ä»½æ¢å¤ã€Mysqlå¤åˆ¶ã€é›†ç¾¤ç­‰Connection Pool: è¿žæŽ¥æ± ï¼Œç®¡ç†ç¼“å†²ç”¨æˆ·è¿žæŽ¥ã€ç”¨æˆ·åã€å¯†ç ã€æƒé™æ ¡éªŒã€çº¿ç¨‹å¤„ç†ç­‰éœ€è¦ç¼“å­˜çš„éœ€æ±‚SQL Interface: SQLæŽ¥å£ï¼ŒæŽ¥å—ç”¨æˆ·çš„SQLå‘½ä»¤ï¼Œå¹¶ä¸”è¿”å›žç”¨æˆ·éœ€è¦æŸ¥è¯¢çš„ç»“æžœã€‚æ¯”å¦‚select * fromå°±æ˜¯è°ƒç”¨SQL Interfaceã€‚Parser: è§£æžå™¨ï¼ŒSQLå‘½ä»¤ä¼ é€’åˆ°è§£æžå™¨çš„æ—¶å€™ä¼šè¢«è§£æžå™¨éªŒè¯å’Œè§£æžã€‚è§£æžå™¨æ˜¯ç”±Lexå’ŒYACCå®žçŽ°çš„ï¼Œæ˜¯ä¸€ä¸ªå¾ˆé•¿çš„è„šæœ¬ï¼Œ ä¸»è¦åŠŸèƒ½ï¼šå°†SQLè¯­å¥åˆ†è§£æˆæ•°æ®ç»“æž„ï¼Œå¹¶å°†è¿™ä¸ªç»“æž„ä¼ é€’åˆ°åŽç»­æ­¥éª¤ï¼Œä»¥åŽSQLè¯­å¥çš„ä¼ é€’å’Œå¤„ç†å°±æ˜¯åŸºäºŽè¿™ä¸ªç»“æž„çš„å¦‚æžœåœ¨åˆ†è§£æž„æˆä¸­é‡åˆ°é”™è¯¯ï¼Œé‚£ä¹ˆå°±è¯´æ˜Žè¿™ä¸ªsqlè¯­å¥æ˜¯ä¸åˆç†çš„Optimizerï¼šæŸ¥è¯¢ä¼˜åŒ–å™¨ï¼ŒSQLè¯­å¥åœ¨æŸ¥è¯¢ä¹‹å‰ä¼šä½¿ç”¨æŸ¥è¯¢ä¼˜åŒ–å™¨å¯¹æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ã€‚ä»–ä½¿ç”¨çš„æ˜¯â€œé€‰å–-æŠ•å½±-è”æŽ¥â€ç­–ç•¥è¿›è¡ŒæŸ¥è¯¢ã€‚ ç”¨ä¸€ä¸ªä¾‹å­å°±å¯ä»¥ç†è§£ï¼šselect uid,name from user where gender = 1;å…ˆæ ¹æ®whereè¯­å¥è¿›è¡Œé€‰å–ï¼Œè€Œä¸æ˜¯å…ˆå°†è¡¨å…¨éƒ¨æŸ¥è¯¢å‡ºæ¥ä»¥åŽå†è¿›è¡Œgenderè¿‡æ»¤å†æ ¹æ®uidå’Œnameè¿›è¡Œå±žæ€§æŠ•å½±ï¼Œè€Œä¸æ˜¯å°†å±žæ€§å…¨éƒ¨å–å‡ºä»¥åŽå†è¿›è¡Œè¿‡æ»¤å†å°†è¿™ä¸¤ä¸ªæŸ¥è¯¢æ¡ä»¶è”æŽ¥èµ·æ¥ç”Ÿæˆæœ€ç»ˆæŸ¥è¯¢ç»“æžœCacheå’ŒBufferï¼ˆé«˜é€Ÿç¼“å­˜åŒºï¼‰ï¼šæŸ¥è¯¢ç¼“å­˜ï¼Œå¦‚æžœæŸ¥è¯¢ç¼“å­˜æœ‰å‘½ä¸­çš„æŸ¥è¯¢ç»“æžœï¼ŒæŸ¥è¯¢è¯­å¥å°±å¯ä»¥ç›´æŽ¥åŽ»æŸ¥è¯¢ç¼“å­˜ä¸­å–æ•°æ®ã€‚ é€šè¿‡LRUç®—æ³•å°†æ•°æ®çš„å†·ç«¯æº¢å‡ºï¼Œæœªæ¥å¾—åŠæ—¶åˆ·æ–°åˆ°ç£ç›˜çš„æ•°æ®é¡µï¼Œå«è„é¡µã€‚è¿™ä¸ªç¼“å­˜æœºåˆ¶æ˜¯ç”±ä¸€ç³»åˆ—å°ç¼“å­˜ç»„æˆçš„ã€‚æ¯”å¦‚è¡¨ç¼“å­˜ï¼Œè®°å½•ç¼“å­˜ï¼Œkeyç¼“å­˜ï¼Œæƒé™ç¼“å­˜ç­‰ã€‚ç¬¬ä¸‰çº§Engineï¼šå­˜å‚¨å¼•æ“Žã€‚å­˜å‚¨å¼•æ“Žæ˜¯MySqlä¸­å…·ä½“çš„ä¸Žæ–‡ä»¶æ‰“äº¤é“çš„å­ç³»ç»Ÿã€‚çŽ°åœ¨æœ‰å¾ˆå¤šç§å­˜å‚¨å¼•æ“Žï¼Œå„ä¸ªå­˜å‚¨å¼•æ“Žçš„ä¼˜åŠ¿å„ä¸ä¸€æ ·ï¼Œæœ€å¸¸ç”¨çš„MyISAMï¼ŒInnoDBï¼ŒBDBã€‚é»˜è®¤ä¸‹MySqlæ˜¯ä½¿ç”¨InnoDBå¼•æ“Žã€‚ç¬¬å››çº§å¤–å­˜ä¸­çœŸæ­£å­˜å‚¨æ•°æ®çš„ç‰©ç†ç©ºé—´ã€‚å­˜å‚¨å¼•æ“ŽMysqlä¸­çœŸæ­£å’Œå¤–å­˜æ‰“äº¤é“çš„æ˜¯å­˜å‚¨å¼•æ“Žã€‚ä¸€èˆ¬æœ‰ä¸¤ç§æœ€å¸¸è§çš„å¼•æ“Žï¼šINNODBæ˜¯ç¼“å­˜å±‚ï¼Œç”±ä¸€ä¸ªå¤§çš„innodb buffer poolå’Œå¾ˆå¤šä¸ªå…¶ä»–å°çš„å†…å­˜ç»„ä»¶ç»„æˆï¼Œç”¨æ¥ç¼“å†²æ•°æ®çš„ï¼Œinnodbçš„æ•°æ®è¯»å–å†™å…¥ä¸æ˜¯ç›´æŽ¥æ“ä½œæ–‡ä»¶ï¼Œè€Œæ˜¯ä»Žæ–‡ä»¶åŠ è½½åˆ°ç¼“å­˜ï¼Œåœ¨ç¼“å†²é‡Œåšæ“ä½œï¼Œå†flushåˆ°ç£ç›˜æ–‡ä»¶ã€‚æ‰€ä»¥INNODEå¯ä»¥æ”¯æŒäº‹åŠ¡ã€‚æ˜¯å„ç§åŽå°çº¿ç¨‹ï¼Œä¾‹å¦‚IOçº¿ç¨‹ã€æ—¥å¿—çº¿ç¨‹ã€ç›‘æŽ§çº¿ç¨‹ç­‰ï¼›æ˜¯å„ç§æ•°æ®æ–‡ä»¶å±‚ï¼Œä¾‹å¦‚INNODBçš„æ•°æ®æ–‡ä»¶ã€redo logç­‰ï¼›MYISAMMYISAMå­˜å‚¨å¼•æ“Žçš„æ•°æ®ç»„ç»‡å½¢å¼æ˜¯ä¸€ç§å †è¡¨ï¼Œå’Œç´¢å¼•ç»„ç»‡è¡¨ç›¸åŒºåˆ«ï¼ˆINNODBçš„æ•°æ®ç»„ç»‡å½¢å¼æ˜¯ç´¢å¼•ç»„ç»‡è¡¨ï¼‰ã€‚ ä¾‹å¦‚æ’å…¥ä¸€æ¡æ•°æ®id=2ï¼ˆdä¸ºä¸»é”®ï¼Œè¡¨é‡Œå·²ç»å­˜åœ¨id=1å’Œid=3æ•°æ®ï¼‰ã€‚MYISAMå­˜å‚¨å¼•æ“Žï¼šå¦‚æžœæ’å…¥id=2ï¼Œæ•°æ®çš„æ’å…¥ä½ç½®å’Œid=1 id=3æ— å…³ç³»ï¼Œä¹Ÿå°±æ˜¯æ— åºçš„ï¼› å †è¡¨çš„æ’å…¥ç‰¹æ€§æ˜¯æ— åºçš„ã€‚INNODBå­˜å‚¨å¼•æ“Žï¼šå¦‚æžœæ’å…¥id=2ï¼Œä¼šæ’å…¥åˆ°id=1å’Œid=3ä¹‹é—´ï¼Œå› ä¸ºINNODBæ˜¯ç´¢å¼•ç»„ç»‡è¡¨æ˜¯æœ‰æœ‰åºçš„ï¼›ç´¢å¼•ç»„ç»‡è¡¨çš„æœ€å¤§ç‰¹ç‚¹æ˜¯æ ¹æ®ä¸»é”®åŽ»æŸ¥è¯¢æ•ˆçŽ‡éžå¸¸å¿«ã€‚MYISAMå­˜å‚¨å¼•æ“Žä¸æ”¯æŒäº‹åŠ¡ï¼›INNODBå­˜å‚¨å¼•æ“Žçš„ç¼“å­˜ä¸ç¼“å­˜æ•°æ®ï¼Œåªç¼“å­˜ç´¢å¼•ã€‚æ•°æ®ç¼“å­˜æ˜¯äº¤ç»™æ“ä½œç³»ç»Ÿçš„å†…å­˜æ¥ç¼“å­˜çš„ã€‚è¿™ç§ä¼šæœ‰é—®é¢˜ï¼šå¦‚æžœæŸ¥è¯¢ä¸€ä¸ªå¤§è¡¨ï¼Œä¼šæ¶ˆè€—å¤§é‡æ“ä½œç³»ç»Ÿå†…å­˜ï¼Œå¦‚æžœè¡¨ä¸­ç¢Žç‰‡å¾ˆå¤§å¯èƒ½ä¼šæµªè´¹å¤§é‡æ“ä½œç³»ç»Ÿå†…å­˜ã€‚é”ç²’åº¦è¾ƒå¤§ï¼šä½¿ç”¨çš„æ˜¯è¯»å†™é”ï¼ˆè¯»çš„æ—¶å€™ä¸å…è®¸å†™ï¼Œå†™çš„æ—¶å€™ä¸å…è®¸è¯»ï¼Œåªæœ‰è¯»çš„æ—¶å€™å…è®¸è¯»ï¼‰å‚è€ƒï¼šhttps://www.cnblogs.com/zhoubaojian/articles/7866231.html]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[08-Mysqlçš„é”]]></title>
    <url>%2F2019%2F08-Mysql%E7%9A%84%E9%94%81%2F</url>
    <content type="text"><![CDATA[æ•°æ®åº“çš„é”æŒ‰ç…§ä¸åŒçš„åˆ†ç±»å¯ä»¥åˆ†æˆå¾ˆå¤šç±»ï¼Œå¸¸è§çš„åˆ†ç±»å¦‚ä¸‹ï¼šæ‚²è§‚é” &amp; ä¹è§‚é”æ‚²è§‚é”æ‚²è§‚é”å°±æ˜¯åœ¨æ“ä½œæ•°æ®æ—¶ï¼Œæ€»æ˜¯è®¤ä¸ºæ“ä½œä¼šå‡ºçŽ°æ•°æ®å†²çªï¼Œæ‰€ä»¥åœ¨è¿›è¡Œæ¯æ¬¡æ“ä½œæ—¶éƒ½è¦é€šè¿‡èŽ·å–é”æ‰èƒ½è¿›è¡Œå¯¹ç›¸åŒæ•°æ®çš„æ“ä½œï¼Œè¿™ç‚¹è·Ÿjavaä¸­çš„synchronizedå¾ˆç›¸ä¼¼ï¼Œæ‰€ä»¥æ‚²è§‚é”éœ€è¦è€—è´¹è¾ƒå¤šçš„æ—¶é—´ã€‚æ‚²è§‚é”æ˜¯ç”±æ•°æ®åº“è‡ªå·±å®žçŽ°äº†çš„ï¼Œè¦ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æŽ¥è°ƒç”¨æ•°æ®åº“çš„ç›¸å…³è¯­å¥å°±å¯ä»¥äº†ã€‚ä¸ç”¨è€ƒè™‘æ‚²è§‚é”ï¼Œå®ƒå¯¹äºŽåº”ç”¨ç¨‹åºå‘˜æ˜¯é€æ˜Žçš„ã€‚è¯´åˆ°è¿™é‡Œï¼Œç”±æ‚²è§‚é”æ¶‰åŠåˆ°çš„å¦å¤–ä¸¤ä¸ªé”æ¦‚å¿µå°±å‡ºæ¥äº†ï¼Œå®ƒä»¬å°±æ˜¯å…±äº«é”ä¸ŽæŽ’å®ƒé”ã€‚å…±äº«é”å’ŒæŽ’å®ƒé”æ˜¯æ‚²è§‚é”çš„ä¸åŒçš„å®žçŽ°ï¼Œå®ƒä¿©éƒ½å±žäºŽæ‚²è§‚é”çš„èŒƒç•´ã€‚å‚è€ƒï¼šhttps://isjinhao.github.io/2019/06-%E4%BA%8B%E5%8A%A1/#moreä¹è§‚é”é¦–å…ˆå…ˆè¯´ä¸€ä¸‹ï¼Œä¹è§‚é”ä¸æ˜¯é”ï¼Œåªæ˜¯äººä»¬éƒ½ä¹ æƒ¯è¿™æ ·å«ã€‚å¯¹äºŽä¹è§‚é”æ¥è¯´åœ¨æ“ä½œæ•°æ®æ—¶ï¼Œæ€»æ˜¯è®¤ä¸ºæ“ä½œä¸ä¼šå‡ºçŽ°æ•°æ®å†²çªï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ã€‚é‚£ä¹ˆå¦‚ä½•æŽ§åˆ¶å¹¶å‘é—®é¢˜å‘¢ï¼Ÿè¿™å…¶å®žæ˜¯åœ¨åº”ç”¨ç¨‹åºçº§å®Œæˆçš„åŠŸèƒ½ï¼Œä¸€èˆ¬æ¥è¯´å¯ä»¥ç”¨æ•°æ®ç‰ˆæœ¬ï¼ˆVersionï¼‰è®°å½•æœºåˆ¶å®žçŽ°ã€‚ä½•è°“æ•°æ®ç‰ˆæœ¬ï¼Ÿå³ä¸ºæ•°æ®å¢žåŠ ä¸€ä¸ªç‰ˆæœ¬æ ‡è¯†ï¼Œä¸€èˆ¬æ˜¯é€šè¿‡ä¸ºæ•°æ®åº“è¡¨å¢žåŠ ä¸€ä¸ªæ•°å­—ç±»åž‹çš„versionå­—æ®µæ¥å®žçŽ°ã€‚å½“è¯»å–æ•°æ®æ—¶ï¼Œå°†versionå­—æ®µçš„å€¼ä¸€åŒè¯»å‡ºï¼Œæ•°æ®æ¯æ›´æ–°ä¸€æ¬¡ï¼Œå¯¹æ­¤versionå€¼åŠ 1ã€‚å½“æˆ‘ä»¬æäº¤æ›´æ–°çš„æ—¶å€™ï¼Œåˆ¤æ–­æ•°æ®åº“è¡¨å¯¹åº”è®°å½•çš„å½“å‰ç‰ˆæœ¬ä¿¡æ¯ä¸Žç¬¬ä¸€æ¬¡å–å‡ºæ¥çš„versionå€¼è¿›è¡Œæ¯”å¯¹ï¼Œå¦‚æžœæ•°æ®åº“è¡¨å½“å‰ç‰ˆæœ¬å·ä¸Žç¬¬ä¸€æ¬¡å–å‡ºæ¥çš„versionå€¼ç›¸ç­‰ï¼Œåˆ™äºˆä»¥æ›´æ–°ï¼Œå¦åˆ™è®¤ä¸ºæ˜¯è¿‡æœŸæ•°æ®ã€‚ä¾‹æ•°æ®åº“è¡¨è®¾è®¡ï¼Œä¸‰ä¸ªå­—æ®µï¼Œåˆ†åˆ«æ˜¯idï¼Œvalueï¼Œversionã€‚æ¯æ¬¡æ›´æ–°è¡¨ä¸­çš„valueå­—æ®µæ—¶ï¼Œä¸ºäº†é˜²æ­¢å‘ç”Ÿå†²çªï¼Œéœ€è¦è¿™æ ·ä¸¤æ­¥æ“ä½œï¼š1select id,value,version from TABLE where id=#&#123;id&#125;123update TABLEset value=2,version=version+1where id=#&#123;id&#125; and version=#&#123;version&#125;;æŒ‰åŠ é”çš„ç²’åº¦åˆ†è¡¨çº§é”æ˜¯Mysqlä¸­é”å®šç²’åº¦æœ€å¤§çš„ä¸€ç§é”ï¼Œè¡¨ç¤ºå¯¹å½“å‰æ“ä½œçš„æ•´å¼ è¡¨åŠ é”ï¼Œå®ƒå®žçŽ°ç®€å•ï¼Œèµ„æºæ¶ˆè€—è¾ƒå°‘ï¼Œè¢«å¤§éƒ¨åˆ†ySQLå¼•æ“Žæ”¯æŒã€‚æœ€å¸¸ä½¿ç”¨çš„MYISAMä¸ŽINNODBéƒ½æ”¯æŒè¡¨çº§é”å®šã€‚è¡¨çº§é”å®šåˆ†ä¸ºè¡¨å…±äº«è¯»é”ï¼ˆå…±äº«é”ï¼‰ä¸Žè¡¨ç‹¬å å†™é”ï¼ˆæŽ’ä»–é”ï¼‰ã€‚ç‰¹ç‚¹æ˜¯å¼€é”€å°ï¼ŒåŠ é”å¿«ï¼›ä¸ä¼šå‡ºçŽ°æ­»é”ï¼›é”å®šç²’åº¦å¤§ï¼Œå‘å‡ºé”å†²çªçš„æ¦‚çŽ‡æœ€é«˜ï¼Œå¹¶å‘åº¦æœ€ä½Žã€‚è¡Œçº§é”è¡Œçº§é”æ˜¯Mysqlä¸­é”å®šç²’åº¦æœ€ç»†çš„ä¸€ç§é”ï¼Œè¡¨ç¤ºåªé’ˆå¯¹å½“å‰æ“ä½œçš„è¡Œè¿›è¡ŒåŠ é”ã€‚è¡Œçº§é”èƒ½å¤§å¤§å‡å°‘æ•°æ®åº“æ“ä½œçš„å†²çªã€‚å…¶åŠ é”ç²’åº¦æœ€å°ï¼Œä½†åŠ é”çš„å¼€é”€ä¹Ÿæœ€å¤§ã€‚åˆ†ä¸ºå…±äº«é”å’ŒæŽ’ä»–é”ã€‚ç‰¹ç‚¹æ˜¯å¼€é”€å¤§ï¼ŒåŠ é”æ…¢ï¼›ä¼šå‡ºçŽ°æ­»é”ï¼›é”å®šç²’åº¦æœ€å°ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚çŽ‡æœ€ä½Žï¼Œå¹¶å‘åº¦ä¹Ÿæœ€é«˜ã€‚é¡µçº§é”è¡¨çº§é”æ˜¯Mysqlä¸­é”å®šç²’åº¦ä»‹äºŽè¡Œçº§é”å’Œè¡¨çº§é”ä¸­é—´çš„ä¸€ç§é”ã€‚è¡¨çº§é”é€Ÿåº¦å¿«ï¼Œä½†å†²çªå¤šï¼Œè¡Œçº§å†²çªå°‘ï¼Œä½†é€Ÿåº¦æ…¢ã€‚æ‰€ä»¥å–äº†æŠ˜è¡·çš„é¡µçº§ï¼Œä¸€æ¬¡é”å®šç›¸é‚»çš„ä¸€ç»„è®°å½•ã€‚BDBæ”¯æŒé¡µçº§é”ã€‚ç‰¹ç‚¹æ˜¯å¼€é”€å’ŒåŠ é”æ—¶é—´ç•ŒäºŽè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼›ä¼šå‡ºçŽ°æ­»é”ï¼›é”å®šç²’åº¦ç•ŒäºŽè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼Œå¹¶å‘åº¦ä¸€èˆ¬ã€‚å­˜å‚¨å¼•æ“Žå‚è€ƒï¼šhttps://isjinhao.github.io/2019/09-Mysql%E7%BB%93%E6%9E%84%E5%92%8C%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/#more]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[09-ç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†]]></title>
    <url>%2F2019%2F09-%E7%A3%81%E7%9B%98%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E7%AE%A1%E7%90%86%2F</url>
    <content type="text"><![CDATA[æ–‡ä»¶ç®¡ç†çš„ç›®æ ‡æ˜¯ç®¡ç†æ–‡ä»¶çš„ç»„ç»‡æ–¹å¼ï¼Œç®¡ç†æ–‡ä»¶çš„è®¿é—®æƒç­‰ã€‚è€Œç£ç›˜å­˜å‚¨å™¨çš„ç®¡ç†æ˜¯ç®¡ç†å­˜å‚¨å™¨çš„ä½¿ç”¨ï¼Œå¦‚ä½•é«˜æ•ˆåˆ©ç”¨å­˜å‚¨å™¨ã€‚ä»–ä¿©æ˜¯æ£‹ä¸Žæ£‹ç›˜çš„å…³ç³»ã€‚è¿žç»­ç»„ç»‡æ–¹å¼æ–‡ä»¶çš„ä¿¡æ¯å­˜æ”¾åœ¨è‹¥å¹²è¿žç»­çš„ç‰©ç†å—ä¸­ã€‚ä¼˜ç‚¹ç®€å•æ”¯æŒé¡ºåºå­˜å–å’Œéšæœºå­˜å–é¡ºåºå­˜å–é€Ÿåº¦å¿«ï¼Œæ‰€éœ€çš„ç£ç›˜å¯»é“æ¬¡æ•°å’Œå¯»é“æ—¶é—´æœ€å°‘ç¼ºç‚¹æ–‡ä»¶ä¸èƒ½åŠ¨æ€å¢žé•¿ï¼ˆé¢„ç•™ç©ºé—´ï¼šæµªè´¹ã€é‡æ–°åˆ†é…å’Œç§»åŠ¨ï¼‰ä¸åˆ©äºŽæ–‡ä»¶æ’å…¥å’Œåˆ é™¤å¤–éƒ¨ç¢Žç‰‡é—®é¢˜é“¾æŽ¥ç»„ç»‡æ–¹å¼éšå¼é“¾æŽ¥åœ¨æ–‡ä»¶çš„ç›®å½•ä¸­è®°å½•è¯¥æ–‡ä»¶çš„ç¬¬ä¸€å’Œæœ€åŽä¸€ä¸ªç›˜å—çš„æŒ‡é’ˆï¼Œæ¯ä¸€ä¸ªç›˜å—çš„æŒ‡é’ˆæŒ‡å‘æ–‡ä»¶çš„ä¸‹ä¸€ç‰©ç†å—å·ã€‚ä¼˜ç‚¹æ–‡ä»¶å¯åŠ¨æ€å¢žé•¿æœ‰åˆ©äºŽæ–‡ä»¶çš„æ’å…¥å’Œåˆ é™¤æé«˜äº†ç£ç›˜ç©ºé—´åˆ©ç”¨çŽ‡,ä¸å­˜åœ¨å¤–éƒ¨ç¢Žç‰‡é—®é¢˜ç¼ºç‚¹å­˜å–é€Ÿåº¦æ…¢ï¼Œä¸é€‚äºŽéšæœºå­˜å–å¯é æ€§é—®é¢˜ï¼Œå¦‚æŒ‡é’ˆå‡ºé”™æ›´å¤šçš„å¯»é“æ¬¡æ•°å’Œå¯»é“æ—¶é—´é“¾æŽ¥æŒ‡é’ˆå ç”¨ä¸€å®šçš„ç©ºé—´æ˜¾ç¤ºé“¾æŽ¥å°†é“¾æŽ¥æ–‡ä»¶å„ç‰©ç†å—çš„æŒ‡é’ˆæ˜¾ç¤ºåœ°æ”¾åœ¨å†…å­˜çš„ä¸€å¼ é“¾æŽ¥è¡¨ï¼ˆæ–‡ä»¶åˆ†é…è¡¨ï¼ŒFile Allocation Tableï¼‰ä¸­ã€‚åœ¨FCBçš„ç‰©ç†åœ°å€ä¸­å¡«å†™å…¶é¦–æŒ‡é’ˆæ‰€å¯¹åº”çš„ç›˜å—å·ã€‚ç”±äºŽæ–‡ä»¶åˆ†é…è¡¨ç¤ºå­˜å‚¨åœ¨å†…å­˜ä¸­çš„ï¼Œå¯ä»¥å¤§å¤§å‡å°‘è®¿é—®ç£ç›˜çš„æ¬¡æ•°ã€‚FATå¾®è½¯å…¬å¸æ—©ã€ä¸­æœŸæŽ¨å‡ºçš„æ“ä½œç³»ç»Ÿä¸€ç›´éƒ½æ˜¯é‡‡ç”¨çš„FATæŠ€æœ¯ï¼Œå³åˆ©ç”¨æ–‡ä»¶åˆ†é…è¡¨FATæ¥è®°å½•æ¯ä¸ªæ–‡ä»¶ä¸­æ‰€æœ‰ç›˜å—ä¹‹é—´çš„é“¾æŽ¥ã€‚FATä¸­å¼•å…¥äº†â€œå·â€çš„æ¦‚å¿µï¼Œæ”¯æŒå°†ä¸€ä¸ªç‰©ç†ç£ç›˜åˆ†æˆå››ä¸ªé€»è¾‘ç£ç›˜ï¼Œæ¯ä¸ªé€»è¾‘ç£ç›˜å°±æ˜¯ä¸€ä¸ªå·ï¼ˆä¹Ÿç§°ä¸ºåˆ†åŒºï¼‰ï¼Œæ¯ä¸ªå·éƒ½å¯ä»¥è¢«å•ç‹¬æ ¼å¼åŒ–å’Œä½¿ç”¨ã€‚æŠŠç›˜å—ä½œä¸ºåŸºæœ¬åˆ†é…å•ä½ï¼ŒåŒæ—¶æ¯ä¸ªåˆ†åŒºä¸­éƒ½é…æœ‰ä¸¤å¼ ç›¸åŒçš„æ–‡ä»¶åˆ†é…è¡¨FAT1å’ŒFAT2ã€‚FATæŠ€æœ¯çš„å‘å±•æœ‰ä¸‰ä¸ªé˜¶æ®µï¼šFAT12ã€FAT16å’ŒFAT32FAT12FATè¡¨çš„æ¯ä¸ªè¡¨é¡¹å ç”¨12ä¸ªbitã€‚æ‰€ä»¥æœ€å¤šæœ‰$2^{12}$ä¸ªè¡¨é¡¹ï¼Œæ¯ä¸ªç›˜å—çš„å¤§å°æ˜¯512Bï¼Œåˆ™æ¯ä¸ªç£ç›˜åˆ†åŒºçš„å®¹é‡æ˜¯2MBï¼Œèƒ½å¤„ç†çš„ç£ç›˜æœ€å¤§å®¹é‡æ˜¯8MBã€‚ä¸ºäº†å¢žå¤§FATèƒ½ç®¡ç†çš„æœ€å¤§å®¹é‡ï¼Œå¼•å…¥äº†â€œç°‡â€çš„æ¦‚å¿µï¼Œæ¯ä¸ªç°‡æ˜¯ä¸€ç»„ç›¸é‚»çš„æ‰‡åŒºï¼Œè¿™æ ·å¦‚æžœåˆ†é…æ—¶ä»¥ç°‡ä¸ºå•ä½è¿›è¡Œåˆ†é…å°±èƒ½ç®¡ç†æ›´å¤§çš„ç£ç›˜å®¹é‡ï¼Œä½†æ˜¯ç›¸åº”çš„ç°‡å†…é›¶å¤´ä¹Ÿä¼šæ›´å¤§ï¼Œé™ä½Žç£ç›˜çš„åˆ©ç”¨çŽ‡ã€‚FAT16FATè¡¨çš„æ¯ä¸ªè¡¨é¡¹å ç”¨16ä¸ªbitã€‚æœ€å¤šæœ‰$2^{16}$ä¸ªè¡¨é¡¹ã€‚FAT32FATè¡¨çš„æ¯ä¸ªè¡¨é¡¹å ç”¨16ä¸ªbitã€‚æœ€å¤šæœ‰$2^{32}$ä¸ªè¡¨é¡¹ã€‚åŒæ—¶æ¯ä¸ªç°‡å›ºå®šä¸º4KBã€‚æ‰€ä»¥æœ€å¤§å¯ç®¡ç†$4 \ast 2^{10} \ast 2^{32} = 2TB$å¤§å°çš„ç©ºé—´ã€‚NTFSç´¢å¼•ç»„ç»‡æ–¹å¼å•çº§ç´¢å¼•ç»„ç»‡æ–¹å¼ä¸€ä¸ªæ–‡ä»¶çš„ä¿¡æ¯å­˜æ”¾åœ¨è‹¥å¹²ä¸è¿žç»­ç‰©ç†å—ä¸­ï¼Œç³»ç»Ÿä¸ºæ¯ä¸ªæ–‡ä»¶å»ºç«‹ä¸€ä¸ªä¸“ç”¨æ•°æ®ç»“æž„ç´¢å¼•è¡¨ï¼Œå¹¶å°†è¿™äº›å—çš„å—å·å­˜æ”¾åœ¨ä¸€ä¸ªç´¢å¼•è¡¨ä¸­ã€‚ä¸€ä¸ªç´¢å¼•è¡¨å°±æ˜¯ç£ç›˜å—åœ°å€æ•°ç»„ï¼Œå…¶ä¸­ç¬¬iä¸ªæ¡ç›®æŒ‡å‘æ–‡ä»¶çš„ç¬¬iå—ã€‚Â·### å¤šçº§ç´¢å¼•ç»„ç»‡æ–¹å¼å¢žé‡å¼ç´¢å¼•ç»„ç»‡æ–¹å¼å¯ä»¥æ›´å¥½çš„æ»¡è¶³å¤§ã€ä¸­ã€å°æ–‡ä»¶çš„ç»„ç»‡ã€‚æ–‡ä»¶å­˜å‚¨ç©ºé—´çš„ç®¡ç†æ–‡ä»¶å­˜å‚¨ç©ºé—´çš„ç®¡ç†åŒ…æ‹¬ç©ºé—²å—çš„ç»„ç»‡åˆ†é…å’Œå›žæ”¶ã€‚ç©ºé—²è¡¨æ³•æŠŠä¸€ä¸ªè¿žç»­æœªåˆ†é…åŒºåŸŸç§°ä¸ºâ€œç©ºé—²æ–‡ä»¶â€ï¼Œç³»ç»Ÿä¸ºæ‰€æœ‰ç©ºé—²æ–‡ä»¶å•ç‹¬å»ºç«‹ä¸€ä¸ªç›®å½•ã€‚è¡¨ç›®å†…å®¹ï¼šåºå·ï¼Œç¬¬ä¸€ä¸ªç©ºç™½å—å·ï¼Œç©ºç™½å—ä¸ªæ•°ã€‚åˆ†é…ç®—æ³•ï¼šå†…å­˜ç®¡ç†ä¸­çš„é¦–æ¬¡é€‚åº”ç®—æ³•ã€å¾ªçŽ¯é¦–æ¬¡é€‚åº”ç®—æ³•ã€‚åˆå¹¶ï¼šç©ºé—²åŒºé‚»æŽ¥åˆå¹¶ç©ºé—²é“¾è¡¨æ³•ç©ºé—²ç›˜å—é“¾ï¼šæ‰€æœ‰ç©ºé—²ç›˜å—æ‹‰æˆä¸€æ¡é“¾ï¼Œåˆ†é…æ—¶ä»Žå¤´åˆ†é…ï¼Œå›žæ”¶æ—¶é“¾æŽ¥åœ¨å°¾éƒ¨ã€‚ç©ºé—²ç›˜åŒºé“¾ï¼šæ¯ä¸ªè¿žç»­çš„ç›˜å—ç»„æˆä¸€ä¸ªç›˜åŒºï¼Œæ¯ä¸ªç›˜åŒºåŒ…å«æœ¬ç›˜åŒºçš„å¤§å°å’Œä¸‹ä¸€ä¸ªç›˜åŒºçš„åœ°å€ã€‚ä½ç¤ºå›¾æ³•ç”¨ä¸€ä¸²äºŒè¿›åˆ¶ä½åæ˜ ç£ç›˜ç©ºé—´ä¸­åˆ†é…ä½¿ç”¨æƒ…å†µï¼Œæ¯ä¸ªç‰©ç†å—å¯¹åº”ä¸€ä½ï¼Œåˆ†é…ç‰©ç†å—ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚ç”³è¯·ç‰©ç†å—æ—¶ï¼Œå¯ä»¥åœ¨ä½ç¤ºå›¾ä¸­æŸ¥æ‰¾ä¸º0çš„ä½ï¼Œè¿”å›žå¯¹åº”ç‰©ç†å—å·ï¼›å½’è¿˜æ—¶ï¼›å°†å¯¹åº”ä½è½¬ç½®0ã€‚æˆç»„é“¾æŽ¥æ³•ï¼ˆé‡ç‚¹ï¼‰æŠŠæ‰€æœ‰çš„ç©ºé—²ç›˜å—æŒ‰æ¯nä¸ªä¸€ç»„åˆ†æˆmä¸ªç»„ã€‚æœ€åŽä¸€ä¸ªç»„æ”¾åœ¨å†…å­˜çš„ç©ºé—²ç›˜å—å·æ ˆä¸­ï¼Œå…¶ä»–ç»„å­˜åœ¨å¤–å­˜ä¸Šã€‚ç©ºé—²ç›˜å—å·æ ˆæ˜¯ä¸€ä¸ªä¸´ç•Œèµ„æºï¼Œåªå…è®¸ä¸€ä¸ªè¿›ç¨‹åŒæ—¶è®¿é—®ã€‚æ•°æ®ç»“æž„ï¼Œä¸€ä¸ªsizeä¸ºn+1çš„æ ˆã€‚å›¾ä¸Šæ˜¯ä¸€ä¸ªå€’ç€çš„çš„æ ˆï¼ˆæ ˆåº•åœ¨ä¸Šæ–¹ï¼Œæ ˆé¡¶åœ¨ä¸‹æ–¹ï¼‰ä¸€ä¸ªn+1çš„æ ˆå®žé™…å¯ç”¨ç›˜å—åªæœ‰nï¼ˆå›¾ä¸Šåªæœ‰99ä¸ªå¯ç”¨ç›˜å—ï¼‰ï¼Œå› ä¸ºæ ˆåº•æ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼ŒæŒ‡ç¤ºå½“å‰æœ‰å¤šå°‘ä¸ªå¯ç”¨ç›˜å—ï¼Œä½†æ˜¯å¯ç”¨ç›˜å—ä¸­æœ‰ä¸€ä¸ªæ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ªç»„ï¼Œå³stack[1]æŒ‡å‘ä¸‹ä¸€ä¸ªç»„ã€‚å¦‚æžœstack[1]==0è¡¨ç¤ºæ­¤æ—¶æ˜¯æœ€åŽä¸€ç»„ã€‚åˆ†é…æ—¶ä»Žæ ˆé¡¶å¼€å§‹å‘ä¸‹åˆ†é…ï¼Œç›´è‡³åˆ†é…å‡ºn-1ä¸ªç›˜å—ï¼Œæ­¤æ—¶å¦‚æžœå†æƒ³åˆ†é…ä¸€ä¸ªå—å°±éœ€è¦æŠŠä¸‹ä¸€ä¸ªç»„è°ƒå…¥ç©ºé—²ç›˜å—å·æ ˆã€‚è°ƒå…¥åŽæ–°ç»„è¦†ç›–æ—§ç»„ã€‚ç„¶åŽæŠŠæ–°ç»„åœ¨å¤–å­˜ä¸­å ç”¨çš„ç›˜å—åˆ†é…å‡ºåŽ»ã€‚å›žæ”¶æ—¶ä»Žæ ˆåº•å‘ä¸Šå›žæ”¶ï¼Œå¦‚æžœè®¡æ•°å™¨==100æ—¶è¿˜æœ‰ç©ºé—²ç›˜å—ï¼ˆè®¾è¿™ä¸ªç›˜å—ç¼–å·ä¸ºpï¼‰è¦å›žæ”¶ï¼Œå°±æŠŠç©ºé—²ç›˜å—å·æ ˆå†…çš„ç»„å–å‡ºæ¥å­˜åœ¨pä¸­ï¼Œåœ¨ç©ºé—²ç›˜å—å·æ ˆå†…æ–°å¼€è¾Ÿä¸€ä¸ªç»„ï¼Œæ–°ç»„çš„stack[1]æŒ‡å‘pã€‚ä¾‹æ­¤é¢˜é¢˜ç›®åŠæ¥æºï¼šhttps://blog.csdn.net/ajay666/article/details/73569654åˆ†é…3ä¸ªç›˜å—åŽï¼Œå›žæ”¶å®ƒæ‰€å çš„5ä¸ªç›˜å—ï¼Œå›žæ”¶çš„ç›˜å—å·ä¾æ¬¡ä¸º700ã€711ã€703ã€788ã€701ï¼Œç”»å‡ºåˆ†é…å›žæ”¶è¿‡ç¨‹ã€‚ç¬¬ä¸€æ¬¡åˆ†é…ç¬¬äºŒæ¬¡åˆ†é…æ³¨æ„ï¼š300å·ç›˜å—ä¸­å­˜å‚¨çš„ç»„ä¿¡æ¯è°ƒå…¥ç©ºé—²ç›˜å—å·æ ˆä¹‹åŽå…¶è‡ªå·±ä¹Ÿå¯ä»¥è¢«åˆ†é…ã€‚ç¬¬ä¸‰æ¬¡åˆ†é…ç¬¬ä¸€æ¬¡å›žæ”¶ç¬¬äºŒæ¬¡å›žæ”¶ç¬¬ä¸‰æ¬¡&amp;ç¬¬å››æ¬¡&amp;ç¬¬äº”æ¬¡å›žæ”¶]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸ºä»€ä¹ˆç¡¬é“¾æŽ¥ä¸èƒ½ä½œç”¨äºŽç›®å½•]]></title>
    <url>%2F2019%2F%E4%B8%BA%E4%BB%80%E4%B9%88%E7%A1%AC%E9%93%BE%E6%8E%A5%E4%B8%8D%E8%83%BD%E4%BD%9C%E7%94%A8%E4%BA%8E%E7%9B%AE%E5%BD%95%2F</url>
    <content type="text"><![CDATA[ç¬”è€…æœ€åˆé‡è§è¿™ä¸ªé—®é¢˜çš„æ—¶å€™æ˜¯å› ä¸ºçŸ¥é“äº†åœ¨Linuxç³»ç»Ÿä¸­ï¼Œç›®å½•å…¶å®žä¹Ÿæ˜¯ä¸€ç§æ–‡ä»¶ï¼Œåªä¸è¿‡æ˜¯ä¸€ç§æ¯”è¾ƒç‰¹æ®Šçš„æ–‡ä»¶ï¼Œæ—¢ç„¶éƒ½æ˜¯æ–‡ä»¶ï¼Œé‚£ä¸ºä»€ä¹ˆä¸èƒ½å¯¹å®ƒåšç¡¬é“¾æŽ¥å‘¢ï¼Ÿæƒ³å¼„æ˜Žç™½è¿™ä¸ªï¼Œå°±éœ€è¦çŸ¥é“ä¸¤ä¸ªçŸ¥è¯†ï¼Œç›®å½•å’Œæ–‡ä»¶å…±äº«ã€‚å› ä¸ºé“¾æŽ¥çš„ç›®çš„å°±æ˜¯è¦å®žçŽ°æ–‡ä»¶å…±äº«ã€‚é€šå¸¸å¯ä»¥å®šä¹‰ä¸ºæ–‡ä»¶æŽ§åˆ¶å—ï¼ˆFCBï¼‰çš„æœ‰åºé›†åˆã€‚ä½†æ˜¯å¹¶ä¸æ˜¯è¯´ç›®å½•ä¸­çš„æ¯ä¸€ä¸ªç›®å½•é¡¹éƒ½æ˜¯ä¸€ä¸ªFCBï¼Œåªèƒ½æ˜¯æ¯ä¸€ä¸ªç›®å½•é¡¹éƒ½èƒ½å”¯ä¸€ç¡®å®šä¸€ä¸ªFCBã€‚è¿™æ˜¯ç”±äºŽå¦‚æžœæ¯ä¸ªç›®å½•é¡¹éƒ½æ˜¯FCBä¼šå¼•èµ·æ–‡ä»¶å…±äº«é—®é¢˜ã€‚æ¯”å¦‚ä¸‹å›¾ï¼šå¯¹äºŽæ–‡ä»¶F8ï¼ŒD5:pã€D6:eã€D3:péƒ½ä¿å­˜äº†F8çš„ç‰©ç†åœ°å€ï¼Œå³ä»ŽæŸä¸ªç›˜å—å¼€å§‹ï¼Œæ€»é•¿åº¦å¤šå°‘ç­‰ã€‚æ­¤æ—¶å¦‚æžœD6:eå¯¹F8è¿›è¡Œäº†åˆ é™¤æ“ä½œï¼ŒD5:på’ŒD3:Péƒ½æ— æ³•å¯Ÿè§‰ï¼Œä»ç„¶ä¼šè®¤ä¸ºåœ¨å®ƒä»¬å­˜å‚¨çš„ä½ç½®ä¸Šæœ‰æ–‡ä»¶ï¼Œå³ä¸€ä¸ªç›®å½•é¡¹å¯¹æ–‡ä»¶çš„æ“ä½œå¯¹å…¶ä»–ç›®å½•é¡¹æ¥è¯´æ˜¯ä¸å¯è§çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼•å…¥ç´¢å¼•èŠ‚ç‚¹ã€‚å°†æ–‡ä»¶çš„ç‰©ç†åœ°å€å’Œå…¶ä»–çš„å±žæ€§æ”¾åœ¨ç´¢å¼•ç»“ç‚¹ä¸­ï¼Œåªåœ¨ç›®å½•é¡¹ä¸­å­˜æ”¾æ–‡ä»¶åå’ŒæŒ‡å‘ç´¢å¼•ç»“ç‚¹çš„æŒ‡é’ˆã€‚ä»»ä½•ç”¨æˆ·å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œå¼•èµ·ç›¸åº”ç´¢å¼•ç»“ç‚¹å†…å®¹çš„æ”¹å˜ã€‚æ­¤ç§æ–¹æ³•å³Linuxä¸­çš„ç¡¬é“¾æŽ¥ã€‚æ‰€ä»¥å¦‚æžœæˆ‘ä»¬å¯¹æ–‡ä»¶åšç¡¬é“¾æŽ¥ï¼Œæ¯”å¦‚å¯¹Test råšç¡¬é“¾æŽ¥ç”ŸæˆthirdHardLinkï¼Œé‚£ä¹ˆå°±æ˜¯thirdHardLinkçš„æŒ‡é’ˆæŒ‡å‘ç´¢å¼•èŠ‚ç‚¹ï¼Œç´¢å¼•èŠ‚ç‚¹çš„countä¿®æ”¹ä¸º3ã€‚Linuxé™åˆ¶äº†å¯¹ç›®å½•åšç¡¬é“¾æŽ¥ï¼Œé‚£ä¹ˆå‡å¦‚æˆ‘ä»¬æ˜¯è®¾è®¡è€…ï¼Œæƒ³å¯¹ä¸€ä¸ªç›®å½•åšç¡¬é“¾æŽ¥å¯ä»¥æ€Žä¹ˆåšå‘¢ï¼Ÿç¬¬ä¸€ç§æ–¹æ³•æ˜¯æŠŠå¯¹ç›®å½•ç”Ÿæˆçš„ç¡¬é“¾æŽ¥å•ç‹¬ä½œä¸ºä¸€ç§æ–‡ä»¶ç±»åž‹ï¼Œå¦‚æžœæˆ‘ä»¬æƒ³ä½¿ç”¨ç›®å½•ä¸­çš„æŸä¸ªæ–‡ä»¶æ—¶ï¼Œæ“ä½œç³»ç»Ÿçš„å¤„ç†æ­¥éª¤æ˜¯HardLinkDir-&gt;Dir-&gt;æŒ‡å‘ç´¢å¼•èŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡é’ˆ-&gt;ç´¢å¼•èŠ‚ç‚¹ã€‚å¯ä»¥çœ‹å‡ºæ­¤ç§æ–¹æ³•çš„ä»£ä»·å¾ˆå¤§ã€‚ç¬¬äºŒç§æ–¹æ³•æ˜¯æŠŠç›®å½•çš„æ¯ä¸ªç›®å½•é¡¹æ‹·è´ä¸€ä»½ï¼Œä½†è¿™æ ·ä¸å°±æ˜¯æ‹·è´cpäº†å—ï¼Œæ²¡æœ‰å¿…è¦å†å®žçŽ°å¯¹ç›®å½•çš„ç¡¬é“¾æŽ¥äº†ã€‚ç¬¬ä¸‰ç§æ–¹æ³•æ˜¯æŠŠæ¯ä¸ªç›®å½•é¡¹çš„æ–‡ä»¶åæ‹·è´ä¸€ä»½ï¼ŒHardLinkçš„æŒ‡é’ˆæŒ‡å‘åŽŸç›®å½•é¡¹çš„æŒ‡é’ˆä½ç½®ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•ä¹Ÿéœ€è¦æŠŠå¯¹ç›®å½•ç”Ÿæˆçš„ç¡¬é“¾æŽ¥å•ç‹¬ä½œä¸ºä¸€ç§æ–‡ä»¶ç±»åž‹ï¼Œä»£ä»·å¾ˆå¤§ã€‚]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[08-æ–‡ä»¶ç®¡ç†]]></title>
    <url>%2F2019%2F08-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%2F</url>
    <content type="text"><![CDATA[æ–‡ä»¶ç®¡ç†æ¦‚è¿°è®¡ç®—æœºä¸­æœ‰å¾ˆå¤šçš„ç¨‹åºå’Œæ•°æ®éƒ½æ˜¯ä¿å­˜åœ¨å¤–å­˜ä¸­ï¼Œåœ¨éœ€è¦ä½¿ç”¨çš„æ—¶å€™æ‰è°ƒå…¥å†…å­˜ä¸­ã€‚è€Œå¦‚ä½•ä¿å­˜è¿™äº›ä¿¡æ¯æ˜¯å¾ˆé‡è¦çš„é—®é¢˜ï¼Œå› ä¸ºä¸åŒç±»åž‹çš„æ–‡ä»¶å­˜å‚¨çš„æ•°æ®æ ¼å¼ä¸åŒï¼Œä½†è¿™äº›æ ¼å¼å´å¿…é¡»â€œè¿Žåˆâ€ç¡¬ä»¶åªèƒ½å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®çš„ç¡¬æ€§æ¡ä»¶ã€‚æ‰€ä»¥æ“ä½œç³»ç»Ÿæä¾›äº†æ–‡ä»¶ç®¡ç†çš„åŠŸèƒ½ï¼Œè®©ä½¿ç”¨è€…èƒ½åœ¨ä¸äº†è§£æ–‡ä»¶ç‰¹æ€§å’Œå¤–å­˜ç‰¹æ€§çš„æƒ…å†µä¸‹å®Œæˆæ–‡ä»¶çš„å­˜å‚¨å’ŒæŸ¥æ‰¾ç­‰åŠŸèƒ½ã€‚åŒæ—¶è¿˜æä¾›äº†æ–‡ä»¶å…±äº«å’Œå®‰å…¨ç®¡ç†ç­‰åŠŸèƒ½ã€‚æ–‡ä»¶ç³»ç»Ÿ &amp; æ–‡ä»¶æ“ä½œç³»ç»Ÿä¸­è´Ÿè´£ç®¡ç†å’Œå­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„è½¯ä»¶ç§°ä¸ºæ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œç®€ç§°æ–‡ä»¶ç³»ç»Ÿã€‚åŒ…å«ï¼šæ–‡ä»¶ç³»ç»Ÿçš„æŽ¥å£ï¼Œå¯¹å¯¹è±¡æ“çºµå’Œç®¡ç†çš„è½¯ä»¶é›†åˆï¼Œå¯¹è±¡åŠå±žæ€§ä¸‰éƒ¨åˆ†ã€‚å®ƒè´Ÿè´£å¯¹æ–‡ä»¶å­˜å‚¨è®¾å¤‡çš„ç©ºé—´è¿›è¡Œç»„ç»‡å’Œåˆ†é…ï¼Œè´Ÿè´£æ–‡ä»¶å­˜å‚¨å¹¶å¯¹å­˜å…¥çš„æ–‡ä»¶è¿›è¡Œä¿æŠ¤å’Œæ£€ç´¢çš„ç³»ç»Ÿã€‚åŒ…å«åˆ›å»ºæ–‡ä»¶ã€åˆ é™¤æ–‡ä»¶ç­‰åŠŸèƒ½ã€‚æ–‡ä»¶æ˜¯æŒ‡å…·æœ‰æ–‡ä»¶åçš„è‹¥å¹²ç›¸å…³å…ƒç´ çš„é›†åˆï¼Œå¯ä»¥åˆ†æˆæœ‰ç»“æž„æ–‡ä»¶å’Œæ— ç»“æž„æ–‡ä»¶ï¼Œæ— ç»“æž„æ–‡ä»¶å¯ä»¥çœ‹æˆä¸€ä¸ªå­—ç¬¦æµã€‚æœ‰ç»“æž„æ–‡ä»¶æ˜¯ç”±ä¸€ç»„è®°å½•çš„é›†åˆï¼Œè®°å½•åˆæ˜¯ä¸€ç»„æ•°æ®é¡¹çš„é›†åˆã€‚æ•°æ®é¡¹ï¼šç”¨æ¥æè¿°ä¸€ä¸ªå¯¹è±¡çš„æŸç§å±žæ€§çš„å­—ç¬¦é›†ã€‚ä¾‹å¦‚å­¦ç”Ÿçš„å­¦å·ã€å§“åç­‰ã€‚è®°å½•ï¼šä¸€ç»„æ•°æ®é¡¹çš„é›†åˆï¼Œç”¨æ¥æè¿°ä¸€ä¸ªå¯¹è±¡åœ¨æŸæ–¹é¢çš„å±žæ€§ï¼Œä¾‹å¦‚å­¦ç”Ÿçš„æˆç»©ã€‚èƒ½å”¯ä¸€æ ‡è¯†ä¸€ä¸ªè®°å½•çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®é¡¹å«åšå…³é”®å­—ã€‚æ–‡ä»¶ç±»åž‹ä¸åŒçš„æ–‡ä»¶ç±»åž‹ç”±äºŽæœ¬èº«å­˜å‚¨çš„ä¿¡æ¯å…·æœ‰ä¸åŒçš„ç»“æž„ï¼Œåœ¨ç®¡ç†çš„æ—¶å€™ä¹Ÿæ˜¯ä¸åŒã€‚æ‰€ä»¥æ–‡ä»¶ä¼šè¢«åˆ†æˆå¾ˆå¤šç±»åž‹ï¼Œä¸‹é¢æ˜¯å¸¸ç”¨çš„æ–‡ä»¶åˆ†ç±»æ–¹æ³•ï¼šæŒ‰ç”¨é€”åˆ†ç±»ï¼šç³»ç»Ÿæ–‡ä»¶ã€åº“æ–‡ä»¶ã€ç”¨æˆ·æ–‡ä»¶ã€‚æŒ‰æ–‡ä»¶ä¸­æ•°æ®çš„å½¢å¼åˆ†ç±»ï¼šæºæ–‡ä»¶ã€ç›®æ ‡æ–‡ä»¶ã€å¯æ‰§è¡Œæ–‡ä»¶ã€‚æŒ‰å­˜å‚¨æŽ§åˆ¶å±žæ€§åˆ†ç±»ï¼šå¯è¯»ã€å¯å†™ã€å¯æ‰§è¡Œæ–‡ä»¶ã€‚æŒ‰ç»„ç»‡å½¢å¼å’Œå¤„ç†æ–¹æ³•åˆ†ç±»ï¼šæ™®é€šæ–‡ä»¶ã€ç›®å½•æ–‡ä»¶ã€ç‰¹æ®Šæ–‡ä»¶ã€‚å‰–æžæ–‡ä»¶å’Œç›®å½•æˆ‘ä»¬åˆšæ‰åœ¨å®šä¹‰ä¸­è¯´é“ï¼Œæ–‡ä»¶æ˜¯æŒ‡å…·æœ‰æ–‡ä»¶åçš„è‹¥å¹²ç›¸å…³å…ƒç´ çš„é›†åˆï¼Œåœ¨æœ‰ç»“æž„æ–‡ä»¶ä¸­è¿™äº›å…ƒç´ æ˜¯æ•°æ®é¡¹é›†åˆçš„é›†åˆï¼Œåœ¨æ— ç»“æž„æ–‡ä»¶æŒ‡çš„æ˜¯å­—ç¬¦æµã€‚æ‰€ä»¥æ–‡ä»¶çš„æ¦‚å¿µä¸­æœ¬èº«æ˜¯ï¼šæ–‡ä»¶ç³»ç»Ÿçš„å±‚æ¬¡ç»“æž„æ–‡ä»¶ç³»ç»Ÿä»Žåº•å±‚åˆ°é«˜å±‚å¯åˆ†æˆä¸‰éƒ¨åˆ†ï¼šå¯¹è±¡åŠå…¶å±žæ€§ã€å¯¹å¯¹è±¡æ“çºµå’Œç®¡ç†çš„è½¯ä»¶é›†åˆã€æ–‡ä»¶ç³»ç»ŸæŽ¥å£ï¼šå¯¹è±¡åŠå…¶å±žæ€§ï¼šæ–‡ä»¶ç®¡ç†ç³»ç»Ÿç®¡ç†çš„æ–‡ä»¶å¦‚ä¸‹ï¼šæ–‡ä»¶ï¼šåœ¨æ–‡ä»¶ç®¡ç†ç³»ç»Ÿä¸­æœ‰ç€å„ç§ä¸åŒç±»åž‹çš„æ–‡ä»¶ï¼Œå®ƒä»¬éƒ½ä½œä¸ºæ–‡ä»¶ç®¡ç†çš„ç›´æŽ¥å¯¹è±¡ã€‚ç›®å½•ï¼šç”¨äºŽå¯¹æ–‡ä»¶çš„å­˜å‚¨å’Œæ£€ç´¢ï¼Œç›®å½•çš„æ¯ä¸ªç›®å½•é¡¹åŒ…å«äº†ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„ä¿¡æ¯ã€‚ç£ç›˜å­˜å‚¨ç©ºé—´ï¼šæ–‡ä»¶å’Œç›®å½•å¿…å®šå ç”¨å­˜å‚¨ç©ºé—´ï¼Œå¯¹è¿™éƒ¨åˆ†ç©ºé—´çš„æœ‰æ•ˆç®¡ç†ä¸ä»…èƒ½æé«˜å¤–å­˜çš„åˆ©ç”¨çŽ‡ï¼Œè€Œä¸”èƒ½æé«˜å¯¹æ–‡ä»¶çš„å­˜å–é€Ÿåº¦ã€‚å¯¹å¯¹è±¡æ“çºµå’Œç®¡ç†çš„è½¯ä»¶é›†åˆï¼šè¯¥å±‚æ˜¯æ–‡ä»¶ç®¡ç†ç³»ç»Ÿçš„æ ¸å¿ƒéƒ¨åˆ†ã€‚æ–‡ä»¶ç³»ç»Ÿçš„åŠŸèƒ½å¤§å¤šæ˜¯åœ¨è¿™ä¸€å±‚å®žçŽ°çš„ã€‚å¦‚ï¼šæ–‡ä»¶å­˜å‚¨çš„ç®¡ç†ã€æ–‡ä»¶ç›®å½•çš„ç®¡ç†ã€å°†æ–‡ä»¶çš„é€»è¾‘åœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€çš„æœºåˆ¶ã€æ–‡ä»¶è¯»å†™æŽ§åˆ¶çš„ç®¡ç†ã€æ–‡ä»¶çš„å…±äº«å’Œä¿æŠ¤ç­‰åŠŸèƒ½ã€‚è¿™äº›åŠŸèƒ½è¢«å¯åˆ†ä¸ºå››å±‚ï¼šI/OæŽ§åˆ¶å±‚ï¼šæ–‡ä»¶ç³»ç»Ÿçš„æœ€åº•å±‚ã€ä¸»è¦ç”±ç£ç›˜é©±åŠ¨ç¨‹åºç­‰ç»„æˆã€‚åŸºæœ¬æ–‡ä»¶ç³»ç»Ÿå±‚ï¼šä¸»è¦ç”¨äºŽå¤„ç†å†…å­˜å’Œç£ç›˜ä¹‹é—´æ•°æ®å—çš„äº¤æ¢ã€‚åŸºæœ¬I/Oç®¡ç†ç¨‹åºï¼šå®Œæˆä¸Žç£ç›˜I/Oæœ‰å…³çš„äº‹åŠ¡ï¼Œå¦‚å°†æ–‡ä»¶çš„é€»è¾‘å—å·è½¬æ¢ä¸ºç‰©ç†å—å·ã€ç®¡ç†ç£ç›˜ä¸­çš„ç©ºé—²ç›˜å—ã€I/Oç¼“å†²çš„æŒ‡å®šç­‰ã€‚é€»è¾‘æ–‡ä»¶ç³»ç»Ÿï¼šç®¡æŽ§å¯¹æ–‡ä»¶çš„æ“ä½œï¼Œå¦‚æŽ§åˆ¶ç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºå¯¹æ–‡ä»¶çš„è¯»å†™ç­‰ã€‚æ–‡ä»¶ç³»ç»Ÿçš„æŽ¥å£ï¼šæ“ä½œç³»ç»Ÿæä¾›ç»™ç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºç”¨æ¥ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿçš„æŽ¥å£ï¼šå‘½ä»¤æŽ¥å£ï¼šç”¨æˆ·ä¸Žæ–‡ä»¶ç³»ç»Ÿç›´æŽ¥äº¤äº’çš„æŽ¥å£ï¼Œå¦‚Shellå‘½ä»¤ã€‚ç¨‹åºæŽ¥å£ï¼šåº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡ä¸€ç³»åˆ—å‘½ä»¤è°ƒç”¨æ–‡ä»¶ç³»ç»Ÿçš„æœåŠ¡ã€‚æ–‡ä»¶çš„æ‰“å¼€å’Œå…³é—­å½“ç”¨æˆ·è¦æ±‚å¯¹ä¸€ä¸ªæ–‡ä»¶å®žæ–½å¤šæ¬¡è¯»/å†™æ“ä½œæ—¶ï¼Œå¦‚æžœæ¯æ¬¡éƒ½æ£€ç´¢ç›®å½•æ•ˆçŽ‡è¾ƒä½Žï¼Œæ‰€ä»¥ä¸ºäº†é¿å…å¤šæ¬¡é‡å¤çš„æ£€ç´¢ç›®å½•ï¼ŒOSæä¾›äº†â€œæ‰“å¼€ï¼ˆOpenï¼‰â€æ“ä½œï¼Œå½“æ­¤æ“ä½œè¢«æ‰§è¡Œæ—¶ï¼ŒOSä¼šæŠŠè¢«æ‰“å¼€æ–‡ä»¶çš„ä¿¡æ¯å­˜ä¸ºâ€œæ‰“å¼€æ–‡ä»¶è¡¨â€çš„ä¸€ä¸ªæ¡ç›®ï¼Œç„¶åŽæŠŠè¿™ä¸ªæ¡ç›®ç¼–å·è¿”å›žç”¨æˆ·ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥é€šè¿‡è¿™ä¸ªç¼–å·å’Œæ–‡ä»¶ä¹‹é—´å»ºç«‹ä¸€ä¸ªè¿žæŽ¥ï¼Œä¹Ÿå°±å¯ä»¥è¿›è¡Œæ–‡ä»¶çš„è¯»å†™ç­‰æ“ä½œã€‚å½“ç”¨æˆ·å†æ¬¡å‘ç³»ç»Ÿå‘å‡ºè¯·æ±‚æ—¶ï¼ŒæŠŠè¿™ä¸ªç¼–å·æäº¤ç»™OSï¼ŒOSé€šè¿‡è¿™ä¸ªç¼–å·åœ¨æ‰“å¼€æ–‡ä»¶è¡¨ä¸­æŸ¥æ‰¾æ–‡ä»¶ä¿¡æ¯å°±å¯ä»¥å‡å°‘æ£€ç´¢æ—¶é—´ã€‚è€Œå…³é—­å°±æ˜¯OSä»Žâ€œæ‰“å¼€æ–‡ä»¶è¡¨â€ä¸Šåˆ é™¤æ­¤æ¡ç›®ï¼Œè¿™æ ·æ–­å¼€äº†ç”¨æˆ·å’Œæ–‡ä»¶ä¹‹é—´çš„è¿žæŽ¥ã€‚æ–‡ä»¶çš„é€»è¾‘ç»“æž„å’Œç‰©ç†ç»“æž„é€»è¾‘ç»“æž„ï¼šä»Žç”¨æˆ·çš„è§’åº¦æ¥çœ‹ï¼Œæ–‡ä»¶æ˜¯èƒ½è¢«å­˜å–çš„åŸºæœ¬å•ä½ã€‚ç‰©ç†ç»“æž„ï¼šæ–‡ä»¶åœ¨ç£ç›˜ä¸Šå­˜å‚¨æ—¶çš„ç»„ç»‡å½¢å¼ã€‚é€»è¾‘æ–‡ä»¶æŒ‰ç»“æž„åˆ†ç±»æœ‰ç»“æž„æ–‡ä»¶ï¼šæ¯ä¸ªæ–‡ä»¶ç”¨äºŽæè¿°å®žä½“é›†ä¸­çš„ä¸€ä¸ªå®žä½“ã€‚æ¯ä¸ªè®°å½•çš„é•¿åº¦å¯¹OSæ¥è¯´éƒ½æ˜¯å¯çŸ¥çš„ã€‚ä½†è®°å½•ä¹‹é—´å¯ä»¥åˆ†ä¸ºå®šé•¿å’Œå˜é•¿ä¸¤ç§ã€‚å®šé•¿è®°å½•ï¼šæ‰€æœ‰è®°å½•çš„é•¿åº¦éƒ½æ˜¯ç›¸åŒçš„ã€æ‰€æœ‰è®°å½•ä¸­çš„å„æ•°æ®é¡¹éƒ½å¤„åœ¨è®°å½•ä¸­ç›¸åŒçš„ä½ç½®å…·æœ‰ç›¸åŒçš„é¡ºåºå’Œé•¿åº¦ã€‚å˜é•¿è®°å½•ï¼šå„è®°å½•çš„é•¿åº¦ä¸ç›¸åŒã€‚æ¯”å¦‚è®ºæ–‡çš„æ‘˜è¦å¯èƒ½é•¿åº¦å·®è·å¾ˆå¤§ï¼Œä¸èƒ½åœ¨å­˜å‚¨ä¹‹å‰ä¼°è®¡å‡ºæ‰€éœ€è¦çš„ç©ºé—´ã€‚æ— ç»“æž„æ–‡ä»¶ï¼šç³»ç»Ÿä¸­è¿è¡Œçš„å¤§é‡çš„æºç¨‹åºã€å¯æ‰§è¡Œæ–‡ä»¶ã€æ–‡æœ¬æ–‡ä»¶ç­‰éƒ½æ˜¯æ— ç»“æž„æ–‡ä»¶ï¼Œå³æµå¼æ–‡ä»¶ã€‚å…¶æ–‡ä»¶é•¿åº¦æ˜¯ä»¥å­—èŠ‚ä¸ºå•ä½çš„ã€‚é€»è¾‘æ–‡ä»¶æŒ‰ç»„ç»‡æ–¹å¼åˆ†ç±»ç»„ç»‡æ–¹å¼æŒ‡çš„æ˜¯æ–‡ä»¶ä¸­è®°å½•çš„ç»„ç»‡æ–¹å¼ã€‚åªå¯¹æœ‰ç»“æž„æ–‡ä»¶æœ‰æ•ˆã€‚å¯ä»¥åˆ†æˆï¼šé¡ºåºæ–‡ä»¶ã€ç´¢å¼•æ–‡ä»¶ã€ç´¢å¼•é¡ºåºæ–‡ä»¶ã€‚é¡ºåºæ–‡ä»¶æŒ‡ç”±ä¸€ç³»åˆ—è®°å½•æŒ‰æŸç§é¡ºåºæŽ’åˆ—æ‰€å½¢æˆçš„çš„æ–‡ä»¶ã€‚ä¸²ç»“æž„ï¼šæŒ‰å­˜å…¥æ—¶é—´çš„å…ˆåŽé¡ºåºæŽ’åˆ—ã€‚æ‰€ä»¥æ£€ç´¢æ—¶å¿…é¡»ä»Žå¤´æŒ¨ä¸ªæŸ¥æ‰¾ï¼Œæ•ˆçŽ‡ä½Žã€‚é¡ºåºç»“æž„ï¼šç”¨æˆ·æŒ‡å®šä¸€ä¸ªå­—æ®µä½œä¸ºå…³é”®å­—ï¼Œä»–å¯ä»¥æ˜¯ä»»æ„ç±»åž‹çš„å˜é‡ã€‚å¦‚sqlæ–‡ä»¶ã€‚ç´¢å¼•æ–‡ä»¶ä¸ºå˜é•¿è®°å½•æ–‡ä»¶åˆ›å»ºä¸€å¼ ç´¢å¼•è¡¨ï¼Œç´¢å¼•è¡¨æ˜¯å®šé•¿è®°å½•æ–‡ä»¶ï¼Œæ£€ç´¢æ—¶ï¼Œå…ˆæŸ¥æ‰¾ç´¢å¼•è¡¨ï¼Œå†æ ¹æ®æŒ‡é’ˆæ‰€æŒ‡çš„åœ°å€è¯»å–è®°å½•ã€‚å¯ä»¥è§£å†³å˜é•¿æ–‡ä»¶è®°å½•è¾ƒéš¾ç›´æŽ¥å­˜å–çš„é—®é¢˜ã€‚ç´¢å¼•é¡ºåºæ–‡ä»¶å°†é¡ºåºæ–‡ä»¶çš„æ‰€æœ‰è®°å½•åˆ†æˆè‹¥å¹²ç»„ï¼Œä¸ºé¡ºåºæ–‡ä»¶å»ºç«‹ä¸€å¼ ç´¢å¼•è¡¨ï¼Œç´¢å¼•è¡¨ä¸­ä¸ºæ¯ç»„çš„ç¬¬ä¸€ä¸ªè®°å½•å»ºç«‹ä¸€ä¸ªç´¢å¼•é¡¹ã€‚æ£€ç´¢æ—¶ï¼Œå…ˆæ£€ç´¢ç´¢å¼•è¡¨ï¼Œæ‰¾åˆ°è®°å½•æ‰€åœ¨è®°å½•ç»„çš„ç¬¬ä¸€ä¸ªè®°å½•çš„è¡¨é¡¹ï¼Œå†é¡ºåºæŸ¥æ‰¾ä¸»æ–‡ä»¶ï¼Œå¾—åˆ°è¦æ±‚çš„è®°å½•ã€‚æ–‡ä»¶ç›®å½•æ–‡ä»¶æŽ§åˆ¶å—åŒ…å«ä¸‰ç±»ä¿¡æ¯ï¼šåŸºæœ¬ä¿¡æ¯ç±»ï¼šæ–‡ä»¶åã€æ–‡ä»¶ç‰©ç†ä½ç½®ã€æ–‡ä»¶é€»è¾‘ç»“æž„ã€æ–‡ä»¶ç‰©ç†ç»“æž„æŽ§åˆ¶ä¿¡æ¯ç±»ï¼šå„ç±»ç”¨æˆ·çš„è¯»ã€å†™ã€å¯æ‰§è¡Œæ–‡ä»¶ç­‰ã€‚ä½¿ç”¨ä¿¡æ¯ç±»ï¼šæ–‡ä»¶çš„å»ºç«‹æ—¶é—´ï¼Œå½“å‰çš„ä½¿ç”¨ä¿¡æ¯ï¼Œä¸Šä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´ï¼Œæ˜¯å¦è¢«è¿›ç¨‹é”ä½ç­‰ã€‚ç´¢å¼•èŠ‚ç‚¹ä¸ºäº†å”¯ä¸€ç¡®å®šå¤–å­˜ä¸­çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œå¿…é¡»è¦æŠŠæ–‡ä»¶çš„FCBåŠ è½½è¿›å†…å­˜ï¼Œè€Œæ¯æ¬¡åŠ è½½çš„æ•°æ®å¤§å°æ˜¯ä¸€å®šçš„ï¼Œæ‰€ä»¥ä¸ºäº†ä¸€æ¬¡èƒ½å¤šåŠ è½½è¿›å†…å­˜ä¸€ä¸ªæ–‡ä»¶æ ‡è¯†ã€‚å°†FCBåˆ†æˆä¸¤éƒ¨åˆ†ï¼šç£ç›˜ç´¢å¼•èŠ‚ç‚¹æ–‡ä»¶ä¸»æ ‡è¯†ç¬¦æ–‡ä»¶ç±»åž‹æ–‡ä»¶å­˜å–æƒé™æ–‡ä»¶ç‰©ç†åœ°å€æ–‡ä»¶é•¿åº¦æ–‡ä»¶è¿žæŽ¥è®¡æ•°ï¼šæœ¬äººç†è§£ä¸ºç¡¬é“¾æŽ¥è®¡æ•°æ–‡ä»¶å­˜å–æ—¶é—´å†…å­˜ç´¢å¼•èŠ‚ç‚¹ã€‚ç´¢å¼•èŠ‚ç‚¹ç¼–å·çŠ¶æ€è®¿é—®è®¡æ•°æ–‡ä»¶æ‰€å±žæ–‡ä»¶ç³»ç»Ÿçš„é€»è¾‘è®¾å¤‡å·ï¼šä¸æ˜Žç™½é“¾æŽ¥æŒ‡é’ˆï¼šä¸æ˜Žç™½æ ‘å½¢ç»“æž„ç›®å½•åœ¨æ ‘å½¢ç»“æž„ç›®å½•ä¸­ï¼Œç›®å½•åº”è¯¥ä¿å­˜æ–‡ä»¶çš„ä¿¡æ¯ã€‚åŒæ—¶ç›®å½•çš„ç›®å½•é¡¹è¦èƒ½æ—¢ä½œä¸ºç›®å½•æ–‡ä»¶çš„FCBï¼Œåˆä½œä¸ºæ•°æ®æ–‡ä»¶çš„FCBã€‚æ–‡ä»¶å…±äº«åŸºäºŽæœ‰å‘æ— å¾ªçŽ¯å›¾å®žçŽ°æ–‡ä»¶å…±äº«æ­¤ç§æ–¹æ³•å­˜åœ¨é—®é¢˜ï¼šæ¯”å¦‚å¯¹äºŽæ–‡ä»¶F8ï¼ŒD5:pã€D6:eã€D3:péƒ½ä¿å­˜äº†F8çš„ç‰©ç†åœ°å€ï¼Œå³ä»ŽæŸä¸ªç›˜å—å¼€å§‹ï¼Œæ€»é•¿åº¦å¤šå°‘ç­‰ã€‚æ­¤æ—¶å¦‚æžœD6:eå¯¹F8è¿›è¡Œäº†åˆ é™¤æ“ä½œï¼ŒD5:på’ŒD3:Péƒ½æ— æ³•å¯Ÿè§‰ï¼Œä»ç„¶ä¼šè®¤ä¸ºåœ¨å®ƒä»¬å­˜å‚¨çš„ä½ç½®ä¸Šæœ‰æ–‡ä»¶ï¼Œå³ä¸€ä¸ªç›®å½•é¡¹å¯¹æ–‡ä»¶çš„æ“ä½œå¯¹å…¶ä»–ç›®å½•é¡¹æ¥è¯´æ˜¯ä¸å¯è§çš„ã€‚åˆ©ç”¨ç´¢å¼•èŠ‚ç‚¹å¼•å…¥ç´¢å¼•ç»“ç‚¹ï¼Œå°†æ–‡ä»¶çš„ç‰©ç†åœ°å€å’Œå…¶ä»–çš„å±žæ€§æ”¾åœ¨ç´¢å¼•ç»“ç‚¹ä¸­ï¼Œåªåœ¨ç›®å½•é¡¹ä¸­å­˜æ”¾æ–‡ä»¶åå’ŒæŒ‡å‘ç´¢å¼•ç»“ç‚¹çš„æŒ‡é’ˆã€‚ç”±ä»»ä½•ç”¨æˆ·å¯¹æ–‡ä»¶è¿›è¡ŒAppendæ“ä½œæˆ–ä¿®æ”¹ï¼Œå¼•èµ·ç›¸åº”ç´¢å¼•ç»“ç‚¹å†…å®¹çš„æ”¹å˜ã€‚æ­¤ç§æ–¹æ³•å³Linuxä¸­çš„ç¡¬é“¾æŽ¥ã€‚åˆ©ç”¨ç¬¦å·é“¾æŽ¥å®žçŽ°æ–‡ä»¶å…±äº«å»ºç«‹ç¬¦å·é“¾æŽ¥æ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸€ç§ç‰¹æ®Šç±»åž‹çš„æ–‡ä»¶ï¼Œå…¶å†…å®¹æ˜¯è¢«é“¾æŽ¥æ–‡ä»¶çš„è·¯å¾„åã€‚å»ºç«‹ç¬¦å·é“¾æŽ¥æ–‡ä»¶ï¼Œå¹¶ä¸å½±å“åŽŸæ–‡ä»¶ï¼Œå®žé™…ä¸Šå®ƒä»¬å„æ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚å¯ä»¥å»ºç«‹ä»»æ„çš„åˆ«åå…³ç³»ï¼Œç”šè‡³åŽŸæ–‡ä»¶æ˜¯åœ¨å…¶ä»–è®¡ç®—æœºä¸Šã€‚åªæœ‰æ–‡ä»¶ä¸»æ‰æœ‰æŒ‡å‘ç´¢å¼•ç»“ç‚¹çš„æŒ‡é’ˆï¼Œè€Œå…¶ä»–å…±äº«ç”¨æˆ·åªæœ‰è¯¥æ–‡ä»¶çš„è·¯å¾„åã€‚æ–‡ä»¶ä¿æŠ¤è®¿é—®æƒ&amp;ä¿æŠ¤åŸŸè®¿é—®æƒï¼šä¸€ä¸ªè¿›ç¨‹èƒ½å¯¹æŸå¯¹è±¡æ‰§è¡Œæ“ä½œçš„æƒåˆ©ï¼Œç”¨&lt;å¯¹è±¡åï¼Œæƒé›†&gt;è¡¨ç¤ºï¼Œå¦‚&lt;F1, {R/W}&gt;è¡¨ç¤ºè¿›ç¨‹å¯¹F1æœ‰è¯»å’Œå†™çš„æƒåˆ©ã€‚ä¿æŠ¤åŸŸï¼šè¿›ç¨‹å¯¹ä¸€ç»„å¯¹è±¡è®¿é—®æƒçš„é›†åˆï¼Œè¿›ç¨‹åªèƒ½åœ¨åŸŸå†…è¿›è¡Œæ“ä½œã€‚è¿›ç¨‹å’ŒåŸŸçš„è”ç³»æ–¹å¼è¿›ç¨‹å’ŒåŸŸä¹‹é—´æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå³ä¸€ä¸ªè¿›ç¨‹å¯ä»¥è”ç³»å¤šä¸ªåŸŸã€‚æ­¤æ—¶è¿›ç¨‹çš„è¿è¡Œåˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µè”ç³»ä¸€ä¸ªåŸŸï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®è¿è¡Œçš„å®žé™…éœ€è¦è§„å®šè¿›ç¨‹æ¯ä¸ªé˜¶æ®µæ‰€èƒ½è®¿é—®çš„å¯¹è±¡ã€‚è®¿é—®çŸ©é˜µRï¼šåœ¨åŸŸå†…è¿è¡Œçš„è¿›ç¨‹å¯¹æ–‡ä»¶å…·æœ‰è¯»æƒé™Wï¼šåœ¨åŸŸå†…è¿è¡Œçš„è¿›ç¨‹å¯¹æ–‡ä»¶å…·æœ‰å†™æƒé™$R^\ast$ï¼šåœ¨åŸŸå†…è¿è¡Œçš„è¿›ç¨‹èƒ½æŠŠå…¶å¯¹æ–‡ä»¶çš„è¯»æƒé™æ‰©å±•åˆ°å…¶ä»–åŸŸä¸­ï¼Œä½†åœ¨å…¶ä»–åŸŸä¸­æ˜¯Ræƒé™ï¼Œä¸å†æ˜¯$R^\ast$ã€‚$W^\ast$ï¼šåœ¨åŸŸå†…è¿è¡Œçš„è¿›ç¨‹èƒ½æŠŠå…¶å¯¹æ–‡ä»¶çš„å†™æƒé™æ‰©å±•åˆ°å…¶ä»–åŸŸä¸­ï¼Œä½†åœ¨å…¶ä»–åŸŸä¸­æ˜¯Wæƒé™ï¼Œä¸å†æ˜¯$W^\ast$ã€‚Sï¼šåœ¨åŸŸDiä¸­è¿è¡Œçš„è¿›ç¨‹èƒ½è½¬ç§»åˆ°åŸŸDjä¸­è¿è¡Œï¼Œå¦‚å›¾ä¸­åœ¨åŸŸD3è¿è¡Œçš„è¿›ç¨‹èƒ½è½¬ç§»åˆ°åŸŸD2ä¸­è¿è¡Œã€‚Oï¼šåœ¨åŸŸä¸­è¿è¡Œçš„è¿›ç¨‹èƒ½å¢žåŠ æˆ–åˆ é™¤å¯¹æŸæ–‡ä»¶çš„è®¿é—®æƒã€‚Controlï¼šåœ¨åŸŸDiä¸­è¿è¡Œçš„è¿›ç¨‹èƒ½åˆ é™¤åœ¨åŸŸDjä¸­è¿è¡Œè¿›ç¨‹å¯¹å„å¯¹è±¡çš„è®¿é—®æƒã€‚å¦‚å›¾ä¸­åœ¨D2ä¸­è¿è¡Œçš„è¿›ç¨‹èƒ½åˆ é™¤åœ¨D3ä¸­è¿è¡Œè¿›ç¨‹çš„è®¿é—®æƒã€‚è®¿é—®çŸ©é˜µçš„å®žçŽ°è®¿é—®æŽ§åˆ¶è¡¨å°†è®¿é—®å¯¹è±¡æŒ‰åˆ—åˆ’åˆ†ï¼Œä¸ºæ¯ä¸€åˆ—å»ºç«‹ä¸€å¼ è®¿é—®æŽ§åˆ¶è¡¨ï¼Œåœ¨è¯¥è¡¨ä¸­æŠŠå±žäºŽå¯¹è±¡çš„æ‰€æœ‰ç©ºé¡¹éƒ½åˆ é™¤ã€‚æ­¤æ—¶è¡¨ä¸­çš„æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ªæœ‰åºå¯¹&lt;åŸŸï¼Œæƒé›†&gt;æž„æˆã€‚è®¿é—®æƒé™è¡¨å°†è®¿é—®çŸ©é˜µæŒ‰è¡Œåˆ’åˆ†ï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªè®¿é—®æƒé™è¡¨ï¼Œè¡¨ä¸­çš„æ¯ä¸€é¡¹è¡¨ç¤ºè¯¥åŸŸå¯¹æŸå¯¹è±¡çš„è®¿é—®æƒé™ã€‚]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[07-è¾“å…¥è¾“å‡ºç³»ç»Ÿ]]></title>
    <url>%2F2019%2F07-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%B3%BB%E7%BB%9F%2F</url>
    <content type="text"><![CDATA[è¾“å…¥è¾“å‡ºç³»ç»Ÿå’ŒOSä¸­çš„å…¶ä»–éƒ¨åˆ†æœ‰å¾ˆå¤§åŒºåˆ«ï¼Œå› ä¸ºå…¶ä»–éƒ¨åˆ†éƒ½æ˜¯åœ¨è¯´è®¡ç®—æœºæŽ¥å—ä»»åŠ¡åŽè¯¥æ€Žä¹ˆè¿è¡Œèƒ½åˆå¿«åˆå¯é çš„å®Œæˆä»»åŠ¡å¹¶æŠŠç»“æžœè¾“å‡ºã€‚è€Œè¾“å…¥è¾“å‡ºç³»ç»Ÿæ˜¯æ€Žä¹ˆå¿«é€Ÿç¨³å®šçš„å°†ä»»åŠ¡çš„éœ€æ±‚è¾“å…¥å’Œä»»åŠ¡çš„ç»“æžœè¾“å‡ºã€‚åˆç”±äºŽè¾“å…¥è¾“å‡ºè®¾å¤‡ç§ç±»ç¹å¤šï¼Œæ¯”å¦‚è¾“å…¥è®¾å¤‡ä¸­çš„é”®ç›˜ã€é¼ æ ‡ã€ç½‘å¡ã€æ‘„åƒå¤´ï¼Œè¾“å‡ºè®¾å¤‡ä¸­çš„æ‰“å°æœºã€éŸ³é¢‘ç­‰ã€‚æ‰€ä»¥è¾“å…¥è¾“å‡ºç³»ç»Ÿè¢«åˆ’åˆ†å¾ˆå¤šå±‚æ¬¡æ¥å°½å¯èƒ½å±è”½ç‰©ç†ç»†èŠ‚ã€‚IOç³»ç»Ÿçš„åŸºæœ¬åŠŸèƒ½éšè—ç‰©ç†è®¾å¤‡çš„ç»†èŠ‚ï¼šåªéœ€è¦ä½¿ç”¨ç®€å•çš„å‘½ä»¤å°±èƒ½æ“ä½œå„ç§å…·æœ‰ä¸åŒå®žçŽ°çš„ç¡¬ä»¶å®Œæˆç›¸åº”éœ€æ±‚ã€‚ä¸Žè®¾å¤‡çš„æ— å…³æ€§ï¼šç”¨æˆ·ä¸éœ€è¦æŒ‡å®šå“ªäº›è®¾å¤‡å®ŒæˆåŠŸèƒ½ï¼Œåªéœ€è¦æè¿°éœ€æ±‚ï¼ŒOSä¼šé€‰æ‹©ä¸€ä¸ªè®¾å¤‡å®ŒæˆåŠŸèƒ½ã€‚æé«˜å¤„ç†æœºå’ŒIOè®¾å¤‡çš„åˆ©ç”¨çŽ‡ï¼šIOè®¾å¤‡ä¹‹é—´ä¸€èˆ¬æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå› æ­¤è®¾å¤‡ä¹‹é—´èƒ½å¤Ÿå¹¶è¡Œæ“ä½œï¼Œæ‰€ä»¥OSåº”è®©å¤„ç†æœºå’Œè®¾å¤‡ä¹‹é—´èƒ½å¹¶è¡Œæ“ä½œã€‚å¯¹IOè®¾å¤‡è¿›è¡ŒæŽ§åˆ¶ï¼šè½®è¯¢çš„å¯ç¼–ç¨‹IOæ–¹å¼ã€‚é‡‡ç”¨ä¸­æ–­ä½ çš„å¯ç¼–ç¨‹IOæ–¹å¼ã€‚ç›´æŽ¥å­˜å‚¨å™¨è®¿é—®æ–¹å¼ã€‚IOé€šé“æ–¹å¼ã€‚ç¡®ä¿å¯¹è®¾å¤‡çš„æ­£ç¡®å…±äº«ã€‚é”™è¯¯å¤„ç†ã€‚IOè½¯ä»¶çš„å±‚æ¬¡ç»“æž„ç”¨æˆ·å±‚è½¯ä»¶ï¼šæä¾›è®¾å¤‡ä¸Žç”¨æˆ·äº¤äº’çš„æŽ¥å£ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨è¯¥å±‚æä¾›çš„åŠŸèƒ½ç›´æŽ¥æŽ§åˆ¶è®¾å¤‡ã€‚è®¾å¤‡ç‹¬ç«‹æ€§è½¯ä»¶ï¼šè®¾å¤‡åˆ†é…ï¼Œè®¾å¤‡ä¿æŠ¤ï¼Œè®¾å¤‡åˆ†é…ï¼Œè®¾å¤‡å›žæ”¶ï¼Œæ•°æ®ç¼“å­˜ç­‰ã€‚è®¾å¤‡é©±åŠ¨è½¯ä»¶ï¼šå‘å‡ºæŽ§åˆ¶è®¾å¤‡çš„å‘½ä»¤ã€‚ä¸­æ–­å¤„ç†ç¨‹åºï¼šä¿å­˜è¢«ä¸­æ–­çš„è¿›ç¨‹çš„CPUçŽ¯å¢ƒï¼Œè½¬å…¥ç›¸åº”çš„ä¸­æ–­å¤„ç†ç¨‹åºä»…éœ€å¤„ç†ï¼Œå¤„ç†å®Œæ¯•åŽå†æ¢å¤è¢«ä¸­æ–­è¿›ç¨‹çš„çŽ°åœºï¼Œè¿”å›žåˆ°è¢«ä¸­æ–­çš„è¿›ç¨‹ã€‚IOç³»ç»Ÿå„æ¨¡å—å±‚æ¬¡è§†å›¾å—è®¾å¤‡ï¼šè¾“å…¥è¾“å‡ºä»¥æ•°æ®å—ä¸ºå•ä½çš„è®¾å¤‡ã€‚å¦‚ç£ç›˜ã€‚æµè®¾å¤‡ï¼šå­—ç¬¦è®¾å¤‡çš„è¾“å…¥è¾“å‡ºï¼Œå¦‚é”®ç›˜ã€‚ç½‘ç»œé€šä¿¡æŽ¥å£ï¼šç½‘å¡ã€‚IOè®¾å¤‡å’Œè®¾å¤‡æŽ§åˆ¶å™¨ç›´æŽ¥å’ŒIOè®¾å¤‡å¯¹æŽ¥çš„æ˜¯è®¾å¤‡æŽ§åˆ¶å™¨ã€‚ä½œç”¨æŽ¥æ”¶å’Œè¯†åˆ«å‘½ä»¤ï¼ˆæŽ§åˆ¶å¯„å­˜å™¨ã€å‘½ä»¤è¯‘ç å™¨ï¼‰ï¼šè®¾å¤‡æŽ§åˆ¶å™¨å°†CPUé€æ¥çš„å‘½ä»¤å†™å…¥æŽ§åˆ¶å™¨å¯„å­˜å™¨ä¸­ï¼Œå¹¶è¿›è¡Œè¯‘ç ã€‚æ•°æ®äº¤æ¢ï¼ˆæ•°æ®å¯„å­˜å™¨ï¼‰ã€‚è®¾å¤‡çŠ¶æ€çš„äº†è§£å’ŒæŠ¥å‘Šï¼ˆçŠ¶æ€å¯„å­˜å™¨ï¼‰ã€‚åœ°å€è¯†åˆ«ï¼ˆåœ°å€è¯‘ç å™¨ï¼‰ï¼šç³»ç»Ÿä¸­çš„æ¯ä¸ªè®¾å¤‡éƒ½æœ‰è‡ªå·±çš„åœ°å€æ®µï¼Œè®¾å¤‡æŽ¥å£ç”µè·¯ä¸­æœ‰å¤šä¸ªå¯„å­˜å™¨ï¼Œä¸€ä¸ªå¯„å­˜å™¨æœ‰å”¯ä¸€çš„ä¸€ä¸ªåœ°å€ï¼Œæ¯ä¸ªåœ°å€ä¸ºI/Oç«¯å£ï¼Œè¯¥åœ°å€ç§°ä¸ºI/Oç«¯å£åœ°å€ã€‚è®¾å¤‡æŽ§åˆ¶å™¨å¿…é¡»èƒ½è¯†åˆ«æ¯ä¸ªè®¾å¤‡çš„åœ°å€ã€‚æ•°æ®ç¼“å†²ï¼šç¼“å†²å™¨ã€‚å·®é”™æŽ§åˆ¶ï¼šå·®é”™æ£€æµ‹ç ã€‚ç»„æˆè®¾å¤‡æŽ§åˆ¶å™¨å’Œå¤„ç†æœºçš„æŽ¥å£ï¼šç”¨äºŽå®žçŽ°CPUä¸Žè®¾å¤‡æŽ§åˆ¶å™¨ä¹‹é—´çš„é€šä¿¡ã€‚è®¾å¤‡æŽ§åˆ¶å™¨å’Œè®¾å¤‡çš„æŽ¥å£ã€‚IOé€»è¾‘ï¼šåœ¨ä¸€ä¸ªè®¾å¤‡æŽ§åˆ¶å™¨ä¸Šï¼Œå¯ä»¥è¿žä¸€ä¸ªæˆ–å¤šä¸ªè®¾å¤‡ã€‚ç›¸åº”çš„ï¼Œåœ¨æŽ§åˆ¶å™¨ä¸­å°±æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè®¾å¤‡æŽ¥å£ï¼Œä¸€ä¸ªæŽ¥å£è¿žä¸€å°è®¾å¤‡ï¼ŒæŽ§åˆ¶å™¨ä¸­çš„I/Oé€»è¾‘æ ¹æ®å¤„ç†æœºå‘æ¥çš„åœ°å€ä¿¡å·ï¼ŒåŽ»é€‰æ‹©ä¸€ä¸ªè®¾å¤‡æŽ¥å£ã€‚æŽ§åˆ¶å™¨ä¸­çš„I/Oé€»è¾‘ç”¨æ¥å®žçŽ°å¯¹è®¾å¤‡çš„æŽ§åˆ¶ã€‚é€šè¿‡æŽ¥æ”¶CPU å‘æ¥çš„å‘½ä»¤å’Œåœ°å€ä¿¡æ¯ï¼Œå¯¹æ‰€é€‰è®¾å¤‡è¿›è¡ŒæŽ§åˆ¶CPUå¦‚ä½•æŽ§åˆ¶è®¾å¤‡æŽ§åˆ¶å™¨CPUæŽ§åˆ¶å†…å­˜æ—¶éœ€è¦æŒ‡å®šæŒ‡ä»¤åœ°å€ã€æ•°æ®åœ°å€ç­‰ã€‚æŽ§åˆ¶è®¾å¤‡æŽ§åˆ¶å™¨äº¦å¦‚æ­¤ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æŽ§åˆ¶æ–¹å¼ï¼šåˆ©ç”¨ç‰¹å®šIOæŒ‡ä»¤ï¼šåˆ©ç”¨ç‰¹æ®Šçš„IOæŒ‡ä»¤æŽ§åˆ¶è®¾å¤‡æŽ§åˆ¶å™¨ã€‚å†…å­˜æ˜ åƒIOï¼šä¸å†åŒºåˆ†å†…å­˜å’ŒæŽ§åˆ¶å™¨ä¸­çš„å¯„å­˜å™¨åœ°å€ã€‚å‡å¦‚æœ‰ä¸€ä¸ªåœ°å€Kï¼Œå½“0&lt;=K&lt;Næ—¶è¢«è®¤ä¸ºæ˜¯å†…å­˜åœ°å€ï¼ŒK&gt;=Næ—¶è¢«è®¤ä¸ºæ˜¯å¯„å­˜å™¨åœ°å€ã€‚IOé€šé“æœ‰äº†è®¾å¤‡æŽ§åˆ¶å™¨ä¹‹åŽï¼ŒCPUä¾¿å¯ä»¥æ“ä½œæŽ§åˆ¶å™¨å®Œæˆå¯¹IOè®¾å¤‡çš„æŽ§åˆ¶ï¼Œä½†æ˜¯æ­¤æ—¶æ•°æ®äº¤æ¢ä»ç„¶éœ€è¦CPUçš„å…¨ç¨‹å‚ä¸Žï¼Œæ‰€ä»¥å¼•å…¥IOé€šé“æ¥ä½¿æ•°æ®ä¼ é€ã€IOè®¾å¤‡çš„ç»„ç»‡ç®¡ç†ç­‰éƒ½ç‹¬ç«‹äºŽCPUã€‚é€šé“æ˜¯ç‹¬ç«‹äºŽCPUçš„ä¸“é—¨è´Ÿè´£æ•°æ®è¾“å…¥/è¾“å‡ºä¼ è¾“å·¥ä½œçš„å¤„ç†æœºï¼Œå¯¹å¤–éƒ¨è®¾å¤‡å®žçŽ°ç»Ÿä¸€ç®¡ç†ï¼Œä»£æ›¿CPUå¯¹è¾“å…¥/è¾“å‡ºæ“ä½œè¿›è¡ŒæŽ§åˆ¶ï¼Œä»Žè€Œä½¿è¾“å…¥ï¼Œè¾“å‡ºæ“ä½œå¯ä¸ŽCPUå¹¶è¡Œæ“ä½œã€‚é€šé“æ‰§è¡Œé€šé“ç¨‹åºæ¥æŽ§åˆ¶IOæ“ä½œã€‚ä¸ŽCPUçš„åŒºåˆ«ï¼šé€šé“ç¨‹åºæŒ‡ä»¤ç±»åž‹å•ä¸€é€šé“æ²¡æœ‰è‡ªå·±çš„å†…å­˜ï¼Œé€šé“ç¨‹åºåœ¨ä¸»æœºçš„å†…å­˜ä¸­ï¼Œå³é€šé“ä¸ŽCPUå…±äº«å†…å­˜ã€‚å­—èŠ‚å¤šè·¯é€šé“ä¸»è¦è¿žæŽ¥ä»¥å­—èŠ‚ä¸ºå•ä½çš„ä½Žé€ŸIOè®¾å¤‡ã€‚å¦‚æ‰“å°æœºï¼Œç»ˆç«¯ã€‚æŒ‰å­—èŠ‚äº¤å‰æ–¹å¼å·¥ä½œçš„é€šé“ã€‚é€šå¸¸å«æœ‰è®¸å¤šéžåˆ†é…åž‹å­é€šé“ï¼Œå…¶æ•°é‡ä»Žå‡ åä¸ªåˆ°æ•°ç™¾ä¸ªï¼Œæ¯ä¸€ä¸ªå­é€šé“è¿žæŽ¥ä¸€å°I/Oè®¾å¤‡ã€‚è¿™äº›å­é€šé“æŒ‰æ—¶é—´ç‰‡è½®è½¬æ–¹å¼å…±äº«ä¸»é€šé“ã€‚å­—èŠ‚å¤šè·¯é€šé“ä»¥å­—èŠ‚ä¸ºå•ä½ä¼ è¾“ä¿¡æ¯ï¼Œå®ƒå¯ä»¥åˆ†æ—¶åœ°æ‰§è¡Œå¤šä¸ªé€šé“ç¨‹åºã€‚å½“ä¸€ä¸ªé€šé“ç¨‹åºæŽ§åˆ¶æŸå°è®¾å¤‡ä¼ é€ä¸€ä¸ªå­—èŠ‚åŽï¼Œé€šé“ç¡¬ä»¶å°±æŽ§åˆ¶è½¬åŽ»æ‰§è¡Œå¦ä¸€ä¸ªé€šé“ç¨‹åºï¼ŒæŽ§åˆ¶å¦ä¸€å°è®¾å¤‡ä¼ é€ä¿¡æ¯ã€‚æ•°ç»„é€‰æ‹©é€šé“ä¸»è¦è¿žæŽ¥ç£ç›˜ï¼Œç£å¸¦ç­‰é«˜é€ŸI/Oè®¾å¤‡é€‰æ‹©é€šé“æ˜¯æŒ‰æ•°ç»„æ–¹å¼è¿›è¡Œæ•°æ®ä¼ é€ï¼Œæ¯æ¬¡ä¼ é€ä¸€æ‰¹æ•°æ®ï¼Œæ•…ä¼ é€é€Ÿåº¦å¾ˆé«˜ã€‚é€‰æ‹©é€šé“åœ¨ä¸€æ®µæ—¶é—´å†…åªèƒ½æ‰§è¡Œä¸€ä¸ªé€šé“ç¨‹åºï¼Œåªå…è®¸ä¸€å°è®¾å¤‡è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚å½“è¿™å°è®¾å¤‡æ•°æ®ä¼ è¾“å®ŒæˆåŽï¼Œå†é€‰æ‹©ä¸Žé€šé“è¿žæŽ¥çš„å¦ä¸€å°è®¾å¤‡ï¼Œæ‰§è¡Œå®ƒçš„ç›¸åº”çš„é€šé“ç¨‹åºã€‚è¿™ç§ç‹¬å æ€§åˆä½¿å¾—é€šé“åˆ©ç”¨çŽ‡å¾ˆä½Žã€‚æ•°ç»„å¤šè·¯é€šé“ä¸»è¦è¿žæŽ¥é«˜é€Ÿè®¾å¤‡ã€‚ç»“åˆäº†æ•°ç»„é€‰æ‹©é€šé“ä¼ é€é€Ÿåº¦é«˜å’Œå­—èŠ‚å¤šè·¯é€šé“èƒ½è¿›è¡Œåˆ†æ—¶å¹¶è¡Œæ“ä½œçš„ä¼˜ç‚¹ã€‚å®ƒå…ˆä¸ºä¸€å°è®¾å¤‡æ‰§è¡Œä¸€æ¡é€šé“æŒ‡ä»¤ï¼Œç„¶åŽè‡ªåŠ¨è½¬æŽ¥ï¼Œä¸ºå¦ä¸€å°è®¾å¤‡æ‰§è¡Œä¸€æ¡é€šé“æŒ‡ä»¤ã€‚å®ƒå«æœ‰å¤šä¸ªéžåˆ†é…åž‹çš„å­é€šé“ï¼Œæ—¢æœ‰å¾ˆé«˜çš„æ•°æ®ä¼ è¾“çŽ‡ï¼Œåˆèƒ½èŽ·å¾—ä»¤äººæ»¡æ„çš„é€šé“åˆ©ç”¨çŽ‡å¯¹é€šé“ç¨‹åºé‡‡ç”¨å¤šé“ç¨‹åºè®¾è®¡çš„ç¡¬ä»¶å®žçŽ°å¯ä»¥è¿žæŽ¥å¤šå°é«˜é€Ÿè®¾å¤‡ï¼Œæ•°æ®ä¼ è¾“æŒ‰æ•°ç»„æ–¹å¼ï¼Œä¸€æ®µæ—¶é—´å†…å¯ä»¥æ‰§è¡Œå¤šé“é€šé“ç¨‹åºè§£å†³ç“¶é¢ˆé€šé“æ‰§è¡Œé€šé“ç¨‹åºï¼Œå‘æŽ§åˆ¶å™¨å‘å‡ºå‘½ä»¤ï¼Œå¹¶å…·æœ‰å‘CPUå‘ä¸­æ–­ä¿¡å·çš„åŠŸèƒ½ã€‚ä¸€æ—¦CPUå‘å‡ºæŒ‡ä»¤ï¼Œå¯åŠ¨é€šé“ï¼Œåˆ™é€šé“ç‹¬ç«‹äºŽCPUå·¥ä½œã€‚ä½†æ˜¯ï¼Œç”±äºŽé€šé“ä»·æ ¼è´µï¼Œé€šé“æ•°é‡å°‘ï¼Œå¾€å¾€ä½¿ä¹‹æˆä¸ºIOçš„â€œç“¶é¢ˆâ€ã€‚è§£å†³åŠžæ³•æ˜¯åœ¨ä¸å¢žåŠ é€šé“çš„å‰æä¸‹ï¼Œå¢žåŠ è®¾å¤‡åˆ°ä¸»æœºé—´çš„é€šè·¯ï¼Œä¸€ä¸ªé€šé“å¯è¿žæŽ¥å¤šä¸ªæŽ§åˆ¶å™¨ï¼Œä¸€ä¸ªæŽ§åˆ¶å™¨å¯è¿žæŽ¥å¤šä¸ªè®¾å¤‡ï¼Œå½¢æˆæ ‘å½¢äº¤å‰è¿žæŽ¥ã€‚ä¸­æ–­æœºæž„å’Œä¸­æ–­å¤„ç†ç¨‹åºhttps://isjinhao.github.io/2019/%E6%97%B6%E9%92%9F%E4%B8%AD%E6%96%AD/#moreè®¾å¤‡é©±åŠ¨ç¨‹åºåŠŸèƒ½æŽ¥å—è®¾å¤‡ç‹¬ç«‹æ€§è½¯ä»¶å‘æ¥çš„å‘½ä»¤å’Œå‚æ•°ï¼Œå°†æŽ¥æ”¶åˆ°çš„æŠ½è±¡è¦æ±‚è½¬æ¢ä¸ºå…·ä½“è¦æ±‚æ£€æŸ¥ç”¨æˆ·IOè¯·æ±‚çš„åˆæ³•æ€§ï¼Œäº†è§£IOè®¾å¤‡çš„çŠ¶æ€ï¼Œä¼ é€’æœ‰å…³å‚æ•°ï¼Œè®¾ç½®è®¾å¤‡çš„å·¥ä½œæ–¹å¼å‘å‡ºIOå‘½ä»¤ï¼Œå¦‚æžœè®¾å¤‡ç©ºé—²ï¼Œå¯åŠ¨IOè®¾å¤‡å®ŒæˆæŒ‡å®šçš„IOæ“ä½œï¼›å¦‚æžœè®¾å¤‡å¿™ç¢Œï¼Œåˆ™å°†è¯·æ±‚æŒ‚åœ¨è®¾å¤‡é˜Ÿåˆ—ä¸Šç­‰å¾…åŠæ—¶å“åº”ç”±æŽ§åˆ¶å™¨æˆ–é€šé“å‘æ¥çš„ä¸­æ–­è¯·æ±‚ï¼Œå¹¶æ ¹æ®å…¶ä¸­æ–­ç±»åž‹è°ƒç”¨ç›¸åº”çš„ä¸­æ–­å¤„ç†ç¨‹åºè¿›è¡Œå¤„ç†ã€‚å¯¹äºŽè®¾ç½®æœ‰é€šé“çš„è®¡ç®—æœºç³»ç»Ÿï¼Œé©±åŠ¨ç¨‹åºè¿˜åº”èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„IOè¯·æ±‚ï¼Œè‡ªåŠ¨åœ°æž„æˆé€šé“ç¨‹åºã€‚ç‰¹ç‚¹é©±åŠ¨ç¨‹åºä¸»è¦æ˜¯åœ¨è®¾å¤‡æ— å…³æ€§è½¯ä»¶å’Œè®¾å¤‡æŽ§åˆ¶å™¨ä¹‹é—´çš„ä¸€ä¸ªé€šä¿¡ç¨‹åºé©±åŠ¨ç¨‹åºä¸ŽIOè®¾å¤‡ç‰¹æ€§å¯†åˆ‡ç›¸å…³ï¼šé€šå¸¸ç”±ç¡¬ä»¶åŽ‚å•†æä¾›é©±åŠ¨ç¨‹åºä¸ŽI/OæŽ§åˆ¶æ–¹å¼å¯†åˆ‡ç›¸å…³:ä¸­æ–­é©±åŠ¨å’ŒDMAæ–¹å¼é©±åŠ¨ç¨‹åºä¸Žç¡¬ä»¶ç›¸å…³,éƒ¨åˆ†ä»£ç éœ€ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™é©±åŠ¨ç¨‹åºåº”å…è®¸å¯é‡å…¥å¤„ç†è¿‡ç¨‹å°†æŠ½è±¡è¦æ±‚è½¬æ¢ä¸ºå…·ä½“è¦æ±‚é€šå¸¸è®¾å¤‡æŽ§åˆ¶å™¨ä¸­éƒ½æœ‰è‹¥å¹²ä¸ªå¯„å­˜å™¨ï¼Œåˆ†åˆ«ç”¨äºŽæš‚å­˜å‘½ä»¤ã€æ•°æ®å’Œå‚æ•°ç­‰ï¼›ç”¨æˆ·åŠä¸Šå±‚è½¯ä»¶å¯¹è®¾å¤‡æŽ§åˆ¶å™¨çš„å…·ä½“æƒ…å†µæ¯«æ— äº†è§£ï¼Œå› è€Œåªèƒ½å‘å®ƒä»¬å‘å‡ºæŠ½è±¡çš„è¦æ±‚(å‘½ä»¤)ï¼Œä½†ä¸èƒ½ç›´æŽ¥ä¼ é€ç»™è®¾å¤‡æŽ§åˆ¶å™¨ã€‚éœ€è¦å°†æŠ½è±¡è¦æ±‚è½¬æ¢ä¸ºå…·ä½“è¦æ±‚(å‘½ä»¤ç ï¼Œæ•°æ®ï¼Œå‚æ•°)ã€‚ä¾‹å¦‚ï¼Œå°†æŠ½è±¡è¦æ±‚ä¸­çš„ç›˜å—å·è½¬æ¢ä¸ºç£ç›˜çš„ç›˜é¢ã€ç£é“å·åŠæ‰‡åŒºã€‚è¿™ä¸€è½¬æ¢å·¥ä½œåªèƒ½ç”±é©±åŠ¨ç¨‹åºæ¥å®Œæˆï¼›åœ¨OSä¸­åªæœ‰é©±åŠ¨ç¨‹åºæ‰åŒæ—¶äº†è§£æŠ½è±¡è¦æ±‚å’Œè®¾å¤‡æŽ§åˆ¶å™¨ä¸­çš„å¯„å­˜å™¨æƒ…å†µï¼›ä¹Ÿåªæœ‰å®ƒæ‰çŸ¥é“å‘½ä»¤ã€æ•°æ®å’Œå‚æ•°åº”åˆ†åˆ«é€å¾€å“ªä¸ªå¯„å­˜å™¨ã€‚æ£€æŸ¥IOè¯·æ±‚çš„åˆæ³•æ€§è¯»å‡ºå’Œæ£€æŸ¥è®¾å¤‡çš„çŠ¶æ€ä¼ é€å¿…è¦çš„å‚æ•°ï¼Œè®¾ç½®å·¥ä½œæ–¹å¼å¯åŠ¨I/Oè®¾å¤‡åœ¨å®Œæˆä¸Šè¿°å‡†å¤‡å·¥ä½œåŽï¼Œé©±åŠ¨ç¨‹åºå¯ä»¥å‘æŽ§åˆ¶å™¨ä¸­çš„å‘½ä»¤å¯„å­˜å™¨ä¼ é€ç›¸åº”çš„æŽ§åˆ¶å‘½ä»¤å¯¹äºŽå­—ç¬¦è®¾å¤‡ï¼Œè‹¥å‘å‡ºçš„æ˜¯å†™å‘½ä»¤ï¼Œé©±åŠ¨ç¨‹åºå°†æŠŠä¸€ä¸ªæ•°æ®ä¼ é€ç»™æŽ§åˆ¶å™¨ï¼›è‹¥å‘å‡ºçš„æ˜¯è¯»å‘½ä»¤ï¼Œåˆ™é©±åŠ¨ç¨‹åºç­‰å¾…æŽ¥æ”¶æ•°æ®ï¼Œå¹¶é€šè¿‡ä»ŽæŽ§åˆ¶å™¨ä¸­çš„çŠ¶æ€å¯„å­˜å™¨è¯»å…¥çŠ¶æ€å­—çš„æ–¹æ³•ï¼Œæ¥ç¡®å®šæ•°æ®æ˜¯å¦åˆ°è¾¾ã€‚é©±åŠ¨ç¨‹åºå‘å‡ºIOå‘½ä»¤åŽï¼ŒåŸºæœ¬çš„IOæ˜¯åœ¨è®¾å¤‡æŽ§åˆ¶å™¨çš„æŽ§åˆ¶ä¸‹è¿›è¡Œçš„ï¼Œé€šå¸¸IOæ“ä½œæ‰€è¦å®Œæˆçš„å·¥ä½œè¾ƒå¤šï¼Œéœ€è¦ä¸€å®šçš„æ—¶é—´ï¼Œå¦‚è¯»/å†™ä¸€ä¸ªç›˜å—ä¸­çš„æ•°æ®ï¼Œæ­¤æ—¶ï¼Œé©±åŠ¨ç¨‹åºè¿›ç¨‹æŠŠè‡ªå·±é˜»å¡žèµ·æ¥ï¼Œç›´è‡³ä¸­æ–­åˆ°æ¥æ—¶æ‰å°†å®ƒå”¤é†’ã€‚å¯¹IOè®¾å¤‡çš„æŽ§åˆ¶æ–¹å¼ä½¿ç”¨è½®è¯¢çš„å¯ç¼–ç¨‹I/Oæ–¹å¼CPUå‘å‡ºå¯åŠ¨å¤–è®¾çš„I/OæŒ‡ä»¤ï¼ŒåŒæ—¶å°†å¿™/é—²æ ‡å¿—ç½®ä¸º1ã€‚å¦‚æžœå¤–è®¾çš„å·¥ä½œæ²¡æœ‰å®Œæˆï¼Œåˆ™æ ‡å¿—ä¸€ç›´ä¸º1ï¼ŒCPUä¸æ–­å¾ªçŽ¯æ£€æµ‹è¯¥æ ‡å¿—ï¼Œç›´åˆ°æ ‡å¿—ä¸ºä¸å¿™ä¸ºæ­¢ã€‚ä½¿ç”¨ä¸­æ–­çš„å¯ç¼–ç¨‹I/Oæ–¹å¼CPUè®¾å®šI/Oè®¾å¤‡çš„åˆå§‹å€¼ï¼Œç„¶åŽä¸å†å¿™ç­‰å¾…ï¼Œè¿è¡Œå…¶ä»–è¿›ç¨‹ï¼Œå½“å‰è¿›ç¨‹é˜»å¡žï¼›I/Oè®¾å¤‡å®Œæˆå¯¹å½“å‰æ•°æ®çš„å¤„ç†åŽï¼Œå‘CPUå‘å‡ºä¸­æ–­ï¼ŒI/Oä¸­æ–­å¤„ç†ç¨‹åºå°†è´Ÿè´£ä¼ é€å‰©ä½™æ•°æ®ã€‚ç›´æŽ¥å­˜å‚¨å™¨è®¿é—®(DMA)æ–¹å¼é‡‡ç”¨ä¸­æ–­é©±åŠ¨IOæ–¹å¼æ—¶çš„CPUï¼Œæ˜¯ä»¥å­—ä¸ºå•ä½è¿›è¡Œå¹²é¢„çš„ã€‚å¦‚æžœå°†è¿™ç§æ–¹å¼ç”¨äºŽå—è®¾å¤‡çš„Iï¼Oï¼Œæ˜¯æžå…¶ä½Žæ•ˆçš„ã€‚å¦‚ï¼šä¸ºäº†ä»Žç£ç›˜ä¸­è¯»å‡º1KBçš„æ•°æ®å—ï¼›éœ€è¦ä¸­æ–­1Kæ¬¡CPUã€‚è€ŒDMAæ–¹å¼ä½¿ç”¨ç‹¬ç«‹çš„DMAæŽ§åˆ¶å™¨ä»£æ›¿CPUçš„å·¥ä½œï¼ŒI/Oè®¾å¤‡ä¸ŽDMAé€šä¿¡ï¼ŒDMAåœ¨ä¼ è¾“å®Œæˆä¸€ä¸ªæ•°æ®ç¼“å†²åŒºä¹‹åŽå†å‘CPUå‘ä¸­æ–­ã€‚æ•°æ®ä¼ è¾“çš„åŸºæœ¬å•ä½æ˜¯æ•°æ®å—ï¼Œå³CPUä¸ŽIOè®¾å¤‡ä¹‹é—´ï¼Œæ¯æ¬¡ä¼ é€è‡³å°‘æ˜¯ä¸€ä¸ªæ•°æ®å—ï¼Œä¸»è¦ç”¨åœ¨å—è®¾å¤‡çš„IOæ“ä½œä¸­ã€‚åœ¨DMAæ–¹å¼ä¸­ï¼Œåˆ©ç”¨æ€»çº¿ç›´æŽ¥è¿žæŽ¥å¤–è®¾å’Œå†…å­˜ï¼Œç”±DMAæŽ§åˆ¶æœºæž„çªƒå–æ€»çº¿å æœ‰æƒï¼Œå®Œæˆå¤–è®¾ä¸Žå†…å­˜é—´çš„æˆæ‰¹æ•°æ®äº¤æ¢ã€‚æ‰€ä¼ é€çš„æ•°æ®æ˜¯ä»Žè®¾å¤‡ç›´æŽ¥é€å…¥å†…å­˜çš„ï¼Œæˆ–è€…ç›¸åã€‚ä»…åœ¨ä¼ é€ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®å—çš„å¼€å§‹å’Œç»“æŸæ—¶ï¼Œæ‰éœ€CPUå¹²é¢„ï¼Œæ•´å—æ•°æ®çš„ä¼ é€æ˜¯åœ¨æŽ§åˆ¶å™¨çš„æŽ§åˆ¶ä¸‹å®Œæˆçš„ï¼Œä¸å†éœ€è¦CPUè¿›è¡Œå¹²é¢„ã€‚I/Oé€šé“æŽ§åˆ¶æ–¹å¼ä½¿ç”¨DMAæ–¹å¼ï¼ŒCPUæ¯å‘å‡ºä¸€æ¡I/OæŒ‡ä»¤ï¼Œåªèƒ½è¯»å†™ä¸€ä¸ªè¿žç»­çš„æ•°æ®å—ã€‚å¦‚æžœéœ€è¦ä¸€æ¬¡åŽ»è¯»å¤šä¸ªç¦»æ•£çš„æ•°æ®å—ä¸”å°†å®ƒä»¬åˆ†åˆ«é€åˆ°ä¸åŒçš„å†…å­˜åŒºåŸŸï¼Œåˆ™éœ€è¦CPUåˆ†åˆ«å‘å‡ºå¤šæ¡I/OæŒ‡ä»¤åŠè¿›è¡Œå¤šæ¬¡ä¸­æ–­å¤„ç†ï¼Œæ‰èƒ½å®Œæˆã€‚è€ŒIOé€šé“å¯å®žçŽ°CPUã€é€šé“å’ŒI/Oè®¾å¤‡ä¸‰è€…çš„å¹¶è¡Œæ“ä½œï¼Œè¿›ä¸€æ­¥æé«˜CPUä¸Žå¤–è®¾ä¹‹é—´çš„å¹¶è¡Œå·¥ä½œèƒ½åŠ›ï¼Œä½¿I/Oæ“ä½œå½¢æˆç‹¬ç«‹äºŽCPUçš„ä½“ç³»ï¼Œå‡å°‘CPUçš„è´Ÿæ‹…ï¼Œä½¿å¤–è®¾ä¸Žå†…å­˜çš„æ•°æ®äº¤æ¢æ›´åŠ çµæ´»ï¼Œä»Žè€Œæ›´æœ‰æ•ˆåœ°æé«˜æ•´ä¸ªç³»ç»Ÿçš„èµ„æºåˆ©ç”¨çŽ‡ã€‚å‚è§4.4ã€‚ä¸Žè®¾å¤‡æ— å…³çš„I/Oè½¯ä»¶ä¸ºäº†ä¾¿äºŽå¯¹å¤–è®¾è¿›è¡Œç®¡ç†ï¼Œç³»ç»Ÿå¯¹æ¯å°è¿›å…¥è®¡ç®—æœºç³»ç»Ÿä¸­çš„è®¾å¤‡éƒ½ç»™å®šä¸€ä¸ªå¯¹åº”çš„ç¼–å·ï¼Œä½œä¸ºè°ƒç”¨æ—¶è¯†åˆ«å’ŒåŒºåˆ†è®¾å¤‡ç”¨ã€‚è¿™ç§ç¼–å·æ— ä»»ä½•é‡å¤ï¼Œä¸€èˆ¬è¢«ç§°ä¸ºè®¾å¤‡çš„ç»å¯¹å·ï¼ˆæˆ–ç‰©ç†è®¾å¤‡åï¼‰ã€‚æ—©æœŸæ“ä½œç³»ç»Ÿï¼Œåº”ç”¨ç¨‹åºç›´æŽ¥ä½¿ç”¨ç‰©ç†è®¾å¤‡åç§°ï¼Œéžå¸¸ä¸çµæ´»ã€‚æ‰€ä»¥å¼•å…¥é€»è¾‘è®¾å¤‡åï¼Œè§„å®šç”¨æˆ·ç”³è¯·å¤–è®¾æ—¶ï¼Œåªéœ€è¦å‘ç³»ç»Ÿè¯´æ˜Žæ‰€éœ€ç”¨çš„æŸç±»è®¾å¤‡çœŸæ­£åœ¨å®žé™…ä¸­ä½¿ç”¨å“ªå°è®¾å¤‡ï¼Œç”±ç³»ç»Ÿæ ¹æ®è¿™ç±»è®¾å¤‡çš„åº”ç”¨æƒ…å†µä½œå‡ºåˆ†é…ã€‚è®¾å¤‡åˆ†é…åœ¨å¤šé“ç¨‹åºçŽ¯å¢ƒä¸‹ï¼Œè®¾å¤‡ä¸å…è®¸ç”¨æˆ·è‡ªè¡Œä½¿ç”¨ï¼Œè€Œå¿…é¡»ç”±ç³»ç»Ÿåˆ†é…ã€‚å¯¹äºŽè¿›ç¨‹çš„IOè¯·æ±‚ï¼Œåªè¦æ˜¯å®‰å…¨ï¼ˆæ— æ­»é”ï¼‰ï¼Œè®¾å¤‡åˆ†é…ç¨‹åºä¾¿æŒ‰ç…§ä¸€å®šçš„ç­–ç•¥è¿›è¡Œè®¾å¤‡åˆ†é…ã€‚æ•°æ®ç»“æž„ï¼šç³»ç»Ÿè®¾å¤‡è¡¨SDTï¼šSystem Device Tableã€‚æ•´ä¸ªç³»ç»Ÿä¸­åªæœ‰ä¸€å¼ ï¼Œå…¨é¢åæ˜ äº†ç³»ç»Ÿä¸­çš„å¤–è®¾èµ„æºçš„ç±»åž‹ã€æ•°é‡ã€å ç”¨æƒ…å†µç­‰ã€‚åœ¨SDTè¡¨ä¸­ï¼Œæ¯ä¸ªæŽ¥å…¥ç³»ç»Ÿä¸­çš„å¤–å›´è®¾å¤‡éƒ½å æœ‰ä¸€ä¸ªè¡¨ç›®é¡¹ã€‚ç™»å½•äº†è¯¥è®¾å¤‡çš„åç§°ã€æ ‡è¯†ã€è®¾å¤‡æŽ§åˆ¶è¡¨DCTçš„å…¥å£åœ°å€ã€è®¾å¤‡é©±åŠ¨ç¨‹åºçš„å…¥å£åœ°å€åŠå ç”¨è®¾å¤‡çš„è¿›ç¨‹åç§°ç­‰ç›¸å…³ä¿¡æ¯ã€‚è®¾å¤‡æŽ§åˆ¶è¡¨DCT ï¼šDevice Control Tableã€‚æ¯å°è®¾å¤‡éƒ½æœ‰ä¸€å¼ è®¾å¤‡æŽ§åˆ¶è¡¨DCTï¼Œç”¨äºŽè®°å½•æœ¬è®¾å¤‡çš„æƒ…å†µã€‚Typeï¼šè®¾å¤‡ç±»åž‹Deviceid:è®¾å¤‡æ ‡è¯†ç¬¦è®¾å¤‡é˜Ÿåˆ—é˜Ÿé¦–æŒ‡é’ˆè®¾å¤‡çŠ¶æ€ï¼šæ ‡è¯†è®¾å¤‡å¿™æˆ–è€…ç©ºé—²ï¼›ä¸Žè®¾å¤‡è¿žæŽ¥çš„æŽ§åˆ¶å™¨è¡¨æŒ‡é’ˆã€‚é‡å¤æ‰§è¡Œæ¬¡æ•°æŽ§åˆ¶å™¨æŽ§åˆ¶è¡¨COCTï¼šController Control Tableã€‚æ¯ä¸ªæŽ§åˆ¶å™¨éƒ½æœ‰ä¸€å¼ ï¼Œç”¨äºŽè®°å½•æŸæŽ§åˆ¶å™¨çš„ä½¿ç”¨åˆ†é…æƒ…å†µåŠä¸Žè¯¥æŽ§åˆ¶å™¨ç›¸è¿žçš„é€šé“çš„æƒ…å†µã€‚æŽ§åˆ¶å™¨å·ï¼šæŽ§åˆ¶å™¨çš„å†…éƒ¨æ ‡è¯†ç¬¦ã€‚æŽ§åˆ¶å™¨çŠ¶æ€ï¼šæŽ§åˆ¶å™¨å¿™/é—²ï¼Œå¥½/åçš„çŠ¶æ€æ ‡å¿—ã€‚é€šé“æŒ‡é’ˆï¼šæŒ‡å‘ä¸Žè¯¥æŽ§åˆ¶å™¨ç›¸è”çš„é€šé“æŽ§åˆ¶è¡¨CHCTï¼Œå½“æŽ§åˆ¶å™¨ä¸Žè‹¥å¹²é€šé“è¿žæŽ¥æ—¶è¯¥é¡¹å†…å«å¤šä¸ªæŒ‡é’ˆã€‚ç­‰å¾…é˜Ÿåˆ—æŒ‡é’ˆï¼šæŒ‡å‘ç­‰å¾…è¯¥æŽ§åˆ¶å™¨çš„I/Oè¿›ç¨‹é˜Ÿåˆ—é€šé“æŽ§åˆ¶è¡¨CHCTï¼šChannel Control Tableã€‚åæ˜ äº†é€šé“çš„æƒ…å†µï¼Œç³»ç»Ÿä¸­çš„æ¯ä¸ªé€šé“ä¸€å¼ CHCTã€‚é€šé“å·ï¼šé€šé“å†…éƒ¨æ ‡è¯†ç¬¦é€šé“çŠ¶æ€ï¼šé€šé“çš„å„ç§çŠ¶æ€ï¼ˆå¥½/åï¼Œå·²åˆ†/æœªåˆ†ç­‰ï¼‰çš„åæ˜ ç­‰å¾…é˜Ÿåˆ—æŒ‡é’ˆï¼šç­‰å¾…è¯¥é€šé“çš„I/Oè¿›ç¨‹é˜Ÿåˆ—çš„é¦–ä½ç½®è®¾å¤‡åˆ†é…ç®—æ³•ç”¨æˆ·å±‚çš„I/Oè½¯ä»¶ç³»ç»Ÿè°ƒç”¨ä¸Žåº“å‡½æ•°ç”¨æˆ·å±‚è½¯ä»¶å¿…é¡»ä½¿ç”¨ä¸€ç»„ç³»ç»Ÿè°ƒç”¨æ¥å–å¾—æ“ä½œç³»ç»ŸæœåŠ¡ï¼Œåœ¨é«˜çº§è¯­è¨€ä¸­éƒ½æä¾›äº†ç›¸åº”çš„åº“å‡½æ•°æ¥å®Œæˆæ­¤åŠŸèƒ½ã€‚SPOOLingç¨‹åºå¤šé“ç¨‹åºæŠ€æœ¯å°†ä¸€å°CPUè™šæ‹Ÿä¸ºå¤šå°CPUï¼Œä»Žè€Œå¯ä»¥æé«˜CPUçš„åˆ©ç”¨çŽ‡ã€‚è€ŒSPOOLingç³»ç»Ÿæ˜¯æ¨¡æ‹Ÿè„±æœºè¾“å…¥è¾“å‡ºç³»ç»Ÿæ¥å®žçŽ°å¤šä¸ªç”¨æˆ·å…±äº«ä¸€å°ç‰©ç†IOè®¾å¤‡ã€‚è„±æœºè¾“å…¥è¾“å‡ºç³»ç»Ÿçš„IOå¤„ç†æœº å¯¹åº” SPOOLingç¨‹åºã€‚è„±æœºè¾“å…¥è¾“å‡ºç³»ç»Ÿçš„é«˜é€Ÿç¼“å†² å¯¹åº” å†…å­˜ã€‚ç¼“å†²åŒºå•ç¼“å†²åŒºåŒç¼“å†²åŒºä¸ºè¾“å…¥æˆ–è¾“å‡ºåˆ†é…ä¸¤ä¸ªç¼“å†²åŒºï¼Œè®©ä¸¤ä¸ªç¼“å†²åŒºäº¤æ›¿å·¥ä½œï¼Œå½¢æˆå¹¶è¡Œæ“ä½œçš„æ–¹å¼ã€‚çŽ¯å½¢ç¼“å†²åŒºç©ºç¼“å†²åŒºRï¼šç”¨äºŽå­˜æ”¾æ•°æ®ï¼ˆæŒ‡é’ˆï¼šNextiï¼‰å·²è£…æ»¡æ•°æ®çš„ç¼“å†²åŒºGï¼šå…¶ä¸­çš„æ•°æ®æä¾›ç»™è¿›ç¨‹ä½¿ç”¨ã€‚ï¼ˆæŒ‡é’ˆï¼šNextgï¼‰çŽ°è¡Œå·¥ä½œç¼“å†²åŒºCï¼šå½“å‰è¿›ç¨‹ä½¿ç”¨çš„ç¼“å†²åŒºã€‚ï¼ˆæŒ‡é’ˆï¼šCurrentï¼‰ç£ç›˜å­˜å‚¨å™¨çš„æ€§èƒ½å’Œè°ƒåº¦å½“ç£ç›˜é©±åŠ¨å™¨æ‰§è¡Œè¯»/å†™åŠŸèƒ½æ—¶ã€‚ç›˜ç‰‡è£…åœ¨ä¸€ä¸ªä¸»è½´ä¸Šï¼Œå¹¶ç»•ä¸»è½´é«˜é€Ÿæ—‹è½¬ï¼Œå½“ç£é“åœ¨è¯»/å†™å¤´ï¼ˆåˆå«ç£å¤´ï¼‰ä¸‹é€šè¿‡ï¼Œå°±å¯ä»¥è¿›è¡Œæ•°æ®çš„è¯»/å†™äº†ã€‚ä¸€èˆ¬ç£ç›˜åˆ†ä¸ºå›ºå®šå¤´ç›˜ï¼ˆç£å¤´å›ºå®šï¼‰å’Œæ´»åŠ¨å¤´ç›˜ã€‚å›ºå®šå¤´ç›˜çš„æ¯ä¸€ä¸ªç£é“ä¸Šéƒ½æœ‰ç‹¬ç«‹çš„ç£å¤´ï¼Œå®ƒæ˜¯å›ºå®šä¸åŠ¨çš„ï¼Œä¸“é—¨è´Ÿè´£è¿™ä¸€ç£é“ä¸Šæ•°æ®çš„è¯»/å†™ã€‚æ´»åŠ¨å¤´ç›˜ ï¼ˆå¦‚ä¸Šå›¾ï¼‰çš„ç£å¤´æ˜¯å¯ç§»åŠ¨çš„ã€‚æ¯ä¸€ä¸ªç›˜é¢ä¸Šåªæœ‰ä¸€ä¸ªç£å¤´ï¼ˆç£å¤´æ˜¯åŒå‘çš„ï¼Œå› æ­¤æ­£åç›˜é¢éƒ½èƒ½è¯»å†™ï¼‰ã€‚å®ƒå¯ä»¥ä»Žè¯¥é¢çš„ä¸€ä¸ªç£é“ç§»åŠ¨åˆ°å¦ä¸€ä¸ªç£é“ã€‚æ‰€æœ‰ç£å¤´éƒ½è£…åœ¨åŒä¸€ä¸ªåŠ¨è‡‚ä¸Šï¼Œå› æ­¤ä¸åŒç›˜é¢ä¸Šçš„æ‰€æœ‰ç£å¤´éƒ½æ˜¯åŒæ—¶ç§»åŠ¨çš„ï¼ˆè¡ŒåŠ¨æ•´é½åˆ’ä¸€ï¼‰ã€‚å½“ç›˜ç‰‡ç»•ä¸»è½´æ—‹è½¬çš„æ—¶å€™ï¼Œç£å¤´ä¸Žæ—‹è½¬çš„ç›˜ç‰‡å½¢æˆä¸€ä¸ªåœ†æŸ±ä½“ã€‚å„ä¸ªç›˜é¢ä¸ŠåŠå¾„ç›¸åŒçš„ç£é“ç»„æˆäº†ä¸€ä¸ªåœ†æŸ±é¢ï¼Œæˆ‘ä»¬ç§°ä¸ºæŸ±é¢ ã€‚å› æ­¤ï¼ŒæŸ±é¢çš„ä¸ªæ•°ä¹Ÿå°±æ˜¯ç›˜é¢ä¸Šçš„ç£é“æ•°ã€‚ç£ç›˜è®¿é—®æ—¶é—´å¯»é“æ—¶é—´$T_s$ï¼š$T_s = s$æ—‹è½¬å»¶è¿Ÿæ—¶é—´$T_Ï„â€‹$ï¼š$T_t = \frac{1}{2r}â€‹$ç£ç›˜è®¿é—®æ—¶é—´ ï¼š$T_t=\frac{b}{rN}$$s$æ˜¯æŒ‡ç£å¤´ä»Žå½“å‰ä½ç½®å®šä½åˆ°å¼€å§‹ç‚¹çš„æ—¶é—´ï¼Œ$b$æ˜¯ä¼ è¾“çš„å­—èŠ‚æ•°ï¼Œ$r$æ˜¯æ¯ç§’çš„è½¬æ•°ï¼Œ$N$æ˜¯ä¸€æ¡ç£é“ä¸Šçš„å­—èŠ‚æ•°ã€‚$æ€»æ—¶é—´ = T_s + \frac{1}{2r} + \frac{b}{rN}$ç£ç›˜è°ƒåº¦ç®—æ³•å‡è®¾ç£ç›˜è®¿é—®åºåˆ—ï¼š98ï¼Œ183ï¼Œ37ï¼Œ122ï¼Œ14ï¼Œ124ï¼Œ65ï¼Œ67ï¼Œè¯»å†™å¤´èµ·å§‹ä½ç½®ï¼š53ã€‚å…ˆæ¥å…ˆæœåŠ¡æŒ‰è®¿é—®è¯·æ±‚åˆ°è¾¾çš„å…ˆåŽæ¬¡åºæœåŠ¡ã€‚æœ€çŸ­å¯»é“æ—¶é—´ä¼˜å…ˆæ‰«æç®—æ³•å½“è®¾å¤‡æ— è®¿é—®è¯·æ±‚æ—¶ï¼Œç£å¤´ä¸åŠ¨ï¼›å½“æœ‰è®¿é—®è¯·æ±‚æ—¶ï¼Œç£å¤´æŒ‰ä¸€ä¸ªæ–¹å‘ç§»åŠ¨ï¼Œåœ¨ç§»åŠ¨è¿‡ç¨‹ä¸­å¯¹é‡åˆ°çš„è®¿é—®è¯·æ±‚è¿›è¡ŒæœåŠ¡ï¼Œç„¶åŽåˆ¤æ–­è¯¥æ–¹å‘ä¸Šæ˜¯å¦è¿˜æœ‰è®¿é—®è¯·æ±‚ï¼Œå¦‚æžœæœ‰åˆ™ç»§ç»­æ‰«æï¼›å¦åˆ™æ”¹å˜ç§»åŠ¨æ–¹å‘ï¼Œå¹¶ä¸ºç»è¿‡çš„è®¿é—®è¯·æ±‚æœåŠ¡ï¼Œå¦‚æ­¤åå¤ã€‚å¾ªçŽ¯æ‰«æç®—æ³•CSCANç®—æ³•è§„å®šç£å¤´å•å‘ç§»åŠ¨ï¼Œä¾‹å¦‚ç”±é‡Œå‘å¤–ç§»åŠ¨ï¼Œå½“ç£å¤´ç§»åˆ°æœ€å¤–çš„ç£é“å¹¶è®¿é—®åŽç£å¤´ç«‹å³è¿”å›žåˆ°æœ€é‡Œçš„æ¬²è®¿é—®ç£é“ï¼Œå³æœ€å°ç£é“å·ç´§æŽ¥æœ€å¤§ç£é“å·æž„æˆå¾ªçŽ¯ï¼Œè¿›è¡Œå¾ªçŽ¯æ‰«æã€‚]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[07-Mysqlé«˜çº§æ“ä½œ]]></title>
    <url>%2F2019%2F07-Mysql%E9%AB%98%E7%BA%A7%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[æ•°æ®è¿™ä¸ªæ˜¯æœ¬äººæ•°æ®åº“è¯¾ç¨‹è®¾è®¡ä¸­çš„è¡¨ç»“æž„ï¼Œæ•°æ®åº“è¯¾ç¨‹è®¾è®¡å†™çš„æ˜¯å­¦é™¢æˆç»©ç®¡ç†ç³»ç»Ÿï¼Œå°±æ˜¯å¯ä»¥é€šè¿‡excelæŠŠå­¦ç”Ÿçš„ç»©ç‚¹ã€ç«žèµ›æƒ…å†µã€å¤§åˆ›é¡¹ç›®æƒ…å†µå¯¼å…¥åˆ°ç³»ç»Ÿä¸­ï¼Œç„¶åŽå­¦ç”Ÿã€ç­é•¿ã€è¾…å¯¼å‘˜ä¸‰ä¸ªçº§åˆ«çš„ç”¨æˆ·å¯ä»¥ä»Žä¸‰ä¸ªå±‚æ¬¡çœ‹åˆ°æˆç»©ã€‚è¡¨ç»“æž„ï¼šstudentinfosï¼šå­¦å·ã€å¯†ç ã€å§“åã€ä¸“ä¸šã€ç­çº§ã€ç»©ç‚¹ã€çº§åˆ«ï¼ˆå­¦ç”Ÿæ˜¯ç¬¬ä¸€çº§ï¼‰coursesï¼šè¯¾å·ã€å§“åã€ç±»åž‹ï¼ˆå¿…ä¿®è¯¾ã€å…¬å…±é€‰ä¿®è¯¾ã€ä¸“ä¸šé€‰ä¿®è¯¾ç­‰ï¼‰ã€é‡è¦ç³»æ•°ï¼ˆç†å­¦é™¢å¥—é¤ã€ä¸“ä¸šæ ¸å¿ƒè¯¾ç¨‹ä¸€èˆ¬æ˜¯1.2ï¼Œé€‰ä¿®è¯¾ç­‰ä¸€èˆ¬æ˜¯1.0ï¼‰ã€å­¦åˆ†ã€å¹´åº¦ã€‚scoresï¼šå”¯ä¸€æ ‡è¯†ï¼ˆæ²¡åŠç”¨â€¦ï¼‰ã€å­¦å·ã€è¯¾å·ã€æˆç»©ã€å¹´åº¦ã€å­¦æœŸclassdaminsï¼šç­å·ã€å¯†ç ã€ç­çº§åç§°ã€çº§åˆ«ï¼ˆç­é•¿æ˜¯ç¬¬äºŒçº§åˆ«ï¼‰candpï¼šå”¯ä¸€æ ‡è¯†ã€é¡¹ç›®æˆ–æ¯”èµ›çš„åç§°ã€å¹´åº¦ã€çº§åˆ«ã€æ˜¯å¦æ˜¯è´Ÿè´£äººã€å­¦å·ã€çŠ¶æ€è§†å›¾è¯­æ³•1234CREATE [OR REPLACE] [ALGORITHM = &#123;UNDEFINED | MERGE | TEMPTABLE&#125;]VIEW view_name [(column_list)]AS SELECT_statement[WITH [CASCADED | LOCAL] CHECK OPTION]æŠŠæ¯ä¸ªç­å­¦ç”Ÿçš„ç»©ç‚¹ã€å­¦åˆ†ã€é€šè¿‡çŽ‡åˆ›å»ºä¸€ä¸ªè§†å›¾ï¼šclassstudentscores12345678910111213141516171819CREATE OR REPLACE VIEW classstudentscores ASSELECT `scores`.`stu_id` AS `id`, `studentinfos`.`name` AS `name`, `studentinfos`.`pwd` AS `pwd`, `studentinfos`.`cclass` AS `cclass`, `studentinfos`.`gpa` AS `gpa`, sum(`courses`.`credit`) AS `allcre`, `getStudentPassRate` (`scores`.`stu_id`) AS `passrate`FROM `studentinfos`, `scores`, `courses`WHERE `studentinfos`.`id` = `scores`.`stu_id` AND `scores`.`cou_id` = `courses`.`id` AND `scores`.`score` &gt; 59GROUP BY `scores`.`stu_id`æ›´æ–°è§†å›¾è§†å›¾æ˜¯å¯ä»¥æ›´æ–°çš„ï¼Œå¯¹è§†å›¾çš„æ›´æ–°æœ€ç»ˆä¼šååº”åˆ°åŸºæœ¬è¡¨ä¸Šï¼Œä½†æ˜¯å¹¶éžæ‰€æœ‰çš„è§†å›¾éƒ½æ˜¯å¯æ›´æ–°çš„ã€‚å¦‚æžœè§†å›¾åŒ…å«ä¸‹è¿°ç»“æž„ä¸­çš„ä»»ä½•ä¸€ç§ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸å¯æ›´æ–°çš„ï¼šèšåˆå‡½æ•°ï¼ˆSUM(), MIN(), MAX(), COUNT()ç­‰ï¼‰ã€‚DISTINCTGROUP BYHAVINGUNIONæˆ–UNION ALLä½äºŽé€‰æ‹©åˆ—è¡¨ä¸­çš„å­æŸ¥è¯¢JoinFROMå­å¥ä¸­çš„ä¸å¯æ›´æ–°è§†å›¾WHEREå­å¥ä¸­çš„å­æŸ¥è¯¢ï¼Œå¼•ç”¨FROMå­å¥ä¸­çš„è¡¨ã€‚ALGORITHM = TEMPTABLEï¼ˆä½¿ç”¨ä¸´æ—¶è¡¨æ€»ä¼šä½¿è§†å›¾æˆä¸ºä¸å¯æ›´æ–°çš„ï¼‰ã€‚WITH CHECK OPTIONLOCALå‚æ•°è¡¨ç¤ºæ›´æ–°è§†å›¾æ—¶åªè¦æ»¡è¶³è¯¥è§†å›¾æœ¬èº«å®šä¹‰çš„æ¡ä»¶å³å¯ã€‚CASCADEDå‚æ•°è¡¨ç¤ºæ›´æ–°è§†å›¾æ—¶éœ€è¦æ»¡è¶³æ‰€æœ‰ç›¸å…³è§†å›¾å’Œè¡¨çš„æ¡ä»¶ã€‚æ²¡æœ‰æŒ‡æ˜Žæ—¶ï¼Œè¯¥å‚æ•°ä¸ºé»˜è®¤å€¼ã€‚æ€»ç»“ä½¿ç”¨with check optionä¹‹åŽï¼Œé€šè¿‡è§†å›¾è¿›è¡Œçš„ä¿®æ”¹ï¼Œå¿…é¡»ä¹Ÿèƒ½é€šè¿‡è¯¥è§†å›¾çœ‹åˆ°ä¿®æ”¹åŽçš„ç»“æžœã€‚æ€»ç»“å¦‚ä¸‹ï¼šè§†å›¾åªæ“ä½œå®ƒå¯ä»¥æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®ï¼Œå¯¹äºŽå®ƒæŸ¥è¯¢ä¸å‡ºçš„æ•°æ®ï¼Œå³ä½¿åŸºè¡¨æœ‰ï¼Œä¹Ÿä¸å¯ä»¥é€šè¿‡è§†å›¾æ¥æ“ä½œã€‚å¯¹äºŽupdateï¼Œæœ‰with check optionï¼Œè¦ä¿è¯updateåŽï¼Œæ•°æ®è¦è¢«è§†å›¾æŸ¥è¯¢å‡ºæ¥å¯¹äºŽdeleteï¼Œæœ‰æ— with check optionéƒ½ä¸€æ ·å¯¹äºŽinsertï¼Œæœ‰with check optionï¼Œè¦ä¿è¯insertåŽï¼Œæ•°æ®è¦è¢«è§†å›¾æŸ¥è¯¢å‡ºæ¥å¯¹äºŽæ²¡æœ‰whereå­å¥çš„è§†å›¾ï¼Œä½¿ç”¨with check optionæ˜¯å¤šä½™çš„è§†å›¾åˆ›å»ºç®—æ³•MERGEç®—æ³•ï¼šMySQLé¦–å…ˆå°†è¾“å…¥æŸ¥è¯¢ä¸Žå®šä¹‰è§†å›¾çš„SELECTè¯­å¥ç»„åˆæˆå•ä¸ªæŸ¥è¯¢ã€‚ ç„¶åŽMySQLæ‰§è¡Œç»„åˆæŸ¥è¯¢è¿”å›žç»“æžœé›†ã€‚ å¦‚æžœSELECTè¯­å¥åŒ…å«é›†åˆå‡½æ•°ã€DISTINCTã€GROUP BYã€HAVINGã€LIMITã€UNIONã€UNION ALLã€å­æŸ¥è¯¢ï¼Œåˆ™ä¸å…è®¸ä½¿ç”¨MERGEç®—æ³•ã€‚å¦‚æžœSELECTè¯­å¥æ— å¼•ç”¨è¡¨ï¼Œåˆ™ä¹Ÿä¸å…è®¸ä½¿ç”¨MERGEç®—æ³•ã€‚ å¦‚æžœä¸å…è®¸MERGEç®—æ³•ï¼ŒMySQLå°†ç®—æ³•æ›´æ”¹ä¸ºUNDEFINEDã€‚ä½¿ç”¨TEMPTABLEç®—æ³•ï¼ŒMySQLé¦–å…ˆæ ¹æ®å®šä¹‰è§†å›¾çš„SELECTè¯­å¥åˆ›å»ºä¸€ä¸ªä¸´æ—¶è¡¨ï¼Œç„¶åŽé’ˆå¯¹è¯¥ä¸´æ—¶è¡¨æ‰§è¡Œè¾“å…¥æŸ¥è¯¢ã€‚å› ä¸ºMySQLå¿…é¡»åˆ›å»ºä¸´æ—¶è¡¨æ¥å­˜å‚¨ç»“æžœé›†å¹¶å°†æ•°æ®ä»ŽåŸºè¡¨ç§»åŠ¨åˆ°ä¸´æ—¶è¡¨ï¼Œæ‰€ä»¥TEMPTABLEç®—æ³•çš„æ•ˆçŽ‡æ¯”MERGEç®—æ³•æ•ˆçŽ‡ä½Žã€‚ å¦å¤–ï¼Œä½¿ç”¨TEMPTABLEç®—æ³•çš„è§†å›¾æ˜¯ä¸å¯æ›´æ–°çš„ã€‚åŽŸæ–‡é“¾æŽ¥ï¼šhttps://www.yiibai.com/mysql/create-sql-views-mysql.htmlå­˜å‚¨è¿‡ç¨‹æ•™ç¨‹é“¾æŽ¥ï¼šhttps://www.yiibai.com/mysql/stored-procedure.htmlä¸€å®šè¦æ³¨æ„ï¼ŒMysqlçš„æ¸¸æ ‡åªèƒ½ç”¨äºŽå­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°ã€‚ä¾‹ï¼šèŽ·å¾—ç­çº§çš„å¹³å‡ç»©ç‚¹123456789101112131415161718192021222324drop procedure IF EXISTS getClassGpa;create procedure getClassGpa(IN `classID` varchar(20), OUT `avgpa` double)BEGIN DECLARE cgpa DOUBLE; DECLARE sum DOUBLE DEFAULT 0.0; DECLARE done int DEFAULT 0; DECLARE num int; DECLARE cur cursor for select gpa from studentinfos where cclass = classID; DECLARE CONTINUE HANDLER for not found set done = TRUE; set sum=0.0; set num=0; open cur; read_loop:LOOP FETCH CUR INTO cgpa; if done then leave read_loop; end if; set sum = sum + cgpa; set num = num+1; end loop; close cur; set avgpa = sum/num; SELECT sum,avgpa;ENDå‡½æ•°æœ¬è´¨ä¸Šå’Œå­˜å‚¨è¿‡ç¨‹æ²¡åŒºåˆ«ã€‚åªæ˜¯å‡½æ•°åªèƒ½è¿”å›žä¸€ä¸ªå˜é‡çš„é™åˆ¶ã€‚è€Œå­˜å‚¨è¿‡ç¨‹å¯ä»¥è¿”å›žå¤šä¸ªã€‚è€Œä¸”å‡½æ•°æ˜¯å¯ä»¥åµŒå…¥åœ¨sqlä¸­ä½¿ç”¨ï¼Œå¯ä»¥åœ¨selectä¸­è°ƒç”¨ï¼Œè€Œå­˜å‚¨è¿‡ç¨‹ä¸è¡Œã€‚é€šå¸¸å¦‚æžœè¿”å›žå€¼åªæœ‰ä¸€ä¸ªä½¿ç”¨å‡½æ•°ï¼Œå…¶ä»–æƒ…å†µä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ã€‚12345678910111213141516171819DROP FUNCTION IF EXISTS `getClassNotPassRate`;CREATE FUNCTION `getClassNotPassRate` (`classID` VARCHAR(20)) RETURNS DOUBLEBEGIN DECLARE sum DOUBLE; DECLARE notPassSum DOUBLE; SELECT COUNT(*) INTO sum FROM scores, studentinfos WHERE scores.stu_id = studentinfos.id AND studentinfos.cclass = classID; SELECT COUNT(*) INTO notPassSum FROM scores, studentinfos WHERE scores.stu_id = studentinfos.id AND studentinfos.cclass = classID AND scores.score &lt; 60; IF (sum = 0) THEN RETURN 0; END IF; RETURN notPassSum / sum;ENDè§¦å‘å™¨æ•™ç¨‹ï¼šhttps://www.yiibai.com/mysql/triggers.htmlä¾‹ï¼šåœ¨å½•å…¥å­¦ç”Ÿæˆç»©æ—¶ï¼Œè§¦å‘å™¨æ ¹æ®æ–°å½•å…¥çš„å­¦ç”Ÿæˆç»©çš„ç³»ç»Ÿä¸­å·²æœ‰çš„å­¦ç”Ÿé€‰è¯¾æˆç»©è®¡ç®—å‡ºå½•å…¥ä¹‹åŽçš„å­¦ç”ŸGPAã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859DROP TRIGGER IF EXISTS `changeGpa`;CREATE TRIGGER `changeGpa` AFTER INSERT ON `scores` FOR EACH ROWBEGIN DECLARE myavg DOUBLE; DECLARE allcre DOUBLE; DECLARE temp DOUBLE; DECLARE sum DOUBLE DEFAULT 0.0; DECLARE t INTEGER; DECLARE t1 DOUBLE; DECLARE t2 DOUBLE; DECLARE done INT DEFAULT FALSE; DECLARE cur cursor for SELECT scores.score, courses.coefficient, courses.credit from studentinfos, scores, courses where studentinfos.id = scores.stu_id and scores.cou_id = courses.id and stu_id = new.stu_id; DECLARE CONTINUE HANDLER for not found set done = TRUE; SELECT SUM(courses.credit) into allcre from studentinfos, scores, courses where studentinfos.id = scores.stu_id and scores.cou_id = courses.id and stu_id = new.stu_id and score&gt;=60; open cur; read_loop:loop FETCH cur into t, t1, t2; IF done THEN LEAVE read_loop; END IF; if(t &lt; 60) THEN set temp = 0.0; end if; if(t &gt;= 60) THEN set temp = 1.0; end if; if(t &gt;= 64) THEN set temp = 1.6; end if; if(t &gt;= 66) THEN set temp = 1.7; end if; if(t &gt;= 68) THEN set temp = 2.0; end if; if(t &gt;= 72) THEN set temp = 2.3; end if; if(t &gt;= 75) THEN set temp = 2.7; end if; if(t &gt;= 78) THEN set temp = 3.0; end if; if(t &gt;= 82) THEN set temp = 3.3; end if; if(t &gt;= 85) THEN set temp = 3.7; end if; if(t &gt;= 90) THEN set temp = 4.0; end if; set sum=temp*t1*t2+sum; end loop; close cur; set myavg = sum/allcre; UPDATE studentinfos SET gpa = myavg where id = new.stu_id;END]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[06-äº‹åŠ¡]]></title>
    <url>%2F2019%2F06-%E4%BA%8B%E5%8A%A1%2F</url>
    <content type="text"><![CDATA[ACIDAåŽŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡æ˜¯æ•°æ®åº“çš„é€»è¾‘å·¥ä½œå•ä½äº‹åŠ¡ä¸­åŒ…æ‹¬çš„è¯¸æ“ä½œè¦ä¹ˆéƒ½åšï¼Œè¦ä¹ˆéƒ½ä¸åšã€‚Cä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šäº‹åŠ¡æ‰§è¡Œçš„ç»“æžœå¿…é¡»æ˜¯ä½¿æ•°æ®åº“ä»Žä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ã€‚ä¸€è‡´æ€§çŠ¶æ€ï¼šæ•°æ®åº“ä¸­åªåŒ…å«æˆåŠŸäº‹åŠ¡æäº¤çš„ç»“æžœã€‚ä¸ä¸€è‡´çŠ¶æ€ï¼šæ•°æ®åº“ä¸­åŒ…å«å¤±è´¥äº‹åŠ¡çš„ç»“æžœã€‚Iéš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡å†…éƒ¨çš„æ“ä½œåŠä½¿ç”¨çš„æ•°æ®å¯¹å…¶ä»–å¹¶å‘äº‹åŠ¡æ˜¯éš”ç¦»çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œçš„æ—¶å€™ä¸çŸ¥é“æ˜¯å¦æœ‰å…¶ä»–äº‹åŠ¡å’Œå®ƒä¸€èµ·åœ¨å¯¹ç›¸åŒçš„æ•°æ®åšæ“ä½œï¼Œäº‹åŠ¡ä¹‹é—´æ˜¯ç›¸å¯¹ä¸å¯è§çš„ã€‚DæŒç»­æ€§ï¼ˆDurabilityï¼‰ï¼šæŒç»­æ€§ä¹Ÿç§°æ°¸ä¹…æ€§ã€‚ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜å°±åº”è¯¥æ˜¯æ°¸ä¹…æ€§çš„ã€‚æŽ¥ä¸‹æ¥çš„å…¶ä»–æ“ä½œæˆ–æ•…éšœä¸åº”è¯¥å¯¹å…¶æ‰§è¡Œç»“æžœæœ‰ä»»ä½•å½±å“ã€‚äº‹åŠ¡çš„å¹¶å‘é—®é¢˜ç”±äºŽäº‹åŠ¡çš„éš”ç¦»æ€§ï¼Œä¸åŒäº‹åŠ¡è‹¥åŒæ—¶ç›¸åŒçš„æ•°æ®åšæ“ä½œï¼Œå¯èƒ½ä¼šå¼•å‘é—®é¢˜ï¼Œå³äº‹åŠ¡çš„å¹¶å‘é—®é¢˜ã€‚æŒ‰ç…§é—®é¢˜è§£å†³çš„éš¾åº¦ç”±ä½Žè‡³é«˜å¯åˆ†ä¸ºå››ç±»ã€‚ä¸¢å¤±ä¿®æ”¹ä¸€ä¸ªäº‹åŠ¡å¯¹æ•°æ®å¯¹è±¡çš„ä¿®æ”¹è¢«å¦ä¸€ä¸ªäº‹åŠ¡çš„ä¿®æ”¹æ‰€è¦†ç›–ã€‚åˆ†ä¸ºä¸¤ç±»ï¼šç¬¬ä¸€ç±»ï¼šäº‹åŠ¡T1ã€T2åŒæ—¶è¯»å–Aä¸º10ï¼ŒT1å°†Aå‡1åŽæäº¤ï¼ŒT2å°†Aä¹Ÿå‡1åŽæäº¤ï¼Œæ­¤æ—¶æ•°æ®åº“ä¸­æ•°æ®ä¸º9ã€‚T1çš„ä¿®æ”¹è¢«T2è¦†ç›–ã€‚ç¬¬ä¸€ç±»ï¼šäº‹åŠ¡T1ã€T2åŒæ—¶è¯»å–Aä¸º10ï¼ŒT1å°†Aå‡1åŽæäº¤ï¼ŒT2å°†Aä¹Ÿå‡1åŽå›žæ»šï¼Œæ­¤æ—¶æ•°æ®åº“ä¸­æ•°æ®ä¸º10ã€‚T1çš„ä¿®æ”¹è¢«T2è¦†ç›–ã€‚è„è¯»ç”±äºŽä¸€ä¸ªäº‹ç‰©çš„å›žæ»šï¼Œä½¿å¾—å¦ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°çš„æ•°æ®æ— æ•ˆã€‚äº‹åŠ¡T1ä¸­è¯»Aä¸º100ï¼Œä¿®æ”¹Aæœª300ï¼Œè¿˜æœªæäº¤æ—¶äº‹åŠ¡T2è¯»Cä¸º300ï¼Œä½†ç”±äºŽT1å› æŸåŽŸå› è¿›è¡Œäº‹åŠ¡å›žæ»šã€‚Aåˆè¢«é‡ç½®ä¸º100ã€‚T2è¯»å–åˆ°çš„æ˜¯è„æ•°æ®ã€‚ä¸å¯é‡å¤è¯»åœ¨ä¸€ä¸ªäº‹åŠ¡çš„ä¸¤æ¬¡â€œè¯»â€åŒä¸€æ•°æ®ä¹‹é—´ï¼Œæœ‰å¦ä¸€ä¸ªäº‹åŠ¡çš„â€œupdataâ€å‘ç”Ÿã€‚å¦‚åœ¨äº‹åŠ¡T1ä¸­ç¬¬ä¸€æ¬¡è¯»Aä¸º100ï¼Œè¯»Bä¸º200ï¼ŒA+Bä¸º300ï¼Œåœ¨äº‹åŠ¡T2ä¸­æŠŠAä¿®æ”¹ä¸º200ï¼Œäº‹åŠ¡T2ç¬¬äºŒæ¬¡è¯»Aä¸º200ï¼Œè¯»Bä¸º200ï¼ŒA+Bä¸º400ã€‚åŒä¸€äº‹åŠ¡ä¸¤æ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€è‡´ã€‚å¹»è¯»åœ¨ä¸€ä¸ªäº‹åŠ¡çš„ä¸¤æ¬¡â€œè¯»â€åŒä¸€æ•°æ®ä¹‹é—´ï¼Œæœ‰å¦ä¸€ä¸ªäº‹åŠ¡çš„â€œinsertâ€å‘ç”Ÿã€‚å¦‚åœ¨äº‹åŠ¡T1ä¸­ç¬¬ä¸€æ¬¡è¯»count(*)ä¸º100ï¼Œäº‹åŠ¡T2æ’å…¥ä¸€æ¡æ•°æ®ï¼Œäº‹åŠ¡T1ä¸­ç¬¬äºŒæ¬¡è¯»count(*)ä¸º101ï¼ŒåŒä¸€äº‹åŠ¡ä¸¤æ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€è‡´ã€‚å°é”ç±»åž‹åŠ é”æ˜¯è§£å†³äº‹åŠ¡å¹¶å‘é—®é¢˜çš„å¸¸è§æ‰‹æ®µã€‚æ•°æ®åº“ä¸­çš„é”ä»Žè¯»å†™çš„è§’åº¦å¯åˆ†ä¸ºä¸¤ç±»ï¼šå…±äº«é”å’ŒæŽ’å®ƒé”ã€‚æŽ’å®ƒé”ï¼ˆXé”ï¼‰ï¼šåªå…è®¸å½“å‰äº‹åŠ¡Tå¯¹æ•°æ®è¿›è¡Œâ€œè¯»â€ã€â€œå†™â€ï¼Œå…¶å®ƒäº‹åŠ¡å¯¹æ•°æ®Rçš„ä»»ä½•é”è¯·æ±‚è¢«æ‹’ç»ç›´åˆ°Té‡Šæ”¾Rä¸Šçš„Xé”ã€‚å…±äº«é”ï¼ˆSé”ï¼‰ï¼šå…è®¸å½“å‰äº‹åŠ¡Tå¯¹æ•°æ®Rè¿›è¡Œâ€œè¯»â€ï¼Œä¸å…è®¸â€œå†™â€œï¼Œè€Œå…¶å®ƒäº‹åŠ¡å¯¹Rçš„Sç”³è¯·è¢«å…è®¸ï¼ŒXè¯·æ±‚æ‹’ç»ã€‚å¸¦æ¥çš„æ•ˆæžœæ˜¯ï¼šXé”ï¼šæ•°æ®å¯¹è±¡å½“å‰åªèƒ½ç”±ä¸€ä¸ªäº‹åŠ¡æ“ä½œã€‚Sé”ï¼šå¤šä¸ªäº‹åŠ¡å…è®¸åŒæ—¶â€œè¯»â€ä¸€ä¸ªæ•°æ®ã€‚å°é”åè®®åœ¨è¿ç”¨Xé”å’ŒSé”å¯¹æ•°æ®å¯¹è±¡åŠ é”æ—¶ï¼Œè¿˜éœ€è¦çº¦å®šä¸€äº›è§„åˆ™ ï¼Œä¾‹å¦‚ä½•æ—¶ç”³è¯·Xé”æˆ–Sé”ã€æŒé”æ—¶é—´ã€ä½•æ—¶é‡Šæ”¾ç­‰ã€‚ç§°è¿™äº›è§„åˆ™ä¸ºå°é”åè®®ã€‚å¯¹å°é”æ–¹å¼è§„å®šä¸åŒçš„è§„åˆ™ï¼Œå°±å½¢æˆäº†å„ç§ä¸åŒçš„å°é”åè®®ã€‚ä¸€çº§å°é”åè®®å¯¹Tè¦â€œå†™â€çš„RåŠ Xé”ï¼Œç›´åˆ°Tç»“æŸã€‚æ­¤æ—¶å¯ä»¥è§£å†³ä¸¢å¤±æ›´æ–°ã€‚æ­¤æ—¶ä»ç„¶ä¼šå‘ç”Ÿï¼šè„è¯»ï¼šäº‹åŠ¡T2å¯ä»¥ç»•è¿‡Xé”è¯»å–æ•°æ®ï¼Œä¸”è¯»å–åˆ°çš„æ˜¯T1å›žæ»šçš„æ•°æ®ã€‚ä¸å¯é‡å¤è¯»ï¼šäº‹åŠ¡T2çš„ä¸¤æ¬¡è¯»ä¹‹é—´å¯ä»¥å‘ç”ŸT1çš„â€updateâ€œã€‚å¹»è¯»ï¼šäº‹åŠ¡T2çš„ä¸¤æ¬¡è¯»ä¹‹é—´å¯ä»¥å‘ç”ŸT1çš„â€insertâ€œã€‚äºŒçº§å°é”åè®®Tå‘ç”Ÿâ€œå†™â€åŠ Xé”ï¼Œç›´åˆ°Tç»“æŸï¼›ï¼ˆä¸€çº§å°é”åè®®ï¼‰Tå‘ç”Ÿâ€œè¯»â€RåŠ Sé”ï¼Œè¯»å®Œå³é‡Šæ”¾ã€‚æ­¤æ—¶å¯ä»¥è§£å†³ä¸¢å¤±ä¿®æ”¹å’Œè„è¯»ã€‚äº‹åŠ¡T1å…ˆå¯¹Rè¿›è¡Œå†™ï¼ˆåŠ Xé”ï¼‰ï¼Œåˆ™äº‹åŠ¡T2åœ¨è¯»æ—¶æ²¡æ³•åŠ Sé”ï¼Œç›´è‡³T1ç»“æŸã€‚äº‹åŠ¡T2å…ˆå¯¹Rè¿›è¡Œè¯»ï¼ˆåŠ Sé”ï¼‰ï¼Œåˆ™äº‹åŠ¡T1åœ¨å†™æ—¶éœ€è¦ç­‰å¾…è¯»ç»“æŸï¼ˆT1ä¸ä¸€å®šç»“æŸï¼‰ã€‚æ­¤æ—¶ä»ç„¶ä¼šå‘ç”Ÿï¼šä¸å¯é‡å¤è¯»ï¼šäº‹åŠ¡T1åœ¨ç¬¬ä¸€æ¬¡è¯»ä¹‹åŽï¼ˆé‡Šæ”¾Sé”ï¼‰ï¼Œäº‹åŠ¡T2è¿›è¡Œäº†â€updateâ€æ“ä½œï¼Œäº‹åŠ¡T1å†è¯»å¾—åˆ°çš„æ•°æ®å’Œä¸Šæ¬¡ä¸ä¸€è‡´ã€‚å¹»è¯»ï¼šäº‹åŠ¡T1åœ¨ç¬¬ä¸€æ¬¡è¯»ä¹‹åŽï¼ˆé‡Šæ”¾Sé”ï¼‰ï¼Œäº‹åŠ¡T2è¿›è¡Œäº†â€insertâ€æ“ä½œï¼Œäº‹åŠ¡T1å†è¯»å¾—åˆ°çš„æ•°æ®å’Œä¸Šæ¬¡ä¸ä¸€è‡´ã€‚ä¸‰çº§å°é”åè®®Tå‘ç”Ÿâ€œå†™â€åŠ Xé”ï¼Œç›´åˆ°Tç»“æŸã€‚Tå‘ç”Ÿâ€œè¯»â€åŠ Sé”ï¼Œç›´åˆ°Tç»“æŸã€‚æ­¤æ—¶å¯ä»¥è§£å†³ä»»ä½•å¹¶å‘é—®é¢˜ï¼Œå› ä¸ºæ— è®ºå¯¹æ•°æ®è¿›è¡Œè¯»è¿˜æ˜¯å†™éƒ½è¦åŠ é”ï¼šå†™ï¼šå…ˆåŠ Xé”ï¼Œä¹‹åŽä»»ä½•è¯»å†™éƒ½è¢«ç¦æ­¢ã€‚è¯»ï¼šå…ˆåŠ Sé”ï¼Œä¹‹åŽä»»ä½•å†™æ“ä½œéƒ½è¢«è¢«ç¦æ­¢ã€‚ä¸‰çº§å°é”åè®®ä»…å…è®¸ä¸åŒçš„äº‹åŠ¡åŒæ—¶å‘ç”Ÿè¯»æ“ä½œã€‚ä¸¤æ®µé”åè®®åœ¨å¯¹ä»»ä½•æ•°æ®è¿›è¡Œè¯»ã€å†™æ“ä½œä¹‹å‰ï¼Œäº‹åŠ¡é¦–å…ˆè¦èŽ·å¾—å¯¹è¯¥æ•°æ®çš„å°é”ã€‚åœ¨é‡Šæ”¾ä¸€ä¸ªå°é”ä¹‹åŽï¼Œäº‹åŠ¡ä¸å†èŽ·å¾—ä»»ä½•å…¶ä»–å°é”ã€‚æ»¡è¶³æ‰€æœ‰éµå®ˆä¸¤æ®µé”åè®®çš„äº‹åŠ¡ï¼Œå…¶å¹¶è¡Œæ‰§è¡Œçš„ç»“æžœä¸€å®šæ˜¯æ­£ç¡®çš„ï¼šå…ˆåŠ Xé”ï¼šXé”ç»“æŸå‰ï¼ˆåœ¨ä¸¤æ®µé”åè®®ä¸­ï¼Œä¸ä¸€å®šè¦äº‹åŠ¡ç»“æŸæ‰èƒ½é‡Šæ”¾Xé”ï¼‰ä»»ä½•é”éƒ½ä¸èƒ½åŠ ä¸ŠåŽ»ï¼ŒXé”ç»“æŸåŽæ­¤äº‹åŠ¡ä¸èƒ½å†è¿›è¡Œä»»ä½•è¯»å†™æ“ä½œã€‚å…ˆåŠ Sé”ï¼šSé”ç»“æŸå‰ï¼Œåªèƒ½å¯¹å…¶åŠ Sé”ï¼Œå³åªå…è®¸å¤šä¸ªäº‹åŠ¡åŒæ—¶è¯»ã€‚ä¸€æ—¦é‡Šæ”¾ä¸€ä¸ªSé”ï¼Œä¾¿ä»»ä½•é”éƒ½åŠ ä¸ä¸ŠåŽ»ï¼Œåªèƒ½å®Œæˆä¸ºå®Œæˆçš„è¯»ï¼Œä¸èƒ½å†è¿›è¡Œæ–°çš„è¯»å†™æ“ä½œã€‚æ»¡è¶³ä¸‰çº§å°é”åè®®çš„ä¸€å®šæ»¡è¶³ä¸¤æ®µé”åè®®ï¼šå…ˆåŠ Xé”ï¼Œä¸¤ç§åè®®ä¸‹äº‹åŠ¡ç»“æŸä¹‹å‰ä»»ä½•è¯»å†™éƒ½ä¼šè¢«ç¦æ­¢ã€‚å…ˆåŠ Sé”ï¼Œåœ¨ä¸¤æ®µé”åè®®ä¸­ï¼Œè‹¥ç¬¬ä¸€ä¸ªé”çš„é‡Šæ”¾ä¹‹åŽç´§è·Ÿçš„äº‹ä»¶å°±æ˜¯äº‹åŠ¡çš„ç»“æŸï¼Œæ­¤æ—¶å°±æ˜¯ä¸‰çº§å°é”åè®®ï¼Œå³ä¸‰çº§å°é”åè®®æ˜¯ä¸¤æ®µé”åè®®çš„ä¸€éƒ¨åˆ†ã€‚äº‹åŠ¡çš„éš”ç¦»çº§åˆ«è¯»æœªæäº¤READ UNCOMMITTEDã€‚å¯¹åº”ä¸€çº§å°é”åè®®ã€‚è¯»å·²æäº¤READ COMMITTEDã€‚å¯¹åº”äºŒçº§å°é”åè®®ã€‚å¯é‡å¤è¯»REPEATABLE READã€‚äºŒçº§å°é”åè®®åŠ ä¸Šä¸å…è®¸äº‹åŠ¡è¯»å–åœ¨è¯¥äº‹åŠ¡å¼€å§‹åŽæ–°æäº¤çš„æ•°æ®ã€‚å³é˜²æ­¢äº†ä¸å¯é‡å¤è¯»çš„å‘ç”Ÿã€‚å¯ä¸²è¡ŒåŒ–SERIALIZABLEã€‚å¯¹åº”ä¸‰çº§å°é”åè®®ã€‚MySqlç‰¹ç‚¹MySqlé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯è¯»å·²æäº¤MySqlçš„äº‹åŠ¡æ˜¯è‡ªåŠ¨æäº¤ï¼Œå³å³ä½¿æœªäº‹åŠ¡ï¼ŒMySqlä¹Ÿä¼šæŠŠæ¯ä¸ªSQLè¯­å¥æ”¾åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­è¿è¡Œï¼Œè¿™ä¸ªäº‹åŠ¡æ˜¯MySqlè‡ªåŠ¨æ·»åŠ ä¸ŠåŽ»çš„ã€‚]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Servlet]]></title>
    <url>%2F2019%2FServlet%2F</url>
    <content type="text"><![CDATA[Servletçš„åˆ›å»ºç®€ä»‹Servletæ˜¯æŒ‡ä»»ä½•å®žçŽ°äº†ServletæŽ¥å£çš„ç±»ã€‚ä¸€èˆ¬æƒ…å†µä¸‹Servletç”¨æ¥æ‰©å±•åŸºäºŽHTTPåè®®çš„WebæœåŠ¡å™¨ï¼Œå®ƒå¯ä»¥æŽ¥å—å“åº”é€šè¿‡HTTPåè®®ä»Žå®¢æˆ·ç«¯å‘è¿‡æ¥çš„ä¿¡æ¯ã€‚Servletæ˜¯ä¸€ä¸ªç±»ï¼Œä½†Servletç±»çš„å¯¹è±¡æ˜¯ç”±WebæœåŠ¡å™¨åˆ›å»ºçš„ï¼Œä¸æ˜¯ç”±å¼€å‘è€…åˆ›å»ºçš„ã€‚å¹¶ä¸”å¤šä¸ªå®¢æˆ·ç«¯è®¿é—®åŒä¸€ä¸ªServletæ—¶åªä¼šåˆ›å»ºä¸€ä¸ªServletå¯¹è±¡ã€‚å³Servletæ˜¯å•å®žä¾‹å¤šçº¿ç¨‹çš„ã€‚å›¾ç‰‡æ¥è‡³ï¼šhttps://blog.csdn.net/qq_19782019/article/details/80292110ServletæŽ¥å£void init(ServletConfig config)ï¼šåœ¨æœåŠ¡å™¨åˆ›å»º Servletå¯¹è±¡æ—¶æ‰§è¡Œã€‚void destroy()ï¼šåœ¨æœåŠ¡å™¨å…³é—­æ—¶è°ƒç”¨ã€‚ServletConfig getServletConfig()ï¼šè¿”å›žä¸€ä¸ªServletConfigå¯¹è±¡ã€‚String getServletInfo()ï¼šå¾—åˆ°Servletçš„ä¿¡æ¯ã€‚å¦‚ä½œè€…ã€ç‰ˆæœ¬ç­‰ã€‚void service(ServletRequest req, ServletResponse res) ï¼šè¢«æœåŠ¡å™¨è°ƒç”¨åŽ»èŽ·å¾—å’Œå“åº”ä»ŽæœåŠ¡å™¨å‘æ¥çš„è¯·æ±‚ã€‚Servletçš„ç”Ÿå‘½å‘¨æœŸServletä½•æ—¶åˆ›å»ºï¼šé»˜è®¤ç¬¬ä¸€æ¬¡è®¿é—®Servletæ—¶åˆ›å»ºè¯¥å¯¹è±¡ã€‚Servletä½•æ—¶é”€æ¯ï¼šæœåŠ¡å™¨å…³é—­Servletå°±é”€æ¯äº†ã€‚æ¯æ¬¡è®¿é—®å¿…ç„¶æ‰§è¡Œçš„æ–¹æ³•ï¼šservice(ServletRequest req, ServletResponse res)ã€‚å®žçŽ°ServletæŽ¥å£12345678910111213141516171819202122232425262728293031323334353637383940package cn.isjinhao;import java.io.IOException;import javax.servlet.Servlet;import javax.servlet.ServletConfig;import javax.servlet.ServletException;import javax.servlet.ServletRequest;import javax.servlet.ServletResponse;public class MyServlet implements Servlet&#123; @Override public void destroy() &#123; // TODO Auto-generated method stub &#125; @Override public ServletConfig getServletConfig() &#123; // TODO Auto-generated method stub return null; &#125; @Override public String getServletInfo() &#123; // TODO Auto-generated method stub return null; &#125; @Override public void init(ServletConfig arg0) throws ServletException &#123; // TODO Auto-generated method stub &#125; @Override public void service(ServletRequest arg0, ServletResponse arg1) throws ServletException, IOException &#123; // å¤„ç†ä¸šåŠ¡ &#125;&#125;ç»§æ‰¿HttpSerlvetç±»123456789101112131415161718192021package cn.isjinhao;import java.io.IOException;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;public class MyServlet extends HttpServlet&#123; @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123; //å¤„ç†ä¸šåŠ¡ &#125; @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123; this.doGet(req, resp); &#125;&#125;]]></content>
      <categories>
        <category>Java Web</category>
      </categories>
      <tags>
        <tag>Java Web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ±¤å§†çŒ«å’Œè¶…æ–‡æœ¬ä¼ è¾“åè®®]]></title>
    <url>%2F2019%2F%E6%B1%A4%E5%A7%86%E7%8C%AB%E5%92%8C%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[TomcatTomcatç»“æž„binç”¨æ¥å­˜æ”¾Tomcatçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼šstartup.batæ˜¯windowsç³»ç»Ÿä¸‹å¯åŠ¨Tomcatçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼›shutdown.batæ˜¯windowsç³»ç»Ÿä¸‹å…³é—­Tomcaçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚startup.shæ˜¯Linuxä¸‹çš„å¯åŠ¨Tomcatçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼›shutdown.shæ˜¯linuxä¸‹å…³é—­Tomcaçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚confå­˜æ”¾TomcatæœåŠ¡å™¨å…¨å±€é…ç½®çš„å„ç§æ–‡ä»¶ã€‚web.xmlï¼šç»™åŠ¨æ€Webå·¥ç¨‹æä¾›ç›¸åº”çš„é…ç½®ï¼Œæ¯”å¦‚Sessionçš„è¿‡æœŸæ—¶é—´ï¼Œå¦‚æžœåœ¨å·¥ç¨‹çš„web.xmlä¸­è¦†ç›–äº†åŒç§é…ç½®ï¼Œä»¥å·¥ç¨‹é…ç½®ä¼˜å…ˆã€‚server.xmlï¼šé…ç½®å’ŒæœåŠ¡å™¨æœ¬èº«ç›¸å…³çš„ä¿¡æ¯ï¼Œå¦‚ç”¨ä»€ä¹ˆç¼–ç é›†è§£æžURLï¼Œlibå­˜æ”¾çš„æ˜¯tomcatè¿è¡Œæ—¶å’Œé¡¹ç›®è¿è¡Œæ—¶å¿…é¡»çš„jaråŒ…ã€‚å¦‚æžœæˆ‘ä»¬æƒ³æŠŠæŸä¸ªjaråŒ…è®©æ‰€æœ‰å·¥ç¨‹éƒ½èƒ½ä½¿ç”¨è€Œä¸ç”¨æ¯ä¸ªå·¥ç¨‹éƒ½å¯¼å…¥ï¼Œç›´æŽ¥å°†å…¶æ”¾å…¥libæ–‡ä»¶å¤¹ä¸‹å³å¯ã€‚logså­˜æ”¾çš„æ˜¯æ—¥å¿—æ–‡ä»¶webappså­˜æ”¾è¦å‘å¸ƒçš„Webé¡¹ç›®ã€‚å°†Webé¡¹ç›®æ‰“åŒ…æˆWaråŒ…ï¼Œæ”¾åœ¨æ­¤ç›®å½•ä¸‹ï¼Œåœ¨Tomcatå¯åŠ¨æ—¶ä¼šå°†Warè§£åŽ‹å¹¶å‘å¸ƒã€‚workç”¨æ¥å­˜æ”¾jspæ–‡ä»¶æ–‡ä»¶åœ¨è¿è¡Œæ—¶äº§ç”Ÿçš„javaæ–‡ä»¶å’Œclassæ–‡ä»¶ã€‚Dynamic Webé¡¹ç›®ç»“æž„Webé¡¹ç›®ç»“æž„12345678myweb(ç›®å½•å:é¡¹ç›®å) | |---èµ„æºæ–‡ä»¶ html img css js å¯ä»¥å­˜æ”¾åˆ°æ–‡ä»¶å¤¹ä¸‹ |---WEB-INF(ç›®å½•:ç‰¹ç‚¹,é€šè¿‡æµè§ˆå™¨ç›´æŽ¥è®¿é—®ä¸åˆ°) | | | |---lib(ç›®å½•:é¡¹ç›®è¿è¡Œçš„jaråŒ…) | |---classes(ç›®å½•:å­˜æ”¾çš„classæ–‡ä»¶) | |---web.xml(æ ¸å¿ƒé…ç½®æ–‡ä»¶,åœ¨web2.5ç‰ˆæœ¬ä¸­å¿…é¡»æœ‰,web3.0ç‰ˆæœ¬ä¸æ˜¯å¿…é¡»çš„)æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªWebé¡¹ç›®å¹¶å‘å¸ƒhttp://localhost:8080/test-web/test.htmlhttp://localhost:8080/test-web/WEB-INF/test.htmlHTTPåè®®è¯·æ±‚è¡Œè¯·æ±‚çš„æ–¹å¼ è¯·æ±‚çš„èµ„æº åè®®/ç‰ˆæœ¬ã€‚è¯·æ±‚å¤´key-valueç±»åž‹çš„æ•°æ®ã€‚Acceptï¼šæµè§ˆå™¨å¯æŽ¥å—çš„mimeç±»åž‹ï¼Œå¦‚ï¼štext/html,image/*ã€‚Accept-Charsetï¼šæµè§ˆå™¨è§£æžæ‰€ç”¨å“ªä¸ªçš„å­—ç¬¦é›†ï¼Œå¦‚ï¼šISO-8859-1ã€‚Accept-Encodingï¼šæµè§ˆå™¨èƒ½å¤Ÿè¿›è¡Œè§£ç çš„æ•°æ®ç¼–ç æ–¹å¼ï¼Œæ¯”å¦‚gzipã€‚Servletèƒ½å¤Ÿå‘æ”¯æŒgzipçš„æµè§ˆå™¨è¿”å›žç»gzipç¼–ç çš„HTMLé¡µé¢ã€‚Accept-Languageï¼šæµè§ˆå™¨æ‰€å¸Œæœ›çš„è¯­è¨€ç§ç±»ï¼Œå½“æœåŠ¡å™¨èƒ½å¤Ÿæä¾›ä¸€ç§ä»¥ä¸Šçš„è¯­è¨€ç‰ˆæœ¬æ—¶è¦ç”¨åˆ°ã€‚è¿™ä¸ªæŒ‡çš„æ˜¯ä¸­æ–‡ã€è‹±è¯­è¿™ç§è¯­è¨€ã€‚Hostï¼šè¢«è®¿é—®çš„ä¸»æœºã€‚If-Modified-Sinceï¼šåœ¨å‘é€HTTPè¯·æ±‚æ—¶ï¼ŒæŠŠæµè§ˆå™¨ç«¯ç¼“å­˜é¡µé¢çš„æœ€åŽä¿®æ”¹æ—¶é—´ä¸€èµ·å‘åˆ°æœåŠ¡å™¨åŽ»ï¼ŒæœåŠ¡å™¨ä¼šæŠŠè¿™ä¸ªæ—¶é—´ä¸ŽæœåŠ¡å™¨ä¸Šå®žé™…æ–‡ä»¶çš„æœ€åŽä¿®æ”¹æ—¶é—´è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æžœæ—¶é—´ä¸€è‡´ï¼Œé‚£ä¹ˆè¿”å›žHTTPçŠ¶æ€ç 304ï¼ˆä¸è¿”å›žæ–‡ä»¶å†…å®¹ï¼‰ï¼Œå®¢æˆ·ç«¯æŽ¥åˆ°ä¹‹åŽï¼Œå°±ç›´æŽ¥æŠŠæœ¬åœ°ç¼“å­˜æ–‡ä»¶æ˜¾ç¤ºåˆ°æµè§ˆå™¨ä¸­ã€‚å¦‚æžœæ—¶é—´ä¸ä¸€è‡´ï¼Œå°±è¿”å›žHTTPçŠ¶æ€ç 200å’Œæ–°çš„æ–‡ä»¶å†…å®¹ï¼Œå®¢æˆ·ç«¯æŽ¥åˆ°ä¹‹åŽï¼Œä¼šä¸¢å¼ƒæ—§æ–‡ä»¶ï¼ŒæŠŠæ–°æ–‡ä»¶ç¼“å­˜èµ·æ¥ï¼Œå¹¶æ˜¾ç¤ºåˆ°æµè§ˆå™¨ä¸­ã€‚Refererï¼šå‘Šè¯‰æœåŠ¡å™¨æˆ‘æ˜¯ä»Žå“ªä¸ªé¡µé¢é“¾æŽ¥è¿‡æ¥çš„ï¼ŒæœåŠ¡å™¨åŸºæ­¤å¯ä»¥èŽ·å¾—ä¸€äº›ä¿¡æ¯ç”¨äºŽå¤„ç†ã€‚User-Agentï¼šæµè§ˆå™¨å†…æ ¸ã€‚å®¢æˆ·ç«¯æµè§ˆå™¨çš„ä¿¡æ¯ï¼Œ å¦‚ã€‚Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0)Cookieï¼šå®¢æˆ·ç«¯ä¼šè¯æŠ€æœ¯ã€‚è¯·æ±‚ä½“postè¯·æ±‚çš„å‚æ•°ã€‚åªæœ‰è¡¨å•æäº¤æˆ–å¼‚æ­¥æäº¤æ—¶æ˜Žç¡®æŒ‡å®šmethod=&quot;post&quot;è¿™æ—¶å€™æ˜¯postè¯·æ±‚ï¼Œå…¶ä»–çš„éƒ½æ˜¯getè¯·æ±‚ã€‚æ ¼å¼ï¼šå‚æ•°åç§°=å€¼&amp;å‚æ•°åç§°=å€¼ã€‚å“åº”è¡Œç‰ˆæœ¬/åè®® å“åº”çš„çŠ¶æ€ç  çŠ¶æ€ç è¯´æ˜Žã€‚å¸¸è§çš„çŠ¶æ€ç ï¼š200ï¼šå“åº”æˆåŠŸ302ï¼šé‡å®šå‘304ï¼šè¯»ç¼“å­˜404ï¼šç”¨æˆ·è®¿é—®çš„æ•°æ®ä¸å­˜åœ¨500ï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯å“åº”å¤´Locationï¼šè·³è½¬æ–¹å‘ï¼Œä»…é…åˆçŠ¶æ€ç 302ä½¿ç”¨æ‰æœ‰ä½œç”¨ï¼Œå¦‚ https://www.baicu.comã€‚Serverï¼šæœåŠ¡å™¨åž‹å·Content-Encodingï¼šServletåº”è¯¥é€šè¿‡æŸ¥çœ‹Accept-Encodingå¤´ï¼ˆå³request.getHeader(&quot;Accept-Encoding&quot;)ï¼‰æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒgzipï¼Œä¸ºæ”¯æŒgzipçš„æµè§ˆå™¨è¿”å›žç»gzipåŽ‹ç¼©çš„HTMLé¡µé¢ï¼Œä¸ºå…¶ä»–æµè§ˆå™¨è¿”å›žæ™®é€šé¡µé¢ã€‚Content-Lengthï¼šæ•°æ®é•¿åº¦Content-Type: text/html; charset=GB2312 â€“æ•°æ®ç±»åž‹Last-Modifiedï¼šå®¢æˆ·å¯ä»¥é€šè¿‡If-Modified-Sinceè¯·æ±‚å¤´æä¾›ä¸€ä¸ªæ—¥æœŸï¼Œåªæœ‰æ”¹åŠ¨æ—¶é—´è¿ŸäºŽæŒ‡å®šæ—¶é—´çš„æ–‡æ¡£æ‰ä¼šè¿”å›žï¼Œå¦åˆ™è¿”å›žä¸€ä¸ª304ï¼ˆNot Modifiedï¼‰çŠ¶æ€ã€‚Last-Modifiedä¹Ÿå¯ç”¨setDateHeaderæ–¹æ³•æ¥è®¾ç½®ã€‚Refreshï¼šè¡¨ç¤ºæµè§ˆå™¨åº”è¯¥åœ¨å¤šå°‘æ—¶é—´ä¹‹åŽåˆ·æ–°æ–‡æ¡£ï¼Œä»¥ç§’è®¡ã€‚ä½†åªåˆ·æ–°ä¸€æ¬¡ã€‚é™¤äº†åˆ·æ–°å½“å‰æ–‡æ¡£ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡setHeader(&quot;Refresh&quot;, &quot;5; URL=http://host/path&quot;)è®©æµè§ˆå™¨è¯»å–æŒ‡å®šçš„é¡µé¢ã€‚Content-Dispositionï¼šæŒ‡ç¤ºæµè§ˆå™¨ä¸è¦è§£æžæ–‡æ¡£ï¼Œè€Œæ˜¯ä»¥é™„åŠ å½¢å¼ä¸‹è½½ã€‚å¦‚attachment; filename=aaa.zipã€‚Set-Cookieï¼šè®¾ç½®cookieã€‚å“åº”ä½“æµè§ˆå™¨è§£æžçš„å†…å®¹ã€‚]]></content>
      <categories>
        <category>Java Web</category>
      </categories>
      <tags>
        <tag>Java Web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸ºä»€ä¹ˆåˆ†é¡µå­˜å‚¨ç®¡ç†é¡µé¢å¤§å°æ˜¯2çš„næ¬¡å¹‚]]></title>
    <url>%2F2019%2F%E4%B8%BA%E4%BB%80%E4%B9%88%E5%88%86%E9%A1%B5%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%E5%A4%A7%E5%B0%8F%E6%98%AF2%E7%9A%84n%E6%AC%A1%E5%B9%82%2F</url>
    <content type="text"><![CDATA[åœ¨åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼ä¸­ï¼Œè¿›ç¨‹ä¸­å­˜å‚¨çš„æ˜¯é€»è¾‘åœ°å€ï¼Œé€šè¿‡åœ°å€å˜æ¢æœºæž„å°†é€»è¾‘åœ°å€è½¬å˜ä¸ºç‰©ç†åœ°å€ã€‚é€»è¾‘åœ°å€å½¢å¼ä¸ºpage: offsetã€‚é¡µé¢å¤§å°ä¸ºä»€ä¹ˆæ»¡è¶³2çš„næ¬¡å¹‚ï¼ŒåŽŸå› æœ‰ä¸‹ï¼šæ–¹ä¾¿è®¡ç®—å¦‚æžœè¦å°†ï¼ˆçº¿æ€§ï¼‰åœ°å€è½¬æ¢ä¸ºpageï¼šoffsetï¼Œåˆ™éœ€è¦å°†åœ°å€é™¤ä»¥é¡µé¢å¤§å°ï¼Œå¹¶å°†æ•´æ•°ç­”æ¡ˆä½œä¸ºé¡µé¢ï¼Œå°†ä½™æ•°ä½œä¸ºåç§»é‡ã€‚ è¿™æ˜¯ä½¿ç”¨ç¼–ç¨‹è¯­è¨€ä¸­çš„æ•´æ•°é™¤æ³•å’Œæ¨¡æ•°è¿ç®—ç¬¦å®Œæˆçš„ã€‚ è®¡ç®—æœºå°†åœ°å€è¡¨ç¤ºä¸ºæ•°å­—ï¼Œå­˜å‚¨ä¸ºäºŒè¿›åˆ¶ä½ã€‚ è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹åœ°å€ï¼š12æ˜¯äºŒè¿›åˆ¶1100ã€‚ å¦‚æžœé¡µé¢å¤§å°ä¸º3ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è®¡ç®—12/3å’Œ12%3æ¥æŸ¥æ‰¾é¡µé¢å’Œåç§»é‡ï¼ˆåˆ†åˆ«ä¸º4ã€0ï¼‰ã€‚ ä½†æ˜¯ï¼Œå¦‚æžœé¡µé¢å¤§å°ä¸º4ï¼ˆ2çš„å¹‚ï¼‰ï¼Œåˆ™äºŒè¿›åˆ¶ä¸­çš„4ä¸º100ï¼Œæ­¤æ—¶ä½¿ç”¨ç‰¹æ®Šçš„â€œå¿«æ·æ–¹å¼â€è®¡ç®—æ•´æ•°é™¤æ³•å’Œæ¨¡æ•°ï¼šå³ç§»è¿›è¡Œé™¤æ³•ï¼ŒæŒ‰ä½ä¸Žè¿›è¡Œå–æ¨¡ã€‚æ‰€ä»¥ï¼š 12/4 == 12&gt;&gt;2ï¼ˆå³ç§»ä¸¤ä½ï¼‰ 12%4 == 12&amp;(4-1)ï¼ˆ1100å’Œ11æŒ‰ä½ä¸Žï¼‰ã€‚åŒæ—¶é¡µé¢å¤§å°è½¬ä¸º2è¿›åˆ¶å¯ä»¥ä½¿ç”¨å·¦ç§»ï¼Œå¯ä»¥å‡å°æ—¶é—´å¼€é”€ã€‚å……åˆ†åˆ©ç”¨ç©ºé—´å¦‚æžœé¡µé¢å¤§å°ä¸æ»¡è¶³2çš„næ¬¡å¹‚ï¼Œå‡å¦‚æ˜¯5ï¼Œåˆ™é¡µå†…åç§»åœ°å€ï¼Œé‡‡ç”¨2ä½åˆ™æ¯é¡µæœ‰ä¸€ä¸ªåœ°å€ä¸èƒ½ä½¿ç”¨ï¼Œé‡‡ç”¨3ä½åˆ™111ã€110ã€101æœªè¢«ä½¿ç”¨ã€‚æ€Žä¹ˆåšéƒ½ä¸èƒ½å®Œå…¨åˆ©ç”¨åœ°å€ç©ºé—´ã€‚]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[05-å¤šè¡¨DQL]]></title>
    <url>%2F2019%2F05-%E5%A4%9A%E8%A1%A8DQL%2F</url>
    <content type="text"><![CDATA[æ•°æ®å‡†å¤‡12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879/*åŠŸèƒ½ï¼šåˆ›å»º scott æ•°æ®åº“ä¸­çš„ dept è¡¨ */CREATE TABLE dept( deptno INT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'éƒ¨é—¨ç¼–å·', dname VARCHAR(15) COMMENT 'éƒ¨é—¨åç§°', loc VARCHAR(50) COMMENT 'éƒ¨é—¨æ‰€åœ¨ä½ç½®')ENGINE=INNODB DEFAULT CHARSET=utf8 COMMENT='éƒ¨é—¨è¡¨'; /*åŠŸèƒ½ï¼šåˆ›å»º scott æ•°æ®åº“ä¸­çš„ emp è¡¨ */CREATE TABLE emp( empno INT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'é›‡å‘˜ç¼–å·', ename VARCHAR(15) COMMENT 'é›‡å‘˜å§“å', job VARCHAR(10) COMMENT 'é›‡å‘˜èŒä½', mgr INT UNSIGNED COMMENT 'é›‡å‘˜å¯¹åº”çš„é¢†å¯¼çš„ç¼–å·', hiredate DATE COMMENT 'é›‡å‘˜çš„é›‡ä½£æ—¥æœŸ', sal DECIMAL(7,2) COMMENT 'é›‡å‘˜çš„åŸºæœ¬å·¥èµ„', comm DECIMAL(7,2) COMMENT 'å¥–é‡‘', deptno INT UNSIGNED COMMENT 'æ‰€åœ¨éƒ¨é—¨', FOREIGN KEY(deptno) REFERENCES dept(deptno))ENGINE=INNODB DEFAULT CHARSET=utf8 COMMENT='é›‡å‘˜è¡¨'; /*åŠŸèƒ½ï¼šåˆ›å»ºæ•°æ®åº“ scott ä¸­çš„ salgrade è¡¨ï¼Œå·¥èµ„ç­‰çº§è¡¨ */CREATE TABLE salgrade( grade INT UNSIGNED COMMENT 'å·¥èµ„ç­‰çº§', losal INT UNSIGNED COMMENT 'æ­¤ç­‰çº§çš„æœ€ä½Žå·¥èµ„', hisal INT UNSIGNED COMMENT 'æ­¤ç­‰çº§çš„æœ€é«˜å·¥èµ„' )ENGINE=INNODB DEFAULT CHARSET=utf8 COMMENT='å·¥èµ„ç­‰çº§è¡¨'; /*åŠŸèƒ½ï¼šåˆ›å»ºæ•°æ®åº“ scott çš„ bonus è¡¨ï¼Œå·¥èµ„è¡¨ */CREATE TABLE bonus( ename VARCHAR(10) COMMENT 'é›‡å‘˜å§“å', job VARCHAR(9) COMMENT 'é›‡å‘˜èŒä½', sal DECIMAL(7,2) COMMENT 'é›‡å‘˜å·¥èµ„', comm DECIMAL(7,2) COMMENT 'é›‡å‘˜èµ„é‡‘' )ENGINE=INNODB DEFAULT CHARSET=utf8 COMMENT='å·¥èµ„è¡¨'; /*åŠŸèƒ½ï¼šæ’å…¥æ•°æ®åº“ scott ä¸­è¡¨ dept çš„åˆå§‹åŒ–æ•°æ® */INSERT INTO dept VALUES (10,'ACCOUNTING','NEW YORK');INSERT INTO dept VALUES (20,'RESEARCH','DALLAS');INSERT INTO dept VALUES (30,'SALES','CHICAGO');INSERT INTO dept VALUES (40,'OPERATIONS','BOSTON'); /*åŠŸèƒ½ï¼šæ’å…¥æ•°æ®åº“ scott ä¸­è¡¨ emp çš„åˆå§‹æ•°æ® */INSERT INTO emp VALUES (7369,'SMITH','CLERK',7902,'1980-12-17',800,NULL,20);INSERT INTO emp VALUES (7499,'ALLEN','SALESMAN',7698,'1981-2-20',1600,300,30);INSERT INTO emp VALUES (7521,'WARD','SALESMAN',7698,'1981-2-22',1250,500,30);INSERT INTO emp VALUES (7566,'JONES','MANAGER',7839,'1981-4-2',2975,NULL,20);INSERT INTO emp VALUES (7654,'MARTIN','SALESMAN',7698,'1981-9-28',1250,1400,30);INSERT INTO emp VALUES (7698,'BLAKE','MANAGER',7839,'1981-5-1',2850,NULL,30);INSERT INTO emp VALUES (7782,'CLARK','MANAGER',7839,'1981-6-9',2450,NULL,10);INSERT INTO emp VALUES (7788,'SCOTT','ANALYST',7566,'87-7-13',3000,NULL,20);INSERT INTO emp VALUES (7839,'KING','PRESIDENT',NULL,'1981-11-7',5000,NULL,10);INSERT INTO emp VALUES (7844,'TURNER','SALESMAN',7698,'1981-9-8',1500,0,30);INSERT INTO emp VALUES (7876,'ADAMS','CLERK',7788,'87-7-13',1100,NULL,20);INSERT INTO emp VALUES (7900,'JAMES','CLERK',7698,'1981-12-3',950,NULL,30);INSERT INTO emp VALUES (7902,'FORD','ANALYST',7566,'1981-12-3',3000,NULL,20);INSERT INTO emp VALUES (7934,'MILLER','CLERK',7782,'1982-1-23',1300,NULL,10); /*åŠŸèƒ½ï¼šæ’å…¥æ•°æ®åº“ scott ä¸­è¡¨ salgrade çš„åˆå§‹æ•°æ® */INSERT INTO salgrade VALUES (1,700,1200);INSERT INTO salgrade VALUES (2,1201,1400);INSERT INTO salgrade VALUES (3,1401,2000);INSERT INTO salgrade VALUES (4,2001,3000);INSERT INTO salgrade VALUES (5,3001,9999);1234567891011121314151617181920212223242526272829dept( DEPTNO, //éƒ¨é—¨ç¼–å·ï¼Œç”±ä¸¤ä½æ•°å­—æ‰€ç»„æˆ DNAME, //éƒ¨é—¨åç§°ï¼Œæœ€å¤šç”±14ä¸ªå­—ç¬¦æ‰€ç»„æˆ, LOC //éƒ¨é—¨æ‰€åœ¨çš„ä½ç½®);emp( EMPNO, //é›‡å‘˜çš„ç¼–å·ï¼Œç”±å››ä½æ•°å­—æ‰€ç»„æˆ ENAME, //é›‡å‘˜çš„å§“åï¼Œç”±10ä½å­—ç¬¦æ‰€ç»„æˆ JOB, //é›‡å‘˜çš„èŒä½ MGR, //é›‡å‘˜å¯¹åº”çš„ç»ç†ç¼–å·ï¼Œç»ç†ä¹Ÿæ˜¯é›‡å‘˜ HIREDATE, //é›‡å‘˜çš„é›‡ä½£æ—¥æœŸ SAL, //åŸºæœ¬å·¥èµ„ï¼Œå…¶ä¸­æœ‰ä¸¤ä½å°æ•°ï¼Œäº”å€æ•´æ•°ï¼Œä¸€å…±æ˜¯ä¸ƒä½ COMM, //å¥–é‡‘ï¼Œä½£é‡‘ DEPTNO //é›‡å‘˜æ‰€åœ¨çš„éƒ¨é—¨ç¼–å·);salgrade( GRADE, //å·¥èµ„çš„ç­‰çº§ LOSAL, //æ­¤ç­‰çº§çš„æœ€ä½Žå·¥èµ„ HISAL //æ­¤ç­‰çº§çš„æœ€é«˜å·¥èµ„);bonus( ENAME, //é›‡å‘˜å§“å JOB, //é›‡å‘˜èŒä½ SAL, //é›‡å‘˜çš„å·¥èµ„ COMM //é›‡å‘˜çš„å¥–é‡‘);è‡ªè¿žæŽ¥è‡ªè¿žæŽ¥å°±æ˜¯è‡ªå·±å’Œè‡ªå·±è¿žæŽ¥ï¼Œåœ¨ä½¿ç”¨æ—¶å°†ä¸€å¼ è¡¨çœ‹åšå¤šå¼ è¡¨ä½¿ç”¨ã€‚æŸ¥è¯¢å‘˜å·¥ç¼–å·ï¼Œå‘˜å·¥å§“åï¼Œç»ç†çš„ç¼–å·ï¼Œç»ç†çš„å§“åKINGæ²¡æœ‰ç»ç†ï¼Œæ‰€ä»¥æŸ¥è¯¢å‡ºæ¥åªæœ‰13æ¡è®°å½•12345678910SELECT e1.empno, e1.ename, e1.mgr, m1.enameFROM emp e1, emp m1WHERE e1.mgr = m1.empnoæŸ¥è¯¢å‘˜å·¥ç¼–å·ï¼Œå‘˜å·¥å§“åï¼Œå‘˜å·¥çš„éƒ¨é—¨åç§°ï¼Œç»ç†çš„ç¼–å·ï¼Œç»ç†çš„å§“å12345678910111213SELECT e1.empno, e1.ename, d1.dname, e1.mgr, m1.enameFROM emp e1, emp m1, dept d1WHERE e1.mgr = m1.empno AND e1.deptno = d1.deptnoæŸ¥è¯¢å‘˜å·¥ç¼–å·ï¼Œå‘˜å·¥å§“åï¼Œå‘˜å·¥çš„éƒ¨é—¨åç§°ï¼Œç»ç†çš„ç¼–å·ï¼Œç»ç†çš„å§“åï¼Œç»ç†çš„éƒ¨é—¨åç§°12345678910111213141516SELECT e1.empno, e1.ename, d1.dname, e1.mgr, m1.ename, d2.dnameFROM emp e1, emp m1, dept d1, dept d2WHERE e1.mgr = m1.empno AND e1.deptno = d1.deptno AND m1.deptno = d2.deptnoè¿™é‡Œæœ‰ä¸€ä¸ªéš¾ç‚¹æ˜¯ä¸ºä»€ä¹ˆéœ€è¦æ‹“å±•å‡ºä¸¤å¼ éƒ¨é—¨è¡¨ï¼Ÿè¿™é‡Œéœ€è¦ç†è§£åˆšæ‰è¯´çš„ä¸€å¥è¯ï¼šåœ¨ä½¿ç”¨æ—¶å°†ä¸€å¼ è¡¨çœ‹åšå¤šå¼ è¡¨ä½¿ç”¨ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æžœçœŸå®žå­˜åœ¨ä¸€å¼ å‘˜å·¥è¡¨å’Œä¸€å¼ ç»ç†è¡¨ï¼Œå‘˜å·¥è¡¨.éƒ¨é—¨=éƒ¨é—¨.idï¼Œç»ç†è¡¨.éƒ¨é—¨=éƒ¨é—¨.idï¼Œä¸å°±ç­‰äºŽæ˜¯ç»ç†å’Œå‘˜å·¥åœ¨ä¸€ä¸ªéƒ¨é—¨æ‰èƒ½è¦æ±‚å—ï¼Ÿè¿™ä¸ªé¢˜æ„æ˜Žæ˜¾ä¸ç¬¦ã€‚æŸ¥è¯¢å‘˜å·¥ç¼–å·ï¼Œå‘˜å·¥å§“åï¼Œå‘˜å·¥çš„éƒ¨é—¨åç§°ï¼Œå‘˜å·¥çš„å·¥èµ„ç­‰çº§ï¼Œç»ç†çš„ç¼–å·ï¼Œç»ç†çš„å§“åï¼Œç»ç†çš„éƒ¨é—¨åç§°12345678910111213141516171819SELECT e1.empno, e1.ename, d1.dname, s1.grade, e1.mgr, m1.ename, d2.dnameFROM emp e1, emp m1, dept d1, dept d2, salgrade s1WHERE e1.mgr = m1.empno AND e1.deptno = d1.deptno AND m1.deptno = d2.deptno AND e1.sal BETWEEN s1.losal AND s1.hisalæŸ¥è¯¢å‘˜å·¥ç¼–å·ï¼Œå‘˜å·¥å§“åï¼Œå‘˜å·¥çš„éƒ¨é—¨åç§°ï¼Œå‘˜å·¥çš„å·¥èµ„ç­‰çº§ï¼Œç»ç†çš„ç¼–å·ï¼Œç»ç†çš„å§“åï¼Œç»ç†çš„éƒ¨é—¨åç§°ï¼Œå‘˜å·¥æ‰€å±žç»ç†çš„å·¥èµ„ç­‰çº§12345678910111213141516171819202122SELECT e1.empno, e1.ename, d1.dname, s1.grade, e1.mgr, m1.ename, d2.dname, s2.gradeFROM emp e1, emp m1, dept d1, dept d2, salgrade s1, salgrade s2WHERE e1.mgr = m1.empno AND e1.deptno = d1.deptno AND m1.deptno = d2.deptno AND e1.sal BETWEEN s1.losal AND s1.hisal AND m1.sal BETWEEN s2.losal AND s2.hisalæŸ¥è¯¢å‘˜å·¥ç¼–å·ï¼Œå‘˜å·¥å§“åï¼Œå‘˜å·¥çš„éƒ¨é—¨åç§°ï¼Œå‘˜å·¥çš„å·¥èµ„ç­‰çº§ï¼Œç»ç†çš„ç¼–å·ï¼Œç»ç†çš„å§“åï¼Œç»ç†çš„éƒ¨é—¨åç§°ï¼Œç»ç†çš„å·¥èµ„ç­‰çº§ï¼ˆå°†å·¥èµ„ç­‰çº§ 1,2,3,4 æ˜¾ç¤ºæˆ ä¸­æ–‡çš„ ä¸€çº§ äºŒçº§ ä¸‰çº§â€¦ï¼‰1234567891011121314151617181920212223242526272829303132333435363738394041424344SELECT e1.empno, e1.ename, d1.dname, CASE s1.grade WHEN 1 THEN 'ä¸€çº§' WHEN 2 THEN 'äºŒçº§' WHEN 3 THEN 'ä¸‰çº§' WHEN 4 THEN 'å››çº§' ELSE 'äº”çº§' END "ç­‰çº§", e1.mgr, m1.ename, d2.dname, CASE s2.grade WHEN 1 THEN 'ä¸€çº§' WHEN 2 THEN 'äºŒçº§' WHEN 3 THEN 'ä¸‰çº§' WHEN 4 THEN 'å››çº§' ELSE 'äº”çº§' END "ç­‰çº§"FROM emp e1, emp m1, dept d1, dept d2, salgrade s1, salgrade s2WHERE e1.mgr = m1.empno AND e1.deptno = d1.deptno AND m1.deptno = d2.deptno AND e1.sal BETWEEN s1.losal AND s1.hisal AND m1.sal BETWEEN s2.losal AND s2.hisalå¤–è¿žæŽ¥æ•°æ®å‡†å¤‡ï¼šinsert into emp(empno,ename) values(9527,&#39;HUAAN&#39;);å·¦å¤–è¿žæŽ¥ä»¥å·¦è¡¨ä¸ºåŸºå‡†ï¼Œå³è¡¨èƒ½åŒ¹é…ä¸Šå·¦è¡¨åˆ™åŒ¹é…ï¼Œå³è¡¨æ²¡æœ‰ä¸€æ¡è®°å½•åŒ¹é…ä¸Šå·¦è¡¨ï¼Œå·¦è¡¨æ˜¾ç¤ºä¸ºç©ºã€‚å³è¿žæŽ¥æ˜¯ä»¥å³è¡¨ä¸ºåŸºå‡†ï¼Œå·¦è¡¨èƒ½åŒ¹é…ä¸Šå³è¡¨åˆ™åŒ¹é…ï¼Œå·¦è¡¨æ²¡æœ‰ä¸€æ¡è®°å½•åŒ¹é…ä¸Šå³è¡¨ï¼Œå³è¡¨æ˜¾ç¤ºä¸ºç©ºã€‚æŸ¥è¯¢å‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨12345SELECT *FROM emp e1LEFT OUTER JOIN dept d1 ON e1.deptno = d1.deptno;æŸ¥è¯¢éƒ¨é—¨çš„å‘˜å·¥12345SELECT *FROM emp e1 RIGHT OUTER JOIN dept d1 ON e1.deptno = d1.deptno;å­æŸ¥è¯¢æŸ¥è¯¢æœ€é«˜å·¥èµ„çš„å‘˜å·¥ä¿¡æ¯123456SELECT *FROM empWHERE sal = (SELECT max(sal) FROM emp);æŸ¥è¯¢å‡ºæ¯”é›‡å‘˜7654çš„å·¥èµ„é«˜,åŒæ—¶å’Œ7788ä»Žäº‹ç›¸åŒå·¥ä½œçš„å‘˜å·¥ä¿¡æ¯123456789101112131415161718192021SELECT *FROM empWHERE sal &gt; ( SELECT sal FROM emp WHERE empno = 7654 )AND job = ( SELECT job FROM emp WHERE empno = 7788 );æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨æœ€ä½Žå·¥èµ„çš„å‘˜å·¥ä¿¡æ¯å’Œä»–æ‰€åœ¨çš„éƒ¨é—¨ä¿¡æ¯12345678910111213141516171819202122232425262728293031323334353637383940414243444546# æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„æœ€ä½Žå·¥èµ„,åˆ†ç»„ç»Ÿè®¡SELECT deptno, min(sal) minsalFROM empGROUP BY deptno; # å‘˜å·¥å·¥èµ„ç­‰äºŽä»–æ‰€å¤„éƒ¨é—¨çš„æœ€ä½Žå·¥èµ„SELECT *FROM emp e1, ( SELECT deptno, min(sal) minsal FROM emp GROUP BY deptno ) t1WHERE e1.deptno = t1.deptno AND e1.sal = t1.minsal;# æŸ¥è¯¢éƒ¨é—¨ç›¸å…³ä¿¡æ¯SELECT *FROM emp e1, ( SELECT deptno, min(sal) minsal FROM emp GROUP BY deptno ) t1, dept d1WHERE e1.deptno = t1.deptno AND e1.sal = t1.minsal AND e1.deptno = d1.deptno;æŸ¥è¯¢é¢†å¯¼ä¿¡æ¯123456SELECT *FROM empWHERE empno IN (SELECT mgr FROM emp);æŸ¥è¯¢ä¸æ˜¯é¢†å¯¼çš„ä¿¡æ¯1234567891011121314151617181920212223242526272829# é”™è¯¯çš„å†™æ³•SELECT *FROM empWHERE empno NOT IN (SELECT mgr FROM emp);# &lt;&gt; ALL ç­‰ä»·äºŽ NOT INSELECT *FROM empWHERE empno &lt;&gt; ALL (SELECT mgr FROM emp); # æ­£ç¡®çš„å†™æ³•SELECT *FROM empWHERE empno NOT IN ( SELECT mgr FROM emp WHERE mgr IS NOT NULL );æŸ¥è¯¢å‡ºæ¯”20å·éƒ¨é—¨æ‰€æœ‰å‘˜å·¥è–ªèµ„é«˜çš„å‘˜å·¥ä¿¡æ¯ 10 20 301234567891011121314151617181920212223242526272829# å†™æ³•1SELECT *FROM empWHERE sal &gt; ( SELECT max(sal) FROM emp WHERE deptno = 20 ); # å†™æ³•2SELECT *FROM empWHERE sal &gt; ALL ( SELECT sal FROM emp WHERE deptno = 20 );æŸ¥è¯¢æœ‰å‘˜å·¥çš„éƒ¨é—¨çš„ä¿¡æ¯12345678910111213SELECT *FROM dept d1WHERE EXISTS ( SELECT * FROM emp e1 WHERE e1.deptno = d1.deptno );è¡¥å……EXISTSå‡è®¾æœ‰ä¸‰å¼ è¡¨ï¼Œå­¦ç”Ÿã€è¯¾ç¨‹ã€é€‰è¯¾è¡¨ã€‚æŸ¥è¯¢é€‰ä¿®äº†å…¨éƒ¨è¯¾ç¨‹çš„åŒå­¦ã€‚1234567891011121314151617181920212223242526/* æ€è·¯ï¼š ä»Žä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ°EXITSTSå…¶å®žæ˜¯å¯¹å¤–éƒ¨è¡¨çš„æŸä¸ªå­—æ®µåšå¾ªçŽ¯ã€‚å¾ªçŽ¯å˜é‡å¸¦å…¥å†…éƒ¨è¡¨åŽåˆ¤æ–­ ä»Žå†…éƒ¨è¡¨èƒ½å¦æŸ¥å‡ºæ¥ä¿¡æ¯ï¼Œèƒ½æŸ¥å‡ºæ¥è¡¨ç¤ºçœŸï¼ˆç•™ä¸‹ï¼‰ï¼ŒæŸ¥ä¸å‡ºæ¥è¡¨ç¤ºå‡ï¼ˆåŽ»é™¤ï¼‰ã€‚ æ‰€ä»¥è¿™ä¸ªé¢˜å°±æ˜¯å¯¹æ¯ä¸ªå­¦ç”Ÿåšå¾ªçŽ¯ï¼ŒæŠŠå­¦ç”Ÿå¸¦å…¥å†…éƒ¨æŸ¥è¯¢ï¼ŒæŸ¥è¯¢å­¦ç”Ÿæ˜¯å¦æœ‰æœªé€‰ä¿®çš„è¯¾ï¼Œå¦‚æžœæœ‰ å­¦ç”ŸåŽ»é™¤ï¼Œå¦åˆ™å­¦ç”Ÿç•™ä¸‹ï¼Œæ‰€ä»¥é€‰ç”¨not existsï¼š select * from student where not exists (å­¦ç”Ÿæœªé€‰ä¿®çš„è¯¾) å‡è®¾æŸæ¬¡å¾ªçŽ¯çš„å­¦å·æ˜¯ 110ï¼Œæ­¤æ—¶éœ€è¦æ‹¿courseä¸­çš„æ¯ä¸ªè¯¾å·åˆ°scè¡¨ä¸­åšå¾ªçŽ¯ï¼ŒæŸ¥è¯¢åœ¨scè¡¨çš„ å­¦å·ä¸º110ä¸”course.no = sc.cnoçš„æƒ…å†µä¸‹ï¼Œè®°å½•æ˜¯å¦å­˜åœ¨ï¼Œè®°å½•å­˜åœ¨courseåŽ»é™¤ï¼Œè®°å½•ä¸å­˜ åœ¨courseç•™ä¸‹ï¼Œæ‰€ä»¥é€‰ç”¨not existsï¼š select * from course where not exists select * from sc where 110 = sc.sno and sc.cno = course.no; è¿™æ ·ï¼Œå¯ä»¥æŸ¥å‡ºå­¦å·ä¸º110çš„åŒå­¦æœªé€‰ä¿®çš„è¯¾ç¨‹ã€‚ ç»“æžœï¼š æŠŠä¸¤æ¬¡åˆ†æžçš„åˆå¹¶ä¹‹åŽï¼š select * from student where not exists( select * from course where not exists( select * from sc where student.no = sc.sno and sc.cno = course.no; ) )*/çŽ°åœ¨è¿˜æ˜¯è¿™ä¸‰å¼ è¡¨ï¼Œæˆ‘ä»¬æ¢ä¸ªé¢˜ï¼ŒæŸ¥è¯¢è¢«æ‰€æœ‰å­¦ç”Ÿé€‰ä¿®çš„è¯¾ç¨‹ä¿¡æ¯123456789101112131415161718192021/* æ€è·¯ï¼š å¯¹è¯¾ç¨‹åšå¾ªçŽ¯ï¼ŒæŠŠè¯¾ç¨‹å¸¦å…¥å†…éƒ¨æŸ¥è¯¢ï¼Œå¦‚æžœæœ‰å­¦ç”Ÿæœªé€‰æ­¤è¯¾ï¼Œè¯¾ç¨‹åŽ»é™¤ï¼Œå¦åˆ™è¯¾ç¨‹ç•™ä¸‹ï¼Œ æ‰€ä»¥é€‰ç”¨not existsï¼šï¼š select * from course where not exists (æœªè¢«é€‰çš„è¯¾) å‡è®¾æŸæ¬¡å¾ªçŽ¯ï¼Œè¯¾å·ä¸º120ï¼Œæ­¤æ—¶æ‹¿studentä¸­çš„æ¯ä¸ªå­¦å·åˆ°scè¡¨åšå¾ªçŽ¯ï¼ŒæŸ¥è¯¢åœ¨scè¡¨çš„è¯¾å·ä¸º 120ä¸”student.no = sc.snoçš„æƒ…å†µä¸‹ï¼Œè®°å½•æ˜¯å¦å­˜åœ¨ï¼Œè®°å½•å­˜åœ¨studentåŽ»é™¤ï¼Œè®°å½•ä¸å­˜åœ¨ studentç•™ä¸‹ï¼Œæ‰€ä»¥é€‰ç”¨not existsï¼šï¼š select * from student where not exists select * from sc where student.no = sc.sno and 120 = sc.no ç»“æžœï¼š ä¸¤æ¬¡åˆ†æžåˆå¹¶ select * from course where not exists( select * from student where not exists( select * from sc where course.no = sc.cno and sc.sno = student.no ) )*/æŸ¥è¯¢æ²¡æœ‰ä¸€ä¸ªå­¦ç”Ÿé€‰æ‹©çš„è¯¾ï¼š123456789101112/* å¯¹courseåšå¾ªçŽ¯ï¼Œå¦‚æžœå­˜åœ¨å­¦ç”Ÿé€‰æ­¤è¯¾åŽ»é™¤ï¼Œæ²¡æœ‰å­¦ç”Ÿé€‰æ­¤è¯¾ä¿ç•™ï¼Œé€‰ç”¨not existsï¼š å¯¹å†…éƒ¨å¾ªçŽ¯ï¼Œè®°å½•å­˜åœ¨ä¿ç•™ï¼Œè®°å½•ä¸å­˜åœ¨åŽ»é™¤ï¼Œé€‰ç”¨existsï¼š*/select * from course where not exists( select * from student where exists( select * from sc where course.no = sc.cno and sc.sno = student.no ))]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[06-è™šæ‹Ÿå­˜å‚¨å™¨]]></title>
    <url>%2F2019%2F06-%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8%2F</url>
    <content type="text"><![CDATA[ä¼ ç»Ÿå­˜å‚¨å™¨çš„é—®é¢˜ä¼ ç»Ÿçš„å†…å­˜ç®¡ç†æ–¹å¼è¦æ±‚å°†ä¸€ä¸ªä½œä¸šå…¨éƒ¨è£…å…¥å†…å­˜æ‰å¯ä»¥è¿è¡Œï¼Œç”±æ­¤é€ æˆäº†ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼šå¤§ä½œä¸šå¯¹å†…å­˜çš„è¦æ±‚è¶…å‡ºç‰©ç†å†…å­˜æ€»å®¹é‡ï¼Œè‡´ä½¿å…¶æ— æ³•è¿è¡Œã€‚å†…å­˜ç”±äºŽå®¹é‡çš„é™åˆ¶ï¼Œåªèƒ½è£…å…¥å°‘é‡çš„ä½œä¸šä½¿å…¶è¿è¡Œï¼Œè€Œå…¶å®ƒå¤§é‡ä½œä¸šç•™åœ¨å¤–å­˜ã€‚è§£å†³åŽŸç†ç¨‹åºå±€éƒ¨æ€§åŽŸç†ç¨‹åºæ‰§è¡Œæ—¶ï¼Œ é™¤äº†å°‘éƒ¨åˆ†çš„è½¬ç§»å’Œè¿‡ç¨‹è°ƒç”¨æŒ‡ä»¤å¤–ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä»æ˜¯é¡ºåºæ‰§è¡Œçš„ã€‚è¿‡ç¨‹è°ƒç”¨å°†ä¼šä½¿ç¨‹åºçš„æ‰§è¡Œè½¨è¿¹ç”±ä¸€éƒ¨åˆ†åŒºåŸŸè½¬è‡³å¦ä¸€éƒ¨åˆ†åŒºåŸŸï¼Œ ä½†ç»ç ”ç©¶çœ‹å‡ºï¼Œè¿‡ç¨‹è°ƒç”¨çš„æ·±åº¦åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½ä¸è¶…è¿‡5ã€‚ç¨‹åºä¸­å­˜åœ¨è®¸å¤šå¾ªçŽ¯ç»“æž„ï¼Œ è¿™äº›è™½ç„¶åªç”±å°‘æ•°æŒ‡ä»¤æž„æˆï¼Œ ä½†æ˜¯å®ƒä»¬å°†å¤šæ¬¡æ‰§è¡Œã€‚ç¨‹åºä¸­è¿˜åŒ…æ‹¬è®¸å¤šå¯¹æ•°æ®ç»“æž„çš„å¤„ç†ï¼Œ å¦‚å¯¹æ•°ç»„è¿›è¡Œæ“ä½œï¼Œ å®ƒä»¬å¾€å¾€éƒ½å±€é™äºŽå¾ˆå°çš„èŒƒå›´å†…ã€‚è¡¨çŽ°ä¸¤ä¸ªæ–¹é¢æ—¶é—´å±€é™æ€§ã€‚å¦‚æžœç¨‹åºä¸­çš„æŸæ¡æŒ‡ä»¤ä¸€æ—¦æ‰§è¡Œï¼Œ åˆ™ä¸ä¹…ä»¥åŽè¯¥æŒ‡ä»¤å¯èƒ½å†æ¬¡æ‰§è¡Œï¼›å¦‚æžœæŸæ•°æ®è¢«è®¿é—®è¿‡ï¼Œ åˆ™ä¸ä¹…ä»¥åŽè¯¥æ•°æ®å¯èƒ½å†æ¬¡è¢«è®¿é—®ã€‚äº§ç”Ÿæ—¶é—´å±€é™æ€§çš„å…¸åž‹åŽŸå› ï¼Œæ˜¯ç”±äºŽåœ¨ç¨‹åºä¸­å­˜åœ¨ç€å¤§é‡çš„å¾ªçŽ¯ã€‚ç©ºé—´å±€é™æ€§ã€‚ä¸€æ—¦ç¨‹åºè®¿é—®äº†æŸä¸ªå­˜å‚¨å•å…ƒï¼Œåœ¨ä¸ä¹…ä¹‹åŽï¼Œå…¶é™„è¿‘çš„å­˜å‚¨å•å…ƒä¹Ÿå°†è¢«è®¿é—®ï¼Œå³ç¨‹åºåœ¨ä¸€æ®µæ—¶é—´å†…æ‰€è®¿é—®çš„åœ°å€ï¼Œå¯èƒ½é›†ä¸­åœ¨ä¸€å®šçš„èŒƒå›´ä¹‹å†…ï¼Œå…¶å…¸åž‹æƒ…å†µä¾¿æ˜¯ç¨‹åºçš„é¡ºåºæ‰§è¡Œã€‚åŸºäºŽå±€éƒ¨æ€§åŽŸç†åœ¨ç¨‹åºè£…å…¥æ—¶ï¼Œä¸å¿…å°†å…¶å…¨éƒ¨è¯»å…¥åˆ°å†…å­˜ï¼Œè€Œåªéœ€å°†å½“å‰éœ€è¦æ‰§è¡Œçš„éƒ¨åˆ†é¡µæˆ–æ®µè¯»å…¥åˆ°å†…å­˜ï¼Œå°±å¯è®©ç¨‹åºå¼€å§‹æ‰§è¡Œã€‚åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æžœéœ€æ‰§è¡Œçš„æŒ‡ä»¤æˆ–è®¿é—®çš„æ•°æ®å°šæœªåœ¨å†…å­˜ï¼ˆç§°ä¸ºç¼ºé¡µæˆ–ç¼ºæ®µï¼‰ï¼Œåˆ™ç”±å¤„ç†å™¨é€šçŸ¥æ“ä½œç³»ç»Ÿï¼Œå°†ç›¸åº”çš„é¡µæˆ–æ®µè°ƒå…¥åˆ°å†…å­˜ï¼Œç„¶åŽç»§ç»­æ‰§è¡Œç¨‹åºã€‚è™šæ‹Ÿå­˜å‚¨å™¨å®šä¹‰æ‰€è°“è™šæ‹Ÿå­˜å‚¨å™¨ï¼Œ æ˜¯æŒ‡å…·æœ‰è¯·æ±‚è°ƒå…¥åŠŸèƒ½å’Œç½®æ¢åŠŸèƒ½ï¼Œèƒ½ä»Žé€»è¾‘ä¸Šå¯¹å†…å­˜å®¹é‡åŠ ä»¥æ‰©å……çš„ä¸€ç§å­˜å‚¨å™¨ç³»ç»Ÿã€‚å…¶é€»è¾‘å®¹é‡ç”±å†…å­˜å®¹é‡å’Œå¤–å­˜å®¹é‡ä¹‹å’Œæ‰€å†³å®šï¼Œå…¶è¿è¡Œé€Ÿåº¦æŽ¥è¿‘äºŽå†…å­˜é€Ÿåº¦ï¼Œè€Œæ¯ä½çš„æˆæœ¬å´åˆæŽ¥è¿‘äºŽå¤–å­˜ã€‚å¯è§ï¼Œè™šæ‹Ÿå­˜å‚¨æŠ€æœ¯æ˜¯ä¸€ç§æ€§èƒ½éžå¸¸ä¼˜è¶Šçš„å­˜å‚¨å™¨ç®¡ç†æŠ€æœ¯ï¼Œæ•…è¢«å¹¿æ³›åœ°åº”ç”¨äºŽå¤§ã€ ä¸­ã€ å°åž‹æœºå™¨å’Œå¾®åž‹æœºä¸­ã€‚å®žçŽ°è™šæ‹Ÿå­˜å‚¨å™¨çš„æ¡ä»¶ç”±äºŽä¸€ä¸ªä½œä¸šè¢«åˆ†æˆå¤šæ¬¡åœ°è°ƒå…¥å†…å­˜è¿è¡Œï¼Œæ‰€ä»¥åœ¨å†…å­˜åˆ†é…æ—¶å¿…é¡»é‡‡ç”¨ç¦»æ•£åˆ†é…æ–¹å¼ã€‚åŒæ—¶éœ€è¦è§£å†³ä»¥ä¸‹é—®é¢˜ï¼šé¡µè¡¨ï¼ˆæ®µè¡¨ï¼‰çš„è®¾è®¡ï¼ˆè½¯ä»¶æ”¯æŒï¼‰ç¨‹åºä¸åœ¨å†…å­˜æ—¶åŽ»å¤–å­˜è°ƒåº¦éœ€è¦ä¸­æ–­ï¼ˆç¡¬ä»¶æ”¯æŒï¼‰é€»è¾‘åœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€ï¼ˆè½¯ä»¶ç¡¬ä»¶æ”¯æŒï¼‰å¦‚ä½•ç»™æ¯ä¸ªè¿›ç¨‹åˆ†é…ç‰©ç†å—ä¸€ä¸ªé¡µï¼ˆæ®µï¼‰è¿›å…¥å†…å­˜æ—¶ï¼Œæ·˜æ±°å“ªä¸ªé¡µï¼ˆæ®µï¼‰è¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼é¡µè¡¨æœºåˆ¶ç”¨äºŽå°†ç”¨æˆ·é€»è¾‘åœ°å€ç©ºé—´å˜æ¢ä¸ºå†…å­˜çš„ç‰©ç†åœ°å€ç©ºé—´ã€‚åœ¨é¡µè¡¨ä¸­å¢žåŠ è‹¥å¹²é¡¹ï¼Œä»¥ä¾¿äºŽæ ‡å¿—ç¨‹åºæˆ–æ•°æ®çš„çŠ¶æ€ã€‚çŠ¶æ€ä½ï¼ˆå­˜åœ¨ä½ï¼‰Pï¼šè¡¨ç¤ºè¯¥é¡µæ˜¯å¦è°ƒå…¥å†…å­˜ã€‚è®¿é—®å­—æ®µAï¼šç”¨äºŽè®°å½•è¯¥é¡µåœ¨æŸæ®µæ—¶é—´å†…è¢«è®¿é—®çš„æ¬¡æ•°ã€‚ä¿®æ”¹ä½Mï¼šè¡¨ç¤ºè¯¥é¡µåœ¨è°ƒå…¥å†…å­˜åŽæ˜¯å¦è¢«ä¿®æ”¹è¿‡ã€‚æœªä¿®æ”¹è¿‡ä¸å¿…å†™å›žå¤–å­˜ï¼Œä¿®æ”¹è¦å†™å›žå¤–å­˜ã€‚å¤–å­˜åœ°å€ï¼šè¯¥é¡µåœ¨å¤–å­˜ä¸Šçš„åœ°å€ï¼Œé€šå¸¸æ˜¯ç‰©ç†å—å·ã€‚ç¼ºé¡µä¸­æ–­æœºæž„åœ¨åœ°å€æ˜ å°„è¿‡ç¨‹ä¸­ï¼Œåœ¨é¡µè¡¨ä¸­å‘çŽ°æ‰€è¦è®¿é—®çš„é¡µä¸åœ¨å†…å­˜ï¼Œåˆ™äº§ç”Ÿç¼ºé¡µä¸­æ–­ã€‚æ“ä½œç³»ç»ŸæŽ¥åˆ°æ­¤ä¸­æ–­ä¿¡å·åŽï¼Œå°±è°ƒå‡ºç¼ºé¡µä¸­æ–­å¤„ç†ç¨‹åºï¼Œæ ¹æ®é¡µè¡¨ä¸­ç»™å‡ºçš„å¤–å­˜åœ°å€ï¼Œå°†è¯¥é¡µè°ƒå…¥å†…å­˜ï¼Œä½¿è¿›ç¨‹ç»§ç»­è¿è¡Œä¸‹åŽ»ã€‚å¦‚æžœå†…å­˜ä¸­æœ‰ç©ºé—²å—ï¼Œåˆ™åˆ†é…ä¸€é¡µï¼Œå°†æ–°è°ƒå…¥é¡µè£…å…¥å†…å­˜ï¼Œå¹¶ä¿®æ”¹é¡µè¡¨ä¸­ç›¸åº”é¡µè¡¨é¡¹ç›®çš„çŠ¶æ€ä½åŠç›¸åº”çš„å†…å­˜å—å·ã€‚è‹¥æ­¤æ—¶å†…å­˜ä¸­æ²¡æœ‰ç©ºé—²å—ï¼Œåˆ™è¦æ·˜æ±°æŸé¡µï¼Œè‹¥è¯¥é¡µåœ¨å†…å­˜æœŸé—´è¢«ä¿®æ”¹è¿‡ï¼Œåˆ™è¦å°†å…¶å†™å›žå¤–å­˜ã€‚ç¼ºé¡µä¸­æ–­å‘ç”Ÿåœ¨æŒ‡ä»¤æ‰§è¡ŒæœŸé—´ï¼Œè€Œé€šå¸¸æƒ…å†µä¸‹ï¼ŒCPUæ˜¯åœ¨ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œå®ŒåŽï¼Œæ‰æ£€æŸ¥æ˜¯å¦æœ‰ä¸­æ–­è¯·æ±‚åˆ°è¾¾ï¼›ä¸€æ¡æŒ‡ä»¤åœ¨æ‰§è¡ŒæœŸé—´ï¼Œå¯èƒ½äº§ç”Ÿå¤šæ¬¡ç¼ºé¡µä¸­æ–­ã€‚æ‰€ä»¥ç¡¬ä»¶æœºæž„åº”èƒ½ä¿å­˜å¤šæ¬¡ä¸­æ–­æ—¶çš„çŠ¶æ€ï¼Œå¹¶ä¿è¯æœ€åŽèƒ½è¿”å›žåˆ°ä¸­æ–­å‰äº§ç”Ÿç¼ºé¡µä¸­æ–­çš„æŒ‡ä»¤å¤„ï¼Œç»§ç»­æ‰§è¡Œã€‚åœ°å€è½¬æ¢æœºæž„å†…å­˜åˆ†é…æœ€å°ç‰©ç†å—æ•°çš„ç¡®å®šæœ€å°ç‰©ç†å—æ•°ï¼šä¿è¯è¿›ç¨‹æ­£å¸¸è¿è¡Œæ‰€éœ€çš„æœ€å°ç‰©ç†å—æ•°ã€‚ä¸Žè®¡ç®—æœºçš„ç¡¬ä»¶æœºæž„æœ‰å…³ï¼Œå–å†³äºŽæŒ‡ä»¤çš„æ ¼å¼ã€åŠŸèƒ½å’Œå¯»å€æ–¹å¼ã€‚å†…å­˜åˆ†é…ç­–ç•¥åœ¨è¯·æ±‚åˆ†é¡µä¸­ï¼Œå¯é‡‡å–ä¸¤ç§åˆ†é…ç­–ç•¥ï¼Œå³å›ºå®šå’Œå¯å˜åˆ†é…ç­–ç•¥ã€‚åœ¨è¿›è¡Œç½®æ¢æ—¶ï¼Œä¹Ÿå¯é‡‡å–ä¸¤ç§ç­–ç•¥ï¼Œå³å…¨å±€ç½®æ¢å’Œå±€éƒ¨ç½®æ¢ï¼ˆç½®æ¢èŒƒå›´ä¸åŒï¼‰ã€‚äºŽæ˜¯ç»„åˆå‡ºä¸‰ç§é€‚ç”¨çš„ç­–ç•¥ï¼šå›ºå®šåˆ†é…å±€éƒ¨ç½®æ¢ï¼šåˆ†é…å›ºå®šæ•°ç›®çš„å†…å­˜ç©ºé—´ï¼Œåœ¨æ•´ä¸ªè¿è¡ŒæœŸé—´éƒ½ä¸æ”¹å˜ã€‚å¦‚æžœç¼ºé¡µï¼Œåˆ™å…ˆä»Žè¯¥è¿›ç¨‹åœ¨å†…å­˜çš„é¡µé¢ä¸­é€‰ä¸­ä¸€é¡µï¼Œè¿›è¡Œæ¢å‡ºæ“ä½œï¼Œç„¶åŽå†è°ƒå…¥ä¸€é¡µã€‚å¯å˜åˆ†é…å…¨å±€ç½®æ¢ï¼šæ¯ä¸ªè¿›ç¨‹é¢„å…ˆåˆ†é…ä¸€å®šæ•°ç›®çš„ç‰©ç†å—ï¼ŒåŒæ—¶OSä¹Ÿä¿æŒä¸€ä¸ªç©ºé—²ç‰©ç†å—é˜Ÿåˆ—ã€‚å½“ç¼ºé¡µæ—¶ï¼Œé¦–å…ˆå°†å¯¹OSæ‰€å æœ‰çš„ç©ºé—²å—è¿›è¡Œåˆ†é…ï¼Œä»Žè€Œå¢žåŠ äº†å„è¿›ç¨‹çš„ç‰©ç†å—æ•°ã€‚å½“OSçš„ç©ºé—²å—å…¨éƒ¨ç”¨å®Œï¼Œå°†å¼•èµ·æ¢å‡ºæ“ä½œã€‚å¯å˜åˆ†é…å±€éƒ¨ç½®æ¢ï¼šç³»ç»Ÿæ ¹æ®ç¼ºé¡µçŽ‡åŠ¨æ€è°ƒæ•´å„è¿›ç¨‹å æœ‰çš„ç‰©ç†å—æ•°ç›®ï¼Œä½¿å…¶ä¿æŒåœ¨ä¸€ä¸ªæ¯”è¾ƒä½Žçš„ç¼ºé¡µçŽ‡çŠ¶æ€ä¸‹ã€‚ç‰©ç†å—åˆ†é…ç®—æ³•å¹³å‡åˆ†é…ç®—æ³•ï¼šå°†ç³»ç»Ÿä¸­æ‰€æœ‰å¯ä¾›åˆ†é…çš„ç‰©ç†å—ï¼Œå¹³å‡åˆ†é…ç»™å„ä¸ªè¿›ç¨‹ã€‚æŒ‰æ¯”ä¾‹åˆ†é…ç®—æ³•ï¼šæŒ‰ç…§è¿›ç¨‹çš„å¤§å°æ¯”ä¾‹åˆ†é…ç‰©ç†å—ã€‚è€ƒè™‘ä¼˜å…ˆæƒçš„åˆ†é…ç®—æ³•ï¼šä¸ºäº†å¯¹äºŽç´§è¿«çš„ä½œä¸šï¼Œèƒ½å¤Ÿå°½å¿«å®Œæˆã€‚å¯ä»¥å°†å†…å­˜çš„ç‰©ç†å—åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æŒ‰ç…§æ¯”ä¾‹åˆ†é…ç»™å„è¿›ç¨‹ï¼Œå¦ä¸€éƒ¨åˆ†æ ¹æ®è¿›ç¨‹ä¼˜å…ˆçº§ï¼Œé€‚å½“å¢žåŠ å…¶ç›¸åº”çš„ä»½é¢ï¼Œåˆ†é…ç»™å„è¿›ç¨‹ã€‚é¡µé¢è°ƒå…¥ä½•æ—¶è°ƒå…¥é¡µé¢æå‰å–é¡µï¼šé¢„å…ˆè£…å…¥ä¸»å­˜ä¸€é¡µæˆ–å‡ é¡µï¼ˆæå‰é¡µï¼‰ã€‚è¯·æ±‚å–é¡µï¼šå½“ç”¨åˆ°æŸé¡µè€Œä¸åœ¨ä¸»å­˜æ—¶å³ç¼ºé¡µæ—¶å–é¡µã€‚ä»Žä½•å¤„è°ƒå…¥é¡µé¢å¤–å­˜æœ‰ä¸¤ä¸ªéƒ¨åˆ†ï¼šæ–‡ä»¶åŒºå’Œå¯¹æ¢åŒºã€‚å¯¹æ¢åŒºI/Oæ“ä½œé€Ÿåº¦æ¯”æ–‡ä»¶åŒºç›¸å¯¹å¿«ä¸€äº›ï¼Œå› æ­¤ä¸€èˆ¬åº”å½“å°½é‡ä½¿ç”¨å¯¹æ¢åŒºæ¥è°ƒå…¥é¡µé¢ã€‚å¯¹äºŽä¸åŒæƒ…å†µï¼Œé‡‡ç”¨ä¸åŒçš„ç­–ç•¥ï¼šç³»ç»Ÿæœ‰è¶³å¤Ÿçš„å¯¹æ¢ç©ºé—´ï¼šå…¨éƒ¨ä»Žå¯¹æ¢åŒºè°ƒå…¥ã€‚ç³»ç»Ÿå¯¹æ¢ç©ºé—´ä¸è¶³ï¼šæœªä¿®æ”¹çš„ä»Žæ–‡ä»¶åŒºè°ƒå…¥ï¼Œä¿®æ”¹çš„ä»Žå¯¹æ¢åŒºè°ƒå…¥ã€‚UNIXçš„è°ƒå…¥æ–¹å¼ï¼šæœªè¿è¡Œè¿‡çš„ä»Žæ–‡ä»¶åŒºè°ƒå…¥ï¼Œè¿è¡Œè¿‡çš„æ”¾åœ¨å¯¹æ¢åŒºï¼Œå…è®¸é¡µé¢å…±äº«ã€‚é¡µé¢è°ƒå…¥è¿‡ç¨‹è¿›ç¨‹éœ€è¦çš„é¡µé¢ä¸åœ¨å†…å­˜ï¼Œå¼•èµ·ç¼ºé¡µä¸­æ–­ä¸­æ–­å¤„ç†ç¨‹åºä¿ç•™çŽ°åœºçŽ¯å¢ƒï¼Œè½¬å…¥ç¼ºé¡µä¸­æ–­å¤„ç†ç¨‹åºä¸­æ–­å¤„ç†ç¨‹åºæŸ¥æ‰¾é¡µè¡¨ï¼Œå¾—åˆ°å¯¹åº”çš„å¤–å­˜ç‰©ç†å—å·ã€‚å¦‚æžœå†…å­˜æœ‰ç©ºé—²ï¼Œåˆ™å¯åŠ¨ç£ç›˜æ“ä½œï¼Œå°†æ‰€ç¼ºçš„é¡µé¢è¯»å…¥ï¼Œå¹¶ä¿®æ”¹é¡µè¡¨ã€‚å¦åˆ™ï¼Œåˆ°4ã€‚æ‰§è¡Œç½®æ¢ç®—æ³•ï¼Œé€‰å‡ºè¦æ¢å‡ºçš„é¡µé¢ï¼Œå¦‚æžœè¯¥é¡µä¿®æ”¹è¿‡ï¼Œåº”å°†å…¶å†™å…¥ç£ç›˜ï¼Œç„¶åŽå°†æ‰€ç¼ºé¡µè°ƒå…¥å†…å­˜ï¼Œä¿®æ”¹ç›¸åº”è¡¨é¡¹ï¼Œå°†å…¶å­˜åœ¨ä½ç½®ä¸º1ï¼Œå¹¶æ”¾å…¥å¿«è¡¨ã€‚åˆ©ç”¨ä¿®æ”¹åŽçš„é¡µè¡¨ï¼Œå½¢æˆç‰©ç†åœ°å€ï¼Œè®¿é—®å†…å­˜æ•°æ®ã€‚ç¼ºé¡µçŽ‡å‡è®¾è¿›ç¨‹é€»è¾‘ç©ºé—´ä¸ºné¡µï¼Œç³»ç»Ÿä¸ºå…¶åˆ†é…ç‰©ç†å—æ•°ä¸ºmã€‚å¦‚æžœè¿›ç¨‹è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè®¿é—®é¡µé¢æˆåŠŸæ¬¡æ•°ä¸ºSï¼Œè®¿é—®é¡µé¢å¤±è´¥æ¬¡æ•°ä¸ºFï¼Œæ€»é¡µé¢è®¿é—®æ¬¡æ•°A=S+Fï¼Œåˆ™è¿›ç¨‹è¿è¡Œè¿‡ç¨‹ä¸­ ç¼ºé¡µçŽ‡f=F/Aã€‚å½±å“ç¼ºé¡µçŽ‡çš„ä¸»è¦å› ç´ ï¼šé¡µé¢å¤§å°ï¼šé¡µé¢è¶Šå¤§ï¼Œç¼ºé¡µçŽ‡è¶Šå°è¿›ç¨‹æ‰€åˆ†é…ç‰©ç†å—æ•°ï¼šç‰©ç†å—è¶Šå¤šï¼Œç¼ºé¡µçŽ‡è¶Šå°é¡µé¢ç½®æ¢ç®—æ³•ï¼šåˆç†çš„ç½®æ¢ç®—æ³•èƒ½æ›´å°‘å°†é¡µé¢è°ƒå…¥è°ƒå‡ºç¨‹åºå›ºæœ‰ç‰¹æ€§ï¼šæ¯”å¦‚åšå¾ªçŽ¯æ“ä½œæ—¶ï¼Œç¼ºé¡µçŽ‡è¾ƒä½Žï¼Œå› ä¸ºæ‰§è¡Œçš„å‘½ä»¤éƒ½æ˜¯ä¸€ç³»åˆ—å¤§è‡´ç›¸åŒçš„æŒ‡ä»¤ã€‚é¡µé¢ç½®æ¢ç®—æ³•æœ€ä½³ç½®æ¢ç®—æ³•æ‰€é€‰æ‹©çš„è¢«æ·˜æ±°é¡µé¢ï¼Œå°†æ˜¯ä»¥åŽæ°¸ä¸ä½¿ç”¨çš„ï¼Œ æˆ–è®¸æ˜¯åœ¨æœ€é•¿ï¼ˆæœªæ¥ï¼‰æ—¶é—´å†…ä¸å†è¢«è®¿é—®çš„é¡µé¢ã€‚é‡‡ç”¨æœ€ä½³ç½®æ¢ç®—æ³•ï¼Œé€šå¸¸å¯ä¿è¯èŽ·å¾—æœ€ä½Žçš„ç¼ºé¡µçŽ‡ã€‚è¿™æ˜¯ä¸€ç§ç†æƒ³æƒ…å†µï¼Œæ˜¯å®žé™…æ‰§è¡Œä¸­æ— æ³•é¢„çŸ¥çš„ï¼Œå› è€Œä¸èƒ½å®žçŽ°ã€‚å¯ç”¨ä½œæ€§èƒ½è¯„ä»·çš„ä¾æ®ã€‚ä¾‹ï¼šå‡å®šç³»ç»Ÿä¸ºæŸè¿›ç¨‹åˆ†é…äº†ä¸‰ä¸ªç‰©ç†å—ï¼Œ å¹¶è€ƒè™‘æœ‰ä»¥ä¸‹çš„é¡µé¢å·å¼•ç”¨ä¸²17ï¼Œ0ï¼Œ1ï¼Œ2ï¼Œ0ï¼Œ3ï¼Œ0ï¼Œ4ï¼Œ2ï¼Œ3ï¼Œ0ï¼Œ3ï¼Œ2ï¼Œ1ï¼Œ2ï¼Œ0ï¼Œ1ï¼Œ7ï¼Œ0ï¼Œ1è¿›ç¨‹è¿è¡Œæ—¶ï¼Œ å…ˆå°†7ï¼Œ0ï¼Œ1ä¸‰ä¸ªé¡µé¢è£…å…¥å†…å­˜ã€‚ ä»¥åŽï¼Œ å½“è¿›ç¨‹è¦è®¿é—®é¡µé¢2æ—¶ï¼Œ å°†ä¼šäº§ç”Ÿç¼ºé¡µä¸­æ–­ã€‚æ­¤æ—¶OSæ ¹æ®æœ€ä½³ç½®æ¢ç®—æ³•ï¼Œ å°†é€‰æ‹©é¡µé¢7äºˆä»¥æ·˜æ±°ã€‚å…ˆè¿›å…ˆå‡ºé¡µé¢ç½®æ¢ç®—æ³•é€‰æ‹©è£…å…¥æœ€æ—©çš„é¡µé¢è¢«ç½®æ¢ã€‚å¯ä»¥é€šè¿‡é“¾è¡¨æ¥è¡¨ç¤ºå„é¡µçš„å»ºç«‹æ—¶é—´å…ˆåŽã€‚æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ç½®æ¢ç®—æ³•é€‰æ‹©å†…å­˜ä¸­æœ€ä¹…æœªä½¿ç”¨çš„é¡µé¢è¢«ç½®æ¢ã€‚è¿™æ˜¯å±€éƒ¨æ€§åŽŸç†çš„åˆç†è¿‘ä¼¼ï¼Œæ€§èƒ½æŽ¥è¿‘æœ€ä½³ç®—æ³•ã€‚ä½†ç”±äºŽéœ€è¦è®°å½•é¡µé¢ä½¿ç”¨æ—¶é—´çš„å…ˆåŽå…³ç³»ï¼Œç¡¬ä»¶å¼€é”€å¤ªå¤§ã€‚ç¡¬ä»¶æ”¯æŒå¯„å­˜å™¨ï¼šæ¯ä¸ªé¡µé¢è®¾ç«‹ç§»ä½å¯„å­˜å™¨ï¼šè¢«è®¿é—®æ—¶å·¦è¾¹æœ€é«˜ä½ç½®1ï¼Œå®šæœŸå³ç§»å¹¶ä¸”æœ€é«˜ä½è¡¥0ï¼ŒäºŽæ˜¯å¯„å­˜å™¨æ•°å€¼æœ€å°çš„æ˜¯æœ€ä¹…æœªä½¿ç”¨é¡µé¢ã€‚æ ˆï¼šä¸€ä¸ªç‰¹æ®Šçš„æ ˆï¼Œæ¯å½“è¿›ç¨‹è®¿é—®æŸé¡µé¢æ—¶ï¼Œä¾¿æŠŠè¢«è®¿é—®çš„é¡µé¢ç§»åˆ°æ ˆé¡¶ï¼ŒäºŽæ˜¯æ ˆåº•çš„æ˜¯æœ€ä¹…æœªä½¿ç”¨é¡µé¢ã€‚æœ€å°‘ä½¿ç”¨ç½®æ¢ç®—æ³•é€‰æ‹©åˆ°å½“å‰æ—¶é—´ä¸ºæ­¢è¢«è®¿é—®æ¬¡æ•°æœ€å°‘çš„é¡µé¢è¢«ç½®æ¢ã€‚å®žçŽ°æ–¹æ³•1ï¼šæ¯ä¸ªé¡µé¢è®¾ç«‹ç§»ä½å¯„å­˜å™¨ï¼šè¢«è®¿é—®æ—¶å·¦è¾¹æœ€é«˜ä½ç½®1ï¼Œå®šæœŸå³ç§»å¹¶ä¸”æœ€é«˜ä½è¡¥0ï¼Œè¿™æ ·ï¼Œåœ¨æœ€è¿‘ä¸€æ®µæ—¶é—´å†…æ—¶ç”¨æœ€å°‘çš„é¡µé¢å°†æ˜¯$\sum_{R_i}$æœ€å°çš„é¡µã€‚å®žçŽ°æ–¹æ³•2ï¼šæ¯é¡µè®¾ç½®è®¿é—®è®¡æ•°å™¨ï¼Œæ¯å½“é¡µé¢è¢«è®¿é—®æ—¶ï¼Œè¯¥é¡µé¢çš„è®¿é—®è®¡æ•°å™¨åŠ 1ï¼›å‘ç”Ÿç¼ºé¡µä¸­æ–­æ—¶ï¼Œæ·˜æ±°è®¡æ•°å€¼æœ€å°çš„é¡µé¢ï¼Œå¹¶å°†æ‰€æœ‰è®¡æ•°æ¸…é›¶ã€‚Clockç½®æ¢ç®—æ³•ä¹Ÿç§°æœ€è¿‘æœªä½¿ç”¨ç®—æ³•ï¼ˆNRU, Not Recently Usedï¼‰ï¼Œå®ƒæ˜¯LRUï¼ˆæœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ç®—æ³•ï¼‰å’ŒFIFOçš„æŠ˜è¡·ã€‚å†…å­˜ä¸­æ‰€æœ‰é¡µé¢é€šè¿‡é“¾æŽ¥æŒ‡é’ˆå½¢æˆä¸€ä¸ªå¾ªçŽ¯é˜Ÿåˆ—ï¼Œæ¯é¡µæœ‰ä¸€ä¸ªä½¿ç”¨è®¿é—®ä½ï¼Œè‹¥è¯¥é¡µè¢«è®¿é—®åˆ™ç½®1ã€‚ç½®æ¢æ—¶é‡‡ç”¨ä¸€ä¸ªæŒ‡é’ˆï¼Œä»Žå½“å‰æŒ‡é’ˆä½ç½®å¼€å§‹æŒ‰åœ°å€å…ˆåŽæ£€æŸ¥å„é¡µï¼Œå¯»æ‰¾è®¿é—®ä½ä¸º0çš„é¡µé¢ä½œä¸ºè¢«ç½®æ¢é¡µã€‚æŒ‡é’ˆç»è¿‡çš„è®¿é—®ä½ä¸º1çš„é¡µéƒ½ä¿®æ”¹0ï¼Œæœ€åŽæŒ‡é’ˆåœç•™åœ¨è¢«ç½®æ¢é¡µçš„ä¸‹ä¸€ä¸ªé¡µã€‚æ”¹è¿›Clockç½®æ¢ç®—æ³•ç”±äºŽClockç®—æ³•ä¸è€ƒè™‘æ¢å‡ºé¡µé¢æ—¶ï¼Œé¡µé¢æ˜¯å¦ä¿®æ”¹è¿‡çš„é—®é¢˜ã€‚è¿™æ ·åœ¨æ¢å‡ºçš„é¡µé¢å¦‚æžœè¢«ä¿®æ”¹è¿‡çš„è¯ï¼Œåˆ™å¿…é¡»åšæ‹·å›žç£ç›˜å¤„ç†ï¼Œå¼€é”€æ¯”è¾ƒå¤§ã€‚äºŽæ˜¯ï¼Œæ”¹è¿›åž‹çš„Clockç®—æ³•ä¸ºæ¯ä¸ªé¡µåˆå¢žåŠ äº†ä¸€ä¸ªä¿®æ”¹ä½ã€‚é€‰æ‹©é¡µé¢æ—¶ï¼Œå°½é‡é€‰æ‹©æ—¢æœªä½¿ç”¨åˆæ²¡æœ‰ä¿®æ”¹çš„é¡µé¢ã€‚è®¿é—®ä½Aï¼Œä¿®æ”¹ä½Mæœ‰å››ç§ä¸åŒæƒ…å½¢ï¼š1ç±»(A=0ï¼ŒM=0ï¼‰æ—¢æœªè®¿é—®ï¼Œåˆæ²¡æœ‰ä¿®æ”¹ï¼Œæœ€ä½³æ·˜æ±°é¡µ2ç±»(A=0ï¼ŒM=1ï¼‰æœªè®¿é—®ï¼Œä½†æ˜¯æœ‰ä¿®æ”¹ï¼Œæ•ˆçŽ‡ä½Žçš„æ·˜æ±°é¡µ3ç±»(A=1ï¼ŒM=0ï¼‰è¢«è®¿é—®ï¼Œä½†æ²¡æœ‰ä¿®æ”¹4ç±»(A=1ï¼ŒM=1ï¼‰æ—¢è¢«è®¿é—®ï¼Œåˆæœ‰ä¿®æ”¹ç®—æ³•ï¼šæŒ‡é’ˆä»Žå½“å‰ä½ç½®å¼€å§‹ï¼Œå¼€å§‹ç¬¬ä¸€è½®æ‰«æå¾ªçŽ¯é˜Ÿåˆ—ï¼Œå¯»æ‰¾A=0ä¸”M=0çš„é¡µé¢ï¼Œæ‰¾åˆ°åˆ™å¯æ¢å‡ºã€‚å¦‚æžœæ‰¾ä¸åˆ°ï¼Œåˆ™å¼€å§‹ç¬¬äºŒè½®æ‰«æï¼Œå¯»æ‰¾A=0ä¸”M=1çš„é¡µé¢ï¼Œå¹¶ä¸”æ¯ç»è¿‡ä¸€ä¸ªé¡µé¢æ—¶ï¼Œå°†å…¶è®¿é—®ä½Aè®¾ç½®ä¸º0ã€‚å¦‚æžœæ‰¾åˆ°ä¸€ä¸ªç¬¬2ç±»é¡µé¢ï¼Œåˆ™å¯æ¢å‡ºã€‚å¦‚æžœä»æ—§æœªæ‰¾åˆ°åˆé€‚çš„æ¢å‡ºé¡µé¢ï¼Œåˆ™æ­¤æ—¶æŒ‡é’ˆå›žåˆ°åˆå§‹ä½ç½®ï¼Œä¸”æ‰€æœ‰é¡µé¢å…¶è®¿é—®ä½Aä¸º0ã€‚å†è½¬å›ž1ç»§ç»­å·¥ä½œã€‚é¡µé¢ç¼“å†²ç®—æ³•åœ¨è¯·æ±‚åˆ†é¡µç³»ç»Ÿä¸­ï¼Œè¿›ç¨‹åœ¨è¿è¡Œçš„æ—¶å€™ç»å¸¸ä¼šå‘ç”Ÿé¡µé¢æ¢è¿›æ¢å‡ºçš„æƒ…å†µã€‚è€Œå½±å“æ¢è¿›æ¢å‡ºæ•ˆçŽ‡çš„åŽŸå› å¦‚ä¸‹ï¼šé¡µé¢ç½®æ¢ç®—æ³•ï¼šå¥½çš„é¡µé¢ç½®æ¢ç®—æ³•èƒ½ä½¿è¿›ç¨‹è¿è¡Œä¸­å…·æœ‰è¾ƒä½Žçš„ç¼ºé¡µçŽ‡ï¼Œä»Žè€Œå¯ä»¥å‡å°‘æ¢è¿›æ¢å‡ºçš„å¼€é”€ã€‚å†™ä¼šç£ç›˜çš„é¢‘çŽ‡ã€‚è¯»å…¥å†…å­˜çš„é¢‘çŽ‡ã€‚è€Œé¡µé¢ç¼“å­˜ç®—æ³•å°±æ˜¯é™ä½Žè¯»å†™ç£ç›˜çš„é¢‘çŽ‡æ¥é™ä½Žå¼€é”€ã€‚åšæ³•å¦‚ä¸‹ï¼šç©ºé—²é¡µé¢é“¾è¡¨ï¼šå½“æœ‰ä¸€ä¸ªæœªè¢«ä¿®æ”¹çš„é¡µè¦æ¢å‡ºæ—¶ï¼Œå®žé™…ä¸Šå¹¶ä¸å°†å…¶æ¢å‡ºåˆ°å¤–å­˜ï¼Œè€Œæ˜¯æŠŠå®ƒä»¬æ‰€åœ¨çš„ç‰©ç†å—æŒ‚åœ¨ç©ºé—²é“¾è¡¨çš„æœ«å°¾ã€‚å¦‚æžœä»¥åŽæŸè¿›ç¨‹è¯·æ±‚æ­¤é¡µæ—¶ï¼Œä¾¿å°†å…¶ä»Žç©ºé—²é¡µé¢é“¾è¡¨ä¸Šå–ä¸‹ã€‚ä¿®æ”¹é¡µé¢é“¾è¡¨ï¼šå’Œç©ºé—²é¡µé¢é“¾è¡¨çš„åŠŸèƒ½ä¸€æ ·ï¼Œåªæ˜¯è¯´æ­¤é“¾è¡¨æ˜¯å­˜æ”¾å·²ä¿®æ”¹é¡µé¢çš„ã€‚å½“é“¾è¡¨ä¸ŠæŒ‚æœ‰è¶³å¤Ÿå¤šçš„é¡µé¢æ—¶ï¼Œå°†å®ƒä»¬ä¸€é½å†™å…¥ç£ç›˜ï¼Œè¿™æ ·å¯ä»¥é™ä½Žè¯»å†™ç£ç›˜çš„é¢‘çŽ‡ã€‚è®¿é—®å†…å­˜çš„æœ‰æ•ˆæ—¶é—´è¢«è®¿é—®é¡µåœ¨ä¸»å­˜ï¼Œä¸”ç›¸åº”é¡µè¡¨é¡¹åœ¨å¿«è¡¨ï¼š$EAT= \lambda +t$æŸ¥æ‰¾å¿«è¡¨+è®¿é—®å®žé™…ç‰©ç†åœ°å€è¢«è®¿é—®é¡µåœ¨ä¸»å­˜ï¼Œä½†ç›¸åº”é¡µè¡¨é¡¹ä¸åœ¨å¿«è¡¨ï¼š$ EAT= \lambda +t + t + \lambda$æŸ¥æ‰¾å¿«è¡¨+è¯»å–é¡µè¡¨+è¯»å–æ•°æ®+æ›´æ–°å¿«è¡¨è¢«è®¿é—®é¡µä¸åœ¨ä¸»å­˜ï¼š$EAT= \lambda + t + \varepsilon + t + \lambdaâ€‹$æŸ¥æ‰¾å¿«è¡¨+è¯»å–é¡µè¡¨+ç¼ºé¡µä¸­æ–­å¤„ç†+è¯»å–æ•°æ®+ç­‰æ–°å¿«è¡¨å†…å­˜çš„æœ‰æ•ˆè®¿é—®æ—¶é—´ä¸ºï¼š$EAT= \lambda + t + (1 - a ) \ast [f \ast ( \varepsilon + \lambda + t)+(1-f) \ast(\lambda+t)]$aä¸ºå‘½ä¸­çŽ‡ï¼Œfä¸ºç¼ºé¡µçŽ‡ã€‚æŸ¥æ‰¾å¿«è¡¨+è®¿é—®å†…å­˜ä¸€æ¬¡+æœªå‘½ä¸­ä¸éœ€è¦è¯·æ±‚ç¼ºé¡µè®¿é—®å¿«è¡¨+æœªå‘½ä¸­æ—¶ä¸éœ€è¦è¯·æ±‚ç¼ºé¡µè®¿é—®å†…å­˜+æœªå‘½ä¸­éœ€è¦è¯·æ±‚ç¼ºé¡µè®¿é—®å¿«è¡¨+æœªå‘½ä¸­æ—¶éœ€è¦è¯·æ±‚ç¼ºé¡µè®¿é—®å†…å­˜+æœªå‘½ä¸­æ—¶éœ€è¦è¯·æ±‚ç¼ºé¡µå¼€é”€ã€‚æŠ–åŠ¨ä¸Žå·¥ä½œé›†æŠ–åŠ¨ç”±äºŽåªè£…å…¥ä¸€ä¸ªè¿›ç¨‹çš„éƒ¨åˆ†ç¨‹åºå’Œæ•°æ®ä¾¿å¯å¼€å§‹è¿è¡Œï¼Œæ•…å¸Œæœ›è¿è¡Œæ›´å¤šè¿›ç¨‹ï¼Œå¢žåŠ å¤šé“ç¨‹åºåº¦ã€‚ä½†åœ¨å¤šé“ç¨‹åºçŽ¯å¢ƒä¸‹ï¼Œå¹¶ä¸æ˜¯å¤šé“ç¨‹åºçš„åº¦è¶Šé«˜ï¼Œç³»ç»Ÿåžåé‡è¶Šå¤§ã€‚å½“CPUçš„åˆ©ç”¨çŽ‡è¾¾åˆ°æŸä¸€å³°å€¼åŽï¼Œè‹¥ç»§ç»­å¢žåŠ å¤šé“ç¨‹åº¦ï¼Œå°†äº§ç”Ÿâ€œæŠ–åŠ¨â€ã€‚æŠ–åŠ¨æ˜¯æŒ‡åŒæ—¶è¿è¡Œè¿›ç¨‹å¤ªå¤šï¼Œåˆ†é…ç»™æ¯ä¸ªè¿›ç¨‹ç‰©ç†å—å¤ªå°‘ï¼Œè¿›ç¨‹åœ¨è¿è¡Œæ—¶é¢‘ç¹ç¼ºé¡µï¼Œå¿…é¡»è¯·æ±‚è°ƒé¡µï¼Œç­‰å¾…é¡µé¢è°ƒè¿›è°ƒå‡ºçš„è¿›ç¨‹å¢žå¤šï¼Œç£ç›˜è®¿é—®æ—¶é—´æ€¥å‰§å¢žåŠ ï¼Œè¿›ç¨‹å¤§éƒ¨åˆ†æ—¶é—´ç”¨äºŽé¡µé¢æ¢è¿›æ¢å‡ºï¼Œå¤„ç†æœºåˆ©ç”¨çŽ‡æ€¥å‰§ä¸‹é™å¹¶è¶‹äºŽ0ã€‚å·¥ä½œé›†åŸºäºŽç¨‹åºè¿è¡Œçš„å±€éƒ¨æ€§åŽŸç†ï¼Œç¨‹åºè¿è¡Œæ—¶ï¼Œå¯¹é¡µé¢çš„è®¿é—®å¹¶ä¸å‡åŒ€ï¼Œä¸€æ®µæ—¶é—´ä»…å±€é™äºŽè¾ƒå°‘çš„é¡µé¢ï¼›å¦ä¸€æ®µæ—¶é—´ï¼Œæœ‰å¯èƒ½å±€é™äºŽå¦ä¸€äº›è¾ƒå°‘çš„é¡µé¢ï¼Œå¦‚æžœèƒ½é¢„çŸ¥è¿™äº›é¡µé¢ï¼Œå¹¶æå‰è°ƒå…¥ï¼Œå°†å¤§å¤§å‡å°‘ç¼ºé¡µçŽ‡å·¥ä½œé›†ï¼Œæ˜¯æŒ‡åœ¨æŸæ®µæ—¶é—´é—´éš”å†…ï¼Œè¿›ç¨‹å®žé™…è¦è®¿é—®çš„é¡µé¢çš„é›†åˆã€‚ä¸ºäº†é™ä½Žç¼ºé¡µçŽ‡ï¼Œåº”å°†ç¨‹åºå…¨éƒ¨å·¥ä½œé›†è£…å…¥ä¸»å­˜ã€‚æ–¹æ³•ï¼šç”¨ç¨‹åºè¿‡åŽ»æŸæ®µæ—¶é—´çš„è¡Œä¸ºä½œä¸ºç¨‹åºå°†æ¥æŸæ®µæ—¶é—´è¡Œä¸ºçš„è¿‘ä¼¼ã€‚å®šä¹‰ï¼šæ˜¯æŒ‡åœ¨æŸæ®µæ—¶é—´é—´éš”å†…ï¼Œè¿›ç¨‹å®žé™…è¦è®¿é—®çš„é¡µé¢çš„é›†åˆã€‚ä¸ºäº†é™ä½Žç¼ºé¡µçŽ‡ï¼Œåº”å°†ç¨‹åºå…¨éƒ¨å·¥ä½œé›†è£…å…¥ä¸»å­˜ã€‚æ–¹æ³•ï¼šç”¨ç¨‹åºè¿‡åŽ»æŸæ®µæ—¶é—´çš„è¡Œä¸ºä½œä¸ºç¨‹åºå°†æ¥æŸæ®µæ—¶é—´è¡Œä¸ºçš„è¿‘ä¼¼ã€‚å·¥ä½œé›†$ \omega (t, \Delta) $æ˜¯äºŒå…ƒå‡½æ•°ã€‚æŸè¿›ç¨‹åœ¨æ—¶é—´tçš„å·¥ä½œé›†è®°ä¸º$ \omega (t, \Delta) $ï¼Œå…¶ä¸­ï¼Œ$\Delta$ä¸ºå·¥ä½œé›†çš„çª—å£å°ºå¯¸ã€‚ä¾‹çª—å£å¤§å°$\Delta$é€‰æ‹©å¾—è¿‡å°ï¼Œé¢‘ç¹äº§ç”Ÿç¼ºé¡µä¸­æ–­ã€‚çª—å£å¤§å°$\Delta$é€‰æ‹©å¾—å¾ˆå¤§ï¼Œå¤±åŽ»äº†è™šæ‹Ÿå­˜å‚¨å™¨çš„æ„ä¹‰æŠ–åŠ¨çš„é¢„é˜²æ–¹æ³•é‡‡å–å±€éƒ¨ç½®æ¢ç­–ç•¥ï¼šä»…å…è®¸è¿›ç¨‹åœ¨è‡ªèº«èŒƒå›´å†…è¿›è¡Œç½®æ¢ï¼Œä¸å½±å“å…¶ä»–è¿›ç¨‹åœ¨CPUè°ƒåº¦ç¨‹åºä¸­å¼•å…¥å·¥ä½œé›†ç®—æ³•ï¼šè°ƒå…¥æ–°ä½œä¸šæ—¶ï¼Œåº”è¯¥æ£€æŸ¥æ¯ä¸ªè¿›ç¨‹åœ¨å†…å­˜ä¸­çš„é©»ç•™é›†æ˜¯å¦è¶³å¤Ÿå¤§L=Så‡†åˆ™ï¼šäº§ç”Ÿç¼ºé¡µçš„å¹³å‡æ—¶é—´L=ç³»ç»Ÿå¤„ç†è¿›ç¨‹ç¼ºé¡µçš„å¹³å‡æ—¶é—´Sé€‰æ‹©æš‚åœçš„è¿›ç¨‹ï¼šä½¿æŸäº›ä½Žä¼˜å…ˆçº§çš„è¿›ç¨‹è¿›ç¨‹æŒ‚èµ·ï¼Œä»Žè€Œè…¾å‡ºå†…å­˜ç©ºé—´è¯·æ±‚åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼è¯·æ±‚åˆ†é¡µç³»ç»Ÿå»ºç«‹çš„è™šæ‹Ÿå­˜å‚¨å™¨ï¼Œæ˜¯ä»¥é¡µé¢ä¸ºå•ä½è¿›è¡Œæ¢å…¥ã€æ¢å‡ºæ“ä½œçš„ã€‚åœ¨è¯·æ±‚åˆ†æ®µç³»ç»Ÿä¸­å®žçŽ°çš„è™šæ‹Ÿå­˜å‚¨å™¨ï¼Œä»¥åˆ†æ®µä¸ºå•ä½è¿›è¡Œæ¢å…¥å’Œæ¢å‡ºã€‚ç¨‹åºåœ¨è¿è¡Œä¹‹å‰ï¼Œåªéœ€è¦è£…å…¥å¿…è¦çš„è‹¥å¹²ä¸ªåˆ†æ®µå³å¯è¿è¡Œã€‚å½“è®¿é—®çš„åˆ†æ®µä¸åœ¨å†…å­˜æ—¶ï¼Œå¯ç”±OSå°†æ‰€ç¼ºå°‘çš„æ®µè°ƒå…¥å†…å­˜ã€‚ä½¿ç”¨è¯·æ±‚åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼å¯ä»¥å¯¹åŠ¨æ€é“¾æŽ¥æœ‰å¾ˆå¥½çš„æ”¯æŒã€‚è¯·æ±‚æ®µè¡¨æœºåˆ¶å­˜å–æ–¹å¼ï¼šæ ‡è®°æœ¬æ®µå­˜å–å±žæ€§ã€‚å¦‚è¯»Rï¼Œå†™Wï¼Œæ‰§è¡ŒXè®¿é—®å­—æ®µAï¼šè®°å½•æœ¬æ®µä½¿ç”¨çš„é¢‘ç¹ç¨‹åº¦ä¿®æ”¹ä½ï¼šæ˜¯å¦åœ¨è°ƒå…¥å†…å­˜åŽåšè¿‡ä¿®æ”¹å­˜åœ¨ä½ï¼šæœ¬æ®µæ˜¯å¦è£…å…¥å†…å­˜å¢žè¡¥ä½ï¼šè¯¥æ®µæ˜¯å¦åŠ¨æ€å¢žé•¿è¿‡ç¼ºæ®µä¸­æ–­æœºæž„è¦æœ‰ä¸“é—¨çš„ç¼ºæ®µä¸­æ–­å¤„ç†ç¨‹åºã€‚ç‰¹ç‚¹ï¼šæŒ‡ä»¤å’Œæ“ä½œæ•°å¿…å®šä¸ä¼šè·¨è¶Šåœ¨æ®µè¾¹ç•Œä¸Šã€‚ç”±äºŽæ®µçš„é•¿åº¦æ˜¯ä¸å›ºå®šçš„ï¼Œå¤„ç†æ¯”ç¼ºé¡µç³»ç»Ÿå¤æ‚ã€‚è°ƒå…¥ä¸€ä¸ªæ®µå¯èƒ½è¦æ·˜æ±°å‡ ä¸ªå†…å­˜ä¸­çš„æ®µã€‚è¯·æ±‚ä¸­æ–­å¤„ç†åœ°å€ä¸­æ–­æœºæž„åˆ†æ®µçš„å…±äº«ä¸Žä¿æŠ¤å…±äº«æ®µè¡¨å…±äº«è¿›ç¨‹è®¡æ•°ï¼šå¤šå°‘è¿›ç¨‹åœ¨ä½¿ç”¨æ­¤æ®µã€‚å­˜å–æŽ§åˆ¶æ‰‹æ®µï¼šæ¯ä¸ªå…±äº«æ®µï¼Œåº”ä¸ºä¸åŒè¿›ç¨‹èµ‹äºˆä¸åŒçš„å­˜å–æƒé™ã€‚æ–­å·ï¼šåŒä¸€ä¸ªå…±äº«æ®µåœ¨ä¸åŒè¿›ç¨‹é‚£æœ‰ä¸åŒçš„æ–­å·ã€‚åˆ†é…ç¬¬ä¸€ä¸ªè¯·æ±‚çš„è¿›ç¨‹ï¼Œç”±ç³»ç»Ÿåˆ†é…ä¸€ç‰©ç†å—ï¼Œè°ƒå…¥å…±äº«æ®µï¼Œè®¾ç½®ç›¸å…³è¡¨é¡¹ä¿¡æ¯ï¼Œå¹¶ç½®count=1ï¼› ä»¥åŽçš„è¿›ç¨‹ï¼Œåœ¨è‡ªå·±çš„æ®µè¡¨ä¸­å¢žåŠ ä¸€é¡¹ï¼Œå¡«å…¥å…±äº«æ®µçš„ä¿¡æ¯ï¼Œåœ¨å…±äº«æ®µè¡¨é¡¹ä¸­åšcount=count+1ï¼Œå¡«å†™è¿›ç¨‹ç›¸å…³ä¿¡æ¯ã€‚å›žæ”¶åšcount=count-1ï¼›è‹¥count=0 ï¼Œåˆ™è¯¥å…±äº«æ®µè¢«å›žæ”¶ã€‚åˆ†æ®µä¿æŠ¤è¶Šç•Œæ£€æŸ¥ï¼šåœ¨è¿›è¡Œå­˜å‚¨è®¿é—®æ—¶ï¼Œè¦å°†é€»è¾‘åœ°å€çš„æ®µå·ä¸Žæ®µè¡¨é•¿åº¦è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æžœè¶…å‡ºåˆ™å‘ç”Ÿè¶Šç•Œä¸­æ–­ä¿¡å·ï¼›å…¶æ¬¡ï¼Œå°†æ®µå†…åœ°å€ä¸Žæ®µè¡¨ä¸­è¯¥æ®µçš„é•¿åº¦è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æžœæœ‰æ•ˆæ‰è¿›è¡Œè½¬æ¢ï¼Œå¦åˆ™äº§ç”Ÿè¶Šç•Œä¸­æ–­ä¿¡å·ã€‚å­˜å–æŽ§åˆ¶æ£€æŸ¥ï¼šç”¨äºŽè§„å®šå¯¹è¯¥æ®µçš„è®¿é—®æƒé™ã€‚é€šå¸¸çš„è®¿é—®æ–¹å¼æœ‰ï¼šè¯»ï¼šå…è®¸ç”¨æˆ·å¯¹è¯¥æ®µ/é¡µå†…ä»»ä½•ä¿¡æ¯æˆ–å…¶å‰¯æœ¬è¿›è¡Œè¯»æ“ä½œã€‚å†™ï¼šå…è®¸ç”¨æˆ·ä¿®æ”¹è¯¥æ®µ/é¡µå†…ä»»ä½•ä¿¡æ¯ç›´è‡³æ’¤æ¶ˆæ•´ä¸ªæ®µ/é¡µã€‚æ‰§è¡Œï¼šç”¨æˆ·å¯ä»¥æ‰§è¡Œè¯¥æ®µ/é¡µç¨‹åºï¼Œæ•°æ®æ®µ/é¡µé™¤å¤–ã€‚å¢žåŠ ï¼šç”¨æˆ·å¯åœ¨æ®µ/é¡µçš„æœ«å°¾æ·»åŠ ä¿¡æ¯ï¼Œä½†ä¸å…è®¸ä¿®æ”¹å·²å­˜åœ¨äºŽæ®µ/é¡µä¸­çš„ä¿¡æ¯ã€‚çŽ¯ä¿æŠ¤æ£€æŸ¥ï¼šæ˜¯ä¸€ç§åŠŸèƒ½è¾ƒå®Œå–„çš„ä¿æŠ¤æœºåˆ¶ã€‚æ€æƒ³ï¼šå°†æ‰€æœ‰çš„ç¨‹åºåˆ†æˆä¸åŒçš„çº§åˆ«ï¼Œåˆ†åˆ«æ”¾ç½®åœ¨ä¸åŒçš„çŽ¯ä¸Šã€‚å†…çŽ¯ï¼ˆç¼–å·å°ï¼Œåœ¨å†…ä¾§ï¼‰çš„ç¨‹åºå…·æœ‰é«˜ä¼˜å…ˆæƒï¼Œå¤–çŽ¯çš„ç¨‹åºä¼˜å…ˆæƒä½Žã€‚æ“ä½œç³»ç»Ÿæ ¸å¿ƒå®‰æŽ’åœ¨0çŽ¯å†…ï¼›é‡è¦ç¨‹åºå’Œæ“ä½œç³»ç»ŸæœåŠ¡å®‰æŽ’åœ¨ä¸­é—´çŽ¯ï¼›ä¸€èˆ¬åº”ç”¨ç¨‹åºå®‰æŽ’åœ¨å¤–çŽ¯ã€‚ä¸€ä¸ªç¨‹åºå¯ä»¥ç›´æŽ¥è®¿é—®åœ¨ç›¸åŒçŽ¯æˆ–ä½Žä¼˜å…ˆçº§çŽ¯ï¼ˆæ¯”è‡ªèº«ç›¸å¯¹é å¤–çš„çŽ¯ï¼‰ä¸Šçš„æ•°æ®ã€‚ä¸€ä¸ªç¨‹åºè®¿é—®é«˜ä¼˜å…ˆçº§ï¼ˆæ¯”è‡ªå·±é å†…çš„çŽ¯ï¼‰æ—¶ï¼Œé€šè¿‡ç³»ç»Ÿè°ƒç”¨æ–¹å¼å®žçŽ°ã€‚]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[rediså…¥é—¨]]></title>
    <url>%2F2019%2Fredis%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[çŽ¯å¢ƒå®‰è£…æœ¬äººä½¿ç”¨çš„æ˜¯redis-3.0.0å’Œé˜¿é‡Œäº‘centos7æœåŠ¡å™¨ã€‚ä¸Šä¼ redis-3.0.0åˆ°æœåŠ¡å™¨ã€‚å®‰è£…gccçŽ¯å¢ƒï¼šyum install gcc-g++è§£åŽ‹redis-3.0.0ï¼štar -zxvf ...è¿›å…¥è§£åŽ‹åŽçš„redisæ–‡ä»¶å¤¹æ‰§è¡Œï¼šmakeå®‰è£…ï¼šmake PREFIX=/usr/local/redis installæ‹·è´redisæ–‡ä»¶å¤¹çš„redis.confåˆ°/usr/local/redisä¸‹ä¿®æ”¹/usr/local/redisä¸‹çš„redis.confï¼Œæœç´¢ä»¥daemonizeå¼€å¤´çš„è¡Œï¼Œå°†æ­¤è¡Œä¿®æ”¹ä¸ºdaemonize yesã€‚ä¿®æ”¹åŽredisä»¥åŽå°è¿›ç¨‹è¿è¡Œã€‚å¼€æ”¾ç«¯å£ï¼šredisé»˜è®¤ç«¯å£æ˜¯6379ã€‚/sbin/iptables -I INPUT -p tcp --dport 6379 -j ACCEPTå¯åŠ¨æœåŠ¡å™¨ï¼š./xxx/redis-server xxx/redis.confä½¿ç”¨å®¢æˆ·ç«¯è¿žæŽ¥æœåŠ¡å™¨ï¼š./xxx/redis-cli -h ipåœ°å€ -p 6379è¿žæŽ¥æµ‹è¯•ï¼špingæ˜¾ç¤ºPONGè¡¨åæˆåŠŸå…³é—­å®¢æˆ·ç«¯ï¼šquitå…³é—­æœåŠ¡å™¨ï¼š./bin/redis-cli shutdownåŸºç¡€ä½¿ç”¨å­˜å‚¨stringè®¾ç½®ï¼šset key valueå–å€¼ï¼šget keyåˆ é™¤ï¼šdel usernameæ•°å€¼ç›¸åŠ å‡åŠ ä¸€ï¼šincr keyå‡ä¸€ï¼šdecr keyåŠ xï¼šincrby key xå‡xï¼šdecrby key xå­—ç¬¦ä¸²æ‹¼æŽ¥å­˜å‚¨Mapèµ‹å€¼ï¼šèµ‹å¤šå€¼ï¼šå–å€¼ï¼šåˆ é™¤å­—æ®µï¼šåˆ é™¤mapï¼šåˆ¤æ–­å­—æ®µå­˜åœ¨ï¼šèŽ·å–å…¨éƒ¨entryï¼šèŽ·å–å…¨éƒ¨keyï¼šèŽ·å–å…¨éƒ¨valueï¼šå­˜å‚¨listå¤´éƒ¨æ·»åŠ ï¼šå°¾éƒ¨æ·»åŠ ï¼šæŸ¥çœ‹åˆ—è¡¨ï¼šå¤´éƒ¨å¼¹å‡ºï¼šå°¾éƒ¨å¼¹å‡ºï¼šlpushx key valueï¼šä»…å½“keyå­˜åœ¨æ—¶æ‰å‘å¤´éƒ¨æ’å…¥rpush key valueï¼šä»…å½“keyå­˜åœ¨æ—¶æ‰å‘å°¾éƒ¨æ’å…¥åˆ é™¤ï¼širem key count valueï¼šcount&gt;0æ—¶ä»Žå¤´éƒ¨å¼€å§‹åˆ é™¤|count|ä¸ªå€¼ä¸ºvalueçš„å…ƒç´ ï¼›count&lt;0æ—¶ä»Žå°¾éƒ¨å¼€å§‹åˆ é™¤|count|ä¸ªå€¼ä¸ºvalueçš„å…ƒç´ ï¼›count=0æ—¶åˆ é™¤å…¨éƒ¨çš„å€¼ä¸º|value|çš„å…ƒç´ ã€‚è®¾ç½®ï¼šlset key index valueï¼šè®¾ç½®é“¾è¡¨ä¸­ç´¢å¼•å€¼ä¸ºindexçš„å…ƒç´ ï¼Œ0æ˜¯é“¾è¡¨å¤´ï¼Œ-1æ˜¯é“¾è¡¨å°¾ã€‚ç´¢å¼•å€¼ä¸å­˜åœ¨æŠ›å¼‚å¸¸ã€‚lindex key indexï¼šé€šè¿‡ç´¢å¼•èŽ·å–åˆ—è¡¨ä¸­çš„å…ƒç´ linsert key before|after pivot valueï¼šåœ¨åˆ—è¡¨çš„å…ƒç´ å‰æˆ–è€…åŽæ’å…¥å…ƒç´ rpoplpush source destinationï¼šç§»é™¤åˆ—è¡¨çš„æœ€åŽä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†è¯¥å…ƒç´ æ·»åŠ åˆ°å¦ä¸€ä¸ªåˆ—è¡¨å¹¶è¿”å›žå­˜å‚¨setSADD key member1 member2...ï¼šå‘é›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜SREM key member1 member2...ï¼šç§»é™¤é›†åˆä¸­ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜SISMEMBER key memberï¼šåˆ¤æ–­ member å…ƒç´ æ˜¯å¦æ˜¯é›†åˆ key çš„æˆå‘˜1ï¼šå­˜åœ¨0ï¼škeyä¸å­˜åœ¨æˆ–memberä¸å­˜åœ¨sdiff key1 key2ï¼šè¿”å›žé›†åˆkey1-key2çš„æ•°æ®sinter key1 key2 ...ï¼šè¿”å›žé›†åˆkey1,key2,...çš„äº¤é›†sunion key1 key2 ...ï¼šè¿”å›žé›†åˆkey1,key2,...çš„å¹¶é›†scard keyï¼šè¿”å›žé›†åˆçš„æ•°é‡srandmember keyï¼šéšæœºè¿”å›žé›†åˆä¸­çš„ä¸€ä¸ªæ•°æ®é›†åˆè¿ç®—æ‹“å±•å­˜å‚¨sortedsetæœ‰åºé›†åˆå’Œé›†åˆä¸€æ ·ä¹Ÿæ˜¯stringç±»åž‹å…ƒç´ çš„é›†åˆï¼Œä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚ä¸åŒçš„æ˜¯æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»åž‹çš„åˆ†æ•°ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»Žå°åˆ°å¤§çš„æŽ’åºã€‚æœ‰åºé›†åˆçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,ä½†åˆ†æ•°(score)å´å¯ä»¥é‡å¤ã€‚é›†åˆæ˜¯é€šè¿‡å“ˆå¸Œè¡¨å®žçŽ°çš„ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚ZADD key score1 member1 [score2 member2]ï¼šå‘æœ‰åºé›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ï¼Œæˆ–è€…æ›´æ–°å·²å­˜åœ¨æˆå‘˜çš„åˆ†æ•°ã€‚ZSCORE key memberï¼šè¿”å›žæœ‰åºé›†ä¸­ï¼Œæˆå‘˜çš„åˆ†æ•°å€¼ã€‚ZREM key member1 member2 ...ï¼šç§»é™¤æœ‰åºé›†åˆä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ZRANGE key start stop [WITHSCORES]ï¼šé€šè¿‡ç´¢å¼•åŒºé—´è¿”å›žæœ‰åºé›†åˆæˆæŒ‡å®šåŒºé—´å†…çš„æˆå‘˜ã€‚withscoresè¡¨ç¤ºè¿”å›žçš„æˆå‘˜åŒ…å«åˆ†æ•°ã€‚ZREVRANGE key start stop [WITHSCORES]ï¼šè¿”å›žæœ‰åºé›†ä¸­æŒ‡å®šåŒºé—´å†…çš„æˆå‘˜ï¼Œé€šè¿‡ç´¢å¼•ï¼Œåˆ†æ•°ä»Žé«˜åˆ°åº•ã€‚withscoresè¡¨ç¤ºè¿”å›žçš„æˆå‘˜åŒ…å«åˆ†æ•°ã€‚ZREMRANGEBYRANK key start stopï¼šç§»é™¤æœ‰åºé›†åˆä¸­ç»™å®šçš„æŽ’ååŒºé—´çš„æ‰€æœ‰æˆå‘˜ZREMRANGEBYSCORE key min maxï¼šç§»é™¤æœ‰åºé›†åˆä¸­ç»™å®šçš„åˆ†æ•°åŒºé—´çš„æ‰€æœ‰æˆå‘˜keysçš„é€šç”¨æ“ä½œkeys patternï¼šèŽ·å–æ‰€æœ‰å’ŒpatternåŒ¹é…çš„keyã€‚del key1, key2, ...ï¼šåˆ é™¤æŒ‡å®škeyã€‚exists keyï¼škeyæ˜¯å¦å­˜åœ¨ã€‚rename key newkeyï¼šä¸ºå½“å‰çš„keyé‡å‘½åã€‚expire keyï¼šä¸ºkeyè®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå•ä½ï¼šç§’ã€‚ttl keyï¼šèŽ·å–keyæ‰€å‰©çš„æ—¶é—´ï¼Œå¦‚æžœæ²¡æœ‰è®¾ç½®è¶…æ—¶ï¼Œè¿”å›ž-1ï¼Œkeyä¸å­˜åœ¨è¿”å›ž-2ã€‚type keyï¼šä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›žkeyçš„ç±»åž‹ã€‚keyä¸å­˜åœ¨è¿”å›žnoneã€‚Jedisjedisæ˜¯Javaæ“ä½œredisçš„ä¸€å¥—è§„èŒƒã€‚ä½¿ç”¨jediséœ€è¦æœ‰ä¸¤ä¸ªåŒ…ã€‚commons-pool2-2.3.jarå’Œjedis-2.7.0.jarã€‚å…¥é—¨ä½¿ç”¨12345678910public class Demo1 &#123; public static void main(String[] args) &#123; Jedis jedis = new Jedis("59.110.143.226", 6379); jedis.set("name", "zhangsan"); String string = jedis.get("name"); System.out.println(string); jedis.close(); &#125;&#125;å·¥å…·ç±»è¿žæŽ¥1234maxTotal=20maxWaitMillis=7000host=59.110.143.226port=637912345678910111213141516171819202122232425262728public class JedisPoolUtils &#123; private static JedisPoolConfig jc = null; private static int maxTotal = 0; private static long maxWaitMillis = 0; private static String host = null; private static int port=0; private static JedisPool pool=null; static&#123; jc=new JedisPoolConfig(); //èŽ·å–propertiesä¸­çš„é…ç½®æ•°æ® ResourceBundle re = ResourceBundle.getBundle("jedis"); maxTotal=Integer.parseInt(re.getString("maxTotal")); maxWaitMillis=Long.parseLong(re.getString("maxWaitMillis")); jc.setMaxTotal(maxTotal); jc.setMaxWaitMillis(maxWaitMillis); host = re.getString("host"); port = Integer.parseInt(re.getString("port")); //åˆ›å»ºJedisæ±  pool=new JedisPool(jc, host, port); &#125; public static Jedis getJedis()&#123; return pool.getResource(); &#125;&#125;123456789public class TestUtils &#123; public static void main(String[] args) &#123; Jedis jedis=JedisPoolUtils.getJedis(); jedis.set("username2", "xiaowang"); String string = jedis.get("username2"); System.out.println(string); jedis.close(); &#125;&#125;å¤šæ•°æ®åº“redisçš„ä¸€ä¸ªå®žä¾‹å¯ä»¥æœ‰å¤šä¸ªæ•°æ®åº“ï¼Œå°±åƒä¸€ä¸ªmysqlå¯ä»¥æœ‰å¤šä¸ªæ•°æ®åº“ä¸€æ ·ã€‚ä¸€ä¸ªrediså®žä¾‹æœ€å¤šå¯ä»¥æä¾›16ä¸ªæ•°æ®åº“ï¼Œä¸‹æ ‡ä»Ž0åˆ°15ï¼Œé»˜è®¤æ˜¯0å·æ•°æ®åº“ï¼Œè¿žæŽ¥å…¶ä»–æ•°æ®åº“ä½¿ç”¨select numã€‚ç§»åŠ¨keyåˆ°æŒ‡å®šæ•°æ®åº“æ¶ˆæ¯è®¢é˜…ä¸Žå‘å¸ƒè®¢é˜…å°±æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯åœ¨æŸä¸ªé¢‘é“é‡Œå‘æ¶ˆæ¯ï¼Œå…¶å®ƒè®¢é˜…åˆ°æ­¤é¢‘é“çš„å®¢æˆ·ç«¯æŽ¥æ”¶æ¶ˆæ¯ã€‚è®¢é˜…ï¼šå‘å¸ƒæ¶ˆæ¯ï¼šæ‰¹é‡è®¢é˜…ï¼šå‘å¸ƒæ¶ˆæ¯ï¼šredisæŒä¹…åŒ–RDBæ¯éš”æŒ‡å®šæ—¶é—´è‡ªåŠ¨æŠŠå†…å­˜ä¸­æ•°æ®å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸‹æ¬¡å¯åŠ¨æ—¶åŠ è½½æ–‡ä»¶ï¼Œè¿™æ ·å†…å­˜ä¸­å°±æœ‰ä¸Šæ¬¡çš„æ•°æ®ã€‚redisé»˜è®¤çš„æŒä¹…åŒ–æ–¹å¼ã€‚é…ç½®åœ¨redis.confçš„140å¤šè¡Œæœ‰å¦‚ä¸‹é…ç½®æ˜¯RDBé…ç½®ã€‚save 900 1ï¼šæ¯900ç§’è‡³å°‘æœ‰1ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼Œåˆ™å¤‡ä»½å†…å­˜å¿«ç…§ã€‚save 300 10ï¼šæ¯300ç§’è‡³å°‘æœ‰10ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼Œåˆ™å¤‡ä»½å†…å­˜å¿«ç…§ã€‚save 60 10000ï¼šæ¯60ç§’è‡³å°‘æœ‰10000ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼Œåˆ™å¤‡ä»½å†…å­˜å¿«ç…§ã€‚ä½ç½®ï¼šAOFæŠŠå¯¹redisçš„æ“ä½œå­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¸‹æ¬¡å¼€æœºæ—¶æŒ‰ç…§æ–‡ä»¶çš„è®°å½•å†æ¬¡å°†æ•°æ®å­˜åœ¨å†…å­˜ä¸­ã€‚é…ç½®appendonly noæ”¹ä¸ºappendonly yesã€‚appendfsync alwaysï¼šæ¯æ¬¡æœ‰æ•°æ®ä¿®æ”¹æ—¶ï¼Œéƒ½ä¼šå†™å…¥AOFæ–‡ä»¶appendfsync everysecï¼šæ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼Œå†™å…¥AOFæ–‡ä»¶appendfsynv noï¼šä»Žä¸åŒæ­¥ã€‚æ‰‹åŠ¨é‡å†™aofæ–‡ä»¶å‘½ä»¤ï¼šbgrewriteaofã€‚å¯åŠ¨å¤šä¸ªredisæ‹·è´å®‰è£…ç›®å½•ä¸‹çš„redisæ–‡ä»¶å¤¹ä¿®æ”¹redis.confæ–‡ä»¶çš„ç«¯å£å·å¯åŠ¨redisæ—¶æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œä¿è¯ç«¯å£å·ä¸åŒå…³é—­æ—¶æŒ‡å®šç«¯å£å·ï¼Œå¦‚ï¼š./bin/redis-cli -p ç«¯å£å· shutdown]]></content>
      <categories>
        <category>redis</category>
      </categories>
      <tags>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[05-å†…å­˜ç®¡ç†]]></title>
    <url>%2F2019%2F05-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%2F</url>
    <content type="text"><![CDATA[å­˜å‚¨å™¨çš„å±‚æ¬¡æˆ‘ä»¬éƒ½çŸ¥é“å­˜å‚¨å™¨çš„å®¹é‡å’Œé€Ÿåº¦æ˜¯é™åˆ¶è®¡ç®—æœºå‘å±•çš„ä¸€å¤§åŽŸå› ï¼Œäººä»¬å¯¹å­˜å‚¨å™¨çš„è¦æ±‚éœ€è¦æ—¢å¿«åˆå¤§ï¼Œä½†æ˜¯è¿™æ ·å¸¦æ¥çš„ç»“æžœå°±æ˜¯å­˜å‚¨å™¨çš„é€ ä»·éžå¸¸æ˜‚è´µï¼Œæ‰€ä»¥ä¸å¯èƒ½åœ¨è®¡ç®—æœºä¸­å…¨éƒ¨é…ç½®æ—¢å¿«åˆå¤§çš„å­˜å‚¨å™¨ã€‚æ‰€ä»¥çŽ°ä»£çš„è®¡ç®—æœºç³»ç»Ÿä¸­éƒ½é…ç½®äº†å¤šå±‚ç»“æž„çš„å­˜å‚¨å™¨ç³»ç»Ÿæ¥å¹³è¡¡é€Ÿåº¦å·®å¼‚é—®é¢˜ã€‚å­˜å‚¨å™¨ä¸€èˆ¬è¢«åˆ†æˆå…­å±‚ï¼Œä¸è¿‡åœ¨åªæœ‰å‰å››å±‚å±žäºŽå†…å­˜ï¼Œæ‰€ä»¥æ­¤ç¯‡åªä»‹ç»å‰å››å±‚ï¼šä¸»å­˜å‚¨å™¨ç”¨äºŽä¿å­˜è¿›ç¨‹è¿è¡Œæ—¶çš„ç¨‹åºå’Œæ•°æ®ã€‚å¯¹äºŽå¾®æœºç³»ç»Ÿå’Œå¤§ä¸­åž‹æœºï¼Œå®¹é‡ä¸ºæ•°åMBåˆ°æ•°GBï¼›å¯¹äºŽåµŒå…¥å¼ç³»ç»Ÿï¼Œå®¹é‡ä¸ºæ•°åKBåˆ°æ•°MBã€‚CPUä»Žä¸»å­˜è¯»å–æŒ‡ä»¤å’Œæ•°æ®ã€‚CPUä¸Žå¤–è®¾äº¤æ¢ä¿¡æ¯è¦ä¾æ‰˜ä¸»å­˜ã€‚ä¸ºç¼“è§£CPUæ‰§è¡ŒæŒ‡ä»¤é€Ÿåº¦å’Œä¸»å­˜è®¿é—®é€Ÿåº¦çš„çŸ›ç›¾ï¼Œå¼•å…¥å¯„å­˜å™¨å’Œé«˜é€Ÿç¼“å†²ã€‚å¯„å­˜å™¨è®¿é—®é€Ÿåº¦åšå¿«ï¼Œå®Œå…¨ä¸ŽCPUåè°ƒå·¥ä½œï¼Œä»·æ ¼ååˆ†æ˜‚è´µï¼Œå®¹é‡ä¸å¯èƒ½å¾ˆå¤§ã€‚é•¿åº¦ä¸€èˆ¬ä»¥å­—ä¸ºå•ä½ã€‚å¯¹äºŽå¾®æœºç³»ç»Ÿå’Œå¤§ä¸­åž‹æœºï¼Œå¯èƒ½æœ‰å‡ åä¸ªç”šè‡³ä¸Šç™¾ä¸ªï¼›å¯¹äºŽåµŒå…¥å¼ç³»ç»Ÿï¼Œä»…æœ‰å‡ ä¸ªåˆ°å‡ åä¸ªã€‚é«˜é€Ÿç¼“å†²å®¹é‡å¤§äºŽæˆ–è¿œå¤§äºŽå¯„å­˜å™¨ï¼Œæ¯”å†…å­˜å°ä¸¤åˆ°ä¸‰ä¸ªæ•°é‡çº§å·¦å³ï¼Œä»Žå‡ åKBåˆ°å‡ MBã€‚è®¿é—®é€Ÿåº¦å¿«äºŽä¸»å­˜ã€‚å°†ä¸»å­˜ä¸­ç»å¸¸è®¿é—®çš„ä¿¡æ¯å­˜æ”¾åœ¨é«˜é€Ÿç¼“å†²ï¼Œå‡å°‘è®¿é—®ä¸»å­˜æ¬¡æ•°ã€‚ç£ç›˜ç¼“å†²å°†ä¸€éƒ¨åˆ†é¢‘ç¹ä½¿ç”¨çš„ç£ç›˜æ•°æ®å’Œä¿¡æ¯ï¼Œæš‚æ—¶å­˜æ”¾åœ¨ç£ç›˜ç¼“å†²ä¸­ï¼Œå‡å°‘è®¿é—®ç£ç›˜æ¬¡æ•°ã€‚ä¸æ˜¯å®žé™…å­˜åœ¨çš„å­˜å‚¨ä»‹è´¨ï¼Œåˆ©ç”¨ä¸»å­˜çš„å­˜å‚¨ç©ºé—´ï¼Œæš‚å­˜ä»Žç£ç›˜è¯»å‡ºæˆ–å†™å…¥çš„ä¿¡æ¯ã€‚æ€»ç»“ä¸€ä¸‹ï¼šç£ç›˜ç¼“å†²æ˜¯ä¸ºäº†è§£å†³å†…å­˜å’Œå¤–å­˜çš„é€Ÿåº¦å·®å¼‚è€Œåœ¨å†…å­˜ä¸­å¼€è¾Ÿçš„ä¸€å—ç”¨äºŽæš‚å­˜ç£ç›˜æ•°æ®çš„å­˜å‚¨ä»‹è´¨ã€‚ä¸»å­˜å‚¨å™¨æ˜¯ä¿å­˜è¿›ç¨‹è¿è¡Œæ—¶çš„ç¨‹åºå’Œæ•°æ®çš„ã€‚å¯„å­˜å™¨æ˜¯å’ŒCPUé€Ÿåº¦åŒ¹é…çš„å­˜å‚¨å™¨ï¼Œç›´æŽ¥ç»™CPUæä¾›æ•°æ®ã€‚è™½ç„¶CPUæ˜¯ç›´æŽ¥ä»Žå¯„å­˜å™¨åŽ»å–æŒ‡ä»¤å’Œæ•°æ®ï¼Œä½†æ˜¯å¯„å­˜å™¨çš„æ•°æ®æ¥æºæœ€ç»ˆè¿˜æ˜¯ä¸»å­˜å‚¨å™¨ï¼Œæ‰€ä»¥ä¸ºäº†å‡å°‘è®¿é—®CPUçš„æ¬¡æ•°ï¼Œäº§ç”Ÿäº†é«˜é€Ÿç¼“å†²æ¥ç¼“å’Œå¯„å­˜å™¨å’Œä¸»å­˜å‚¨å™¨çš„çŸ›ç›¾ã€‚è‡³äºŽä¸ºä»€ä¹ˆèƒ½ç¼“å’Œå‘¢ï¼Ÿè¿™æ˜¯ç”±äºŽç¨‹åºå±€éƒ¨æ€§åŽŸç†ã€‚ç¨‹åºçš„è£…å…¥å’Œé“¾æŽ¥ç”¨æˆ·ç¨‹åºè¦åœ¨ç³»ç»Ÿä¸­è¿è¡Œï¼Œå¿…é¡»å°†å®ƒè£…å…¥å†…å­˜ï¼Œå…¶ä¸­æœ‰ä¸‰ä¸ªè¿‡ç¨‹ã€‚ç¼–è¯‘ï¼šç”±ç¼–è¯‘ç¨‹åºï¼ˆComplierï¼‰å°†ç”¨æˆ·æºä»£ç ç¼–è¯‘æˆè‹¥å¹²ä¸ªç›®æ ‡æ¨¡å—ï¼ˆObject Moduleï¼‰ï¼›é“¾æŽ¥ï¼šç”±é“¾æŽ¥ç¨‹åºï¼ˆLinkerï¼‰å°†ç¼–è¯‘åŽå½¢æˆçš„ç›®æ ‡æ¨¡å—ä»¥åŠå®ƒä»¬æ‰€éœ€è¦çš„åº“å‡½æ•°ï¼Œé“¾æŽ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªè£…å…¥æ¨¡å—ï¼ˆLoad Moduleï¼‰ï¼›è£…å…¥ï¼šç”±è£…å…¥ç¨‹åº(Loader)å°†è£…å…¥æ¨¡å—è£…å…¥å†…å­˜ã€‚é“¾æŽ¥é“¾æŽ¥ç¨‹åºçš„åŠŸèƒ½æ˜¯å°†ç»è¿‡ç¼–è¯‘æˆ–æ±‡ç¼–åŽå¾—åˆ°çš„ä¸€ç»„ç›®æ ‡æ¨¡å—ä»¥åŠå®ƒä»¬æ‰€éœ€è¦çš„åº“å‡½æ•°ï¼Œè£…é…æˆä¸€ä¸ªå®Œæ•´çš„è£…å…¥æ¨¡å—ã€‚é™æ€é“¾æŽ¥æ–¹å¼ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶æ—¶è¿›è¡Œé“¾æŽ¥ã€‚ä¸»è¦æœ‰ä¸¤æ­¥ã€‚ä¿®æ”¹ç›¸å¯¹åœ°å€ã€‚å˜æ¢å¤–éƒ¨è°ƒç”¨ç¬¦å·ã€‚è£…å…¥æ—¶åŠ¨æ€é“¾æŽ¥ç›®æ ‡æ¨¡å—æ˜¯åœ¨è£…å…¥å†…å­˜æ—¶ï¼Œè¾¹è£…å…¥è¾¹é“¾æŽ¥çš„ã€‚è£…å…¥æ—¶åŠ¨æ€é“¾æŽ¥æ–¹å¼æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼šä¾¿äºŽä¿®æ”¹å’Œæ›´æ–°ã€‚ä¾¿äºŽå®žçŽ°å¯¹ç›®æ ‡æ¨¡å—çš„å…±äº«ã€‚è¿è¡Œæ—¶åŠ¨æ€é“¾æŽ¥å°†å¯¹æŸäº›æ¨¡å—çš„é“¾æŽ¥æŽ¨è¿Ÿåˆ°æ‰§è¡Œæ—¶æ‰æ‰§è¡Œï¼Œå³åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå½“å‘çŽ°ä¸€ä¸ªè¢«è°ƒç”¨æ¨¡å—å°šæœªè£…å…¥å†…å­˜æ—¶ï¼Œç«‹å³ç”±OSåŽ»æ‰¾åˆ°è¯¥æ¨¡å—å¹¶å°†ä¹‹è£…å…¥å†…å­˜ï¼Œ æŠŠå®ƒé“¾æŽ¥åˆ°è°ƒç”¨è€…æ¨¡å—ä¸Šã€‚å‡¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æœªè¢«ç”¨åˆ°çš„ç›®æ ‡æ¨¡å—ï¼Œéƒ½ä¸ä¼šè¢«è°ƒå…¥å†…å­˜å’Œè¢«é“¾æŽ¥åˆ°è£…å…¥æ¨¡å—ä¸Šï¼Œè¿™æ ·ä¸ä»…å¯åŠ å¿«ç¨‹åºçš„è£…å…¥è¿‡ç¨‹ï¼Œè€Œä¸”å¯èŠ‚çœå¤§é‡çš„å†…å­˜ç©ºé—´ã€‚è£…å…¥è£…å…¥æ˜¯å°†ä¸€ä¸ªå…·æœ‰æ‰§è¡Œèµ„æ ¼çš„æ¨¡å—åŠ è½½è¿›å†…å­˜ã€‚ç»å¯¹è£…å…¥æ–¹å¼åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­æŒ‡å®šå†…å­˜åœ°å€ï¼Œè£…å…¥æ—¶ç›´æŽ¥å®šä½åœ¨ä¸Šè¿°ï¼ˆå³æ–‡ä»¶ä¸­è®°å½•çš„åœ°å€ï¼‰å†…å­˜åœ°å€ã€‚é€»è¾‘åœ°å€å’Œç‰©ç†åœ°å€å®Œå…¨ç›¸åŒã€‚å¯é‡å®šä½è£…å…¥æ–¹å¼ç¼–è¯‘ç¨‹åºæ‰€ç”Ÿæˆçš„ç›®æ ‡æ¨¡å—ä¸­é‡‡ç”¨é€»è¾‘åœ°å€ï¼Œæ ¹æ®å½“å‰å†…å­˜æƒ…å†µï¼Œå°†è£…å…¥æ¨¡å—è£…å…¥åˆ°é€‚å½“ä½ç½®ã€‚åœ°å€æ˜ å°„æ˜¯åœ¨è£…å…¥æ¨¡å—è£…å…¥å†…å­˜æ—¶ä¸€æ¬¡æ€§è¿›è¡Œçš„ï¼Œå³æ˜¯é™æ€é‡å®šä½ã€‚åŠ¨æ€è¿è¡Œæ—¶è£…å…¥æ–¹å¼é™æ€é‡å®šä½æ—¶ç¨‹åºè£…å…¥å†…å­˜åŽä¸èƒ½ç§»åŠ¨ï¼Œè€Œä¸”é€šå¸¸éœ€è¦å ç”¨è¿žç»­çš„å†…å­˜ç©ºé—´ã€‚æ‰€ä»¥ä¸Žå…¶å¯¹åº”çš„åŠ¨æ€é‡å®šä½æ˜¯å°†åœ°å€æ˜ å°„å·¥ä½œæŽ¨è¿Ÿåˆ°ç¨‹åºçœŸæ­£æ‰§è¡Œæ—¶æ‰è¿›è¡Œã€‚çŽ°ä»£è®¡ç®—æœºè¿è¡Œè¿‡ç¨‹é¢„å¤„ç†æŠŠå­˜å‚¨åœ¨ä¸åŒæ–‡ä»¶ä¸­çš„æºç¨‹åºèšåˆåœ¨ä¸€èµ·ã€‚æŠŠè¢«ç§°ä¸ºå®çš„ç¼©å†™è¯­å¥è½¬æ¢ä¸ºåŽŸå§‹è¯­å¥ã€‚ç¼–è¯‘ï¼šå°†é«˜çº§è¯­è¨€ç¿»è¯‘æˆæ±‡ç¼–è¯­è¨€æˆ–æœºå™¨è¯­è¨€ã€‚é“¾æŽ¥å°†å¤šä¸ªå¯é‡å®šä½çš„æœºå™¨ä»£ç æ–‡ä»¶ï¼ˆåŒ…æ‹¬åº“æ–‡ä»¶ï¼‰è¿žæŽ¥åˆ°ä¸€èµ·ã€‚è§£å†³å¤–éƒ¨å†…å­˜åœ°å€ï¼ˆä¸€ä¸ªæ–‡ä»¶ä¸­çš„ä»£ç ä¼šå¼•ç”¨å…¶ä»–æ–‡ä»¶ä¸­çš„æ•°æ®å¯¹è±¡æˆ–è¿‡ç¨‹ï¼Œè¿™äº›æ•°æ®å¯¹è±¡æˆ–è¿‡ç¨‹çš„åœ°å€å¯¹äºŽæ­¤æ–‡ä»¶æ¥è¯´å°±æ˜¯å¤–éƒ¨åœ°å€ï¼‰é—®é¢˜ã€‚è£…å…¥ç¡®å®šç¨‹åºåœ¨å†…ä¸­çš„ç»å¯¹åœ°å€ï¼ˆå³ä¿®æ”¹ç¨‹åºèµ·å§‹åœ°å€ï¼‰ï¼Œå°†ä¿®æ”¹åŽçš„æŒ‡ä»¤å’Œæ•°æ®æ”¾åˆ°å†…å­˜ä¸­é€‚å½“çš„ä½ç½®ã€‚è¿žç»­åˆ†é…å­˜å‚¨ç®¡ç†æ–¹å¼è¿žç»­åˆ†é…æ˜¯æŒ‡ä¸ºä¸€ä¸ªç”¨æˆ·ç¨‹åºåˆ†é…ç©ºé—´çš„æ—¶å€™ï¼Œå°†æ‰€æœ‰ç¨‹åºè£…å…¥åˆ°ä¸€æ®µè¿žç»­çš„ç‰©ç†å†…å­˜ä¸­ã€‚åœ¨æ—©æœŸï¼ˆ20ä¸–çºª60-80å¹´ä»£ï¼‰çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œè¿™ç§åˆ†é…å†…å­˜çš„æ–¹å¼æ›¾ç»è¢«å¹¿æ³›çš„ä½¿ç”¨ã€‚å•ä¸€è¿žç»­åˆ†é…è¿™æ˜¯æœ€ç®€å•çš„ä¸€ç§å­˜å‚¨ç®¡ç†æ–¹å¼ï¼Œä½†åªèƒ½ç”¨äºŽå•ç”¨æˆ·ã€å•ä»»åŠ¡çš„æ“ä½œç³»ç»Ÿä¸­ã€‚å†…å­˜åˆ†ä¸ºä»¥ä¸‹ä¸¤ä¸ªåˆ†åŒºï¼šç³»ç»ŸåŒºå’Œç”¨æˆ·åŒºã€‚æ“ä½œç³»ç»Ÿä½¿ç”¨ç³»ç»ŸåŒºï¼›åº”ç”¨ç¨‹åºè£…å…¥åˆ°ç”¨æˆ·åŒºï¼Œå¯ä½¿ç”¨ç”¨æˆ·åŒºå…¨éƒ¨ç©ºé—´ã€‚å›ºå®šåˆ†åŒºåˆ†é…å›ºå®šåˆ†åŒºå¼åˆ†é…ï¼Œæ˜¯æœ€æ—©ä½¿ç”¨çš„ä¸€ç§å¯è¿è¡Œå¤šé“ç¨‹åºçš„å­˜å‚¨ç®¡ç†æ–¹å¼ã€‚å®ƒå°†å†…å­˜ç©ºé—´åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå›ºå®šå¤§å°çš„åŒºåŸŸï¼Œæ¯ä¸ªåˆ†åŒºå¤§å°å¯ç›¸åŒï¼Œä¹Ÿå¯ä¸åŒã€‚OSå ä¸€åŒºï¼Œå…¶ä½™æ¯ä¸ªåˆ†åŒºä¸­å¯ä»¥è£…å…¥ä¸€é“ä½œä¸šã€‚ä¸ºäº†ä¾¿äºŽå†…å­˜åˆ†é…ï¼Œç³»ç»Ÿéœ€å»ºç«‹ä¸€å¼ åˆ†åŒºä½¿ç”¨è¡¨ã€‚å½“æœ‰ä¸€ç”¨æˆ·ç¨‹åºè¦è£…å…¥æ—¶ï¼Œä»Žè¡¨ä¸­æ‰¾å‡ºä¸€ä¸ªèƒ½æ»¡è¶³è¦æ±‚çš„ã€å°šæœªåˆ†é…çš„åˆ†åŒºåˆ†é…ç»™è¯¥ç¨‹åºï¼Œç„¶åŽä¿®æ”¹åˆ†åŒºä½¿ç”¨è¡¨ã€‚åŠ¨æ€åˆ†åŒºåˆ†é…æ•°æ®ç»“æž„ç©ºé—²åˆ†åŒºè¡¨æ¯ä¸ªç©ºé—²åˆ†åŒºå ç”¨ä¸€ä¸ªè¡¨é¡¹ã€‚åˆ†åŒºè¡¨çš„è¡¨é¡¹ä¸­åŒ…å«åˆ†åŒºå·ã€åˆ†åŒºå§‹å€åŠåˆ†åŒºå¤§å°ç­‰è¡¨ç›®ã€‚è¡¨é•¿ä¸æ˜“ç¡®å®šã€‚å ç”¨é¢å¤–å†…å­˜ã€‚ç©ºé—²åˆ†åŒºé“¾è¡¨åˆ©ç”¨å„ç©ºé—²åˆ†åŒºè‡ªèº«çš„å•å…ƒç»„æˆåŒå‘é“¾è¡¨ã€‚æ“ä½œé€Ÿåº¦è¾ƒæ…¢ã€‚åˆ†åŒºåˆ†é…åˆ†åŒºå›žæ”¶å¦‚æžœå›žæ”¶åŒºçš„å‰åŽæœ‰ç©ºé—²åŒºï¼Œå¯åˆ†ä¸ºå›¾ç¤ºä¸‰ç§æƒ…å†µã€‚å›žæ”¶æ—¶å°†ç©ºé—²åŒºå’Œå›žæ”¶åŒºåˆå¹¶ã€‚å¦‚æžœå›žæ”¶åŒºçš„å‰åŽæ— ç©ºé—²åŒºï¼Œæ–°å»ºä¸€ä¸ªè¡¨é¡¹ï¼Œå¡«å†™ä¿¡æ¯æ’å…¥ã€‚åˆ†åŒºæ£€ç´¢ç®—æ³•é¡ºåºæ£€ç´¢ç®—æ³•é¦–æ¬¡é€‚åº”ç®—æ³•ï¼šæŒ‰å„ç©ºé—²åˆ†åŒºé¦–å€çš„å‡åºçš„æ–¹æ³•ç»„ç»‡ï¼Œåˆ†é…æ—¶ï¼ŒæŒ‰ç©ºé—²åˆ†åŒºè¡¨ï¼ˆæˆ–ç©ºé—²åˆ†åŒºé“¾ï¼‰çš„å…ˆåŽæ¬¡åºï¼Œä»Žå¤´æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„ç¬¬ä¸€ä¸ªåˆ†åŒºã€‚å¾ªçŽ¯é¦–æ¬¡é€‚åº”ç®—æ³•ï¼šåˆ†é…ç©ºé—²ç©ºé—´æ—¶ï¼Œä¸æ˜¯ä»Žé“¾é¦–ï¼ˆæˆ–è¡¨å¤´ï¼‰å¼€å§‹æŸ¥æ‰¾ï¼Œè€Œæ˜¯ä»Žä¸Šæ¬¡æ‰¾åˆ°çš„ç©ºé—²åˆ†åŒºçš„ä¸‹ä¸€ä¸ªç©ºé—²åˆ†åŒºå¼€å§‹æŸ¥æ‰¾ã€‚æœ€ä½³é€‚åº”ç®—æ³•ï¼šæŒ‰ç©ºé—²åŒºå¤§å°çš„å‡åºæ–¹æ³•ç»„ç»‡ï¼Œåˆ†é…æ—¶ï¼ŒæŒ‰ç©ºé—²åˆ†åŒºè¡¨ï¼ˆæˆ–ç©ºé—²åˆ†åŒºé“¾ï¼‰çš„å…ˆåŽæ¬¡åºï¼Œä»Žå¤´æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„ç¬¬ä¸€ä¸ªåˆ†åŒºã€‚å°±è¯´æ˜Žå®ƒæ˜¯æœ€é€‚åˆçš„ï¼ˆå³æœ€ä½³çš„ï¼‰ã€‚æœ€åé€‚åº”ç®—æ³•ï¼šæŒ‰ç©ºé—²åŒºå¤§å°çš„é™åºæ–¹æ³•ç»„ç»‡ï¼Œåˆ†é…æ—¶æ€»æ˜¯å–ç©ºé—²åˆ†åŒºè¡¨ï¼ˆæˆ–ç©ºé—²åˆ†åŒºé“¾ï¼‰ä¸­çš„ç¬¬ä¸€é¡¹ï¼Œè‹¥å¤§å°ä¸èƒ½æ»¡è¶³ç”³è¯·è€…çš„è¦æ±‚ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿä¸­æ— æ»¡è¶³è¦æ±‚çš„ç©ºé—²åŒºï¼Œåˆ†é…å¤±è´¥ï¼›å¦åˆ™åˆ†é…ã€‚ç´¢å¼•æ£€ç´¢ç®—æ³•å¿«é€Ÿé€‚åº”ç®—æ³•ï¼šå°†ç©ºé—²åˆ†åŒºæ ¹æ®å…¶å®¹é‡å¤§å°è¿›è¡Œåˆ†ç±»ï¼Œå¯¹äºŽæ¯ä¸€ç±»å…·æœ‰ç›¸åŒå®¹é‡çš„æ‰€æœ‰ç©ºé—²åˆ†åŒºï¼Œå•ç‹¬è®¾ç«‹ä¸€ä¸ªç©ºé—²åˆ†åŒºé“¾è¡¨ï¼ŒåŒæ—¶åœ¨å†…å­˜ä¸­è®¾ç«‹ä¸€å¼ ç®¡ç†ç´¢å¼•è¡¨ï¼Œè¯¥è¡¨çš„æ¯ä¸€ä¸ªè¡¨é¡¹å¯¹åº”ä¸€ç§ç©ºé—²åˆ†åŒºç±»åž‹ï¼Œå¹¶è®°å½•å…¶è¡¨å¤´æŒ‡é’ˆã€‚ç©ºé—²åˆ†åŒºçš„åˆ†ç±»æ˜¯æ ¹æ®è¿›ç¨‹å¸¸ç”¨çš„ç©ºé—´å¤§å°è¿›è¡Œåˆ’åˆ†ï¼Œå¯¹äºŽå…¶ä»–å¤§å°çš„åˆ†åŒºï¼Œå¯ä»¥æ”¾åœ¨ä¸€ä¸ªç‰¹æ®Šçš„ç©ºé—²åŒºé“¾è¡¨ä¸­ã€‚ä¼™ä¼´ç³»ç»Ÿï¼šåˆ†åŒºå¤§å°å‡ä¸º2çš„Kæ¬¡å¹‚ã€‚å‡è®¾ç³»ç»Ÿå¯åˆ©ç”¨ç©ºé—´å®¹é‡ä¸º$2^m$ä¸ªå­—ï¼Œç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸æ–­åˆ’åˆ†ï¼Œå°†ç©ºé—²åˆ†åŒºæ ¹æ®å¤§å°åˆ†ç±»ã€‚ä¸ºé•¿åº¦ä¸ºnçš„è¿›ç¨‹åˆ†é…åˆ†åŒºæ—¶ï¼Œé¦–å…ˆè®¡ç®—$i$å€¼ä½¿å¾—$2^{i-1}â‰¦nâ‰¦2^i$ã€‚å…ˆæ‰¾å¤§å°ä¸º$2^i$çš„åˆ†åŒºåˆ†é…ï¼Œå¦åˆ™æ‰¾å¤§å°ä¸º$2^{i+1}$çš„åˆ†åŒºåˆ†é…ï¼ŒæŠŠ$2^{i+1}$åˆ†åŒºåˆ†æˆä¸¤ä¸ª$2^i$åˆ†åŒºï¼ˆäº’ç§°ä¼™ä¼´ï¼‰ï¼Œä¸€ä¸ªåˆ†é…ï¼Œå¦ä¸€ä¸ªåŠ å…¥$2^iâ€‹$çš„ç©ºé—²åˆ†åŒºé“¾è¡¨ã€‚åˆ†é…å¯èƒ½ç»è¿‡å¤šæ¬¡åˆ†å‰²ï¼Œå›žæ”¶å¯èƒ½è¿›è¡Œå¤šæ¬¡åˆå¹¶ã€‚å“ˆå¸Œç®—æ³•ï¼šæ ¹æ®ç©ºé—²åˆ†åŒºåœ¨å¯åˆ©ç”¨ç©ºé—²åŒºè¡¨ä¸­çš„åˆ†å¸ƒè§„å¾‹ï¼Œå»ºç«‹å“ˆå¸Œå‡½æ•°ï¼Œæž„é€ ä¸€å¼ ä»¥ç©ºé—²åˆ†åŒºå¤§å°ä¸ºå…³é”®å­—çš„å“ˆå¸Œè¡¨ï¼Œè¯¥è¡¨çš„æ¯ä¸€ä¸ªè¡¨é¡¹è®°å½•äº†ä¸€ä¸ªå¯¹åº”çš„ç©ºé—²åˆ†åŒºé“¾è¡¨è¡¨å¤´æŒ‡é’ˆã€‚å½“è¿›è¡Œç©ºé—²åˆ†åŒºåˆ†é…æ—¶ï¼Œæ ¹æ®æ‰€éœ€ç©ºé—²åˆ†åŒºå¤§å°ï¼Œé€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—ï¼Œå³å¾—åˆ°åœ¨å“ˆå¸Œè¡¨ä¸­çš„ä½ç½®ï¼Œä»Žä¸­å¾—åˆ°ç›¸åº”çš„ç©ºé—²åˆ†åŒºé“¾è¡¨ï¼Œå®žçŽ°æœ€è¿‘åˆ†é…ç­–ç•¥ã€‚ç´§å‡‘å¯å˜å¼åˆ†åŒºä¹Ÿæœ‰é›¶å¤´é—®é¢˜ã€‚åœ¨ç³»ç»Ÿä¸æ–­åœ°åˆ†é…å’Œå›žæ”¶ä¸­ï¼Œå¿…å®šä¼šå‡ºçŽ°ä¸€äº›ä¸è¿žç»­çš„å°çš„ç©ºé—²åŒºï¼Œç§°ä¸ºå¤–é›¶å¤´ã€‚è™½ç„¶å¯èƒ½æ‰€æœ‰é›¶å¤´çš„æ€»å’Œè¶…è¿‡æŸä¸€ä¸ªä½œä¸šçš„è¦æ±‚ï¼Œä½†æ˜¯ç”±äºŽä¸è¿žç»­è€Œæ— æ³•åˆ†é…ã€‚è§£å†³é›¶å¤´çš„æ–¹æ³•æ˜¯æ‹¼æŽ¥ï¼ˆæˆ–ç§°ç´§å‡‘ï¼‰ï¼Œå³å‘ä¸€ä¸ªæ–¹å‘ï¼ˆä¾‹å¦‚å‘ä½Žåœ°å€ç«¯ï¼‰ç§»åŠ¨å·²åˆ†é…çš„ä½œä¸šï¼Œä½¿é‚£äº›é›¶æ•£çš„å°ç©ºé—²åŒºåœ¨å¦ä¸€æ–¹å‘è¿žæˆä¸€ç‰‡ã€‚åˆ†åŒºçš„æ‹¼æŽ¥æŠ€æœ¯ï¼Œä¸€æ–¹é¢æ˜¯è¦æ±‚èƒ½å¤Ÿå¯¹ä½œä¸šè¿›è¡Œé‡å®šä½ï¼Œå¦ä¸€æ–¹é¢ç³»ç»Ÿåœ¨æ‹¼æŽ¥æ—¶è¦è€—è´¹è¾ƒå¤šçš„æ—¶é—´ã€‚åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼åŸºæœ¬æ¦‚å¿µé¡µé¢ï¼šå°†ä¸€ä¸ªè¿›ç¨‹çš„é€»è¾‘åœ°å€ç©ºé—´åˆ†æˆè‹¥å¹²ä¸ªå¤§å°ç›¸ç­‰çš„ç‰‡ï¼Œç§°ä¸ºé¡µé¢æˆ–é¡µã€‚ç‰©ç†å—ï¼šæŠŠå†…å­˜ç©ºé—´åˆ†æˆä¸Žé¡µé¢ç›¸åŒå¤§å°çš„è‹¥å¹²ä¸ªå­˜å‚¨å—ï¼Œç§°ä¸ºï¼ˆç‰©ç†ï¼‰å—æˆ–é¡µæ¡†ï¼ˆframeï¼‰ã€‚é¡µé¢ç¢Žç‰‡ï¼šç”±äºŽè¿›ç¨‹çš„æœ€åŽä¸€é¡µç»å¸¸è£…ä¸æ»¡ä¸€å—è€Œå½¢æˆäº†ä¸å¯åˆ©ç”¨çš„ç¢Žç‰‡ï¼Œç§°ä¹‹ä¸ºâ€œé¡µå†…ç¢Žç‰‡â€ã€‚é¡µé¢å¤§å°ï¼šæ¯ä¸€é¡µå¯è¿›è¡Œç¼–å€çš„åœ°å€æ•°ç›®ã€‚é¡µé¢å¤§å°åº”è¯¥æ»¡è¶³2çš„næ­¤å¹‚ã€‚é€»è¾‘åœ°å€ï¼šé¡µè¡¨ï¼šç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹å»ºä¸€å¼ é¡µè¡¨ï¼Œå…¶åœ¨å†…å­˜çš„èµ·å§‹åœ°å€å’Œé•¿åº¦è®°å½•åœ¨è¯¥è¿›ç¨‹çš„PCBä¸­ã€‚é¡µè¡¨é¡¹ï¼šé¡µè¡¨çš„æ¯ä¸€è¡Œã€‚é¡µè¡¨é¡¹é•¿åº¦ï¼šæ¯ä¸ªé¡µè¡¨é¡¹å ç”¨çš„ç¼–å€ä¸ªæ•°ã€‚ä»Žé€»è¾‘åœ°å€é‚£é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é¡µå·å ç”¨äº†20ä½ï¼Œå¯¹åº”çš„å—å·ä¹Ÿè¦å ç”¨20ä½ï¼Œå½“ç„¶å—å·æœ¬èº«å¯èƒ½ä¸æ­¢$2^{20}$ä¸ªã€‚åˆç”±äºŽä¸ºäº†æŽ§åˆ¶å¯¹ç‰©ç†å—çš„è¯»å†™ç­‰æ“ä½œï¼Œä¼šåœ¨é¡µè¡¨é¡¹ä¸­åŠ ä¸ŠæŽ§åˆ¶å­—æ®µã€‚å¦‚æžœå†…å­˜æŒ‰å­—èŠ‚ç¼–å€ï¼Œå³æ¯ä¸ªç¼–å€å¯ä»¥å­˜å‚¨8ä¸ªäºŒè¿›åˆ¶ä½ï¼Œé‚£ä¹ˆé¡µè¡¨é¡¹å ç”¨çš„äºŒè¿›åˆ¶ä½æ€»æ•°å¤§äºŽå†…å­˜çš„å­—é•¿åº¦ã€‚æˆ‘ä»¬éœ€è¦æŠŠä¸€ä¸ªé¡µè¡¨é¡¹æ‹†å¼€å­˜æ”¾åœ¨å¤šä¸ªç¼–å€åŽçš„ç©ºé—´ä¸­ã€‚åœ°å€å˜æ¢$ç‰©ç†åœ°å€=å—å·+å—å†…åœ°å€=F(é€»è¾‘åœ°å€çš„é¡µå·*é¡µè¡¨é¡¹é•¿åº¦+é¡µè¡¨å§‹å€)+ä¸šå†…åœ°å€$ã€‚æ¯æ¬¡è¿›è¡Œåœ°å€å˜æ¢éœ€è¦è®¿é—®ä¸¤æ¬¡å†…å­˜ï¼Œå†…å­˜é€Ÿåº¦è¾ƒæ…¢ï¼Œæ‰€ä»¥å½±å“è®¡ç®—æœºæ•´ä½“æ€§èƒ½ã€‚å…·æœ‰å¿«è¡¨çš„åœ°å€å˜æ¢æ ¹æ®ç¨‹åºå±€éƒ¨æ€§åŽŸç†ï¼ŒæŠŠæœ€è¿‘ä½¿ç”¨çš„é¡µè¡¨é¡¹å­˜æ”¾åœ¨å¿«è¡¨ä¸­ï¼Œä¸‹æ¬¡å†è¿›è¡Œåœ°å€å˜æ¢æ—¶å…ˆåŽ»å¿«è¡¨ä¸­æŸ¥æ‰¾å¯¹åº”é¡¹ï¼Œå¦‚æžœæ²¡æ‰¾åˆ°å†åŽ»å†…å­˜ä¸­æŸ¥æ‰¾ï¼Œç„¶åŽæŠŠæ–°æ‰¾åˆ°çš„é¡µè¡¨é¡¹å­˜æ”¾åœ¨å¿«è¡¨ä¸­ï¼Œå¦‚æžœå¿«è¡¨å·²æ»¡ï¼Œé‡‡ç”¨æŸç§ç®—æ³•æ·˜æ±°ä¸€ä»½ã€‚æœ‰æ•ˆè®¿é—®æ—¶é—´è®¾tæ˜¯è®¿é—®å†…å­˜çš„æ—¶é—´ï¼Œaæ˜¯å¿«è¡¨å‘½ä¸­çŽ‡ï¼ŒÎ»æ˜¯æŸ¥æ‰¾å¿«è¡¨æ‰€éœ€çš„æ—¶é—´ã€‚æ™®é€šåœ°å€å˜æ¢æ—¶é—´ï¼št+tå…·æœ‰å¿«è¡¨çš„åœ°å€å˜æ¢æ—¶é—´ï¼š$ a \ast \lambda + (1-a) \ast (t+\lambda)$ã€‚ä¸¤çº§é¡µè¡¨å¯¹äºŽä¸¤çº§é¡µè¡¨ï¼Œæ˜¯å°†é¡µè¡¨å†è¿›è¡Œåˆ†é¡µï¼Œé¡µé¢çš„å¤§å°ä¸Žå†…å­˜ç‰©ç†å—çš„å¤§å°ç›¸åŒã€‚é€»è¾‘åœ°å€ç»“æž„å¯æè¿°å¦‚ä¸‹ï¼šä¸¤çº§é¡µè¡¨åœ°å€å˜æ¢å¯æŽ¨å¹¿è‡³Nçº§é¡µè¡¨ã€‚åç½®é¡µè¡¨é¡µè¡¨æ˜¯æŒ‰æ¯ä¸ªè¿›ç¨‹çš„é¡µå·æŽ’åºï¼ŒæŒ‡ç¤ºå‡ºç‰©ç†å—å·çš„ä½ç½®ï¼Œåç½®é¡µè¡¨æ˜¯æŒ‰ç‰©ç†å—å·æŽ’åºï¼ŒæŒ‡ç¤ºå‡ºæ¯ä¸ªé¡µéš¶å±žçš„è¿›ç¨‹å’Œé¡µå·ã€‚æ­¤æ–¹æ³•éœ€è¦ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ›å»ºä¸€ä¸ªå¤–éƒ¨é¡µè¡¨ï¼Œå³å°†é¡µè¡¨å»ºç«‹åœ¨å¤–å­˜ä¸­ã€‚è¿›ç¨‹è¿›è¡Œåœ°å€å˜æ¢æ—¶å…ˆä»Žåç½®é¡µè¡¨é‡ŒæŸ¥æ‰¾ï¼Œå¦‚æžœæŸ¥æ‰¾ä¸åˆ°åˆ™åŽ»å¤–æ‘ä¸­æŸ¥æ‰¾ï¼Œå†å°†æŸ¥æ‰¾åˆ°çš„é¡µè¡¨é¡¹è°ƒå…¥å†…å­˜ã€‚åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼ä¹‹å‰çš„åˆ†åŒºç®¡ç†éƒ½æ˜¯ä¸ºäº†æ›´å¥½çš„åˆ©ç”¨å†…å­˜ã€‚ä¸ºäº†æ»¡è¶³ç¨‹åºå‘˜åœ¨ç¼–ç¨‹ä¸Šçš„è¦æ±‚å¼•å…¥äº†åˆ†æ®µç®¡ç†æ–¹å¼ã€‚æ–¹ä¾¿ç¼–ç¨‹ï¼šé€šå¸¸ï¼Œç”¨æˆ·æŠŠè‡ªå·±çš„ä½œä¸šæŒ‰ç…§é€»è¾‘å…³ç³»åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªæ®µï¼Œæ¯ä¸ªæ®µéƒ½æ˜¯ä»Ž0å¼€å§‹ç¼–å€ï¼Œå¹¶æœ‰è‡ªå·±çš„åå­—å’Œé•¿åº¦ã€‚å› æ­¤ï¼Œå¸Œæœ›è¦è®¿é—®çš„é€»è¾‘åœ°å€æ˜¯ç”±æ®µåï¼ˆæ®µå·ï¼‰å’Œæ®µå†…åç§»é‡ï¼ˆæ®µå†…åœ°å€ï¼‰å†³å®šçš„ã€‚ä¾‹å¦‚ï¼Œä¸‹è¿°çš„ä¸¤æ¡æŒ‡ä»¤ä¾¿æ˜¯ä½¿ç”¨æ®µåå’Œæ®µå†…åœ°å€ï¼šå…¶ä¸­ï¼Œå‰ä¸€æ¡æŒ‡ä»¤çš„å«ä¹‰æ˜¯å°†åˆ†æ®µAä¸­Då•å…ƒå†…çš„å€¼è¯»å…¥å¯„å­˜å™¨1ï¼›åŽä¸€æ¡æŒ‡ä»¤çš„å«ä¹‰æ˜¯å°†å¯„å­˜å™¨1çš„å†…å®¹å­˜å…¥Båˆ†æ®µçš„Cå•å…ƒä¸­ã€‚12LOAD 1ï¼Œ[A] |ã€ˆDã€‰ï¼›STORE 1ï¼Œ[B] |ã€ˆCã€‰ï¼›ä¿¡æ¯å…±äº«ï¼šåœ¨å®žçŽ°å¯¹ç¨‹åºå’Œæ•°æ®çš„å…±äº«æ—¶ï¼Œæ˜¯ä»¥ä¿¡æ¯çš„é€»è¾‘å•ä½ä¸ºåŸºç¡€çš„ã€‚æ¯”å¦‚ï¼Œå…±äº«æŸä¸ªä¾‹ç¨‹å’Œå‡½æ•°ã€‚åˆ†é¡µç³»ç»Ÿä¸­çš„â€œé¡µâ€åªæ˜¯å­˜æ”¾ä¿¡æ¯çš„ç‰©ç†å•ä½ï¼ˆå—ï¼‰ï¼Œå¹¶æ— å®Œæ•´çš„æ„ä¹‰ï¼Œä¸ä¾¿äºŽå®žçŽ°å…±äº«ï¼›ç„¶è€Œæ®µå´æ˜¯ä¿¡æ¯çš„é€»è¾‘å•ä½ã€‚ç”±æ­¤å¯çŸ¥ï¼Œä¸ºäº†å®žçŽ°æ®µçš„å…±äº«ï¼Œå¸Œæœ›å­˜å‚¨ç®¡ç†èƒ½ä¸Žç”¨æˆ·ç¨‹åºåˆ†æ®µçš„ç»„ç»‡æ–¹å¼ç›¸é€‚åº”ã€‚ä¿¡æ¯ä¿æŠ¤ï¼šä¿¡æ¯ä¿æŠ¤åŒæ ·æ˜¯å¯¹ä¿¡æ¯çš„é€»è¾‘å•ä½è¿›è¡Œä¿æŠ¤ï¼Œå› æ­¤ï¼Œåˆ†æ®µç®¡ç†æ–¹å¼èƒ½æ›´æœ‰æ•ˆå’Œæ–¹ä¾¿åœ°å®žçŽ°ä¿¡æ¯ä¿æŠ¤åŠŸèƒ½ã€‚åŠ¨æ€å¢žé•¿ï¼šåœ¨å®žé™…åº”ç”¨ä¸­ï¼Œå¾€å¾€æœ‰äº›æ®µï¼Œç‰¹åˆ«æ˜¯æ•°æ®æ®µï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šä¸æ–­åœ°å¢žé•¿ï¼Œè€Œäº‹å…ˆåˆæ— æ³•ç¡®åˆ‡åœ°çŸ¥é“æ•°æ®æ®µä¼šå¢žé•¿åˆ°å¤šå¤§ã€‚å‰è¿°çš„å…¶å®ƒå‡ ç§å­˜å‚¨ç®¡ç†æ–¹å¼ï¼Œéƒ½éš¾ä»¥åº”ä»˜è¿™ç§åŠ¨æ€å¢žé•¿çš„æƒ…å†µï¼Œè€Œåˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼å´èƒ½è¾ƒå¥½åœ°è§£å†³è¿™ä¸€é—®é¢˜ã€‚åŠ¨æ€é“¾æŽ¥ï¼šåŠ¨æ€é“¾æŽ¥æ˜¯æŒ‡åœ¨ä½œä¸šè¿è¡Œä¹‹å‰ï¼Œå¹¶ä¸æŠŠå‡ ä¸ªç›®æ ‡ç¨‹åºæ®µé“¾æŽ¥èµ·æ¥ã€‚è¦è¿è¡Œæ—¶ï¼Œå…ˆå°†ä¸»ç¨‹åºæ‰€å¯¹åº”çš„ç›®æ ‡ç¨‹åºè£…å…¥å†…å­˜å¹¶å¯åŠ¨è¿è¡Œï¼Œå½“è¿è¡Œè¿‡ç¨‹ä¸­åˆéœ€è¦è°ƒç”¨æŸæ®µæ—¶ï¼Œæ‰å°†è¯¥æ®µï¼ˆç›®æ ‡ç¨‹åºï¼‰è°ƒå…¥å†…å­˜å¹¶è¿›è¡Œé“¾æŽ¥ã€‚å¯è§ï¼ŒåŠ¨æ€é“¾æŽ¥ä¹Ÿè¦æ±‚ä»¥æ®µä½œä¸ºç®¡ç†çš„å•ä½ã€‚åˆ†æ®µåœ°å€æ®µè¡¨åœ°å€æ˜ å°„åœ°å€å˜æ¢åˆ†é¡µå’Œåˆ†æ®µçš„ä¸»è¦åŒºåˆ«é¡µæ˜¯ä¿¡æ¯çš„ç‰©ç†å•ä½ï¼Œæ®µåˆ™æ˜¯ä¿¡æ¯çš„é€»è¾‘å•ä½ï¼›é¡µçš„çš„å¤§å°å›ºå®šä¸”ç”±ç³»ç»Ÿå†³å®šï¼Œè€Œæ®µçš„é•¿åº¦ä¸å›ºå®šï¼Œç”±ç”¨æˆ·æ‰€ç¼–å†™çš„ç¨‹åºå†³å®šï¼›åˆ†é¡µçš„åœ°å€ç©ºé—´æ˜¯ä¸€ç»´çš„ï¼Œè€Œåˆ†æ®µçš„åœ°å€ç©ºé—´æ˜¯äºŒç»´çš„ã€‚åˆ†é¡µæ˜¯ç³»ç»Ÿç®¡ç†çš„éœ€è¦ï¼›åˆ†æ®µæ˜¯ä¸ºäº†æ›´å¥½æ»¡è¶³ç”¨æˆ·çš„éœ€è¦ã€‚æ®µé¡µå¼å­˜å‚¨ç®¡ç†æ–¹å¼åˆ†æ®µç»“æž„å…·æœ‰é€»è¾‘ä¸Šæ¸…æ™°çš„ä¼˜ç‚¹ï¼Œä½†å®ƒçš„ä¸€ä¸ªè‡´å‘½å¼±ç‚¹æ˜¯æ¯ä¸ªæ®µå¿…é¡»å æ®ä¸»å­˜å‚¨å™¨çš„è¿žç»­åŒºåŸŸï¼ŒäºŽæ˜¯ï¼Œè¦è£…å…¥ä¸€ä¸ªåˆ†æ®µæ—¶å¯èƒ½è¦ç§»åŠ¨å·²åœ¨ä¸»å­˜å‚¨å™¨ä¸­çš„ä¿¡æ¯ï¼Œä¸ºäº†å…‹æœè¿™ä¸ªç¼ºç‚¹ï¼Œå¯å…¼ç”¨åˆ†æ®µå’Œåˆ†é¡µçš„æ–¹æ³•ï¼Œæž„æˆæ®µé¡µå¼å­˜å‚¨ç®¡ç†ã€‚æ¯ä¸ªä½œä¸šä»æŒ‰é€»è¾‘åˆ†æ®µï¼Œä½†å¯¹æ¯ä¸€æ®µä¸æ˜¯æŒ‰å•ä¸€çš„è¿žç»­æ•´ä½“å­˜æ”¾åˆ°å­˜å‚¨å™¨ä¸­ï¼Œè€Œæ˜¯æŠŠæ¯ä¸ªæ®µå†åˆ†æˆè‹¥å¹²ä¸ªé¡µé¢ï¼Œæ¯ä¸€æ®µä¸å¿…å æ®è¿žç»­çš„ä¸»å­˜ç©ºé—´ï¼Œå¯æŠŠå®ƒæŒ‰é¡µå­˜æ”¾åœ¨ä¸è¿žç»­çš„ä¸»å­˜å—ä¸­ã€‚åŽŸç†é€»è¾‘åœ°å€ç©ºé—´åˆ†æ®µï¼Œæ®µå†…åˆ†é¡µï¼Œå†…å­˜åˆ†å—ï¼ˆé¡µæ¡†ï¼‰ï¼Œå­˜å‚¨ç®¡ç†çš„åˆ†é…å•ä½æ˜¯ï¼šç‰©ç†å—ï¼ˆé¡µæ¡†ï¼‰åœ°å€ç»“æž„ï¼šæ®µå·ï¼Œé¡µå·ï¼Œé¡µå†…åç§»åœ°å€ã€‚æ¯ä¸ªä½œä¸šä¸€å¼ æ®µè¡¨ï¼Œæ¯æ®µä¸€å¼ é¡µè¡¨ã€‚åœ°å€å˜æ¢ï¼šå…ˆæŸ¥æ®µè¡¨ï¼Œå†æŸ¥è¯¥æ®µçš„é¡µè¡¨ã€‚æ˜ å°„åœ°å€å˜æ¢æœºæž„]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[04-æ­»é”åŠå¤„ç†]]></title>
    <url>%2F2019%2F04-%E6%AD%BB%E9%94%81%E5%8F%8A%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[èµ„æºåˆ†ç±»å¯é‡ç”¨èµ„æºå’Œæ¶ˆè€—æ€§èµ„æºå¯é‡ç”¨æ€§èµ„æºï¼šå¯ä¾›ç”¨æˆ·é‡å¤ä½¿ç”¨å¤šæ¬¡çš„èµ„æºã€‚ç‰¹ç‚¹ï¼šäº’æ–¥è®¿é—®ç³»ç»Ÿä¸­æ­¤èµ„æºæ•°ç›®ç›¸å¯¹å›ºå®šç³»ç»Ÿä¸­å¤§å¤šæ•°èµ„æºå±žäºŽæ­¤ç±»å¯æ¶ˆè€—æ€§èµ„æºï¼šä¸´æ—¶æ€§èµ„æºç”±è¿›ç¨‹åŠ¨æ€åˆ›å»ºå’Œæ¶ˆè€—ï¼Œæ•°ç›®æ˜¯å¯ä»¥ä¸æ–­å˜åŒ–çš„ï¼Œæ¯”å¦‚ä¿¡å·é‡ã€è¿›ç¨‹é€šä¿¡çš„ä¿¡æ¯ç­‰ã€‚å¯æŠ¢å æ€§èµ„æºå’Œä¸å¯æŠ¢å æ€§èµ„æºå¯æŠ¢å æ€§èµ„æºï¼šCPUå’Œä¸»å­˜ï¼Œä¸ä¼šå¼•èµ·æ­»é”ã€‚ä¸å¯æŠ¢å æ€§èµ„æºï¼šåªèƒ½è¿›ç¨‹è‡ªè¡Œé‡Šæ”¾ã€‚å¦‚æ‰“å°æœºï¼Œå› ä¸ºå¦‚æžœæ‰“å°åˆ°ä¸€åŠï¼Œæ‰“å°æœºè¢«æŠ¢å ï¼Œé€ æˆçš„ç»“æžœåªèƒ½æ˜¯æ­¤æ¬¡æ‰“å°ä½œåºŸï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸å¯æŠ¢å èµ„æºã€‚æ­»é”å®šä¹‰å¦‚æžœä¸€ç»„è¿›ç¨‹ä¸­çš„æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½åœ¨ç­‰å¾…ä»…ç”±è¯¥ç»„è¿›ç¨‹ä¸­çš„å…¶ä»–è¿›ç¨‹æ‰èƒ½å¼•å‘çš„äº‹ä»¶ï¼Œé‚£ä¹ˆè¯¥ç»„è¿›ç¨‹æ˜¯æ­»é”çš„ã€‚æ­»é”çš„èµ·å› ç«žäº‰ä¸å¯æŠ¢å æ€§èµ„æºå¼•èµ·æ­»é”ä¸€ä¸ªèµ„æºåªèƒ½åŒæ—¶è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ï¼Œä½†æ˜¯ä¸‹å›¾P1åœ¨èŽ·å¾—R1åŽè¿˜åŽ»ç”³è¯·R2ï¼ŒåŒæ—¶P2èŽ·å¾—R2åŽè¿˜åŽ»ç”³è¯·R1ï¼Œé™·å…¥åƒµå±€ï¼Œå¼•å‘æ­»é”ã€‚ç«žäº‰å¯æ¶ˆè€—æ€§èµ„æºå¼•èµ·æ­»é”123P1ï¼šreceive(p3,m3)ï¼› send(p2,m1)ï¼›P2ï¼šreceive(p1,m1)ï¼› send(p3,m2)ï¼›P3ï¼šreceive(p2,m2)ï¼› send(p1,m3)ï¼›å¦‚ä¸Šä»£ç ï¼ŒP1åœ¨ç­‰å¾…P3ç»™P1å‘æ¶ˆæ¯ï¼ŒP2åœ¨ç­‰å¾…P1ç»™å®ƒP2å‘æ¶ˆæ¯ï¼ŒP3åœ¨ç­‰å¾…P2ç»™P3å‘æ¶ˆæ¯ã€‚é€ æˆä¸€ä¸ªæ­»å¾ªçŽ¯ã€‚è¿›ç¨‹æŽ¨è¿›é¡ºåºéžæ³•åœ¨ä¸‹å›¾ä¸­ï¼ŒXè½´è¡¨ç¤ºè¿›ç¨‹P1æŽ¨è¿›å›¾ï¼ŒYè½´è¡¨ç¤ºè¿›ç¨‹P2æŽ¨è¿›å›¾ã€‚å¦‚æžœæŒ‰ç…§4å·è·¯çº¿æŽ¨è¿›ï¼Œå¯ä»¥çœ‹å‡ºP1åœ¨ç»è¿‡bã€dæ®µçš„æ‰§è¡Œä¹‹åŽï¼ŒèŽ·å¾—R1ï¼ŒP2åœ¨è¿›è¿‡aã€cã€eæ®µçš„æ‰§è¡Œä¹‹åŽèŽ·å¾—R2ã€‚æ­¤æ—¶å¦‚æžœä¸åŠ ä»¥å¤„ç†ï¼Œç³»ç»Ÿä¸€å®šä¼šè¿›å…¥æ­»é”çŠ¶æ€ï¼Œå› ä¸ºæŽ¥ä¸‹æ¥P1åœ¨æ‹¥æœ‰R1åŽåˆåŽ»ç”³è¯·R2ï¼ŒP2åœ¨æ‹¥æœ‰R2åŽåˆåŽ»ç”³è¯·R1ã€‚æ­»é”äº§ç”Ÿçš„å¿…è¦æ¡ä»¶äº’æ–¥æ¡ä»¶ï¼šæŸæ®µæ—¶é—´å†…ï¼ŒæŸèµ„æºåªèƒ½ç”±ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ï¼›è¯·æ±‚å’Œä¿æŒæ¡ä»¶ï¼šè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡žæ—¶ï¼Œå¯¹å·²åˆ†é…ç»™å®ƒçš„èµ„æºä¿æŒä¸æ”¾ï¼›ä¸å¯æŠ¢å æ¡ä»¶ ï¼šèµ„æºåœ¨æœªä½¿ç”¨å®Œå‰ï¼Œä¸èƒ½è¢«å‰¥å¤ºï¼Œç”±ä½¿ç”¨è¿›ç¨‹é‡Šæ”¾ï¼›å¾ªçŽ¯ç­‰å¾…æ¡ä»¶ ï¼šå‘ç”Ÿæ­»é”æ—¶ï¼Œæœ‰å‘å›¾å¿…æž„æˆä¸€çŽ¯è·¯ã€‚æ­»é”å¤„ç†å…±æœ‰ä¸‰ç±»åšæ³•ï¼šç¬¬ä¸€ç±»æ˜¯é¢„é˜²æ­»é”ï¼Œä¹Ÿå°±æ˜¯ç ´åæ­»é”äº§ç”Ÿçš„æ¡ä»¶ï¼ˆç ´åå…¶ä¸­ä¸€ä¸ªå°±å¯ä»¥ï¼‰ï¼Œè¿™æ ·ç³»ç»Ÿå°±æ°¸è¿œä¸ä¼šäº§ç”Ÿæ­»é”ã€‚ç¬¬äºŒç±»æ˜¯æ­»é”é¿å…ï¼Œæ­»é”äº§ç”Ÿçš„æ ¹æœ¬åŽŸå› æ˜¯ç³»ç»Ÿèµ„æºåˆ†é…å‡ºçŽ°é—®é¢˜ï¼Œå¦‚æžœèƒ½è¿›è¡Œåˆç†çš„èµ„æºåˆ†é…å°±èƒ½é¿å…æ­»é”çš„å‘ç”Ÿã€‚ç¬¬ä¸‰ç±»æ˜¯æ­»é”å‘ç”ŸåŽçš„æ£€æµ‹å’Œè§£é™¤ã€‚é¢„é˜²æ­»é”é¢„é˜²æ­»é”æ˜¯ç»™ç³»ç»Ÿæ–½åŠ ä¸€ä¸ªæ¡ä»¶ä½¿å…¶æ°¸è¿œä¸å¯èƒ½æ»¡è¶³æ­»é”äº§ç”Ÿçš„å¿…è¦æ¡ä»¶ï¼Œä½†æ˜¯äº’æ–¥æ¡ä»¶æ˜¯ä¸èƒ½è¢«ç ´åçš„æ¡ä»¶ï¼Œæ‰€ä»¥é¢„é˜²æ­»é”æœ‰ä¸‰ç±»åšæ³•ï¼šç ´åâ€œè¯·æ±‚å’Œä¿æŒâ€æ¡ä»¶å³è¿›ç¨‹åœ¨è¯·æ±‚èµ„æºæ—¶ï¼Œå®ƒä¸èƒ½æŒæœ‰ä¸å¯æŠ¢å èµ„æºã€‚æœ‰ä¸¤ç§åšæ³•ï¼šæ‰€æœ‰è¿›ç¨‹åœ¨å¼€å§‹è¿è¡Œä¹‹å‰ï¼Œä¸€æ¬¡æ€§çš„ç”³è¯·å…¶åœ¨æ•´ä¸ªè¿è¡Œè¿‡ç¨‹ä¸­çš„å…¨éƒ¨èµ„æºï¼Œå¦‚æžœç”³è¯·æˆåŠŸï¼Œè¿›ç¨‹ä¾¿é™·å…¥ç­‰å¾…ã€‚è¿™æ ·è¿›ç¨‹åœ¨è¿è¡Œçš„æ—¶å€™å°±ä¸ä¼šå†å‘å‡ºè¯·æ±‚ã€‚è¿›ç¨‹åœ¨åªèŽ·å¾—è¿è¡ŒåˆæœŸæ‰€éœ€çš„èµ„æºåŽä¾¿å¼€å§‹è¿è¡Œï¼Œä½†æ˜¯è¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦é€æ­¥é‡Šæ”¾ä»¥åˆ†é…ç»™è‡ªå·±çš„èµ„æºï¼Œç­‰åˆæœŸèŽ·å¾—æ‰€æœ‰èµ„æºéƒ½è¢«é‡Šæ”¾åŽæ‰èƒ½è¯·æ±‚å…¶ä»–èµ„æºã€‚ç ´åâ€œä¸å¯æŠ¢å â€æ¡ä»¶å½“è¿›ç¨‹ä¿æŒäº†æŸäº›ä¸å¯è¢«æŠ¢å èµ„æºï¼Œä¸”æå‡ºçš„æ–°éœ€æ±‚åˆä¸èƒ½è¢«æ»¡è¶³æ—¶ï¼Œå®ƒå¿…é¡»é‡Šæ”¾å·²ç»ä¿æŒçš„æ‰€æœ‰èµ„æºï¼Œå¾…ä»¥åŽéœ€è¦æ—¶å†é‡æ–°ç”³è¯·ã€‚è¿™ç§é¢„é˜²ç­–ç•¥çš„ä»£ä»·éžå¸¸æ˜‚è´µï¼Œæ¯”å¦‚è¿›ç¨‹è¯·æ±‚çš„æ‰“å°æœºè¢«å¼ºåˆ¶å‰¥å¤ºåŽï¼Œä¹‹å‰çš„å·¥ä½œç­‰äºŽä½œåºŸã€‚ç ´åâ€œå¾ªçŽ¯ç­‰å¾…â€æ¡ä»¶å¸¸è§çš„æ–¹æ³•æ˜¯â€œèµ„æºæœ‰åºåˆ†é…â€ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯å°†ç³»ç»Ÿä¸­çš„æ‰€æœ‰èµ„æºé¡ºåºç¼–å·ï¼Œå°†ç´§ç¼ºçš„ï¼Œç¨€å°‘çš„é‡‡ç”¨è¾ƒå¤§çš„ç¼–å·ï¼Œåœ¨ç”³è¯·èµ„æºæ—¶å¿…é¡»æŒ‰ç…§ç¼–å·å‡åºè¿›è¡Œï¼Œä¸€ä¸ªè¿›ç¨‹åªæœ‰èŽ·å¾—è¾ƒå°ç¼–å·çš„è¿›ç¨‹æ‰èƒ½ç”³è¯·è¾ƒå¤§ç¼–å·çš„è¿›ç¨‹ï¼Œåœ¨æ‹¥æœ‰å¤§ç¼–å·èµ„æºå†ç”³è¯·å°ç¼–å·èµ„æºæ—¶éœ€è¦é‡Šæ”¾å’Œå°èµ„æºç¼–å·ç›¸ç­‰åŠä»¥ä¸Šçš„ç¼–å·ã€‚é¿å…æ­»é”é¿å…æ­»é”è®²é“ç†æ˜¯å±žäºŽæ­»é”çš„é¢„é˜²ï¼Œä½†æ˜¯å®ƒå’Œé¢„é˜²æ­»é”ä¸åŒï¼Œé¢„é˜²æ­»é”æ˜¯ç ´åæ­»é”äº§ç”Ÿçš„æ¡ä»¶ï¼Œé¿å…æ­»é”æ˜¯é˜²æ­¢ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ã€‚æ‰€ä»¥æˆ‘ä»¬å°±è¦æ˜Žç™½ä»€ä¹ˆæ˜¯å®‰å…¨çŠ¶æ€ï¼Œå®ƒå’Œæ­»é”äº§ç”Ÿçš„å¿…è¦æ¡ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚å®‰å…¨çŠ¶æ€å®‰å…¨çŠ¶æ€æŒ‡çš„æ˜¯ç³»ç»Ÿèƒ½æŒ‰æŸç§è¿›ç¨‹æŽ¨è¿›é¡ºåº(P1, P2, â€¦, Pn)ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…å…¶æ‰€éœ€çš„èµ„æºï¼Œç›´è‡³æ»¡è¶³æ¯ä¸ªè¿›ç¨‹å¯¹èµ„æºçš„æœ€å¤§éœ€æ±‚ï¼Œä½¿æ¯ä¸ªè¿›ç¨‹éƒ½å¯é¡ºåˆ©åœ°å®Œæˆã€‚æ­¤æ—¶ï¼Œåºåˆ—(P1, P2, â€¦, Pn)ä¸ºå®‰å…¨åºåˆ—ã€‚å¦‚æžœç³»ç»Ÿæ— æ³•æ‰¾åˆ°è¿™æ ·ä¸€ä¸ªåºåˆ—ï¼Œåˆ™ç§°ç³»ç»Ÿå¤„äºŽä¸å®‰å…¨çŠ¶æ€ã€‚ä¸ºä»€ä¹ˆèƒ½æ‰¾åˆ°è¿™æ ·çš„åºåˆ—ç³»ç»Ÿå°±æ˜¯å®‰å…¨çš„å‘¢ï¼Ÿå…¶å®žå®ƒæ˜¯ä¸€ä¸ªé€’æŽ¨çš„å…³ç³»ï¼Œå‡å¦‚ç³»ç»Ÿåœ¨æ—¶åˆ»iå‘èµ·ç”³è¯·èµ„æºè¯·æ±‚ï¼Œå…¶æ­¤æ—¶çŠ¶æ€ä¸ºaï¼Œç³»ç»Ÿä¼šåˆ¤æ–­å®ƒç”³è¯·æˆåŠŸåŽæ˜¯å¦è¿˜èƒ½å¯»æ‰¾åˆ°ä¸€ä¸ªå®‰å…¨åºåˆ—ï¼Œå¦‚æžœèƒ½æ‰¾åˆ°ä¾¿å¯ä»¥åˆ†é…ï¼Œå¦åˆ™ä¾¿æ˜¯ç³»ç»Ÿä¸å®‰å…¨çŠ¶æ€ã€‚å‡å¦‚ç³»ç»Ÿç”³è¯·åˆ°äº†èµ„æºï¼Œè¿˜æƒ³å‘å‡ºç”³è¯·è¯·æ±‚ï¼Œä¾¿ä¼šå†æ¬¡åˆ¤æ–­è¯·æ±‚æˆåŠŸä¹‹åŽèƒ½å¦æ‰¾åˆ°å®‰å…¨åºåˆ—ï¼Œç”±æ­¤é€’æŽ¨ä¸‹åŽ»å¯ä¿è¯æ•´ä¸ªç³»ç»Ÿèƒ½é¿å…æ­»é”ã€‚å®‰å…¨çŠ¶æ€å’Œæ­»é”å¿…è¦æ¡ä»¶çš„åŒºåˆ«ä»ä»¥æ­¤å›¾ä¸ºä¾‹ã€‚å‡å¦‚æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯é¢„é˜²æ­»é”ç­–ç•¥ä¸­çš„ç ´åâ€œè¯·æ±‚å’Œä¿æŒâ€æ¡ä»¶é‡Œçš„ç¬¬ä¸€ä¸ªåšæ³•ï¼Œé‚£ä¹ˆæŽ¨è¿›é¡ºåºå°±ä¸å¯èƒ½ä¸º4ï¼Œå› ä¸ºè¿›ç¨‹P1åœ¨æ‰§è¡Œçš„æ—¶å€™éœ€è¦èŽ·å–å…¨éƒ¨èµ„æºæ‰èƒ½æ‰§è¡Œã€‚ä½†å¯¹äºŽé¿å…æ­»é”æ¥è¯´ï¼Œç³»ç»Ÿå¯ä»¥æŒ‰ç…§4å·æŽ¨è¿›é¡ºåºæŽ¨è¿›åˆ°eæ®µå’Œé˜´å½±åŒºçš„äº¤ç•Œå¤„ï¼Œç„¶åŽè¿›ç¨‹P2åœ¨ç”³è¯·èµ„æºR2çš„æ—¶å€™ä¼šåŽ»åˆ¤æ–­åˆ†é…R2ç»™P2ä¹‹åŽç³»ç»Ÿèƒ½å¦æ‰¾åˆ°å®‰å…¨åºåˆ—ï¼Œäº‹å®žä¸Šæ˜¯æ‰¾ä¸åˆ°çš„ï¼Œæ‰€ä»¥R2ä¾¿ä¸ä¼šåˆ†é…ç»™P2ï¼Œè¿™æ ·ç³»ç»Ÿå°±è¿›å…¥ä¸äº†é˜´å½±åŒºï¼Œä»Žè€Œå¯ä»¥é¿å…æ­»é”ã€‚æ‰€ä»¥é¢„é˜²æ­»é”å’Œé¿å…æ­»é”çš„åŒºåˆ«æ˜¯ï¼šé¢„é˜²æ­»é”æ˜¯æ¯ä¸ªè¿›ç¨‹åœ¨æ‰§è¡Œä¹‹å‰ç¡®ä¿å…¶è‡ªèº«ä¸é™·å…¥æ­»é”çŠ¶æ€ï¼Œå¦‚æžœæ¯ä¸ªè¿›ç¨‹éƒ½èƒ½ä¸é™·å…¥æ­»é”çŠ¶æ€ï¼Œç³»ç»Ÿä¾¿èƒ½æ°¸è¿œå®‰å…¨ã€‚å³ä»Žå•ä¸ªè¿›ç¨‹è§’åº¦é™æ€è§£å†³é—®é¢˜ã€‚ä½†é¿å…æ­»é”æ˜¯åœ¨æ¯ä¸€æ¬¡è¿›è¡Œèµ„æºåˆ†é…æ—¶åˆ¤æ–­åˆ†é…ä¹‹åŽæ˜¯å¦ç³»ç»Ÿå¤„äºŽå®‰å…¨çŠ¶æ€ï¼Œå¦‚æžœå¤„äºŽå®‰å…¨çŠ¶æ€ä¾¿å¯åˆ†é…ï¼Œå¦åˆ™ä¾¿ä¸èƒ½åˆ†é…ã€‚å³ä»Žç³»ç»Ÿæ•´ä½“è§’åº¦åŠ¨æ€è§£å†³é—®é¢˜ã€‚é“¶è¡Œå®¶ç®—æ³•æ•°æ®ç»“æž„å¯åˆ©ç”¨èµ„æºå‘é‡$Available$ï¼šæ˜¯ä¸ªå«æœ‰mä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œå…¶ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ä»£è¡¨ä¸€ç±»å¯åˆ©ç”¨çš„èµ„æºæ•°ç›®ã€‚å¦‚æžœ$Available[j]=K$ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿä¸­çŽ°æœ‰$R_j$ç±»èµ„æºKä¸ªã€‚æœ€å¤§éœ€æ±‚çŸ©é˜µ$Max$ï¼šè¿™æ˜¯ä¸€ä¸ª$nÃ—m$çš„çŸ©é˜µï¼Œå®ƒå®šä¹‰äº†ç³»ç»Ÿä¸­$n$ä¸ªè¿›ç¨‹ä¸­çš„æ¯ä¸€ä¸ªè¿›ç¨‹å¯¹$m$ç±»èµ„æºçš„æœ€å¤§éœ€æ±‚ã€‚å¦‚æžœ$Max[i, j]=K$ï¼Œåˆ™è¡¨ç¤ºè¿›ç¨‹$i$éœ€è¦$R_j$ç±»èµ„æºçš„æœ€å¤§æ•°ç›®ä¸ºKã€‚åˆ†é…çŸ©é˜µ$Allocation$ï¼šè¿™ä¹Ÿæ˜¯ä¸€ä¸ª$nÃ—m$çš„çŸ©é˜µï¼Œå®ƒå®šä¹‰äº†ç³»ç»Ÿä¸­æ¯ä¸€ç±»èµ„æºå½“å‰å·²åˆ†é…ç»™æ¯ä¸€è¿›ç¨‹çš„èµ„æºæ•°ã€‚å¦‚æžœ$Allocation[i,j]=K$ï¼Œåˆ™è¡¨ç¤ºè¿›ç¨‹iå½“å‰å·²åˆ†å¾—$R_j$ç±»èµ„æºçš„ æ•°ç›®ä¸ºKã€‚éœ€æ±‚çŸ©é˜µ$Need$ï¼šè¿™ä¹Ÿæ˜¯ä¸€ä¸ª$nÃ—m$çš„çŸ©é˜µï¼Œç”¨ä»¥è¡¨ç¤ºæ¯ä¸€ä¸ªè¿›ç¨‹å°šéœ€çš„å„ç±»èµ„æºæ•°ã€‚å¦‚æžœ$Need[i,j]=K$ï¼Œåˆ™è¡¨ç¤ºè¿›ç¨‹$i$è¿˜éœ€è¦$R_j$ç±»èµ„æºKä¸ªï¼Œæ–¹èƒ½å®Œæˆå…¶ä»»åŠ¡ã€‚å¯å¾—ï¼š$Need[i,j]=Max[i,j]-Allocation[i,j]â€‹$ç®—æ³•è®¾è¿›ç¨‹$cusneed$æå‡ºè¯·æ±‚$REQUEST[i]$ï¼Œåˆ™é“¶è¡Œå®¶ç®—æ³•æŒ‰å¦‚ä¸‹è§„åˆ™è¿›è¡Œåˆ¤æ–­ã€‚å¦‚æžœ$REQUEST[cusneed] [i]&lt;= Need[cusneed][i]â€‹$ï¼Œåˆ™è½¬2ï¼›å¦åˆ™ï¼Œå‡ºé”™ã€‚å¦‚æžœ$REQUEST [cusneed] [i]&lt;= Available[i]$ï¼Œåˆ™è½¬3ï¼›å¦åˆ™ï¼Œç­‰å¾…ã€‚ç³»ç»Ÿè¯•æŽ¢åˆ†é…èµ„æºï¼Œä¿®æ”¹ç›¸å…³æ•°æ®ï¼š$Available[i]-=REQUEST[cusneed][i]$;$Allocation[cusneed][i]+=REQUEST[cusneed][i]$;$Need[cusneed][i]-=REQUEST[cusneed][i]$;ç³»ç»Ÿæ‰§è¡Œå®‰å…¨æ€§æ£€æŸ¥ç®—æ³•ï¼Œå¦‚å®‰å…¨ï¼Œåˆ™åˆ†é…æˆç«‹ï¼›å¦åˆ™è¯•æŽ¢é™©æ€§åˆ†é…ä½œåºŸï¼Œç³»ç»Ÿæ¢å¤åŽŸçŠ¶ï¼Œè¿›ç¨‹ç­‰å¾…ã€‚å®‰å…¨æ€§ç®—æ³•è®¾ç½®ä¸¤ä¸ªå·¥ä½œå‘é‡$Work=Availableâ€‹$ã€$Finish=falseâ€‹$ã€‚ä»Žè¿›ç¨‹é›†åˆä¸­æ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„è¿›ç¨‹$i$ï¼Œ$Finish[i]==false;$$Need[i, j]&lt;=Work[j];$ï¼Œå¦‚æ‰¾åˆ°ï¼Œæ‰§è¡Œ3ï¼›å¦åˆ™ï¼Œæ‰§è¡Œ4ã€‚è®¾è¿›ç¨‹èŽ·å¾—èµ„æºï¼Œå¯é¡ºåˆ©æ‰§è¡Œï¼Œç›´è‡³å®Œæˆï¼Œä»Žè€Œé‡Šæ”¾èµ„æºã€‚$Work[i]=Work[i]+Allocation[i,j];â€‹$ï¼Œ$Finish[i]=true;â€‹$ï¼Œå¾ªçŽ¯2ã€‚å¦‚æ‰€æœ‰çš„è¿›ç¨‹$Finish= trueâ€‹$ï¼Œåˆ™è¡¨ç¤ºå®‰å…¨ï¼›å¦åˆ™ç³»ç»Ÿä¸å®‰å…¨ã€‚ä¸¾ä¾‹å‡å®šç³»ç»Ÿä¸­æœ‰äº”ä¸ªè¿›ç¨‹$\lbrace P0, P1, P2, P3, P4\rbrace$å’Œä¸‰ç±»èµ„æº$\lbrace A,B, C\rbrace$ï¼Œå„ç§èµ„æºçš„æ•°é‡åˆ†åˆ«ä¸º10ã€5ã€7ï¼Œåœ¨$T0$æ—¶åˆ»çš„èµ„æºåˆ†é…æƒ…å†µå¦‚å›¾æ‰€ç¤ºã€‚$T0â€‹$æ—¶åˆ»çš„å®‰å…¨æ€§$P1$è¯·æ±‚èµ„æºï¼š$P1$å‘å‡ºè¯·æ±‚å‘é‡$Request1(1,0,2)â€‹$ï¼Œç³»ç»ŸæŒ‰é“¶è¡Œå®¶ç®—æ³•è¿›è¡Œæ£€æŸ¥ã€‚$Request_1(1, 0, 2)â‰¤Need_1(1, 2, 2)â€‹$$Request_1(1, 0, 2)â‰¤Available_1(3, 3, 2)$ç³»ç»Ÿå…ˆå‡å®šå¯ä¸º$P1â€‹$åˆ†é…èµ„æºï¼Œå¹¶ä¿®æ”¹$Available,Allocation_1å’ŒNeed_1â€‹$å‘é‡ã€‚ç”±æ­¤å¾—åˆ°çš„èµ„æºå˜æ¢æƒ…å†µå¦‚ä¸Šä¸Šå›¾æ‹¬å·æ‰€ç¤ºã€‚å†åˆ©ç”¨å®‰å…¨æ€§ç®—æ³•æ£€æŸ¥æ­¤æ—¶ç³»ç»Ÿæ˜¯å¦å®‰å…¨ã€‚$P4$è¯·æ±‚èµ„æºï¼š$P4$å‘å‡ºè¯·æ±‚å‘é‡$Request_4(3,3,0)$ï¼Œç³»ç»ŸæŒ‰é“¶è¡Œå®¶ç®—æ³•è¿›è¡Œæ£€æŸ¥ã€‚$Request_4(3, 3, 0)â‰¤Need_4(4, 3, 1);$ã€‚$Request_4(3, 3, 0)&gt;Available(2, 3, 0)â€‹$ï¼Œè®©$P4â€‹$ç­‰å¾…ã€‚$P0$è¯·æ±‚èµ„æºï¼š$P0$å‘å‡ºè¯·æ±‚å‘é‡$Requst_0(0,2,0)$ï¼Œç³»ç»ŸæŒ‰é“¶è¡Œå®¶ç®—æ³•è¿›è¡Œæ£€æŸ¥ã€‚$Request_0(0, 2, 0)â‰¤Need_0(7, 4, 3);$$Request_0(0, 2, 0)â‰¤Available(2, 3, 0);$ç³»ç»Ÿæš‚æ—¶å…ˆå‡å®šå¯ä¸º$P0$åˆ†é…èµ„æºï¼Œå¹¶ä¿®æ”¹æœ‰å…³æ•°æ®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è¿›è¡Œå®‰å…¨æ€§æ£€æŸ¥ï¼šæ­¤æ—¶å¯ç”¨èµ„æº$Available(2,1,0)$å·²ç»ä¸èƒ½æ»¡è¶³ä»»ä½•è¿›ç¨‹çš„éœ€è¦ï¼Œè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ï¼Œå› æ­¤ç³»ç»Ÿä¸åˆ†é…èµ„æºã€‚æ­»é”çš„æ£€æµ‹å’Œè§£é™¤æ­»é”çš„æ£€æµ‹åœ¨å›¾ä¸­æ‰¾ä¸€æ—¢éžé˜»å¡žåˆéžç‹¬ç«‹çš„è¿›ç¨‹èŠ‚ç‚¹$P_i$ï¼Œå¦‚é¡ºåˆ©ï¼Œ$P_i$å¯èŽ·å¾—æ‰€æœ‰èµ„æºç›´è‡³è¿è¡Œå®Œæ¯•ã€‚æ¶ˆåŽ»$P_i$æ‰€æœ‰çš„è¯·æ±‚è¾¹å’Œåˆ†é…è¾¹ï¼Œå³é‡Šæ”¾å æœ‰çš„æ‰€æœ‰èµ„æºï¼ŒåŒç†å†é€‰ä¸‹ä¸€è¿›ç¨‹èŠ‚ç‚¹$P_{i+1}, â€¦, $è‹¥èƒ½æ¶ˆåŽ»æ‰€æœ‰çš„è¾¹ï¼Œé‚£ä¹ˆè¯¥å›¾æ˜¯å¯å®Œå…¨ç®€åŒ–çš„ï¼Œå¦åˆ™è¯¥å›¾æ˜¯ä¸å¯å®Œå…¨ç®€åŒ–çš„ã€‚å…·ä½“åšæ³•å¦‚ä¸‹ï¼šå¯åˆ©ç”¨èµ„æºå‘é‡$Available[]$ï¼Œå®ƒè¡¨ç¤ºäº†mç±»èµ„æºä¸­æ¯ä¸€ç±»èµ„æºçš„å¯ç”¨æ•°ç›®ã€‚æŠŠä¸å ç”¨èµ„æºçš„è¿›ç¨‹ï¼ˆå‘é‡$Allocation[i]âˆ¶= 0$ï¼‰è®°å…¥Lè¡¨ä¸­ï¼Œå³$L_i \bigcup L$ã€‚ä»Žè¿›ç¨‹é›†åˆä¸­æ‰¾åˆ°ä¸€ä¸ª$Request_iâ‰¤Work$çš„è¿›ç¨‹ï¼Œåšå¦‚ä¸‹å¤„ç†ï¼šå°†å…¶èµ„æºåˆ†é…å›¾ç®€åŒ–ï¼Œé‡Šæ”¾å‡ºèµ„æºï¼Œå¢žåŠ å·¥ä½œå‘é‡$Workâˆ¶ =Work+Allocation_i$ã€‚å°†å®ƒè®°å…¥Lè¡¨ä¸­ã€‚è‹¥ä¸èƒ½æŠŠæ‰€æœ‰è¿›ç¨‹éƒ½è®°å…¥Lè¡¨ä¸­ï¼Œ ä¾¿è¡¨æ˜Žç³»ç»ŸçŠ¶æ€Sçš„èµ„æºåˆ†é…å›¾æ˜¯ä¸å¯å®Œå…¨ç®€åŒ–çš„ã€‚ å› æ­¤ï¼Œè¯¥ç³»ç»ŸçŠ¶æ€å°†å‘ç”Ÿæ­»é”ã€‚æ­»é”çš„è§£é™¤æ­»é”è§£é™¤æœ‰å¤šç§åšæ³•ï¼Œå¦‚ä¸‹æ˜¯æŒ‰ä»£ä»·é€’å‡æŽ’åºçš„å‡ ç§ã€‚æ’¤é”€æ‰€æœ‰æ­»é”çš„è¿›ç¨‹ã€‚å°†æ¯ä¸ªè¿›ç¨‹å›žé€€åˆ°å…ˆå‰å®šä¹‰çš„æŸä¸ªæ£€æŸ¥ç‚¹ï¼Œå†é‡æ–°å¯åŠ¨æ‰€æœ‰è¿›ç¨‹ã€‚é€ä¸ªæ’¤é”€æ­»é”è¿›ç¨‹ï¼Œç›´è‡³æ­»é”ä¸å­˜åœ¨ã€‚æ’¤é”€è¿›ç¨‹çš„é¡ºåºåº”æ˜¯åŸºäºŽæŸç§æœ€å°ä»£ä»·åŽŸåˆ™ï¼Œæ¯æ¬¡æ’¤é”€åŽï¼Œæ­»é”æ£€æµ‹ç®—æ³•åº”è¯¥é‡æ–°æ£€æµ‹æ­»é”æ˜¯å¦ä¾ç„¶å­˜åœ¨ã€‚å‰¥å¤ºè¿›ç¨‹Pçš„èµ„æºäº¤ç»™è¿›ç¨‹Qï¼ŒPåŒæ—¶ä¼šé€€åˆ°èŽ·å¾—æ­¤èµ„æºçš„èŠ‚ç‚¹ä¸Šã€‚å¯¹äºŽ3å’Œ4ï¼Œé€‰æ‹©çš„æ ‡å‡†å¯ä»¥å¦‚ä¸‹ï¼šä»¥å ç”¨å¤„ç†å™¨çš„æ—¶é—´æœ€å°ï¼›ä»¥äº§ç”Ÿçš„è¾“å‡ºå°‘ï¼›æ‰€ä¼°è®¡çš„å‰©ä½™è¿è¡Œæ—¶é—´æœ€é•¿ï¼›æ‰€å ç”¨çš„èµ„æºæœ€å°‘ï¼›ä¼˜å…ˆæƒæœ€ä½Žã€‚]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ—¶é’Ÿä¸­æ–­]]></title>
    <url>%2F2019%2F%E6%97%B6%E9%92%9F%E4%B8%AD%E6%96%AD%2F</url>
    <content type="text"><![CDATA[ä¸­æ–­çš„ç†è§£è¯´åˆ°ä¸­æ–­è¿˜ä¸å¾—ä¸ä»ŽçŽ°ä»£æ“ä½œç³»ç»Ÿçš„ç‰¹æ€§è¯´èµ·ï¼Œæ— è®ºæ˜¯æ¡Œé¢PCæ“ä½œç³»ç»Ÿè¿˜æ˜¯åµŒå…¥å¼éƒ½æ˜¯å¤šä»»åŠ¡çš„æ“ä½œç³»ç»Ÿï¼Œè€Œå¾ˆé—æ†¾ï¼Œå¤„ç†å™¨å¾€å¾€æ˜¯å•ä¸ªçš„ï¼Œå³ä½¿åœ¨ç¡¬ä»¶æˆæœ¬é€æ¸ä¸‹é™ï¼Œä½†å¤„ç†å™¨çš„æ•°é‡ä¾ç„¶ä¸å¯èƒ½åšåˆ°æ¯ä¸ªä»»åŠ¡ä¸€ä¸ªCPUï¼Œæ‰€ä»¥CPUå¿…é¡»ä½œä¸ºä¸€ç§å…¨å±€çš„èµ„æºè®©æ‰€æœ‰ä»»åŠ¡å…±äº«ã€‚å³ä»€ä¹ˆæ—¶å€™ç»™ä»»åŠ¡Aç”¨ï¼Œä»€ä¹ˆæ—¶å€™ç»™ä»»åŠ¡Bç”¨â€¦â€¦è¿™å°±æ˜¯è¿›ç¨‹è°ƒåº¦ï¼Œå…·ä½“çš„å®‰æŽ’å°±ç”±è°ƒåº¦ç®—æ³•å†³å®šäº†ã€‚è¿›ç¨‹å¦‚ä½•åŽ»è°ƒåº¦ï¼ŸçŽ°ä»£æ“ä½œç³»ç»Ÿä¸€èˆ¬éƒ½æ˜¯é‡‡ç”¨åŸºäºŽæ—¶é—´ç‰‡çš„ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•ï¼ŒæŠŠCPUçš„æ—¶é—´åˆ’åˆ†ä¸ºå¾ˆç»†ç²’åº¦çš„æ—¶é—´ç‰‡ï¼Œä¸€ä¸ªä»»åŠ¡æ¯æ¬¡åªèƒ½æ—¶é—´è¿™ä¹ˆå¤šçš„æ—¶é—´ï¼Œæ—¶é—´åˆ°äº†å°±å¿…é¡»äº¤å‡ºä½¿ç”¨æƒï¼Œå³æ¢å…¶ä»–çš„ä»»åŠ¡ä½¿ç”¨ã€‚è¿™ç§è¦çœ‹æ“ä½œç³»ç»Ÿçš„å®šæ—¶å™¨æœºåˆ¶äº†ã€‚é‚£ä¹ˆæ—¶é—´ç‰‡åˆ°ä¹‹åŽï¼Œç³»ç»Ÿåšäº†ä»€ä¹ˆå‘¢ï¼Ÿè¿™å°±è¦ç”¨åˆ°æˆ‘ä»¬çš„ä¸­æ–­äº†ï¼Œæ—¶é—´ç‰‡åˆ°äº†ç”±å®šæ—¶å™¨è§¦å‘ä¸€ä¸ªè½¯ä¸­æ–­ï¼Œç„¶åŽè¿›å…¥ç›¸åº”çš„å¤„ç†åŽ†ç¨‹ã€‚å½“ç„¶è¿™ä¸€ç‚¹ä¸è¶³ä»¥è¡¨æ˜Žä¸­æ–­çš„é‡è¦ï¼Œè®¡ç®—æœºæ“ä½œç³»ç»Ÿè‡ªç„¶ç¦»ä¸å¼€å¤–éƒ¨è®¾å¤‡ï¼šé¼ æ ‡ã€é”®ç›˜ã€ç½‘å¡ã€ç£ç›˜ç­‰ç­‰ã€‚å°±æ‹¿ç½‘å¡æ¥è®²ï¼Œæˆ‘è®¡ç®—æœºå¹¶ä¸çŸ¥é“æ—¶å€™æ•°æ®åŒ…ä¼šæ¥åˆ°ï¼Œæˆ‘èƒ½ä¿è¯çš„å°±æ˜¯æ•°æ®æ¥äº†æˆ‘èƒ½æ­£å¸¸æŽ¥æ”¶å°±è¡Œäº†ã€‚ä½†æ˜¯æˆ‘åˆä¸å¯èƒ½ä¸€ç›´ç­‰ç€æŽ¥æ”¶æ•°æ®åŒ…ï¼Œè¦æ˜¯è¿™æ ·å…¶ä»–ä»»åŠ¡å°±æ­»å®Œäº†ã€‚æ‰€ä»¥åˆç†çš„åŠžæ³•æ˜¯ï¼Œä½ æ•°æ®åŒ…æ¥åˆ°ä¹‹åŽï¼Œé€šçŸ¥æˆ‘ï¼Œç„¶åŽæˆ‘å†å¯¹ä½ å¤„ç†ï¼Œæ€Žä¹ˆé€šçŸ¥å‘¢ï¼Ÿï¼Ÿç­”ï¼šä¸­æ–­ï¼é”®ç›˜ã€é¼ æ ‡äº¦æ˜¯å¦‚æ­¤ï¼ä¸­æ–­çš„å®šä¹‰æŒ‡å¤„ç†æœºå¤„ç†ç¨‹åºè¿è¡Œä¸­å‡ºçŽ°çš„ç´§æ€¥äº‹ä»¶çš„æ•´ä¸ªè¿‡ç¨‹.ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå¤–éƒ¨ã€ç³»ç»Ÿå†…éƒ¨æˆ–è€…çŽ°è¡Œç¨‹åºæœ¬èº«è‹¥å‡ºçŽ°ç´§æ€¥äº‹ä»¶ï¼Œå¤„ç†æœºç«‹å³ä¸­æ­¢çŽ°è¡Œç¨‹åºçš„è¿è¡Œï¼Œè‡ªåŠ¨è½¬å…¥ç›¸åº”çš„å¤„ç†ç¨‹åºï¼ˆä¸­æ–­æœåŠ¡ç¨‹åºï¼‰ï¼Œå¾…å¤„ç†å®ŒåŽï¼Œå†è¿”å›žåŽŸæ¥çš„ç¨‹åºè¿è¡Œï¼Œè¿™æ•´ä¸ªè¿‡ç¨‹ç§°ä¸ºç¨‹åºä¸­æ–­ã€‚å¯åˆ†ä¸ºä¸¤ç±»ï¼šç¡¬ä¸­æ–­ï¼ˆHardware Interruptï¼‰å¤–éƒ¨ä¸­æ–­ï¼šä¸€èˆ¬æ˜¯æŒ‡ç”±è®¡ç®—æœºå¤–è®¾å‘å‡ºçš„ä¸­æ–­è¯·æ±‚ï¼Œå¦‚ï¼šé”®ç›˜ä¸­æ–­ã€æ‰“å°æœºä¸­æ–­ã€å®šæ—¶å™¨ä¸­æ–­ç­‰ã€‚å¤–éƒ¨ä¸­æ–­æ˜¯å¯å±è”½çš„ã€‚å†…éƒ¨ä¸­æ–­æ˜¯æŒ‡å› ç¡¬ä»¶å‡ºé”™ï¼ˆå¦‚çªç„¶æŽ‰ç”µã€å¥‡å¶æ ¡éªŒé”™ç­‰ï¼‰,æˆ–è¿ç®—å‡ºé”™ï¼ˆé™¤æ•°ä¸ºé›¶ã€è¿ç®—æº¢å‡ºã€å•æ­¥ä¸­æ–­ç­‰ï¼‰æ‰€å¼•èµ·çš„ä¸­æ–­ï¼Œå†…éƒ¨ä¸­æ–­æ˜¯ä¸å¯å±è”½çš„ã€‚è½¯ä¸­æ–­ï¼ˆSoftware Interruptï¼‰è½¯ä¸­æ–­æ˜¯åˆ©ç”¨ç¡¬ä¸­æ–­çš„æ¦‚å¿µï¼Œç”¨è½¯ä»¶æ–¹å¼è¿›è¡Œæ¨¡æ‹Ÿï¼Œå®žçŽ°å®è§‚ä¸Šçš„å¼‚æ­¥æ‰§è¡Œæ•ˆæžœã€‚å¾ˆå¤šæƒ…å†µä¸‹ï¼Œè½¯ä¸­æ–­å’Œâ€ä¿¡å·â€æœ‰äº›ç±»ä¼¼ï¼ŒåŒæ—¶ï¼Œè½¯ä¸­æ–­åˆæ˜¯å’Œç¡¬ä¸­æ–­ç›¸å¯¹åº”çš„ï¼Œç¡¬ä¸­æ–­æ˜¯å¤–éƒ¨è®¾å¤‡å¯¹CPUçš„ä¸­æ–­ï¼Œè½¯ä¸­æ–­é€šå¸¸æ˜¯ç¡¬ä¸­æ–­æœåŠ¡ç¨‹åºï¼ˆæ¨¡æ‹Ÿç¡¬ä»¶å‘å‡ºä¸­æ–­çš„ç¨‹åºï¼‰å¯¹å†…æ ¸çš„ä¸­æ–­ï¼Œä¿¡å·åˆ™æ˜¯ç”±å†…æ ¸ï¼ˆæˆ–å…¶ä»–è¿›ç¨‹ï¼‰å¯¹æŸä¸ªè¿›ç¨‹çš„ä¸­æ–­ã€‚æ—¶é’Ÿä¸­æ–­åœ¨Linuxçš„0å·ä¸­æ–­æ˜¯ä¸€ä¸ªå®šæ—¶å™¨ä¸­æ–­ã€‚åœ¨å›ºå®šçš„æ—¶é—´é—´éš”éƒ½å‘ç”Ÿä¸€æ¬¡ä¸­æ–­ï¼Œä¹Ÿæ˜¯è¯´æ¯ç§’å‘ç”Ÿè¯¥ä¸­æ–­çš„é¢‘çŽ‡éƒ½æ˜¯å›ºå®šçš„ã€‚è¯¥é¢‘çŽ‡æ˜¯å¸¸é‡HZï¼Œè¯¥å€¼ä¸€èˆ¬æ˜¯åœ¨100 ~ 1000ä¹‹é—´ã€‚è¯¥ä¸­æ–­çš„ä½œç”¨æ˜¯ä¸ºäº†å®šæ—¶æ›´æ–°ç³»ç»Ÿæ—¥æœŸå’Œæ—¶é—´ï¼Œä½¿ç³»ç»Ÿæ—¶é—´ä¸æ–­åœ°å¾—åˆ°è·³è½¬ã€‚å¦å¤–è¯¥ä¸­æ–­çš„ä¸­æ–­å¤„ç†å‡½æ•°é™¤äº†æ›´æ–°ç³»ç»Ÿæ—¶é—´å¤–ï¼Œè¿˜éœ€è¦æ›´æ–°æœ¬åœ°CPUç»Ÿè®¡æ•°ã€‚è‹¥è¿›ç¨‹çš„æ—¶é—´ç‰‡é€’å‡åˆ°0ï¼Œè¿›ç¨‹åˆ™è¢«è°ƒåº¦å‡ºåŽ»è€Œæ”¾å¼ƒCPUä½¿ç”¨æƒã€‚Linuxçš„OSæ—¶é’Ÿçš„ç‰©ç†äº§ç”ŸåŽŸå› æ˜¯å¯ç¼–ç¨‹å®šæ—¶/è®¡æ•°å™¨äº§ç”Ÿçš„è¾“å‡ºè„‰å†²ï¼Œè¿™ä¸ªè„‰å†²é€å…¥CPUï¼Œå°±å¯ä»¥å¼•å‘ä¸€ä¸ªä¸­æ–­è¯·æ±‚ä¿¡å·ï¼Œæˆ‘ä»¬å°±æŠŠå®ƒå«åšæ—¶é’Ÿä¸­æ–­ã€‚æ—¶é’Ÿä¸­æ–­æ˜¯ç‰¹åˆ«é‡è¦çš„ä¸€ä¸ªä¸­æ–­ï¼Œå› ä¸ºæ•´ä¸ªæ“ä½œç³»ç»Ÿçš„æ´»åŠ¨éƒ½å—åˆ°å®ƒçš„æ¿€åŠ±ã€‚ç³»ç»Ÿåˆ©ç”¨æ—¶é’Ÿä¸­æ–­ç»´æŒç³»ç»Ÿæ—¶é—´ã€ä¿ƒä½¿çŽ¯å¢ƒçš„åˆ‡æ¢ï¼Œä»¥ä¿è¯æ‰€æœ‰è¿›ç¨‹å…±äº«CPUï¼›åˆ©ç”¨æ—¶é’Ÿä¸­æ–­è¿›è¡Œè®°å¸ã€ç›‘ç£ç³»ç»Ÿå·¥ä½œä»¥åŠç¡®å®šæœªæ¥çš„è°ƒåº¦ä¼˜å…ˆçº§ç­‰å·¥ä½œã€‚å¯ä»¥è¯´ï¼Œæ—¶é’Ÿä¸­æ–­æ˜¯æ•´ä¸ªæ“ä½œç³»ç»Ÿçš„è„‰æã€‚å‚è€ƒï¼šhttps://www.jb51.net/article/133782.htmhttps://blog.csdn.net/wlf_go/article/details/80237491]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
        <tag>è®¡ç®—æœºç»„æˆåŽŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[cä¸Žcpp]]></title>
    <url>%2F2019%2Fc%E4%B8%8Ecpp%2F</url>
    <content type="text"><![CDATA[æ•°æ®ç±»åž‹ç»å¯¹å€¼åœ¨$10^9$èŒƒå›´ä»¥å†…æˆ–è€…æ˜¯32ä½çš„æ•´æ•°éƒ½å¯ä»¥å®šä¹‰æˆintåž‹ã€‚ç»å¯¹å€¼åœ¨$10^{18}$èŒƒå›´ä»¥å†…æˆ–è€…æ˜¯64ä½ä»¥å†…çš„æ•´æ•°å¯ä»¥å®šä¹‰ä¸ºlong longåž‹ã€‚å¦‚æžœlong longåž‹èµ‹å¤§äºŽ$2^{31}-1$çš„åˆå€¼ï¼Œåˆ™éœ€è¦åœ¨åˆå€¼åŽé¢åŠ ä¸ŠLLã€‚é‡åˆ°æµ®ç‚¹åž‹æ•°æ®ä¸è¦ä½¿ç”¨floatï¼Œéƒ½åº”è¯¥ä½¿ç”¨doubleã€‚å°å†™å­—æ¯çš„ASCIIå€¼å¼€å§‹äºŽ97ï¼Œå¤§å†™å­—æ¯çš„ASCIIå€¼å¼€å§‹äºŽ65ã€‚å°å†™å­—æ¯æ¯”å¤§å†™å­—æ¯å¤§32ã€‚\0è¡¨ç¤ºNULLã€‚è¿ç®—ç¬¦è¿ç®—ç¬¦å«ä¹‰è¯­æ³•æ•ˆæžœ&lt;&lt;å·¦ç§»a &lt;&lt; xæ•´æ•°aæŒ‰äºŒè¿›åˆ¶ä½å·¦ç§»xä½&gt;&gt;å³ç§»a &gt;&gt; xæ•´æ•°aæŒ‰äºŒè¿›åˆ¶ä½å³ç§»xä½&amp;ä½ä¸Ža &amp; bæ•´æ•°aå’ŒbæŒ‰äºŒè¿›åˆ¶å¯¹é½ï¼Œè¿›è¡ŒæŒ‰ä½ä¸Žè¿ç®—$\mid$ä½æˆ–$a \mid b$æ•´æ•°aå’ŒbæŒ‰äºŒè¿›åˆ¶å¯¹é½ï¼Œè¿›è¡ŒæŒ‰ä½æˆ–è¿ç®—^ä½å¼‚æˆ–a ^ bæ•´æ•°aå’ŒbæŒ‰äºŒè¿›åˆ¶å¯¹é½ï¼Œè¿›è¡ŒæŒ‰ä½æˆ–è¿ç®—~ä½å–å~aæ•´æ•°aåœ¨äºŒè¿›åˆ¶ä¸‹å„ä½å–åè§£é‡ŠæŒ‰ä½ä¸Žï¼šé™¤äº†11ä¸º1ï¼Œå…¶ä»–éƒ½æ˜¯0ï¼›æŒ‰ä½æˆ–ï¼šé™¤äº†00ä¸º0ï¼Œå…¶ä»–éƒ½æ˜¯1ï¼›æŒ‰ä½å¼‚æˆ–ï¼šç›¸åŒä¸º0ï¼Œä¸åŒä¸º1ã€‚æ— ç©·å¤§const int INF = (1 &lt;&lt; 30) - 1;const int INF = 0x3fffffff;scanfæ•°æ®ç±»åž‹æ ¼å¼ç¬¦ä¸¾ä¾‹int%dscanf(&quot;%d&quot;, &amp;n)long long%lldscanf(&quot;%lld&quot;, &amp;ll)float%fscanf(&quot;%f&quot;, &amp;fl)double%lfscanf(&quot;%lf&quot;, &amp;db)char%cscanf(&quot;%d&quot;, &amp;c)å­—ç¬¦ä¸²ï¼ˆcharæ•°ç»„ï¼‰%sscanf(&quot;%d&quot;, str)scanfåŒå¼•å·ä¹‹å†…çš„å­—ç¬¦ä¸²å…¶å®žç±»ä¼¼ä¸€ä¸ªåŒ¹é…æ¨¡å¼ï¼Œæˆ‘ä»¬è¾“å…¥çš„å‚æ•°åªè¦èƒ½åŒ¹é…è¿™ä¸ªæ¨¡å¼å…¶å®žéƒ½ç®—å¯¹ã€‚æ¯”å¦‚åœ¨è¾“å…¥æ—¶é—´æ—¶ï¼šscanf(&quot;%d:%d:%d&quot;, &amp;hour, &amp;minute, &amp;second)ã€‚è¾“å…¥çš„å‚æ•°åªè¦æ˜¯ï¼šhâ€‹:m:â€‹dçš„å½¢å¼å°±è¡Œã€‚é™¤äº†å­—ç¬¦ç±»åž‹ï¼ˆ%cï¼‰ï¼Œscanfå¯¹äºŽå…¶ä»–ç±»åž‹éƒ½æ˜¯é»˜è®¤ä»¥ç©ºç™½ç¬¦ï¼ˆç©ºæ ¼ã€æ¢è¡Œç­‰ï¼‰åˆ¤æ–­ç»“æŸæ ‡å¿—çš„ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨å­—ç¬¦ç±»åž‹æ—¶å¯ä»¥è¯»å…¥ç©ºç™½ç¬¦ã€‚å¦‚å¯¹äºŽscanf(&quot;%d%c%s&quot;, &amp;a, %c, str)ï¼Œæˆ‘ä»¬è¾“å…¥1 a badï¼Œå¾—åˆ°çš„ç»“æžœæ˜¯a=1, c= , str=aã€‚printfæ•°æ®ç±»åž‹æ ¼å¼ç¬¦ä¸¾ä¾‹int%dprintf(&quot;%d&quot;, n)long long%lldprintf(&quot;%lld&quot;, ll)float%fprintf(&quot;%f&quot;, fl)double%fprintf(&quot;%f&quot;, db)char%cptintf(&quot;%d&quot;, c)å­—ç¬¦ä¸²ï¼ˆcharæ•°ç»„ï¼‰%sptintf(&quot;%d&quot;, str)è¾“å‡º%å’Œ\ï¼šprintf(&quot;%%&quot;)ï¼Œprintf(&quot;\\&quot;)%md &amp; %0md &amp; %.md%mdï¼šä½¿ä¸è¶³mä½çš„intåž‹å˜é‡ä»¥mä½ä¸”å³å¯¹é½è¾“å‡ºï¼Œé«˜ä½ä»¥ç©ºæ ¼è¡¥é½ï¼Œè‹¥å˜é‡æœ¬èº«è¶…è¿‡mä½ï¼Œåˆ™ä¿æŒåŽŸæ ·ã€‚%0mdï¼šä½¿ä¸è¶³mä½çš„intåž‹å˜é‡ä»¥mä½ä¸”å³å¯¹é½è¾“å‡ºï¼Œé«˜ä½ä»¥0è¡¥é½ï¼Œè‹¥å˜é‡æœ¬èº«è¶…è¿‡mä½ï¼Œåˆ™ä¿æŒåŽŸæ ·ã€‚%.mfï¼šè®©æµ®ç‚¹æ•°ä¿ç•™mä½å°æ•°è¾“å‡ºã€‚å¦‚æžœé¢˜ç›®è¦æ±‚ä¿ç•™xxä½å°æ•°ï¼Œä½¿ç”¨è¿™ä¸ªæ ¼å¼ä¾¿æ˜¯æ­£ç¡®çš„ã€‚è¿™ç§æ ¼å¼ä¸æ˜¯å››èˆäº”å…¥ï¼šå®ƒæ˜¯å››èˆå…­å…¥å¶æˆåŒã€‚getchar &amp; putchargetchar()è¾“å…¥å•ä¸ªå­—ç¬¦ï¼Œputchar(char c)è¾“å‡ºå•ä¸ªå­—ç¬¦ã€‚å¦‚char c = getchar();ï¼Œgetchar()å¯ä»¥è¯»å…¥æ¢è¡Œç¬¦ã€‚typedefç»™å¤æ‚çš„æ•°æ®ç±»åž‹å®šä¹‰ä¸€ä¸ªåˆ«åã€‚å¦‚ï¼štypedef long long llã€‚å¸¸ç”¨mathå‡½æ•°doubleç±»åž‹å–ç»å¯¹å€¼ï¼šfabs(double x)doubleç±»åž‹å‘ä¸Šå–æ•´ï¼šfloor(double x)doubleç±»åž‹å‘ä¸‹å–æ•´ï¼šceil(double x)æ±‚$r_p$ï¼špow(double r, double p)å–doubleç±»åž‹çš„ç®—æœ¯å¹³æ–¹æ ¹ï¼šsqrt(double x)å¾—åˆ°ä»¥è‡ªç„¶å¯¹æ•°ä¸ºåº•çš„å¯¹æ•°ï¼šlog(double x)å¾—åˆ°ä»¥aä¸ºåº•bçš„å¯¹æ•°ï¼š$log_ab$=log(b)/log(a)å››èˆäº”å…¥ï¼šround (double x)ä¸‰è§’å‡½æ•°ï¼šsin(double x)ï¼Œcos(double x)ï¼Œtan(double x)ï¼šå‚æ•°æ˜¯å¼§åº¦åˆ¶ã€‚asin(double x)ï¼Œacos(double x)ï¼Œatan(double x)ã€‚memsetmemset(æ•°ç»„å, å€¼, sizeof(æ•°ç»„å));ã€‚memsetæ˜¯æŒ‰å­—èŠ‚èµ‹å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„å­—èŠ‚éƒ½ä¼šè¢«èµ‹å€¼ä¸ºç›¸åŒçš„æ•°å€¼ï¼Œæ¯”å¦‚å¯¹äºŽint a[10]ï¼Œä½¿ç”¨memset(a, 1, sizeof(a);ï¼Œåˆ™å››åä¸ªå­—èŠ‚ä¸Šçš„äºŒè¿›åˆ¶ç»“æžœéƒ½æ˜¯00000001ã€‚ç”±äºŽ0çš„äºŒè¿›åˆ¶è¡¥ç å…¨ä¸º0ï¼Œ-1çš„äºŒè¿›åˆ¶è¡¥ç å…¨ä¸º1ï¼Œæ‰€ä»¥memsetä¸€èˆ¬åªç”¨äºŽèµ‹å€¼0å’Œ-1ã€‚å­—ç¬¦æ•°ç»„ä»…åœ¨åˆå§‹åŒ–çš„æ—¶å€™å¯ä»¥ç›´æŽ¥èµ‹å€¼å­—ç¬¦ä¸²ï¼Œå¦‚ï¼šchar str[4] = &quot;PAT&quot;;gets(str)ï¼šè¯»å…¥ä¸€è¡Œå­—ç¬¦ä¸²ï¼Œä»¥æ¢è¡Œç¬¦ä½œä¸ºè¾“å…¥ç»“æŸã€‚puts(str)ï¼šè¾“å‡ºä¸€è¡Œå­—ç¬¦ä¸²ï¼Œå³è¾“å‡ºå­—ç¬¦ä¸²+æ¢è¡Œç¬¦ã€‚gets()å’Œscanf()åœ¨è¯»å…¥å­—ç¬¦ä¸²æ—¶ä¼šè‡ªåŠ¨æ·»åŠ ç»“æŸç¬¦ï¼ˆ\0ï¼‰ã€‚string.hå¤´æ–‡ä»¶strlen()ï¼šèŽ·å¾—å­—ç¬¦æ•°ç»„ä¸­ç¬¬ä¸€ä¸ª\0å‰çš„å­—ç¬¦ä¸ªæ•°ï¼ˆä¸åŒ…å«\0ï¼‰ã€‚strcmp(str1, str2)ï¼šæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°ï¼ˆå­—å…¸åºï¼‰ï¼šstr1 &lt; str2ï¼šè¿”å›žè´Ÿæ•´æ•°ï¼›str1 == str2ï¼šè¿”å›ž0ï¼›str1 &gt; str2ï¼šè¿”å›žæ­£æ•´æ•°ï¼›strcpy(str1, str2)ï¼šæŠŠstr2å¤åˆ¶ç»™str1ï¼ŒåŒ…å«ç»“æŸç¬¦\0ã€‚strcat(str1, str2)ï¼šæŠŠstr2ç²˜è´´åœ¨str1åŽé¢ï¼ˆè¦†ç›–str1çš„\0ï¼‰ã€‚sscanf &amp; sprintfç”¨äºŽå¤„ç†å­—ç¬¦ä¸²é—®é¢˜ï¼šsscanf(åŽŸä½ç½®ï¼Œæ ¼å¼ç¬¦ï¼Œç›®çš„ä½ç½®)ï¼šæŠŠåŽŸä½ç½®é‡Œçš„æ•°æ®è¾“å…¥åˆ°ç›®çš„ä½ç½®ä¸­ã€‚sprintf(ç›®çš„ä½ç½®, æ ¼å¼ç¬¦, åŽŸä½ç½®)ï¼šæŠŠåŽŸä½ç½®é‡Œçš„æ•°æ®è¾“å‡ºåˆ°ç›®çš„ä½ç½®ä¸­ã€‚12345678int main()&#123; int n; char str[100] = "123"; sscanf(str, "%d", &amp;n); //å­—ç¬¦è½¬intæ—¶ä¸æ˜¯å¼ºè½¬ä¸ºASCIIï¼Œæ˜¯å­—é¢å€¼ç›¸åŒã€‚ printf("%d\n", n); //123 return 0;&#125;å¤„ç†å¤æ‚çš„å­—ç¬¦ä¸²ï¼š12345678910int main()&#123; int n; double db; char str1[100] = "2048:3.14,hello"; char str2[100]; sscanf(str1, "%d:%lf,%s", &amp;n, &amp;db, str2); printf("n=%d, db=%.2f, str2=%s\n", n, db, str2); //n=2048, db=3.14, str2=hello return 0;&#125;12345678910int main()&#123; int n = 12; double db = 3.1415926; char str1[100]; char str2[100] = "good"; sprintf(str1, "%d:%.2lf,%s", n, db, str2); printf("str2=%s\n", str1); //str2=12:3.14,good return 0;&#125;æŒ‡é’ˆæŒ‡é’ˆå­˜å‚¨çš„åœ°å€çš„ç±»åž‹ç§°ä¸ºåŸºç±»åž‹ã€‚åŸºç±»åž‹å¿…é¡»å’ŒæŒ‡é’ˆå˜é‡å­˜å‚¨çš„åœ°å€ç±»åž‹ç›¸åŒã€‚è¿›è¡ŒåŠ å‡æ³•å¾—åˆ°çš„æ˜¯å…¶åŸºç±»åž‹åç§»çš„ä½æ•°ã€‚å¦‚ï¼Œä¸¤ä¸ªintåž‹æŒ‡é’ˆç›¸å‡ï¼Œç­‰ä»·äºŽä¸¤ä¸ªæŒ‡é’ˆä¹‹é—´å·®äº†å‡ ä¸ªintã€‚æŒ‡é’ˆä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œä¼ é€’çš„æ˜¯åœ°å€çš„æ‹·è´123456789101112void testPointer(int *p1, int * p2)&#123; p1 = p1 + 1; cout &lt;&lt; *p1 &lt;&lt; endl; //3&#125;int main()&#123; int a[6] = &#123;1, 2, 3, 4, 5, 6 &#125;; testPointer(&amp;a[1], &amp;a[5]); cout &lt;&lt; a[1] &lt;&lt; endl; // 2 return 0;&#125;æŒ‡é’ˆåœ¨åˆ›å»ºçš„æ—¶å€™èµ‹äºˆåˆå€¼ã€‚å¦åˆ™å¯èƒ½å‡ºçŽ°é—®é¢˜ã€‚å¦‚int *temp;ï¼Œtempä¼šè¢«èµ‹äºˆä¸€ä¸ªéšæœºç©ºé—´ï¼Œå¯èƒ½æŒ‡å‘ç³»ç»ŸåŠŸèƒ½åŒºï¼Œæ­¤æ—¶ç¨‹åºè¿è¡Œå°±ä¼šé—®é¢˜ã€‚ç»“æž„ä½“ç»“æž„ä½“é™åˆ¶ï¼šç»“æž„ä½“å†…éƒ¨ä¸èƒ½å®šä¹‰æœ¬ç±»åž‹ï¼Œä½†å¯ä»¥å®šä¹‰æœ¬ç±»åž‹çš„æŒ‡é’ˆã€‚ç»“æž„ä½“çš„æž„é€ å‡½æ•°ï¼š1234567891011121314struct studentInfo&#123; int id; char gender; studentInfo()&#123;&#125; studentInfo(char _gender): gender(_gender) &#123;&#125; studentInfo(int _id, char _gender): id(_id), gender(_gender) &#123;&#125;&#125;;int main()&#123; studentInfo stu = studentInfo(10086, 'M'); cout &lt;&lt; stu.id &lt;&lt; " " &lt;&lt; stu.gender &lt;&lt; endl; return 0;&#125;æµ®ç‚¹æ•°çš„æ¯”è¾ƒè®¡ç®—æœºé‡‡ç”¨æœ‰é™ä½çš„äºŒè¿›åˆ¶ä»£ç ï¼Œå› æ­¤æµ®ç‚¹æ•°åœ¨è®¡ç®—æœºä¸­çš„å­˜å‚¨å¹¶ä¸æ€»æ˜¯ç²¾ç¡®çš„ï¼Œå…·ä½“å‚è€ƒIEEE754è§„åˆ™ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªæžå°æ•°epsï¼ˆä¸€èˆ¬å®šä¹‰ä¸º$10^{-8}$ï¼‰å¯¹è¿™ç§è¯¯å·®è¿›è¡Œä¿®æ­£ã€‚ç­‰äºŽè¿ç®—å¤§äºŽè¿ç®—å°äºŽè¿ç®—å¤§äºŽç­‰äºŽè¿ç®—å°äºŽç­‰äºŽè¿ç®—123456789101112const double eps = 1e-8;const double Pi = acos(-1.0);#define Equ(a, b) ((fabs((a) - (b))) &lt; (eps))#define More(a, b) ((a) &gt; (b + (eps)))#define Less(a, b) ((a) &lt; (b - (eps)))#define MoreEqu(a, b) ((a) &gt; (b - (eps)))#define LessEqu(a, b) ((a) &lt; (b + (eps)))å•ç‚¹æµ‹è¯•æäº¤çš„ç¨‹åºè¢«æ‰§è¡Œå¤šæ¬¡ï¼Œæ¯æ¬¡æ‰§è¡Œä¼šè¾“å…¥ä¸€ç»„æ•°æ®ï¼Œå¾—åˆ°è¾“å‡ºåŽå’Œæ­¤ç»„æ•°æ®çš„ç»“æžœåšæ¯”è¾ƒï¼Œå¦‚æžœç›¸åŒåˆ™åˆ¤æ–­æ­¤æµ‹è¯•ç‚¹é€šè¿‡ï¼Œæ€»æˆç»©ç­‰äºŽNæ¬¡æ‰§è¡Œçš„æˆç»©ä¹‹å’Œã€‚PATé‡‡ç”¨çš„æ˜¯å•ç‚¹æµ‹è¯•çš„æ–¹æ¡ˆã€‚å¤šç‚¹æµ‹è¯•æäº¤çš„ç¨‹åºè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œä¼šæŠŠæ‰€æœ‰çš„æµ‹è¯•æ•°æ®éƒ½è¾“å…¥ï¼Œå¦‚æžœå…¶ä¸­ä¸€ç»„è¾“å‡ºå‡ºé”™ï¼Œåˆ™æ­¤é¢˜é”™è¯¯ã€‚æ‰€ä»¥æ­¤æ—¶éœ€è¦ç¨‹åºèƒ½æœ‰å¾ªçŽ¯è¯»å…¥å¤šç»„æ•°æ®çš„èƒ½åŠ›ã€‚å¤§å¤šæ•°OJç³»ç»Ÿé‡‡ç”¨è¿™ç§æ–¹æ¡ˆï¼Œå¦‚codeupã€‚ä¸‹é¢ä»‹ç»ä¸‰ç§è¯»å…¥æ–¹æ¡ˆï¼šwhile ... EOFåº”ç”¨äºŽæ²¡æœ‰ç»™å®šè¾“å…¥çš„ç»“æŸæ¡ä»¶ï¼Œé»˜è®¤è¯»åˆ°æ–‡ä»¶æœ«å°¾ã€‚123while(scanf("%d", &amp;n) != EOF)&#123; ...&#125;while ... breakåº”ç”¨äºŽé¢˜ç›®è¦æ±‚è¾“å…¥çš„æ•°æ®æ»¡è¶³æŸä¸ªæ¡ä»¶æ—¶åœæ­¢è¾“å…¥12345while(scanf("%d", &amp;n) != EOF)&#123; if(n == 0) break; ...&#125;while(T--)å½“é¢˜ç›®ç»™å‡ºæµ‹è¯•æ•°æ®ç»„æ•°æ—¶é‡‡ç”¨è¿™ç§æ–¹æ¡ˆã€‚1234int T = 20ï¼›while(T--)&#123; ...&#125;]]></content>
      <categories>
        <category>ç®—æ³•ç¬”è®°</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>PAT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[05-Shell]]></title>
    <url>%2F2019%2F05-Shell%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹Shellæ˜¯ä¸€ä¸ªå‘½ä»¤è§£é‡Šå™¨ï¼Œç”¨æˆ·è¾“å…¥å‘½ä»¤æ¥èŽ·å¾—è‡ªå·±æƒ³è¦çš„ç»“æžœï¼Œä½†æ˜¯ç»ˆç«¯ä¸­è¾“å…¥çš„å‘½ä»¤å¾ˆéš¾è¿›è¡Œé«˜çº§è¯­è¨€çš„é€‰æ‹©ã€å¾ªçŽ¯ç­‰æ“ä½œã€‚ä¸è¿‡Shellç¨‹åºå¯ä»¥å­˜æ”¾åœ¨æ–‡ä»¶ä¸Šï¼Œç§°ä¸ºShellè„šæœ¬ï¼ˆè™½ç„¶Linuxæ–‡ä»¶ä¸ä»¥åŽç¼€ååŒºåˆ†æ–‡ä»¶ç±»åž‹ï¼Œä½†æ˜¯ä¸€èˆ¬ç¼–å†™Shellè„šæœ¬æ—¶æ–‡ä»¶åä¼šå‘½åä¸ºä»¥.shç»“å°¾ï¼‰ã€‚åœ¨è„šæœ¬ä¸­å¯ä»¥è¾ƒæ–¹ä¾¿çš„è¿›è¡Œç±»ä¼¼é«˜çº§è¯­è¨€çš„æ“ä½œã€‚æœ€ç®€å•çš„Shellè„šæœ¬æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç›´æŽ¥åœ¨ç»ˆç«¯è¾“å…¥echoå‘½ä»¤æ˜¯å›žæ˜¾å‚æ•°ï¼ŒæŠŠechoå‘½ä»¤æ”¾åœ¨shellè„šæœ¬ä¸­æœ‰ç›¸åŒçš„æ•ˆæžœã€‚è®¾ç½®æˆå¯æ‰§è¡Œæ–‡ä»¶å˜é‡Shellè„šæœ¬ä¸­çš„å˜é‡ç›´æŽ¥ä½¿ç”¨=ä¾¿å¯åˆ›å»ºï¼Œä½¿ç”¨$è§£æžå˜é‡åã€‚{}æ˜¯åˆ†ç»„å‘½ä»¤ï¼Œè¡¨ç¤ºHæ˜¯ä¸€ä¸ªå˜é‡ï¼Œè¿™é‡Œä¸åŠ ä¹Ÿå¯ä»¥ã€‚ç‰¹æ®Šå˜é‡$#ï¼šé™¤è„šæœ¬åå¤–ï¼Œå‘½ä»¤è¡Œä¸Šå‚æ•°çš„ä¸ªæ•°ã€‚$*ï¼šè¡¨ç¤ºåœ¨å‘½ä»¤è¡Œä¸Šå®žé™…ç»™å‡ºçš„æ‰€æœ‰å®žå‚ã€‚å¦‚ï¼šexam3.sh A B C D E F G H I J Kã€‚$#æ˜¯11ã€‚$*æ˜¯ï¼š A B C D E F G H I J K$nï¼šè¡¨ç¤ºå‘½ä»¤è¡Œä¸Šç¬¬nä¸ªå‚æ•°$0è¡¨ç¤ºæ–‡ä»¶å $1è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•° â€¦$@ï¼šè¡¨ç¤ºåœ¨å‘½ä»¤è¡Œä¸Šå®žé™…ç»™å‡ºçš„æ‰€æœ‰å®žå‚ã€‚å¦‚ï¼šexam3.sh A B C D E F G H I J Kã€‚$@å°±æ˜¯ï¼š â€œAâ€ â€œBâ€ â€œCâ€ â€œDâ€ â€œEâ€ â€œFâ€ â€œGâ€ â€œHâ€ â€œIâ€ â€œJâ€ â€œKâ€$$ï¼šå½“å‰è¿›ç¨‹çš„è¿›ç¨‹å·$!ï¼šä¸Šä¸€ä¸ªåŽå°å‘½ä»¤å¯¹åº”çš„è¿›ç¨‹å·ã€‚$?ï¼šä¸Šä¸€æ¡å‰å°å‘½ä»¤æ‰§è¡ŒåŽçš„è¿”å›žå€¼ã€‚ç®—æœ¯è¿ç®—æ‰§è¡Œç®—æœ¯è¿ç®—éœ€è¦ä½¿ç”¨letï¼Œå¦‚let c=$a+$bã€‚å¯ä»¥ä½¿ç”¨c=$(($a+$b))ä»£æ›¿ã€‚å…¶ä¸­ç®—æœ¯è¿ç®—ç¬¦åŠä¼˜å…ˆçº§ç­‰åŒäºŽCè¯­è¨€ã€‚åŒæ—¶å¤šäº†ä¸ª**è¡¨ç¤ºå¹‚è¿ç®—ã€‚ï¼ˆè¿ç®—ç¬¦å‰åŽä¸è¦æœ‰ç©ºæ ¼ï¼‰ä»Žå‘½ä»¤è¡Œè¯»å…¥å‚æ•°ç›´æŽ¥ä½¿ç”¨readï¼Œå‘½ä»¤è¡Œä¸­çš„å‚æ•°ä¼šè¯»åˆ°readåŽé¢è·Ÿçš„å‚æ•°ï¼ˆç›¸å½“äºŽå˜é‡ï¼‰é‡Œã€‚è¯»å…¥æ—¶è¾“å‡ºæç¤ºä¿¡æ¯ï¼šå¼•å·åŒå¼•å·ï¼šç”±åŒå¼•å·å¼•èµ·æ¥çš„å­—ç¬¦ï¼ˆé™¤$ã€`å’Œ`\`ï¼‰éƒ½è¢«å½“åšæ™®é€šå­—ç¬¦å¯¹å¾…ã€‚$è¡¨ç¤ºå˜é‡æ›¿æ¢ï¼› `è¡¨ç¤ºå‘½ä»¤æ›¿æ¢ï¼›\ä¹‹åŽçš„å­—ç¬¦åªæœ‰æ˜¯$ã€ ã€åŒå¼•å·ã€`æˆ–æ¢è¡Œç¬¦ä¹‹ä¸€æ—¶ä¼šæˆä¸ºè½¬ä¹‰å­—ç¬¦ã€‚å…¶ä»–æƒ…å†µéƒ½æ˜¯\æœ¬èº«ã€‚å•å¼•å·ï¼šå•å¼•å·å¼•èµ·æ¥çš„å­—ç¬¦éƒ½æ˜¯æ™®é€šå­—ç¬¦ã€‚ç‰¹æ®Šå­—ç¬¦ä¹Ÿå¤±æ•ˆã€‚å€’å¼•å·ï¼šè¢«åˆ°å¼•å·å¼•èµ·æ¥çš„å­—ç¬¦è¢«è§£é‡Šä¸ºå‘½ä»¤ã€‚å¦‚ä¸Šä¸Šå›¾ä¸­æ‰€ç¤ºã€‚æ•°ç»„å˜é‡ä¹‹é—´ä½¿ç”¨ç©ºæ ¼éš”å¼€å„ä¸ªå…ƒç´ ã€‚å¦‚æžœå…ƒç´ ä¸­æœ‰ç©ºæ ¼ï¼Œä½¿ç”¨åŒå¼•å·å¼•èµ·æ¥ã€‚æµ‹è¯•æ¡ä»¶ä»»ä½•å‘½ä»¤éƒ½å¯ä»¥ä½œä¸ºæ¡ä»¶ï¼Œshellä¼šæ‰§è¡Œè¿™ä¸ªå‘½ä»¤å¹¶æ£€æŸ¥è¿”å›žå€¼ï¼Œå¦‚æžœå‘½ä»¤æˆåŠŸï¼ˆè¿”å›žå€¼ä¸º0ï¼‰ï¼Œè¡¨ç¤ºçœŸã€‚test &lt;æ¡ä»¶&gt;ï¼šå¦‚test n1 -eq n2[ æ¡ä»¶ ]ï¼šå¦‚[ n1 -eq n2 ]æœ‰å…³æ–‡ä»¶æ–¹é¢çš„æµ‹è¯•-r æ–‡ä»¶åï¼šçœŸ &lt;==&gt; æ–‡ä»¶å­˜åœ¨å¹¶ä¸”æ˜¯ç”¨æˆ·å¯è¯»-w æ–‡ä»¶åï¼šçœŸ &lt;==&gt; æ–‡ä»¶å­˜åœ¨å¹¶ä¸”æ˜¯ç”¨æˆ·å¯å†™-x æ–‡ä»¶åï¼šçœŸ &lt;==&gt; æ–‡ä»¶å­˜åœ¨å¹¶ä¸”ç”¨æˆ·å¯æ‰§è¡Œ-f æ–‡ä»¶åï¼šçœŸ &lt;==&gt; æ–‡ä»¶å­˜åœ¨ä¸”æ˜¯æ™®é€šæ–‡ä»¶-d æ–‡ä»¶åï¼šçœŸ &lt;==&gt; æ–‡ä»¶å­˜åœ¨ä¸”æ˜¯ç›®å½•æ–‡ä»¶-s æ–‡ä»¶åï¼šçœŸ &lt;==&gt; æ–‡ä»¶å­˜åœ¨ä¸”é•¿åº¦å¤§äºŽ0æœ‰å…³å­—ç¬¦ä¸²æ–¹é¢çš„æµ‹è¯•-z s1ï¼šçœŸ &lt;==&gt; å­—ç¬¦ä¸²é•¿åº¦ä¸º0-n s1ï¼šçœŸ &lt;==&gt; å­—ç¬¦ä¸²é•¿åº¦å¤§äºŽ0s1ï¼šçœŸ &lt;==&gt; å­—ç¬¦ä¸²ä¸æ˜¯ç©ºå­—ç¬¦ä¸²s1 = s2ï¼ˆåœ¨â€œ=â€å‰åŽåº”æœ‰ç©ºæ ¼ï¼‰ï¼šçœŸ &lt;==&gt; å­—ç¬¦ä¸²ç›¸ç­‰s1 != s2ï¼šçœŸ &lt;==&gt; å­—ç¬¦ä¸²ä¸ç­‰s1 &lt; s2ï¼šçœŸ &lt;==&gt; æŒ‰å­—å…¸é¡ºåºs1åœ¨s2ä¹‹åŽs1 &gt; s2ï¼šçœŸ &lt;==&gt; æŒ‰å­—å…¸é¡ºåºs1åœ¨s2ä¹‹å‰æ•°å€¼æ–¹é¢çš„æµ‹è¯•n1 -eq n2ï¼šçœŸ &lt;==&gt; æ•°å€¼ç›¸ç­‰n1 -ne n2ï¼šçœŸ &lt;==&gt; æ•°å€¼ä¸ç­‰n1 -lt n2ï¼šçœŸ &lt;==&gt; n1å°äºŽn2n1 -le n2ï¼šçœŸ &lt;==&gt; n1å°äºŽæˆ–ç­‰äºŽn2n1 -gt n2ï¼šçœŸ &lt;==&gt; n1å¤§äºŽn2n1 -ge n2ï¼šçœŸ &lt;==&gt; n1å¤§äºŽæˆ–ç­‰äºŽn2é€»è¾‘è¿ç®—ç¬¦!ï¼šé€»è¾‘éž-aï¼šé€»è¾‘ä¸Ž-oï¼šé€»è¾‘æˆ–(è¡¨è¾¾å¼)ï¼šåœ†æ‹¬å·æ‹¬èµ·æ¥è¡¨ç¤ºä¸ºä¸€æ¡è¯­å¥é€‰æ‹©ç»“æž„å¾ªçŽ¯ç»“æž„break &amp; continueå’ŒCè¯­è¨€ä¸€è‡´ã€‚shiftå‚æ•°è·³è½¬å‘½ä»¤ï¼šä¸è·Ÿæ•°ç»„é»˜è®¤è·³è½¬1ä½ï¼Œè·Ÿäº†è·³è½¬nä½ã€‚å‘½ä»¤è¡Œex.shABCDEFåŽŸä½ç½®å‚æ•°$0$1$2$3$4$5$6ç§»ä½åŽå‚æ•°$0$1$2$3$4$5è¿˜å¯ä»¥ç”¨äºŽå¾ªçŽ¯ç»“æž„çš„doneä¸Šé¢ï¼Œè¡¨ç¤ºæ¯æ¬¡é€‰æ‹©æŒ‡å®šå‚æ•°ã€‚å‚æ•°ç½®æ¢å˜é‡æ ¼å¼var1ä¸ºç©ºvar1ä¸ç©ºvar2=${var1:-str}var2=strã€‚var1ä¸å˜var2=$var1ã€‚var1ä¸å˜var2=${var1:=str}var2=var1=strvar2=$var1ã€‚var1ä¸å˜var2=${var1:+str}var2ä¸ºç©ºã€‚var1ä¸å˜var2=strã€‚var1ä¸å˜var2=${var1:?str}è¾“å‡ºï¼šâ€œshell è„šæœ¬å:var1:strâ€å¹¶é€€å‡ºshellã€‚var2ä¸å˜var2=$var1ã€‚var1ä¸å˜ex1ç¼–å†™ex1.shï¼Œå‚æ•°ä¸ºä¸€ä¸ªå¤§äºŽ 20 çš„æ­£æ•´æ•°ã€‚å…ˆæ£€æŸ¥å‚æ•°æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚å¦‚æžœä¸ç¬¦åˆè¦æ±‚ï¼Œè¯·ç»™å‡ºæç¤ºï¼›å¦‚æžœç¬¦åˆè¦æ±‚ï¼Œè¾“å‡ºè¿™ä¸ªå‚æ•°çš„å¹³æ–¹ã€‚ex2ç¼–å†™ex2.shï¼Œé¦–å…ˆæ˜¾ç¤ºå½“å¤©æ—¥æœŸï¼Œç„¶åŽæŸ¥æ‰¾ç»™å®šçš„ç”¨æˆ·æ˜¯å¦åœ¨ç³»ç»Ÿä¸­å·¥ä½œï¼ˆwho å‘½ä»¤ï¼‰ã€‚å¦‚æžœåœ¨ç³»ç»Ÿä¸­ï¼Œå°±è¾“å‡ºä¸€æ¡æ¬¢è¿Žè¯­å¥ï¼ˆä¾‹å¦‚ helloï¼Œxxxxï¼ï¼‰ï¼›å¦‚æžœä¸åœ¨ç³»ç»Ÿä¸­ï¼Œå°±è¾“å‡ºä¸€æ¡è¯­å¥ï¼ˆwaiting for xxxï¼ï¼‰ex3ç¼–å†™ ex3.shï¼Œè¯¥è„šæœ¬æŽ¥å—ä¸€ä¸ªå‚æ•°ã€‚è‹¥æ”¹å‚æ•°ä¸æ˜¯ç›®å½•ï¼Œåˆ™ç»™å‡ºæç¤ºä¿¡æ¯ï¼›å¦åˆ™ä½¿ç”¨llå‘½ä»¤åˆ—å‡ºè¯¥ç›®å½•ä¸‹çš„å†…å®¹ï¼Œå¹¶è¾“å‡ºæœ‰å¤šå°‘ä¸ªå­ç›®å½•ï¼ˆdå¼€å¤´ï¼‰ï¼Œå¤šå°‘ä¸ªæ™®é€šæ–‡ä»¶ï¼ˆ-å¼€å¤´ï¼‰ã€‚ex4ç¼–å†™ ex4.shï¼Œå°†ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šçš„å†…å®¹ copy åˆ°ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šåœ°ç‚¹ã€‚è‹¥ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®å½•ï¼Œè‡ªåŠ¨æ·»åŠ -ré€‰é¡¹ï¼ˆå³æŠŠç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹éƒ½ copy è¿‡åŽ»ï¼‰ï¼›è‹¥ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ™®é€šæ–‡ä»¶ï¼Œåˆ™å°†å…¶ copy åˆ°æŒ‡å®šåœ°ç‚¹ï¼›è‹¥ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™æŠ¥é”™ï¼›è‹¥ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½•å·²ç»å­˜åœ¨ï¼Œåˆ™æç¤ºæ˜¯å¦æ›¿æ¢ï¼Œè‹¥é€‰æ‹© yesï¼Œåˆ™å…ˆåˆ é™¤åŽŸæ¥çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œç„¶åŽå†æ‰§è¡Œ copy æ“ä½œï¼Œå¦åˆ™æ”¾å¼ƒã€‚ex5ç¼–å†™ ex5.shã€‚æ£€æŸ¥å‘½ä»¤è¡Œçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¦æ˜¯-bæˆ–è€…-sã€‚å¦‚æžœæ˜¯-bï¼Œåˆ™è®¡ç®—ç”±ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šçš„æ–‡ä»¶ä¸­ä»¥ b å¼€å¤´çš„è¡Œæ•°ã€‚å¦‚æžœæ˜¯-sï¼Œåˆ™è®¡ç®—ç”±ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šçš„æ–‡ä»¶ä¸­ä»¥ s å¼€å¤´çš„è¡Œæ•°ã€‚å¦åˆ™æ˜¾ç¤ºé€‰æ‹©æœ‰é”™çš„ä¿¡æ¯ã€‚ex6ç¼–å†™ ex6.shã€‚è¯¥è„šæœ¬éœ€è¦è¾“å…¥ä¸¤ä¸ªæ–‡ä»¶çš„åç§°ï¼Œç„¶åŽç”±ç”¨æˆ·é€‰æ‹©ç›¸åº”çš„æ“ä½œï¼ˆè‹¥ä¸¤ä¸ªå‚æ•°ä¸­ä»»ä½•ä¸€ä¸ªä¸æ˜¯æ™®é€šæ–‡ä»¶ï¼Œåˆ™æŠ¥é”™ï¼‰ã€‚catï¼šè¾“å‡ºä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹statisticï¼šç»Ÿè®¡ä¸¤ä¸ªæ–‡ä»¶åˆ†åˆ«æœ‰å¤šå°‘è¡Œmergeï¼šå°†ç¬¬ 1 ä¸ªæ–‡ä»¶çš„å†…å®¹åˆå¹¶åˆ°ç¬¬ 2 ä¸ªæ–‡ä»¶åŽé¢copyï¼šå°†ç¬¬ 1 ä¸ªæ–‡ä»¶çš„å†…å®¹ copy åˆ°ç¬¬ 2 ä¸ªæ–‡ä»¶ï¼ˆè¦†ç›–åŽŸæ–‡ä»¶ï¼‰byeï¼šé€€å‡º1exç¼–å†™ 1ex.shï¼Œåˆ©ç”¨ for å¾ªçŽ¯å°†å½“å‰ç›®å½•ä¸‹çš„.c æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‡å®šçš„ç›®å½•ä¸‹ï¼Œå®ŒæˆåŽæ˜¾ç¤ºæŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶å†…å®¹ï¼Œå¹¶æŒ‰æ–‡ä»¶ä»Žå°åˆ°å¤§æŽ’åºã€‚(ll -r -Sï¼‰2exç¼–å†™ 2ex.shï¼Œæ˜¾ç¤º Fibonacci æ•°åˆ—çš„å‰ 10 é¡¹åŠå…¶æ€»å’Œã€‚3exç¼–å†™ ex3.shï¼Œåˆ¤æ–­ç»™å®šçš„å‚æ•°æ˜¯å¦æ˜¯ç´ æ•°ã€‚4exç¼–å†™ ex4.shï¼Œå°†ç»™å®šçš„å‚æ•°è½¬æ¢æˆäºŒè¿›åˆ¶è¡¨ç¤ºã€‚5exex5.shå‡è®¾å­˜åœ¨ä¸€ä¸ª/homeworkçš„æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª studentlist.csvçš„æ–‡ä»¶ï¼Œå½“ä¸­å­˜æ”¾äº†è‹¥å¹²å­¦ç”Ÿçš„å­¦å·ï¼Œæ¯ä¸ªä¸€è¡Œã€‚ä¾‹å¦‚ï¼š150341101ã€150341102ã€150341105ã€150341106ï¼Œç¼–å†™ ex11.shã€‚æŸ¥çœ‹/homework æ–‡ä»¶å¤¹ä¸‹å­¦ç”Ÿæ˜¯å¦æäº¤äº†ä½œä¸šï¼Œå‡è®¾ä½œä¸šåçš„æ ¼å¼ä¸ºï¼šå­¦å·_homework.txtã€‚æœ€åŽè¾“å‡ºæ²¡æäº¤ä½œä¸šçš„å­¦å·åå•ã€‚]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[04-è¿›ç¨‹ç®¡ç†]]></title>
    <url>%2F2019%2F04-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%2F</url>
    <content type="text"><![CDATA[Linuxçš„è¿›ç¨‹çŠ¶æ€psProcess Statusã€‚æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€çš„æœ€å¸¸ç”¨çš„å‘½ä»¤ï¼Œå®ƒå¯ä»¥æä¾›å…³äºŽè¿›ç¨‹çš„è®¸å¤šä¿¡æ¯ã€‚ç›´æŽ¥ç”¨pså‘½ä»¤å¯ä»¥åˆ—å‡ºæ¯ä¸ªä¸Žä½ çš„å½“å‰Shellæœ‰å…³çš„è¿›ç¨‹çš„åŸºæœ¬ä¿¡æ¯ã€‚ps -efï¼šæ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹çš„å…¨é¢ä¿¡æ¯ã€‚-eï¼šæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹-fï¼šå…¨æ ¼å¼ç”¨æˆ·IDã€è¿›ç¨‹IDã€çˆ¶è¿›ç¨‹IDã€CPUå ç”¨çŽ‡ã€å¼€å§‹æ—¶é—´ã€å¼€å§‹æ­¤è¿›ç¨‹çš„ç»ˆç«¯è®¾å¤‡ã€æ­¤è¿›ç¨‹è¿è¡Œçš„æ€»æ—¶é—´ã€å‘½ä»¤åã€‚ps auxæ˜¾ç¤ºæ‰€æœ‰ç»ˆç«¯ä¸Šæ‰€æœ‰ç”¨æˆ·çš„æœ‰å…³è¿›ç¨‹çš„æ‰€æœ‰ä¿¡æ¯ã€‚ç»ˆç»“è¿›ç¨‹é€šå¸¸æ¥è¯´ï¼Œç»ˆç»“ä¸€ä¸ªå‰å°è¿›ç¨‹å¯ä»¥ä½¿ç”¨Ctrl+Cã€‚ç»ˆç»“ä¸€ä¸ªåŽå°è¿›ç¨‹å¾—ä½¿ç”¨killå‘½ä»¤ã€‚kill &lt;è¿›ç¨‹å·&gt;ã€‚å¦‚æžœæƒ³å¼ºåˆ¶æ€æŽ‰ä¸€ä¸ªè¿›ç¨‹éœ€è¦ä½¿ç”¨-9ï¼škill -9 &lt;è¿›ç¨‹å·&gt;sleepä½¿è¿›ç¨‹æš‚åœç”±æ—¶é—´å€¼æ‰€æŒ‡å®šçš„ç§’æ•°ã€‚æ­¤å‘½ä»¤å¤§å¤šç”¨äºŽshellç¨‹åºè®¾è®¡ä¸­ï¼Œä½¿ä¸¤æ¡å‘½ä»¤æ‰§è¡Œä¹‹é—´åœé¡¿æŒ‡å®šçš„æ—¶é—´ã€‚å¦‚ï¼šsleep 100; who | grep &#39;root&#39;ã€‚waitwaitæ˜¯ç”¨æ¥é˜»å¡žå½“å‰è¿›ç¨‹çš„æ‰§è¡Œï¼Œç›´è‡³æŒ‡å®šçš„å­è¿›ç¨‹æ‰§è¡Œç»“æŸåŽï¼Œæ‰ç»§ç»­æ‰§è¡Œã€‚wait [è¿›ç¨‹å· æˆ– ä½œä¸šå·]ï¼šegï¼šwait 23 or wait %1å¦‚æžœwaitåŽé¢ä¸å¸¦ä»»ä½•çš„è¿›ç¨‹å·æˆ–ä½œä¸šå·ï¼Œé‚£ä¹ˆwaitä¼šé˜»å¡žå½“å‰è¿›ç¨‹çš„æ‰§è¡Œï¼Œç›´è‡³å½“å‰è¿›ç¨‹çš„æ‰€æœ‰å­è¿›ç¨‹éƒ½æ‰§è¡Œç»“æŸåŽï¼Œæ‰ç»§ç»­æ‰§è¡Œã€‚fork()fork()å‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªå’ŒåŽŸæ¥è¿›ç¨‹å‡ ä¹Žå®Œå…¨ç›¸åŒçš„è¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªè¿›ç¨‹å¯ä»¥åšå®Œå…¨ç›¸åŒçš„äº‹ã€‚ä½†å¦‚æžœåˆå§‹å‚æ•°æˆ–è€…ä¼ å…¥çš„å˜é‡ä¸åŒï¼Œä¸¤ä¸ªè¿›ç¨‹ä¹Ÿå¯ä»¥åšä¸åŒçš„äº‹ã€‚ä¸€ä¸ªè¿›ç¨‹è°ƒç”¨fork()å‡½æ•°åŽï¼Œç³»ç»Ÿå…ˆç»™æ–°çš„è¿›ç¨‹åˆ†é…èµ„æºï¼Œä¾‹å¦‚å­˜å‚¨æ•°æ®å’Œä»£ç çš„ç©ºé—´ã€‚ç„¶åŽæŠŠåŽŸæ¥çš„è¿›ç¨‹çš„æ‰€æœ‰å€¼éƒ½å¤åˆ¶åˆ°æ–°çš„æ–°è¿›ç¨‹ä¸­ï¼Œåªæœ‰å°‘æ•°å€¼ä¸ŽåŽŸæ¥çš„è¿›ç¨‹çš„å€¼ä¸åŒã€‚ç›¸å½“äºŽå…‹éš†äº†ä¸€ä¸ªè‡ªå·±ã€‚fork()è°ƒç”¨ä¸€æ¬¡ï¼Œåˆ†åˆ«å‘çˆ¶å­è¿›ç¨‹è¿”å›žï¼Œå®ƒå¯èƒ½æœ‰ä¸‰ç§ä¸åŒçš„è¿”å›žå€¼ï¼šåœ¨çˆ¶è¿›ç¨‹ä¸­ï¼Œfork()è¿”å›žæ–°åˆ›å»ºå­è¿›ç¨‹çš„è¿›ç¨‹IDï¼›åœ¨å­è¿›ç¨‹ä¸­ï¼Œfork()è¿”å›ž0ï¼›å¦‚æžœå‡ºçŽ°é”™è¯¯ï¼Œfork()è¿”å›žä¸€ä¸ªè´Ÿå€¼ï¼›æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡forkè¿”å›žçš„å€¼æ¥åˆ¤æ–­å½“å‰è¿›ç¨‹æ˜¯å­è¿›ç¨‹è¿˜æ˜¯çˆ¶è¿›ç¨‹ã€‚åŒæ—¶æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªäº’ä¸ç›¸åŒçš„è¿›ç¨‹æ ‡è¯†ç¬¦ï¼ˆprocess IDï¼‰ï¼Œå¯ä»¥é€šè¿‡getpid()å‡½æ•°èŽ·å¾—ï¼Œè¿˜æœ‰ä¸€ä¸ªè®°å½•çˆ¶è¿›ç¨‹pidçš„å˜é‡ï¼Œå¯ä»¥é€šè¿‡getppid()å‡½æ•°èŽ·å¾—å˜é‡çš„å€¼ã€‚é¢˜1æºä»£ç è¿è¡Œç»“æžœåˆ†æžç¨‹åºè¿è¡Œåˆ°ç¬¬7è¡Œï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå…‹éš†ä¸€ä»½å½“å‰è¿›ç¨‹ã€‚å‘çˆ¶è¿›ç¨‹è¿”å›žå­è¿›ç¨‹çš„pidï¼Œå‘å­è¿›ç¨‹è¿”å›ž0ã€‚æ‰€ä»¥æ‰§è¡ŒåŽçˆ¶è¿›ç¨‹è¿›å…¥ç¬¬3ä¸ªåˆ†æ”¯ï¼Œå­è¿›ç¨‹è¿›å…¥ç¬¬2ä¸ªåˆ†æ”¯ã€‚é¢˜2æºä»£ç ç»“æžœåˆ†æžé¢˜3æºä»£ç ç»“æžœåˆ†æžé¢˜4é¢˜ç›®åˆ†æžæ‰§è¡Œç¬¬5è¡Œä¹‹åŽï¼Œå‘çˆ¶è¿›ç¨‹è¿”å›žçœŸï¼Œå‘å­è¿›ç¨‹è¿”å›žå‡ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•å½±å“ï¼Œæ­¤æ—¶åˆ›å»ºäº†ä¸€ä¸ªè¿›ç¨‹ï¼Œä¹‹åŽçˆ¶å­è¿›ç¨‹åˆ›å»ºçš„è¿›ç¨‹ä¸ªæ•°ç›¸åŒï¼Œæ‰€ä»¥åªåˆ†æžä¸€ä¸ªå†ä¹˜ä»¥2å³å¯ã€‚ç¬¬ä¸€ä¸ªå­è¿›ç¨‹åˆ†æžç»“æžœå¦‚ä¸‹å›¾ã€‚æ³¨æ„ï¼Œå¯¹äºŽA &amp;&amp; B || Cï¼šè¡¨è¾¾å¼Aä¸ºå‡ï¼ŒBä¸æ‰§è¡Œï¼ŒCæ‰§è¡Œï¼›è¡¨è¾¾å¼Aä¸ºçœŸï¼ŒBæ‰§è¡Œï¼šBä¸ºçœŸï¼šCä¸æ‰§è¡Œï¼›Bä¸ºå‡ï¼šCæ‰§è¡Œã€‚æ‰€ä»¥ç­”æ¡ˆæ˜¯1+9*2=19ä¸ªã€‚]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[03-vim]]></title>
    <url>%2F2019%2F03-vim%2F</url>
    <content type="text"><![CDATA[vi &amp; vimè¿™ä¿©éƒ½æ˜¯æ–‡æœ¬ç¼–è¾‘å™¨ã€‚viæ˜¯Linuxé»˜è®¤çš„ç¼–è¾‘å™¨ï¼Œç±»ä¼¼äºŽwindowsçš„è®°äº‹æœ¬ã€‚vimæ˜¯viçš„æ‹“å±•ï¼Œæ¯”viæ›´å¼ºå¤§ã€‚å¯ä»¥ç”¨äºŽåœ¨Linuxä¸­ç¼–è¾‘æ–‡ä»¶å†…å®¹ã€‚ç¬”è®°ä¸­ä½¿ç”¨vimã€‚å®ƒæœ‰ä¸¤ç§æ¨¡å¼ï¼Œå‘½ä»¤æ¨¡å¼å’Œç¼–è¾‘æ¨¡å¼ï¼Œåœ¨å‘½ä»¤æ¨¡å¼ä¸­å¯ä»¥åšä¸€äº›æ£€ç´¢ã€ç­›é€‰ç­‰æ“ä½œã€‚åœ¨ç¼–è¾‘æ¨¡å¼ä¸­å¯ä»¥å¯¹æ–‡æ¡£è¿›è¡Œä¿®æ”¹ã€‚è¿›å…¥ &amp; é€€å‡ºè¿›å…¥å‘½ä»¤æ¨¡å¼æ–¹æ³•ï¼švim &lt;æ–‡ä»¶å&gt;ã€‚æ­¤æ—¶è¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œä¸èƒ½å¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œæ“ä½œã€‚å¯¹æ–‡æ¡£çš„æ£€ç´¢æ˜¯åœ¨è¿™ç§æ¨¡å¼ä¸‹è¿›è¡Œçš„ã€‚è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼šiï¼šç¼–è¾‘ä½ç½®åœ¨å½“å‰å…‰æ ‡ä½ç½®ä¹‹å‰æŒ‰ä¸‹iå†æŒ‰_Iï¼šåœ¨å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œé¦–æ’å…¥æ–°å¢žæ–‡æœ¬æŒ‰ä¸‹Iå†æŒ‰_aï¼šåœ¨è¯¥å‘½ä»¤ä¹‹åŽè¾“å…¥çš„å­—ç¬¦éƒ½æ’åˆ°å…‰æ ‡ä¹‹åŽæŒ‰ä¸‹aå†æŒ‰_Aï¼šåœ¨å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œå°¾æ·»åŠ æ–‡æœ¬æŒ‰ä¸‹Aå†æŒ‰_oï¼šåœ¨å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹é¢æ–°å¼€è¾Ÿä¸€è¡Œï¼ŒéšåŽè¾“å…¥çš„æ–‡æœ¬å°±æ’å…¥åœ¨è¿™ä¸€è¡ŒæŒ‰ä¸‹oå†æŒ‰_Oï¼šåœ¨å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸Šé¢æ–°å¼€è¾Ÿä¸€è¡Œï¼ŒéšåŽè¾“å…¥çš„æ–‡æœ¬å°±æ’å…¥åœ¨è¿™ä¸€è¡Œä¸ŠæŒ‰ä¸‹Oå†æŒ‰_rï¼šæ›¿æ¢å…‰æ ‡æ‰€åœ¨çš„å“ªä¸€ä¸ªå­—ç¬¦æŒ‰ä¸‹rå†æŒ‰_Rï¼šä¸€ç›´æ›¿æ¢å…‰æ ‡æ‰€åœ¨çš„æ–‡å­—ï¼Œç›´åˆ°æŒ‰ä¸‹ESCä¸ºæ­¢æŒ‰ä¸‹Rå†æŒ‰ä¸‰æ¬¡_å†æŒ‰Escé€€å‡ºç¼–è¾‘æ¨¡å¼åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹æŒ‰ Esc é”®ã€‚é€€å‡ºå‘½ä»¤æ¨¡å¼éœ€è¦ä½¿ç”¨è½¬ä¹‰å­—ç¬¦::qï¼šè‹¥æœªä¿®æ”¹æ–‡ä»¶ï¼Œæ­¤å‘½ä»¤å¯ä»¥é€€å‡ºç¼–è¾‘å™¨ã€‚:wqï¼šæŠŠç¼–è¾‘ç¼“å†²åŒºçš„å†…å®¹å†™å…¥æ–‡ä»¶ä¸­ï¼Œé€€å‡ºç¼–è¾‘å™¨ï¼Œå›žåˆ°Shellä¸‹ã€‚:ZZæˆ–:xï¼šä»…å½“ä½œè¿‡ä¿®æ”¹æ—¶æ‰å°†ç¼“å†²åŒºå†…å®¹å†™åˆ°æ–‡ä»¶ä¸Šã€‚:q!ï¼š å¼ºè¡Œé€€å‡ºviã€‚å‘Šè¯‰viï¼Œæ— æ¡ä»¶é€€å‡ºï¼Œä¸¢å¼ƒç¼“å†²åŒºå†…å®¹ã€‚vimæµç¨‹å›¾å‘½ä»¤æ¨¡å¼ä¸‹çš„å…‰æ ‡è·³è½¬æ–¹å‘é”®å’ŒBackspaceé”®çš„ä½¿ç”¨å’Œæ­£å¸¸æƒ…å†µä¸‹ç›¸åŒã€‚ç§»åŠ¨åˆ°ä¸Šä¸€è¡Œï¼Œåˆ—ä¸å˜ï¼škç§»åŠ¨åˆ°ä¸Šä¸€è¡Œè¡Œå¤´ï¼š-ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œï¼Œåˆ—ä¸å˜ï¼šjç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œè¡Œå¤´ï¼š+å¦‚æžœåœ¨ç›¸åº”å‘½ä»¤çš„å‰é¢åŠ ä¸Šä¸€ä¸ªæ•°å­—nï¼Œç›¸åº”å‘½ä»¤æ‰§è¡Œnæ¬¡ã€‚å¦‚2kè¡¨ç¤ºå‘ä¸Šç§»åŠ¨ä¸¤è¡Œï¼Œåˆ—ä¸å˜ã€‚ç§»è‡³è¡Œé¦–ï¼š^æˆ–0ç§»è‡³è¡Œå°¾ï¼š$ç§»è‡³æŒ‡å®šè¡Œï¼šè¡Œå·Gã€‚å¦‚2Gï¼Œç§»åŠ¨åˆ°ç¬¬äºŒè¡Œè¡Œé¦–ã€‚ç§»è‡³æŒ‡å®šåˆ—ï¼šåˆ—å·|ã€‚å¦‚2|ï¼Œç§»åŠ¨åˆ°æœ¬è¡Œç¬¬2åˆ—ã€‚æ–‡æœ¬åˆ é™¤å‘½ä»¤xï¼ˆå°å†™å­—æ¯ï¼‰åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„å­—ç¬¦ã€‚å‘½ä»¤Xï¼ˆå¤§å†™å­—æ¯ï¼‰åˆ é™¤å…‰æ ‡å‰é¢çš„é‚£ä¸ªå­—ç¬¦å‘½ä»¤ddåˆ é™¤å…‰æ ‡æ‰€åœ¨çš„æ•´è¡Œå‘½ä»¤Dä»Žå…‰æ ‡ä½ç½®å¼€å§‹åˆ é™¤åˆ°è¡Œå°¾d&lt;å…‰æ ‡ç§»åŠ¨å‘½ä»¤&gt;åˆ é™¤ä»Žå…‰æ ‡ä½ç½®å¼€å§‹è‡³å…‰æ ‡ç§»åŠ¨å‘½ä»¤ä¹‹é—´çš„æ‰€æœ‰å­—ç¬¦ã€‚å¦‚ï¼šd0ï¼šä»Žå…‰æ ‡ä½ç½®ï¼ˆä¸åŒ…æ‹¬å…‰æ ‡ä½ï¼‰åˆ è‡³è¡Œé¦–ã€‚d3lï¼šä»Žå…‰æ ‡ä½ç½®ï¼ˆåŒ…æ‹¬å…‰æ ‡ä½ï¼‰å‘å³åˆ 3ä¸ªå­—ç¬¦ã€‚d$ï¼šä»Žå…‰æ ‡ä½ç½®ï¼ˆåŒ…æ‹¬å…‰æ ‡ä½ï¼‰åˆ è‡³è¡Œå°¾ã€‚ä¸ŽDç›¸åŒã€‚d5Gï¼šå°†å…‰æ ‡æ‰€åœ¨è¡Œè‡³ç¬¬5è¡Œéƒ½åˆ é™¤ã€‚å¤åŽŸå‘½ä»¤uï¼šå–æ¶ˆå‰é¢åˆšæ‰§è¡Œçš„æ’å…¥æˆ–åˆ é™¤å‘½ä»¤çš„æ•ˆæžœï¼Œæ¢å¤åˆ°æ­¤å‰çš„æƒ…å†µã€‚Uï¼šæ€»æ˜¯æŠŠå½“å‰è¡Œæ¢å¤æˆå®ƒè¢«ç¼–è¾‘ä¹‹å‰çš„çŠ¶æ€ã€‚é‡å¤å‘½ä»¤.ï¼šåœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œé‡å¤æ‰§è¡Œå‰ä¸€æ¬¡æ’å…¥å‘½ä»¤æˆ–åˆ é™¤å‘½ä»¤è¡¥å……æ–‡æœ¬ç¼–è¾‘å‘½ä»¤æ–¹å¼ä¸‹d0ï¼šåˆ è‡³è¡Œé¦–d$ï¼šåˆ è‡³è¡Œå°¾nddï¼šåˆ é™¤å½“å‰è¡ŒåŠå…¶åŽçš„n-1è¡Œyyï¼šå¤åˆ¶å½“å‰è¡Œçš„æ–‡æœ¬10yyï¼šå¤åˆ¶åŒ…æ‹¬å½“å‰è¡ŒåŠå…¶åŽé¢9è¡Œæ–‡æœ¬pï¼šåœ¨å½“å‰è¡ŒåŽé¢æ’å…¥ä¸€ä¸ªç©ºè¡Œï¼ŒæŠŠç¼“å†²åŒºçš„å†…å®¹ç²˜è´´è¿‡æ¥Pï¼šåœ¨å½“å‰è¡Œå‰é¢æ’å…¥ä¸€ä¸ªç©ºè¡Œï¼ŒæŠŠç¼“å†²åŒºçš„å†…å®¹ç²˜è´´è¿‡æ¥exè½¬ç§»æ–¹å¼ä¸‹:n1,n2 dï¼šå°†n1è¡Œåˆ°n2è¡Œçš„å†…å®¹åˆ é™¤:n1,n2 co n3ï¼šå°†n1è¡Œåˆ°n2è¡Œçš„å†…å®¹å¤åˆ¶åˆ°n3è¡Œä¸‹:n1,n2 m n3ï¼šå°†n1è¡Œåˆ°n2è¡Œçš„å†…å®¹ç§»åˆ°n3è¡Œä¸‹å­—ç¬¦ä¸²æ£€ç´¢å‘ä¸‹æ£€ç´¢ï¼š/æ¨¡å¼ã€ˆEnterã€‰ã€‚ä¾‹å¦‚ï¼š/intå‘ä¸Šæ£€ç´¢ï¼š?æ¨¡å¼ã€ˆEnterã€‰ã€‚ä¾‹å¦‚ï¼š?floutå­—ç¬¦ä¸²æ›¿æ¢:n1,n2s/word1/word2/gï¼šn1å’Œn2ä¸ºæ•°å­—ã€‚åœ¨n1ä¸Žn2è¡Œä¹‹é—´å¯»æ‰¾word1è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å°†è¯¥å­—ç¬¦ä¸²æ›¿æ¢ä¸ºword2ã€‚ä¾‹å¦‚:100,200s/a/Aåœ¨100è¡Œåˆ°200è¡Œä¹‹é—´æœç´¢aå¹¶æ›¿æ¢æˆAã€‚:1,$s/word1/word2/gcï¼šå…¨å±€æœç´¢word1ï¼Œæ›¿æ¢æˆword2ã€‚gæ”¹æˆgcè¡¨ç¤ºè¦ç”¨æˆ·ç¡®è®¤ã€‚:%s/$/s2/gï¼šåœ¨æ•´ä¸ªè¡Œçš„æœ«å°¾æ·»åŠ s2ã€‚å…¨å±€æ›¿æ¢å‘½ä»¤gï¼š:g/æ¨¡å¼/å‘½ä»¤è¡¨ã€‚:g/s1/pï¼šæ‰“å°æ–‡æœ¬ä¸­æœ‰s1çš„è¡Œã€‚på‘½ä»¤è¡¨ç¤ºæ‰“å°ã€‚å—é€‰æ‹©ctrl+vï¼Œç„¶åŽä½¿ç”¨æ–¹å‘é”®é€‰æ‹©å—ã€‚yï¼šå¤åˆ¶åç™½çš„åœ°æ–¹dï¼šå°†åç™½çš„åœ°æ–¹åˆ é™¤æŽ‰pï¼šæ’å…¥å¤åˆ¶çš„å†…å®¹å‚è€ƒï¼šhttps://jingyan.baidu.com/article/84b4f565c6b9e560f6da3291.htmlã€‚]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>æœåŠ¡å™¨</tag>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[02-Linuxå¸¸ç”¨å‘½ä»¤]]></title>
    <url>%2F2019%2F02-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[è¾“å…¥ç»ˆç«¯çª—å£ä¸­çš„å‘½ä»¤ä»¥Enteré”®ç»“æŸï¼Œä¸”Shellå‘½ä»¤åŒºåˆ†å¤§å°å†™ã€‚å¦‚æžœå‘½ä»¤å¤ªé•¿ï¼Œä¸€è¡Œæ”¾ä¸ä¸‹æ—¶ï¼Œåœ¨è¡Œå°¾è¾“å…¥\å¹¶æŒ‰Enteré”®ã€‚è¿™æ—¶Shellä¼šè¿”å›žä¸€ä¸ªå¤§äºŽå·ï¼ˆ&gt;ï¼‰ä½œä¸ºæç¤ºç¬¦ï¼Œè¡¨ç¤ºè¯¥å‘½ä»¤è¡Œå°šæœªç»“æŸï¼Œå…è®¸ç»§ç»­è¾“å…¥æœ‰å…³ä¿¡æ¯ã€‚echoechoå‘½ä»¤æŠŠå‘½ä»¤è¡Œä¸­çš„å‚æ•°å…¨éƒ¨æ˜¾ç¤ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆç»ˆç«¯ï¼‰ä¸­ã€‚å¦‚æžœå‚æ•°ç”¨å¼•å·å¼•èµ·æ¥ï¼Œä¼šæŒ‰åŽŸæ ·è¾“å‡ºã€‚å¦åˆ™ä¼šæŠŠå„ä¸ªå•è¯æŒ‰å­—ç¬¦ä¸²è¾“å‡ºï¼Œå­—ç¬¦ä¸²ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚å•å¼•å·/åŒå¼•å·çš„åŒºåˆ«è¯·çœ‹Shellé‚£ä¸€éƒ¨åˆ†ã€‚è¾“å‡ºé‡å®šå‘Linuxçš„æ ‡å‡†è¾“å‡ºæ˜¯å±å¹•ï¼ŒæŠŠç»“æžœè¾“å‡ºåˆ°æŒ‡å®šçš„æ–‡ä»¶å«åšè¾“å‡ºé‡å®šå‘ã€‚&gt;ï¼šç›®æ ‡æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç³»ç»Ÿå°†å»ºç«‹è¯¥æ–‡ä»¶ï¼›æ–‡ä»¶å­˜åœ¨ï¼Œé‡å®šå‘å°†ä¼šåˆ é™¤è¯¥æ–‡ä»¶ï¼Œå¹¶é‡æ–°å»ºç«‹ä¸€ä¸ªæ–°æ–‡ä»¶å­˜æ”¾ç»“æžœã€‚&gt;&gt;ï¼šç›®æ ‡æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç³»ç»Ÿå°†å»ºç«‹è¯¥æ–‡ä»¶ï¼›å¦‚æžœç›®æ ‡æ–‡ä»¶å­˜åœ¨ï¼Œæ–°çš„è¾“å‡ºç»“æžœå°†ä¼šè¿½åŠ åˆ°æ–‡ä»¶æœ«å°¾ã€‚pwdæ˜¾ç¤ºå‡ºå½“å‰æ‰€åœ¨ç›®å½•çš„è·¯å¾„ã€‚åŽ†å²å‘½ä»¤historyå‘½ä»¤å¯ä»¥çœ‹åˆ°ç”¨æˆ·æ‰€æœ‰æ›¾ç»è¾“å…¥è¿‡çš„å‘½ä»¤ã€‚!!ï¼šæ‰§è¡Œä¸Šä¸€ä¸ªå‘½ä»¤ï¼›`!nï¼šæ‰§è¡Œç¬¬nä¸ªå‘½ä»¤ï¼›!-nï¼šæ‰§è¡Œå€’æ•°ç¬¬nä¸ªå‘½ä»¤ï¼›!xxxï¼šæ‰§è¡Œä»¥xxxå¼€å¤´çš„å‘½ä»¤ï¼Œå¦‚ä¹‹å‰ä½¿ç”¨è¿‡clearï¼Œ!cleä¼šæ‰§è¡Œclearã€‚~/.bash_historyæ–‡ä»¶ä¸­ä¼šå­˜å‚¨ä½ è¿‘æœŸä½¿ç”¨è¿‡çš„å‘½ä»¤ã€‚æŸ¥çœ‹æ­¤æ–‡ä»¶ï¼šcat ~/.bash_historydatedateå‘½ä»¤åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæˆ–è®¾ç½®ç³»ç»Ÿçš„æ—¥æœŸå’Œæ—¶é—´ï¼šdate [+æ ¼å¼æŽ§åˆ¶å­—ç¬¦ä¸²]æ ¼å¼æŽ§åˆ¶å­—ç¬¦ä¸²å¸¸ç”¨å•å¼•å·å¼•èµ·æ¥ã€‚å¹´:Y æœˆ:m æ—¥:d å°æ—¶:H åˆ†:M ç§’:Sæœ‰ä¸”åªæœ‰è¶…çº§ç”¨æˆ·èƒ½è®¾ç½®æˆ–ä¿®æ”¹ç³»ç»Ÿæ—¶é’Ÿï¼Œè¯­æ³•å¦‚ä¸‹ï¼šdate -s â€œyear-month-day hour:minute:secondâ€ç³»ç»Ÿåœ¨å¯åŠ¨çš„æ—¶å€™æ˜¯ä»ŽCMOSï¼ˆç”¨æ¥å­˜å‚¨è®¡ç®—æœºæŸäº›å‚æ•°çš„èŠ¯ç‰‡ï¼‰ä¸­åŠ è½½æ—¶é’Ÿï¼Œä¸ºäº†ä¿æŒç³»ç»Ÿæ—¶é—´ä¸ŽCMOSæ—¶é—´çš„ä¸€è‡´æ€§ï¼ŒLinuxæ¯éš”ä¸€æ®µæ—¶é—´ä¼šå°†ç³»ç»Ÿæ—¶é—´å†™å…¥CMOSã€‚ç”±äºŽè¯¥åŒæ­¥æ˜¯æ¯éš”ä¸€æ®µæ—¶é—´è¿›è¡Œçš„ï¼Œåœ¨æˆ‘ä»¬æ‰§è¡Œdate -såŽï¼Œå¦‚æžœé©¬ä¸Šé‡èµ·æœºå™¨ï¼Œä¿®æ”¹æ—¶é—´å°±æœ‰å¯èƒ½æ²¡æœ‰è¢«å†™å…¥CMOSï¼Œè€Œhwclock â€“wå¼ºåˆ¶æŠŠç³»ç»Ÿæ—¶é—´å†™å…¥CMOSã€‚calåˆ—å‡ºæ—¥åŽ†ä¿¡æ¯ã€‚å•ç‹¬ä¸€ä¸ªcalï¼šåˆ—å‡ºå½“å‰æœˆçš„æ—¥åŽ†ä¿¡æ¯ã€‚cal xxxxï¼šåˆ—å‡ºxxxxå¹´çš„æ—¥åŽ†ä¿¡æ¯ã€‚cal yy xxxxï¼šåˆ—å‡ºxxxxå¹´yyæœˆçš„æ—¥åŽ†ä¿¡æ¯ã€‚cal dd yy xxxxï¼šåˆ—å‡ºxxxxå¹´yyæœˆxxæ—¥æ‰€åœ¨æœˆçš„æ—¥åŽ†ä¿¡æ¯ã€‚clearclearå‘½ä»¤æ¸…é™¤å±å¹•ä¸Šçš„ä¿¡æ¯ï¼Œæ¸…å±åŽï¼Œæç¤ºç¬¦ç§»åˆ°å±å¹•å·¦ä¸Šè§’ã€‚å…³æœº &amp; é‡å¯shutdown -h nowï¼šç«‹åˆ»å…³æœºshutdown -h 15:30ï¼š15:30 å…³æœºshutdown -h +30ï¼š30 åˆ†é’ŸåŽå…³æœºrebootï¼šé‡å¯shutdown -k +2 &quot;ä¸€ä¼šè¦å…³æœºï¼ŒæŠ“ç´§ä¿å­˜&quot;ï¼šå‘æ‰€æœ‰ç”¨æˆ·è¾“å‡ºå…³æœºé€šçŸ¥ï¼Œä½†ä¸åšçœŸæ­£æ“ä½œã€‚+2è¡¨ç¤ºé€šçŸ¥çš„å…³æœºæ—¶é—´æ˜¯çŽ°åœ¨ä¹‹åŽçš„ä¸¤åˆ†é’Ÿã€‚å¸®åŠ©å‘½ä»¤å¦‚æžœæˆ‘ä»¬å¿˜è®°æŸäº›å‘½ä»¤æˆ–å…¶å‚æ•°å¦‚ä½•ä½¿ç”¨ï¼Œéœ€è¦ä½¿ç”¨å¸®åŠ©å‘½ä»¤ã€‚whatis &lt;å‘½ä»¤&gt;ï¼šæ˜¾ç¤ºå‘½ä»¤çš„ç®€çŸ­æè¿°ã€‚&lt;å‘½ä»¤&gt; -helpï¼šæ˜¾ç¤ºä½¿ç”¨æ–¹æ³•æ¦‚è¿°å’Œå‚æ•°åˆ—è¡¨ã€‚man &lt;å‘½ä»¤&gt;ï¼šä¸ºå‘½ä»¤æä¾›ç›¸å…³å¸®åŠ©æ–‡æ¡£ï¼Œé¡µé¢åˆ†æˆç« èŠ‚ã€‚info &lt;å‘½ä»¤&gt;ï¼šç±»ä¼¼manå‘½ä»¤ï¼Œä½†æ˜¯é€šå¸¸æ¯”å®ƒæ›´è¯¦ç»†ã€‚åˆ‡æ¢è·¯å¾„å‘½ä»¤cd &lt;ä½ç½®&gt;ï¼šåˆ‡æ¢åˆ°æŒ‡å®šä½ç½®ï¼›cd ~ï¼šåˆ‡æ¢åˆ°ç”¨æˆ·å®¶ç›®å½•ï¼›cd -ï¼šåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ‰€åœ¨ç›®å½•ï¼›passwdä¿®æ”¹å¯†ç ã€‚å•ç‹¬çš„passwdï¼šä¿®æ”¹ä½¿ç”¨è¯¥å‘½ä»¤çš„ç”¨æˆ·çš„å¯†ç ã€‚passwd ç”¨æˆ·åï¼šrootç”¨æˆ·å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤ä¿®æ”¹å…¶ä»–ç”¨æˆ·çš„å¯†ç ã€‚Linuxç”¨æˆ·ç™»å½•Linuxç³»ç»Ÿæ—¶ï¼Œå¿…é¡»é€šè¿‡æŒ‡å®šçš„ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œç™»å½•ã€‚ä¸è¿‡æ‰€æœ‰çš„ç”¨æˆ·åœ¨Linuxçœ¼ä¸­éƒ½æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œç”¨useridï¼ˆä¸€ä¸ª32ä½çš„äºŒè¿›åˆ¶æ•´æ•°ï¼‰æ¥è¡¨ç¤ºã€‚å¯ä»¥é€šè¿‡idå‘½ä»¤ï¼ŒæŸ¥çœ‹è‡ªå·±çš„useridã€‚useridä¸º0çš„è¡¨ç¤ºæ ¹ç”¨æˆ·ã€‚åŒæ—¶ï¼Œåœ¨ç³»ç»Ÿè¿è¡Œçš„æ¯ä¸ªè¿›ç¨‹ã€æ‰€åˆ›å»ºçš„æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªuseridï¼Œè¿™ä¸ªuseridä»£è¡¨è¿è¡Œè¿™ä¸ªç¨‹åºçš„ç”¨æˆ·ï¼Œæˆ–è€…æ–‡ä»¶çš„æ‰€æœ‰è€…ã€‚Linuxç³»ç»Ÿä¸­ï¼Œç”¨æˆ·è¢«ä¿å­˜åœ¨/etc/passwdæ–‡ä»¶ä¸­ã€‚ç”¨æˆ·åˆåˆ†æˆä¸‰ç±»ï¼šä¸€èˆ¬ç”¨æˆ·ï¼ˆuserid&gt;=500ï¼‰ã€è¶…çº§ç”¨æˆ·ï¼ˆuserid=0ï¼‰å’Œç³»ç»Ÿç”¨æˆ·ï¼ˆuserid&lt;500ï¼‰ã€‚æŸ¥çœ‹ç”¨æˆ·Linuxæ˜¯ä¸€ä¸ªå¤šç”¨æˆ·ç³»ç»Ÿï¼Œå³å¾ˆå¤šä¸ªç”¨æˆ·åŒæ—¶æ“ä½œä¸€ä¸ªè®¾å¤‡ä¸­çš„èµ„æºï¼Œä½†ä¸åŒçš„ç”¨æˆ·æœ‰ä¸åŒçš„æƒé™ã€‚è¿™äº›ç”¨æˆ·ä¸­æœ‰ä¸€ä¸ªæ˜¯è¶…çº§ç”¨æˆ·ï¼ˆrootï¼‰ï¼Œå®ƒæ˜¯æƒé™æœ€é«˜çš„ç”¨æˆ·ã€‚rootç”¨æˆ·åœ¨ç»ˆç«¯ä¸­çš„è¾“å…¥å‘½ä»¤ä»¥#å¼€å¤´ï¼Œå…¶ä»–çš„ç”¨æˆ·ä»¥$å¼€å¤´ã€‚whoï¼šåˆ—å‡ºæ­£åœ¨ä½¿ç”¨ç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·ã€æ‰€ç”¨çš„ç»ˆç«¯åå’Œæ³¨å†Œåˆ°ç³»ç»Ÿçš„æ—¶é—´ã€‚who am iï¼šåˆ—å‡ºä½¿ç”¨è¯¥å‘½ä»¤çš„ç”¨æˆ·ã€æ‰€ç”¨çš„ç»ˆç«¯åå’Œæ³¨å†Œåˆ°ç³»ç»Ÿçš„æ—¶é—´ã€‚ç”¨æˆ·ç»„ç”±äºŽä¸åŒçš„ç”¨æˆ·æœ‰ä¸åŒçš„æƒé™ã€‚ä¸ºäº†ç»™ä¸åŒçš„ç”¨æˆ·èµ‹äºˆç›¸åŒçš„æƒé™æ›´åŠ æ–¹ä¾¿ï¼Œè¯žç”Ÿäº†ç”¨æˆ·ç»„çš„æ¦‚å¿µã€‚å³åŒä¸€ä¸ªç”¨æˆ·ç»„é‡Œçš„äººå‘˜å¯ä»¥æœ‰ç›¸åŒçš„æŸäº›æƒé™ã€‚Linuxä¸­çš„ç”¨æˆ·æˆ–æ–‡ä»¶è‡³å°‘å±žäºŽä¸€ä¸ªç”¨æˆ·ç»„ã€‚æ·»åŠ ç”¨æˆ·useraddæˆ–è€…adduserã€‚æ‰§è¡ŒåŽçš„å…·ä½“æ“ä½œï¼ˆä¸åŒå‘è¡Œç‰ˆæœ‰åŒºåˆ«ï¼‰ï¼šåˆ†é…ä¸€ä¸ªæ–°çš„useridï¼Œæ•°å€¼ç­‰äºŽä¹‹å‰æ‰€æœ‰useridä¸­æ•°å€¼æœ€å¤§çš„åŠ ä¸€ã€‚åœ¨/etc/passwdä¸­æ·»åŠ ä¸€è¡Œã€‚ä¸ºç”¨æˆ·åœ¨/homeä¸‹å»ºç«‹ä¸€ä¸ªæ–°çš„ç›®å½•ï¼ˆç”¨æˆ·çš„å®¶ç›®å½•ï¼‰ï¼Œç›®å½•åå’Œç”¨æˆ·åç›¸åŒã€‚åœ¨/etc/groupä¸­ä¸ºç”¨æˆ·å»ºç«‹ä¸€ä¸ªæ–°çš„ä¸ªäººç»„ã€‚åœ¨/var/spool/mailä¸­åˆ›å»ºç”¨æˆ·çš„é‚®ä»¶æ–‡ä»¶ã€‚åˆ é™¤ç”¨æˆ·userdel &lt;ç”¨æˆ·&gt;ã€‚åˆ é™¤ç”¨æˆ·åŠéƒ¨åˆ†ç›¸å…³ä¿¡æ¯ï¼Œå®¶ç›®å½•å’Œé‚®ä»¶æ–‡ä»¶è¿˜ä¼šå­˜åœ¨ã€‚-rï¼šåŒ…æ‹¬å®¶ç›®å½•å’Œé‚®ä»¶æ± ç­‰åœ¨å†…çš„æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯éƒ½ä¼šè¢«åˆ é™¤ã€‚æ·»åŠ /åˆ é™¤ç»„groupadd &lt;ç»„å&gt;ã€‚æ‰€æœ‰çš„ç»„éƒ½ä¿å­˜åœ¨/etc/groupæ–‡ä»¶ä¸­ã€‚groupdel &lt;ç»„å&gt;ã€‚åˆ é™¤ç»„ã€‚/etc/passwd &amp; /etc/shadow/etc/passwdæœ‰7åˆ—ï¼šç”¨æˆ·åã€å¯†ç ã€ç”¨æˆ·idã€ä¸»è¦ç»„idã€å¤‡æ³¨ä¿¡æ¯ã€ä¸»ç›®å½•ã€ç™»å½•shellã€‚å„åˆ—ä¹‹é—´ä½¿ç”¨:åˆ†å‰²ã€‚åŒæ—¶å¯†ç ä¸€èˆ¬éƒ½æ˜¯xï¼ˆè¢«åŠ å¯†äº†ï¼‰ï¼ŒåŠ å¯†åŽçš„å¯†ç åœ¨/etc/shadowä¸­ã€‚/etc/shadowæœ‰9åˆ—ï¼šç”¨æˆ·åã€åŠ å¯†å¯†ç ã€æœ€è¿‘æ›´æ”¹å¯†ç çš„æ—¥æœŸã€å¯†ç ä¸å¯æ›´æ”¹çš„å¤©æ•°ã€å¯†ç éœ€è¦é‡æ–°æ›´æ”¹çš„å¤©ä½¿ã€å¯†ç æ›´æ”¹æœŸé™å‰çš„è­¦å‘ŠæœŸé™ã€å¯†ç è¿‡æœŸçš„å®½é™æ—¶é—´ã€å¸å·å¤±æ•ˆæ—¥æœŸã€ä¿ç•™å­—æ®µã€‚ä½†è¿™é‡Œæ˜¾ç¤ºçš„å¯†ç æ˜¯åŠ å¯†çš„ã€‚æŸ¥çœ‹ç”¨æˆ·æ‰€å±žçš„ç»„groupsï¼šæŸ¥çœ‹ä½¿ç”¨æ­¤å‘½ä»¤çš„ç”¨æˆ·æ‰€å±žç»„ï¼›groups &lt;ç”¨æˆ·&gt;ï¼šæŸ¥çœ‹æŒ‡å®šç”¨æˆ·æ‰€å±žç»„ã€‚ç”¨æˆ·å¯å¤šé€‰ï¼Œä½¿ç”¨ç©ºæ ¼éš”å¼€ã€‚/etc/group &amp; /etc/gshadow/etc/groupï¼šç»„åã€ç»„å¯†ç ã€ç»„idã€ç»„ä¸­é™„åŠ ç”¨æˆ·ã€‚/etc/gshadowï¼šç»„åã€å¯†ç ã€ç»„ç®¡ç†è€…ã€ç»„ä¸­é™„åŠ ç”¨æˆ·ã€‚ä¸ºç”¨æˆ·æ·»åŠ å¤‡æ³¨åœ¨åˆ›å»ºçš„æ—¶å€™æ·»åŠ ï¼šuseradd -c &lt;å¤‡æ³¨&gt; ç”¨æˆ·åã€‚åˆ›å»ºåŽä¿®æ”¹ï¼šusermod -c &lt;å¤‡æ³¨&gt; ç”¨æˆ·åã€‚ï¼ˆä¼šæ¸…é™¤ä¹‹å‰çš„å¤‡æ³¨ä¿¡æ¯ï¼‰ã€‚usermodæ”¹å˜ç”¨æˆ·æŸäº›å±žæ€§çš„å‘½ä»¤ã€‚-lï¼šæ”¹å˜ç”¨æˆ·çš„åç§°ï¼›-Gï¼šæ”¹å˜ç”¨æˆ·æ”¯æŒçš„ç”¨æˆ·ç»„ï¼Œä¼šé€€å‡ºåŽŸæ¥çš„é™„å±žç»„ï¼Œé…åˆ-aä¸ä¼šåˆ é™¤ä¹‹å‰ç»„ï¼›-Lï¼šä¸è®©è¯¥ç”¨æˆ·ç™»å½•ï¼›-eï¼šè®¾å®šç”¨æˆ·å¤±æ•ˆæ—¥æœŸã€‚æ—¥æœŸæ ¼å¼ï¼šâ€œYYYY-MM-DDâ€ã€‚-sï¼šæ”¹å˜Shellã€‚æ–°åˆ›å»ºçš„ç”¨æˆ·é»˜è®¤ä½¿ç”¨bashï¼Œæ­¤é€‰é¡¹ä¿®æ”¹ç™»å½•Shellã€‚å¦‚ï¼šusermod -aG ç»„å ç”¨æˆ·gpasswdgpasswd -d userName groupNameï¼šä»Žç»„ä¸­åˆ é™¤ç”¨æˆ·åˆ‡æ¢ç”¨æˆ·è¶…çº§ç”¨æˆ·è¾“å…¥su ç”¨æˆ·åå¯ä»¥ä¸ç”¨è¾“å…¥å¯†ç åˆ‡æ¢åˆ°å…¶ä»–ç”¨æˆ·ã€‚æ™®é€šç”¨æˆ·åˆ‡æ¢åˆ°å…¶ä»–æ‰€æœ‰ç”¨æˆ·ï¼ˆsu ç”¨æˆ·åï¼‰éœ€è¦è¾“å…¥å¯†ç ã€‚æ–‡ä»¶ç³»ç»Ÿæ“ä½œç³»ç»Ÿä¸­è´Ÿè´£ç®¡ç†å’Œå­˜å‚¨æ–‡ä»¶ä¿¡æ¯çš„è½¯ä»¶æœºæž„ç§°ä¸ºæ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œç®€ç§°æ–‡ä»¶ç³»ç»Ÿã€‚æ–‡ä»¶ï¼šæ–‡ä»¶ç³»ç»Ÿä¸­å­˜å‚¨æ•°æ®çš„ä¸€ä¸ªå‘½åçš„å¯¹è±¡ã€‚å³ä½¿æ˜¯ç©ºæ–‡ä»¶ï¼ˆä¸åŒ…å«ç”¨æˆ·æ•°æ®ï¼‰ä¹Ÿä¼šä¸ºæ“ä½œç³»ç»Ÿæä¾›å…¶ä»–ä¿¡æ¯ã€‚ç›®å½•ï¼šåŒ…å«æ–‡ä»¶é¡¹ç›®çš„ä¸€ç±»ç‰¹æ®Šæ–‡ä»¶ã€‚Linuxä¸­åœ¨åº”ç”¨å±‚ä¸Šæ¥çœ‹ç›®å½•å’Œæ–‡ä»¶æ˜¯è¢«åŒºåˆ†å¼€æ¥çš„ã€‚æŸ¥æ‰¾æ–‡ä»¶find &lt;è·¯å¾„&gt; -name &#39;æ­£åˆ™è¡¨è¾¾å¼&#39;ï¼šå¦‚find . -name &#39;*.so&#39;ï¼ŒæŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹ä»¥.soç»“å°¾çš„æ–‡ä»¶ã€‚catcat &lt;æ–‡ä»¶&gt;ï¼šæ˜¾ç¤ºæ–‡ä»¶çš„å†…å®¹ã€‚æ–‡ä»¶å¯ä»¥å¤šé€‰ï¼Œä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚cat f1 &gt; f2ï¼šæŠŠf1æ–‡ä»¶çš„å†…å®¹åˆå¹¶åˆ°f2æ–‡ä»¶ä¸­ã€‚touchæ–‡ä»¶ä¸å­˜åœ¨ï¼šåˆ™åˆ›å»ºä¸€ä¸ªç©ºçš„æ–°æ–‡ä»¶ï¼›æ–‡ä»¶å­˜åœ¨ï¼šæŠŠæ–‡ä»¶çš„æ—¶é—´æ ‡ç­¾æ›´æ–°ä¸ºç³»ç»Ÿå½“å‰æ—¶é—´ã€‚grepå‘½ä»¤çš„æ„æ€ï¼šglobal search regular expression and print out the lineã€‚éƒ¨åˆ†é€‰é¡¹å¦‚ä¸‹ï¼š-aï¼šå°† binary æ–‡ä»¶ä»¥ text æ–‡ä»¶çš„æ–¹å¼æœå¯»æ•°æ®-cï¼šè®¡ç®—æ‰¾åˆ° â€˜æœå¯»å­—ç¬¦ä¸²â€™ çš„æ¬¡æ•°-iï¼šå¿½ç•¥å¤§å°å†™çš„ä¸åŒï¼Œæ‰€ä»¥å¤§å°å†™è§†ä¸ºç›¸åŒ-nï¼šé¡ºä¾¿è¾“å‡ºè¡Œå·-vï¼šåå‘é€‰æ‹©ï¼Œäº¦å³æ˜¾ç¤ºå‡ºæ²¡æœ‰ â€˜æœå¯»å­—ç¬¦ä¸²â€™ å†…å®¹çš„é‚£ä¸€è¡Œï¼--color=autoï¼šå¯ä»¥å°†æ‰¾åˆ°çš„å…³é”®è¯éƒ¨åˆ†åŠ ä¸Šé¢œè‰²çš„æ˜¾ç¤ºå–”ï¼ä¸¾ä¾‹å¦‚ä¸‹ï¼šç®¡é“å‘½ä»¤ç®¡é“å‘½ä»¤æ˜¯ç”¨æ¥è¿‡æ»¤ä¿¡æ¯çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¹‹å‰grep -n root /etc/passwdä¹‹åŽæ˜¾ç¤ºå¸¦æœ‰rootçš„è¡Œï¼Œå¦‚æžœæƒ³åœ¨ç»“æžœä¸­å†æŒ‰å…¶ä»–æ¡ä»¶è¿‡æ»¤å°±è¦ä½¿ç”¨ç®¡é“å‘½ä»¤ï¼šâ€œ|â€ã€‚ç»Ÿè®¡æ–‡ä»¶ä¿¡æ¯wcï¼šç»Ÿè®¡æŒ‡å®šæ–‡ä»¶çš„å­—èŠ‚æ•°ï¼ˆ-cï¼‰ã€å­—æ•°ï¼ˆ-wï¼‰ã€è¡Œæ•°ï¼ˆ-lï¼‰ä¾‹å­ï¼šç»Ÿè®¡æ–‡ä»¶aä¸­ä»¥bå¼€å¤´çš„è¡Œæ•°ï¼šcat a | grep ^b | wc -låˆ›å»ºç›®å½•mkdir &lt;æ–‡ä»¶å&gt;ã€‚-pï¼šçˆ¶ç›®å½•ä¸å­˜åœ¨æ—¶ä¹Ÿå¯ä»¥åˆ›å»ºã€‚åˆ é™¤æ–‡ä»¶/ç›®å½•rm -rf &lt;æ–‡ä»¶å&gt;ã€‚-rè¡¨ç¤ºé€’å½’åˆ é™¤ï¼›-fè¡¨ç¤ºå¼ºåˆ¶åˆ é™¤ï¼Œä¸è¯¢é—®ã€‚åˆ—å‡ºæ–‡ä»¶lså‘½ä»¤åˆ—å‡ºæŒ‡å®šç›®å½•çš„å†…å®¹ã€‚-lï¼šæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚è¾“å‡ºçš„ä¿¡æ¯åˆ†æˆå¤šåˆ—ï¼Œå®ƒä»¬ä¾æ¬¡æ˜¯ï¼šæ–‡ä»¶ç±»åž‹ä¸Žæƒé™ã€é“¾æŽ¥æ•°ã€æ–‡ä»¶ä¸»ã€æ–‡ä»¶ç»„ã€æ–‡ä»¶å¤§å°ã€å»ºç«‹æˆ–æœ€è¿‘ä¿®æ”¹çš„æ—¶é—´ã€æ–‡ä»¶åã€‚totalçš„è®¡ç®—ï¼šhttps://yq.aliyun.com/ziliao/264744ã€‚-aï¼šæ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ã€‚ä¹‹å‰æ˜¾ç¤ºçš„æ²¡æœ‰éšè—æ–‡ä»¶ï¼ˆä»¥.å¼€å¤´ï¼‰ã€‚-hï¼šæ–‡ä»¶å¤§å°ä»¥äººç±»å¯è¯»çš„æ–¹å¼æ˜¾ç¤ºã€‚éœ€è¦é…åˆ-lä½¿ç”¨ã€‚æ‹·è´æ–‡ä»¶cp &lt;æ–‡ä»¶&gt; &lt;ç›®å½•&gt;ã€‚å‰ªåˆ‡æ–‡ä»¶mv &lt;æ–‡ä»¶&gt; &lt;ç›®å½•&gt;ã€‚ä¿®æ”¹æ–‡ä»¶åmv &lt;æ–‡ä»¶&gt; &lt;æ–°æ–‡ä»¶å&gt;ã€‚æ–‡ä»¶ç»“æž„Linuxä¸­æ‰€æœ‰çš„æ–‡ä»¶éƒ½ç”±ä¸¤éƒ¨åˆ†æž„æˆã€‚ç´¢å¼•ç»“ç‚¹ï¼šåŒ…å«æ­¤æ–‡ä»¶çš„ä¿¡æ¯ï¼Œå¦‚æ–‡ä»¶æƒé™ã€æ–‡ä»¶ä¸»ã€æ–‡ä»¶å¤§å°ç­‰ã€‚æ•°æ®ï¼šæ–‡ä»¶çš„å®žé™…å†…å®¹ï¼Œæœ‰æ²¡æœ‰æ•°æ®éƒ½å¯ä»¥ã€‚é“¾æŽ¥é“¾æŽ¥å°±æ˜¯æŠŠæ–‡ä»¶åå’Œè®¡ç®—æœºæ–‡ä»¶ç³»ç»Ÿä½¿ç”¨çš„èŠ‚ç‚¹å·é“¾æŽ¥èµ·æ¥ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨å¤šä¸ªæ–‡ä»¶åä¸ŽåŒä¸€ä¸ªæ–‡ä»¶è¿›è¡Œé“¾æŽ¥ï¼Œè¿™äº›æ–‡ä»¶åå¯ä»¥åœ¨åŒä¸€ç›®å½•æˆ–ä¸åŒç›®å½•ã€‚ç¡¬é“¾æŽ¥ï¼šç¡¬é“¾æŽ¥æ˜¯å¤šä¸€ä¸ªæ–‡ä»¶åå’Œinodeç»“ç‚¹å…³è”ã€‚ç”±äºŽå®ƒä¾èµ–äºŽinodeï¼Œæ‰€ä»¥ä¸èƒ½åœ¨ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿä¹‹é—´åšç¡¬é“¾æŽ¥ã€‚ç¡¬é“¾æŽ¥ä¸èƒ½ç”¨äºŽç›®å½•ã€‚ç”¨æ³•ï¼šln &lt;è¢«é“¾æŽ¥çš„æ–‡ä»¶&gt; &lt;æ–°çš„æ–‡ä»¶å&gt;è½¯è¿žæŽ¥ï¼šè½¯è¿žæŽ¥æ˜¯å†æ‹“å±•å‡ºä¸€ä»½inodeï¼Œè¿™ä¸ªinodeæŒ‡å‘çš„åŒºåŸŸä¿å­˜å¦‚ä½•æ‰¾åˆ°çœŸæ­£æ•°æ®çš„ä¿¡æ¯ã€‚ç”¨æ³•ï¼šln -s &lt;è¢«é“¾æŽ¥çš„æ–‡ä»¶&gt; &lt;æ–°çš„æ–‡ä»¶å&gt;ç”¨æˆ·å’Œæƒé™æ–‡ä»¶ä¸»ï¼šæ–‡ä»¶æ‰€æœ‰è€…ï¼Œå¹¶èµ‹äºˆå”¯ä¸€çš„æ³¨å†Œåã€‚åªæœ‰æ–‡ä»¶ä¸»æˆ–rootæ‰æœ‰æƒåˆ©ç”¨chownå‘½ä»¤æ”¹å˜æ–‡ä»¶çš„æ‰€æœ‰å…³ç³»ï¼ˆUIDï¼‰ã€‚ç”¨æˆ·ç»„ï¼šé€šå¸¸ï¼Œç»„ä¸­åŒ…å«äº†æœ‰ç›¸åŒéœ€æ±‚çš„ç”¨æˆ·ã€‚æ–‡ä»¶ä¸»æˆ–è¶…çº§ç”¨æˆ·ï¼ˆrootï¼‰å¯ä»¥åˆ©ç”¨chgrpå‘½ä»¤æ”¹å˜æ–‡ä»¶çš„GIDã€‚ç”¨æˆ·å­˜å–æƒé™ï¼šLinuxç³»ç»Ÿä¸­è§„å®šäº†4ç§ä¸åŒç±»åž‹çš„ç”¨æˆ·ï¼šæ–‡ä»¶ä¸»ã€åŒç»„ç”¨æˆ·ã€å…¶ä»–ç”¨æˆ·ã€è¶…çº§ç”¨æˆ·ã€‚3ç§è®¿é—®æ–‡ä»¶æˆ–ç›®å½•çš„æ–¹å¼ï¼šrï¼ˆè¯»ï¼‰ã€wï¼ˆå†™ï¼‰ã€ xï¼ˆå¯æ‰§è¡Œæˆ–æŸ¥æ‰¾ï¼‰ã€‚chmodåªæœ‰æ–‡ä»¶ä¸»æˆ–è¶…çº§ç”¨æˆ·rootæ‰æœ‰æƒç”¨chmodå‘½ä»¤æ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„å­˜å–æƒé™ã€‚ä½¿ç”¨æ ¼å¼ï¼šchmod [é€‰é¡¹] MODE æ–‡ä»¶ã€‚MODEå¯å¤šé€‰ï¼Œä¹‹é—´ç”¨,éš”å¼€ã€‚MODEï¼š&lt;who&gt;&lt;æ“ä½œç¬¦å·&gt;&lt;æƒé™&gt;ã€‚whoï¼šuâ€”â€”userã€gâ€”â€”groupã€oâ€”â€”othersã€aâ€”â€”allï¼ˆå¯å åŠ ï¼‰ã€‚æ“ä½œç¬¦å·ï¼š+ æ·»åŠ ã€- å–æ¶ˆã€= èµ‹äºˆï¼›æƒé™ï¼šr è¯»ã€w å†™ã€x æ‰§è¡Œã€‚ï¼ˆå¯å åŠ ï¼‰ä¸¾ä¾‹ä»¥ç»å¯¹æ–¹å¼æ”¹å˜æƒé™ç½®ä¸º1è¡¨ç¤ºæœ‰ç›¸åº”æƒé™ï¼Œç½®ä¸º0è¡¨ç¤ºæ²¡æœ‰ç›¸åº”æƒé™ã€‚ä¾‹å¦‚ï¼šr w x r - x r - -1 1 1 1 0 1 1 0 0è½¬æ¢æˆåè¿›åˆ¶æ˜¯754ã€‚chmod 754 aaå’Œchmod u=rwx,g=rx,o=r aaä¸€è‡´ã€‚umaskå®˜æ–¹çš„è§£é‡Šæ˜¯æŽ©ç ï¼Œå…¶å®žå°±æ˜¯ç”¨æˆ·åˆ›å»ºæ–‡ä»¶æˆ–ç›®å½•åŽå®ƒä»¬çš„é»˜è®¤æƒé™ã€‚ä¸è¿‡å’Œchomdæœ‰åŒºåˆ«çš„æ˜¯å®ƒæŠŠæœ‰æƒé™è®¾ç½®ä¸º0ï¼Œæ²¡æƒé™è®¾ç½®ä¸º1ï¼Œè€Œä¸”umaskå‘½ä»¤æ˜¾ç¤ºçš„æ˜¯å…«è¿›åˆ¶æ•°å­—ã€‚æˆ‘çš„umaskæ˜¾ç¤ºçš„æ˜¯0022ï¼Œè½¬æ¢æˆäºŒè¿›åˆ¶å°±æ˜¯000 010 010ï¼Œè½¬æ¢æˆæƒé™å°±æ˜¯rwx r-x r-xã€‚æ‰€ä»¥åˆ›å»ºçš„ç›®å½•çš„é»˜è®¤æƒé™å°±æ˜¯è¿™ä¸ªã€‚ä½†æ˜¯Linuxä¸å…è®¸æ–°åˆ›å»ºçš„æ–‡ä»¶æœ‰å¯æ‰§è¡Œæƒé™ï¼Œæ‰€ä»¥åˆ›å»ºçš„æ–‡ä»¶çš„é»˜è®¤æƒé™æ˜¯rw- r-- r--ã€‚chownæ”¹å˜æŸä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰è€…ã€‚chown &lt;ç”¨æˆ·&gt; &lt;æ–‡ä»¶&gt;/&lt;ç›®å½•&gt;chgrpæ”¹å˜æ–‡ä»¶æˆ–ç›®å½•æ‰€å±žçš„ç”¨æˆ·ç»„ã€‚chgrp &lt;ç”¨æˆ·ç»„&gt; &lt;æ–‡ä»¶&gt;/&lt;ç›®å½•&gt;æ–‡ä»¶æƒé™çš„ç†è§£å¯è¯»ï¼ˆrï¼‰ï¼šæµè§ˆæ–‡ä»¶ä¸­çš„å†…å®¹ï¼›å¯å†™ï¼ˆwï¼‰ï¼šä¿®æ”¹æ–‡ä»¶ä¸­çš„å†…å®¹ï¼›å¯æ‰§è¡Œï¼ˆxï¼‰ï¼šå°†æ–‡ä»¶ä½œä¸ºå‘½ä»¤ä½¿ç”¨ã€‚ç›®å½•æƒé™çš„ç†è§£å¯è¯»ï¼šåªèƒ½æŸ¥çœ‹åˆ°ç›®å½•ä¸‹çš„å­ç›®å½•åå’Œæ–‡ä»¶åï¼›å¯æ‰§è¡Œï¼šå¯ä»¥è®¿é—®ç›®å½•ä¸­çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬å­ç›®å½•ï¼›å¯å†™ï¼šè¦åœ¨ç›®å½•ä¸‹æ·»åŠ åˆ é™¤ç›®å½•å’Œæ–‡ä»¶ï¼Œå¿…é¡»æœ‰å¯æ‰§è¡Œçš„æƒåˆ©ã€‚åŽ‹ç¼© &amp; æ‰“åŒ… &amp; è§£åŽ‹ç¼©tar -zcvfï¼šæ‰“åŒ…åŽ‹ç¼©åŽçš„æ–‡ä»¶å è¦æ‰“åŒ…åŽ‹ç¼©çš„æ–‡ä»¶ï¼ˆå¤šä¸ªä¹‹é—´ç”¨spaceåˆ†å¼€ï¼‰zï¼šè°ƒç”¨gzipåŽ‹ç¼©å‘½ä»¤è¿›è¡ŒåŽ‹ç¼©cï¼šcreateï¼Œæ‰“åŒ…æ–‡ä»¶vï¼šæ˜¾ç¤ºè¿è¡Œè¿‡ç¨‹fï¼šæŒ‡å®šæ–‡ä»¶åtar -xvf xxx.tar.gz -C ä½ç½®xï¼šextractï¼Œè§£åŒ…vï¼šæ˜¾ç¤ºå…è®¸è¿‡ç¨‹fï¼šæŒ‡å®šæ–‡ä»¶ååˆ«åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨llä»£æ›¿ls -lã€‚ä½†æ˜¯å¯¹äºŽls -aï¼Œç³»ç»Ÿå¹¶æ²¡æœ‰æä¾›laå‘½ä»¤ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥ä½¿ç”¨aliaså®šä¹‰laã€‚å–æ¶ˆåˆ«åä½¿ç”¨unalias åˆ«åå®šæ—¶ä»»åŠ¡cronå·¥å…·å…è®¸ç”¨æˆ·é…ç½®è¦å®šæœŸè¿è¡Œçš„ä»»åŠ¡ï¼Œé€šè¿‡é…ç½®crontabçš„æ–‡ä»¶å¯ä»¥æŒ‡å®šè¦è¿è¡Œå“ªäº›ä½œä¸šä»¥åŠä½•æ—¶è¿è¡Œã€‚é…ç½®crontabæ–‡ä»¶ä½¿ç”¨å‘½ä»¤crontabã€‚å‘½ä»¤ç”±6ä¸ªç”¨ç©ºç™½åˆ†éš”çš„å­—æ®µç»„æˆï¼šå­—æ®µminutehourday of monthmonthday of weekcommand to runä¸¾ä¾‹4516***date&gt;/tmp/date.txtèŒƒå›´0-590-231-311-120-7*corntabå‘½ä»¤çš„å‚æ•°ï¼š-eï¼šç¼–è¾‘crontabçš„å†…å®¹ï¼ˆä¼šæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼‰ï¼›è®¾ç½®å®šæœŸä»»åŠ¡ï¼ˆ16:45æ—¶æŠŠå½“å‰æ—¶é—´å†™å…¥/tmp/date.txtæ–‡ä»¶ä¸­ï¼‰ï¼šè¿‡ä¸€æ®µæ—¶é—´ä¹‹åŽæŸ¥çœ‹/tmpæ–‡ä»¶å¤¹ï¼š-uï¼šåªæœ‰rootæ‰èƒ½æ‰§è¡Œè¿™ä¸ªé€‰é¡¹ï¼Œå¸®åŠ©å…¶ä»–ç”¨æˆ·å»ºç«‹/åˆ é™¤crontabï¼›-lï¼šæŸ¥çœ‹crontabçš„å·¥ä½œå†…å®¹:-rï¼šåˆ é™¤crontabçš„å·¥ä½œå†…å®¹ï¼›æˆç»„å‘½ä»¤è¢«æˆç»„å‘½ä»¤çº¦æŸçš„å‘½ä»¤è¢«è®¤ä¸ºæ˜¯ä¸€æ¡å‘½ä»¤ã€‚{ å‘½ä»¤; }ï¼šéœ€è¦æœ‰ç©ºæ ¼å’Œå‘½ä»¤éš”å¼€ï¼Œä¸”å‘½ä»¤åŽé¢éœ€è¦â€œ;â€ã€‚ä¸åˆ›å»ºå­è¿›ç¨‹ã€‚(å‘½ä»¤)ï¼šä¸å¼ºåˆ¶éœ€è¦æœ‰ç©ºæ ¼å’Œå‘½ä»¤éš”å¼€ï¼Œä¸å¼ºåˆ¶éœ€è¦â€œ;â€ã€‚åˆ›å»ºå­è¿›ç¨‹å®ŒæˆåŠŸèƒ½ã€‚ä¾‹å¦‚ä¸‹ä¾‹æŠŠä¸¤æ¡lså‘½ä»¤çš„å€¼å…¨éƒ¨ç”±ç®¡é“è¾“å…¥ç»™grepã€‚sortsort lines of text filesï¼Œå°†æ–‡æœ¬æ–‡ä»¶å†…å®¹åŠ ä»¥æŽ’åºï¼Œä»¥è¡Œä¸ºå•ä½æ¥æŽ’åºï¼Œä½†ä¸æ”¹å˜æ–‡ä»¶åŽŸå§‹å†…å®¹ã€‚é»˜è®¤æŽ’åºè§„åˆ™ï¼šä»Žç¬¬æ¯è¡Œä¸€ä¸ªå­—ç¬¦å¼€å§‹ï¼Œä¾æ¬¡æŒ‰ç…§ASCIIç å€¼è¿›è¡Œæ¯”è¾ƒã€‚-nï¼šæŒ‰æ•°å­—çš„å¤§å°æŽ’åºï¼Œé»˜è®¤æƒ…å†µä¸‹æŠŠæ•°å­—çœ‹æˆå­—ç¬¦ã€‚-rï¼šåè½¬æŽ’åºæ•ˆæžœã€‚uniqæ–‡ä»¶è¾“å‡ºæ—¶ï¼Œåˆ é™¤é‡å¤è¡Œæˆ–åˆ—ã€‚ä½†å¦‚æžœé‡å¤çš„è¡Œä¸è¿žç»­åˆ™ä¸èµ·ä½œç”¨ã€‚æ–‡ä»¶ç±»åž‹-ï¼šæ™®é€šæ–‡ä»¶lï¼šç¬¦å·é“¾æŽ¥æ–‡ä»¶dï¼šç›®å½•sï¼šå¥—æŽ¥å­—æ–‡ä»¶ï¼ˆsocketï¼‰bï¼šå—è®¾å¤‡æ–‡ä»¶pï¼šå‘½åç®¡é“æ–‡ä»¶ï¼ˆpipeï¼‰cï¼šå­—ç¬¦è®¾å¤‡æ–‡ä»¶ex1ï¼šç”¨æˆ·ç®¡ç†åœ¨ç³»ç»Ÿä¸­æ·»åŠ ä¸‰ä¸ªç”¨æˆ·ï¼šBlondieã€Princeå’ŒMadonnaä»–ä»¬éƒ½å¸Œæœ›å±žäºŽæ¬¡è¦ç»„musicBlondieè¦æ±‚åœ¨ä»–çš„æ¡ç›®ä¸­æ·»åŠ ç‰¹æ®Šå¤‡æ³¨â€œheart of glassâ€Princeè¦æ±‚ä½¿ç”¨/bin/cshä½œä¸ºç™»å½•shellMadonnaçš„ä½¿ç”¨æœŸé™ä¸º2020-12-1ã€‚Blondieå†³å®šåŠ å…¥æ‘”è·¤ä¿±ä¹éƒ¨wrestleç»„ã€‚Princeè¦å°†ä»–çš„ç”¨æˆ·åæ”¹ä¸ºtafkapã€‚Madonnaå¼€å§‹å¯¹é£Žæ°´æ„Ÿå…´è¶£ï¼ŒåŠ å…¥ç»„fengshuiï¼Œå¹¶è¦æ±‚å°†å¥¹çš„useridæ”¹ä¸º888ã€‚groupadd fengshuiusermod -a â€“G fengshui Madonnausermod â€“u 888 MadonnaPrinceåˆè¦æ”¹åå­—äº†ï¼Œæˆ‘ä»¬è§‰å¾—å¤ªéº»çƒ¦ï¼Œå¹²è„†é”ä½ä»–çš„å¸å·ã€‚usermod â€“L PrinceBlondieæœ€è¿‘è¡¨çŽ°ä¸å¥½ï¼Œæˆ‘ä»¬å†³å®šå°†ä»–è¸¢å‡ºåŽ»ã€‚userdel â€“r Blondieï¼ˆæƒ³æŠŠè¯¥ç”¨æˆ·æ‰€æœ‰ä¿¡æ¯éƒ½ä¸€èµ·åˆ é™¤å¯ä»¥ä½¿ç”¨-rï¼‰ex2ï¼šæ–‡ä»¶ç›®å½•ç®¡ç†VenturaåŒæ—¶å±žäºŽæ¬¡è¦ç»„governorå’Œwrestleã€‚Venturaæ’°å†™äº†è‡ªå·±çš„æ‘”è·¤è®¡åˆ’plans.txtï¼Œå¹¶å°†å®ƒæ”¾åˆ°ç›®å½•/tmpä¸‹ã€‚Venturaå¸Œæœ›å°†ä»–çš„æ‘”è·¤è®¡åˆ’å’Œç”¨æˆ·Hoganä»¥åŠå…¶ä»–æ‘”è·¤ç»„çš„æˆå‘˜å…±äº«ï¼Œä½†ä»–ä¸å¸Œæœ›ç»„å¤–çš„æˆå‘˜è®¿é—®ã€‚ç”¨æˆ·Hoganæƒ³å¾€ç”¨æˆ·Venturaçš„è®¡åˆ’ä¸Šæ·»åŠ å†…å®¹ï¼Œå¯ä»¥å—ï¼Ÿæ€Žä¹ˆåšï¼Ÿç”¨æˆ·Hoganå¯¹ä»–è‡ªå·±çš„è´¡çŒ®å¾ˆæ»¡æ„ï¼Œä»–å¸Œæœ›å°†è¿™ä¸ªè®¡åˆ’å…¬å¼€ï¼Œè®©æ‰€æœ‰äººéƒ½èƒ½è¯»åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥å®žçŽ°å—ï¼Ÿä¸å¯ä»¥ï¼Œåªæœ‰rootå’Œæ–‡ä»¶ä¸»èƒ½ä¿®æ”¹æ–‡ä»¶è®¿é—®æƒã€‚]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[01-Linuxå…¥é—¨]]></title>
    <url>%2F2019%2F01-Linux%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[Linuxä»‹ç»Linuxæ˜¯ä¸€å¥—å…è´¹ä½¿ç”¨å’Œè‡ªç”±ä¼ æ’­çš„æ“ä½œç³»ç»Ÿã€‚ä¸¥æ ¼æ¥è®²ï¼ŒLinuxè¿™ä¸ªè¯æœ¬èº«åªè¡¨ç¤ºLinuxå†…æ ¸ï¼Œä½†ä¸€èˆ¬æ¥è¯´ä½¿ç”¨Linuxå†…æ ¸çš„æ“ä½œç³»ç»Ÿéƒ½è¢«ç§°ä¸ºLinuxã€‚è€Œä¸åŒçš„åŽ‚å®¶ä½¿ç”¨ç›¸åŒçš„Linuxå†…æ ¸æ‰€æž„å»ºçš„æ“ä½œç³»ç»Ÿå«åšLinuxå‘è¡Œç‰ˆã€‚å¸¸è§çš„Linuxå‘è¡Œç‰ˆæœ‰Ubuntuã€Centosã€Debianç­‰ã€‚è¿™äº›å‘è¡Œç‰ˆçš„ä½¿ç”¨æ–¹æ³•å¤§åŒå°å¼‚ã€‚ä½†Linuxä¸ä»…é™äºŽä½¿ç”¨åœ¨PCæœºä¸Šï¼Œç§»åŠ¨ç«¯ï¼ˆå®‰å“ç³»ç»Ÿæ˜¯ç”±Linuxæ”¹å†™è€Œæ¥ï¼‰ã€è·¯ç”±å™¨ï¼ˆåªä¿ç•™å°‘è®¸åŠŸèƒ½çš„Linuxç³»ç»Ÿï¼‰ç­‰ç»ˆç«¯éƒ½åœ¨ä½¿ç”¨Linuxã€‚Linuxå®‰è£…è™šæ‹Ÿæœºå®‰è£…ï¼šblog.csdn.net/qq_38206090/article/details/82559358åŒç³»ç»Ÿï¼šç¬”è€…æ²¡æœ‰å®‰è£…è¿‡ï¼Œå› ä¸ºæ€•ç³»ç»Ÿå‡ºé—®é¢˜å¯¼è‡´æ–‡ä»¶æŸå¤±ã€‚äº‘æœåŠ¡å™¨ï¼šäº‘æœåŠ¡å™¨ç³»ç»Ÿé…ç½®Linuxç‰ˆæœ¬æˆ‘è®¤ä¸ºæ˜¯æœ€ç®€å•çš„æ–¹å¼ï¼Œæ‰€ä»¥ä»¥ä¸‹å®žä¾‹å‡é‡‡ç”¨é˜¿é‡Œäº‘æœåŠ¡å™¨ã€‚è¿žæŽ¥æœåŠ¡å™¨å·¥å…·SecureCRTï¼šåŽ» http://59.110.143.226/Sharing-Your-Story/ æœç´¢ã€‚Termiusï¼šhttps://www.microsoft.com/store/productId/9NK1GDVPX09VæŽ¨èä½¿ç”¨Termiusï¼Œå¥½çœ‹ä¹Ÿå¥½ç”¨ã€‚SecureCRTæ˜¯ç ´è§£ç‰ˆï¼ŒTermiusæ˜¯å…è´¹ä½¿ç”¨ã€‚Linuxç›®å½•ç»“æž„Linuxçš„ç›®å½•ç»“æž„æ˜¯ä¸€ä¸ªæ ‘å½¢ç»“æž„ï¼Œæ ‘æ ¹æ˜¯ä¸€ä¸ª/ã€‚ç›´æŽ¥å­ç›®å½•åŒ…æ‹¬rootã€homeç­‰ã€‚å¦‚æˆ‘çš„é˜¿é‡Œäº‘æœåŠ¡å™¨æ ¹ç›®å½•ï¼šShellShellæ˜¯æŒ‡â€œä¸ºä½¿ç”¨è€…æä¾›æ“ä½œç•Œé¢â€çš„è½¯ä»¶ï¼ˆå‘½ä»¤è§£æžå™¨ï¼‰ã€‚Shellç¿»è¯‘è¿‡æ¥å«åšâ€œå£³â€ï¼Œç”¨æ¥åŒºåˆ«äºŽâ€œæ ¸â€ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæŠŠåº•å±‚çš„ä¸œè¥¿å°è£…æˆå‘½ä»¤ï¼Œä½¿ç”¨è€…é”®å…¥å‘½ä»¤å°±èƒ½å¾—åˆ°ç›¸åº”çš„ç»“æžœã€‚æ¯”å¦‚ä¸Šé¢çš„è¿™å¼ å›¾ä¸­ï¼Œæˆ‘åœ¨æ ¹ç›®å½•ä¸‹è¾“å…¥llå‘½ä»¤ï¼Œå°±åœ¨ç»ˆç«¯ä¸Šç»™æˆ‘æ˜¾ç¤ºæ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶ä¿¡æ¯ã€‚ä¹Ÿå°±æ˜¯è¯´Shellè§£æžäº†æˆ‘è¾“å…¥çš„llå‘½ä»¤ï¼Œè¿”å›žæˆ‘æƒ³è¦çš„ä¿¡æ¯ï¼ˆæ ¹ç›®å½•æ–‡ä»¶ä¿¡æ¯ï¼‰ã€‚Bashå‘½ä»¤Shellæ˜¯å‘½ä»¤è§£é‡Šå™¨ï¼Œè‡ªç„¶ä¼šæœ‰ä¸åŒçš„åˆ†ç±»ï¼Œå°±ç±»æ¯”äºŽåŒæ˜¯å¾ªçŽ¯ç»“æž„ï¼ŒJavaå’ŒPythonå´æœ‰ä¸åŒçš„è¯­æ³•ã€‚ä½†æ˜¯Bashï¼ˆBourne-Again SHellï¼‰æ˜¯Linuxé»˜è®¤çš„Shelläº¤äº’ç±»åž‹ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨Linuxä¸­æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œå°±å¯åŠ¨ä¸€ä¸ªBashè¿›ç¨‹ã€‚Bashå‘½ä»¤æ ¼å¼æ ¼å¼ï¼šå‘½ä»¤å [é€‰é¡¹] [å‚æ•°1] [å‚æ•°2] â€¦ æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼šå‘½ä»¤åå¿…é¡»æ˜¯å°å†™è‹±æ–‡å­—æ¯ã€‚ä¸€èˆ¬æ ¼å¼ä¸­ï¼Œæ–¹æ‹¬å·æ‹¬èµ·æ¥çš„éƒ¨åˆ†æ˜¯å¯é€‰é€‰é¡¹ã€‚é€‰é¡¹æ˜¯å¯¹å‘½ä»¤çš„ç‰¹åˆ«å®šä¹‰ï¼Œä»¥â€œ-â€å¼€å§‹ã€‚ä¸€ä¸ªå‘½ä»¤å¯ä»¥ä½¿ç”¨å¤šä¸ªé€‰é¡¹ä¸”å¤šä¸ªé€‰é¡¹è¿žæŽ¥èµ·æ¥åŒæ ·æœ‰æ•ˆï¼ˆéƒ¨åˆ†å‘è¡Œç‰ˆä¸æ”¯æŒï¼‰ã€‚å¦‚ï¼šls -alå’Œls -a -læ•ˆæžœç›¸åŒã€‚å‘½ä»¤æ­£å¸¸æ‰§è¡ŒåŽè¿”å›žä¸€ä¸ª0è¡¨ç¤ºæ‰§è¡ŒæˆåŠŸï¼Œè¿”å›žéž0å€¼è¡¨ç¤ºæ‰§è¡Œè¿‡ç¨‹å‡ºé”™ã€‚åœ¨ç»ˆç«¯ä¸Šå¾ˆéš¾ä½“çŽ°å‡ºæ¥ï¼Œä½†åœ¨shellè„šæœ¬ï¼ˆåŽç»­ä¼šä»‹ç»ï¼‰ä¸­å¯ä½œä¸ºæŽ§åˆ¶é€»è¾‘æµç¨‹çš„ä¸€éƒ¨åˆ†ï¼ˆç”¨$?æŸ¥çœ‹ï¼‰ã€‚Bashä¸¾ä¾‹æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬å·ï¼šuname -a:unameæ˜¯å‘½ä»¤åï¼Œ-aæ˜¯é€‰é¡¹ï¼Œè¿™ä¸ªå‘½ä»¤æ²¡æœ‰å‚æ•°ã€‚unameè§£é‡Š]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[opencvå®žçŽ°äººè„¸è¯†åˆ«ã€äººè„¸æ‰“æ¡†ã€äººè„¸å‰ªåˆ‡]]></title>
    <url>%2F2019%2Fopencv%E5%AE%9E%E7%8E%B0%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E3%80%81%E4%BA%BA%E8%84%B8%E6%89%93%E6%A1%86%E3%80%81%E4%BA%BA%E8%84%B8%E5%89%AA%E5%88%87%2F</url>
    <content type="text"><![CDATA[Opencvåœ¨å„å¹³å°ä¸Šçš„é…ç½®https://opencv-java-tutorials.readthedocs.io/en/latest/01-installing-opencv-for-java.htmlã€‚æµ‹è¯•å›¾ç‰‡äººè„¸è¯†åˆ«ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657import java.util.Arrays;import java.util.List;import org.opencv.core.Core;import org.opencv.core.Mat;import org.opencv.core.MatOfRect;import org.opencv.core.Rect;import org.opencv.imgcodecs.Imgcodecs;import org.opencv.objdetect.CascadeClassifier;public class GetImgFace &#123; private static String classifier = "D:/opencv/sources/data/haarcascades/haarcascade_frontalface_default.xml"; static &#123; // å¿…é¡»è¦åŠ è½½Opencvçš„Library System.loadLibrary(Core.NATIVE_LIBRARY_NAME); &#125; public static void main(String[] args) &#123; //å›¾ç‰‡è·¯å¾„ä¸èƒ½æœ‰ä¸­æ–‡... GetImgFace.getImgFace("C:\\Users\\ISJINHAO\\Desktop\\test.jpg"); &#125; public static List&lt;Rect&gt; getImgFace(String imgPath)&#123; /* * åŠ è½½åˆ†ç±»å™¨ï¼Œé€‰æ‹©å·²ç»è®­ç»ƒå¥½çš„opencvåˆ†ç±»å™¨ï¼Œè®­ç»ƒå™¨è·¯å¾„ï¼š%OPENCV_HOME%/sources/data/haarcascades/ * åˆ†ç±»å™¨åŒ…å«çœ¼ç›ï¼Œäººè„¸ï¼Œäººä½“ï¼Œå¾®ç¬‘ç­‰ç­‰ï¼Œå…¶ä¸­å¯¹äºŽä»…ä»…è¯†åˆ«äººè„¸æ¥è¯´ï¼Œæœ€å¥½çš„è®­ç»ƒå™¨æ˜¯ï¼š * haarcascade_frontalface_default.xml * haarcascade_frontalface_alt.xml * haarcascade_frontalface_alt2.xml * */ // åˆ†ç±»å™¨è·¯å¾„ä¸è¦æœ‰ä¸­æ–‡... CascadeClassifier faceDetector = new CascadeClassifier(classifier); if (faceDetector.empty()) &#123; System.out.println("è¯·é€‰æ‹©æ­£ç¡®çš„åˆ†ç±»å™¨ï¼"); return null; &#125; // åˆ›å»ºMatï¼ŒMatæ˜¯ç”¨æ¥ä¿å­˜å›¾ç‰‡ä¿¡æ¯çš„ç±»ã€‚Imgcodecsæ˜¯ç”¨æ¥è¯»å–å›¾ç‰‡çš„å·¥å…·ç±» Mat image = Imgcodecs.imread(imgPath); // æ£€æµ‹äººè„¸ï¼Œæ£€æµ‹ç»“æžœå­˜åœ¨faceDetectionsä¸­ MatOfRect faceDetections = new MatOfRect(); faceDetector.detectMultiScale(image, faceDetections); List&lt;Rect&gt; faceList = Arrays.asList(faceDetections.toArray()); System.out.println(faceList); return faceList; &#125; &#125;ç»“æžœäººè„¸æ‰“æ¡†ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import java.io.File;import java.util.Iterator;import java.util.List;import java.util.UUID;import org.opencv.core.Mat;import org.opencv.core.Point;import org.opencv.core.Rect;import org.opencv.core.Scalar;import org.opencv.imgcodecs.Imgcodecs;import org.opencv.imgproc.Imgproc;public class FaceRect &#123; public static void main(String[] args) &#123; String imgPath = "C:\\Users\\ISJINHAO\\Desktop\\test.jpg"; List&lt;Rect&gt; faceRects = GetImgFace.getImgFace(imgPath); //æŠŠè¯†åˆ«å‡ºæ¥çš„å›¾ç‰‡åˆ†åˆ«æ‰“æ¡† Iterator&lt;Rect&gt; iterator1 = faceRects.iterator(); while(iterator1.hasNext()) &#123; Rect rect = iterator1.next(); FaceRect.imageMark(imgPath, "D:\\test\\" + UUID.randomUUID() + ".jpg", rect); &#125; //åœ¨ä¸€å¼ å›¾ç‰‡ä¸­æŠŠæ‰€æœ‰è¯†åˆ«å‡ºæ¥çš„äººè„¸éƒ½æ‰“æ¡† Mat image = Imgcodecs.imread(imgPath); Iterator&lt;Rect&gt; iterator2 = faceRects.iterator(); while(iterator2.hasNext()) &#123; Rect rect = iterator2.next(); Imgproc.rectangle(image, new Point(rect.x, rect.y), // å·¦ä¸Šç‚¹ new Point(rect.x + rect.width, rect.y + rect.height), // å³ä¸‹ç‚¹ new Scalar(0, 255, 0), 2); // æ¡†çš„é¢œè‰²å’Œç²—ç»† &#125; Imgcodecs.imwrite("D:\\test\\" + UUID.randomUUID() + ".jpg", image); &#125; public static File imageMark(String imagePath, String outFilePath, Rect rect) &#123; Mat image = Imgcodecs.imread(imagePath); // åŽŸå§‹å›¾ç‰‡ //Imgproc.rectangleçš„ä½œç”¨æ˜¯åœ¨ä¿®æ”¹imageä¸­çš„æ•°æ®ï¼ŒæŠŠç›¸åº”çš„ä½ç½®æ‰“ä¸Šæ¡† Imgproc.rectangle(image, new Point(rect.x, rect.y), // å·¦ä¸Šç‚¹ new Point(rect.x + rect.width, rect.y + rect.height), // å³ä¸‹ç‚¹ new Scalar(0, 255, 0), 2); // æ¡†çš„é¢œè‰²å’Œç²—ç»† // æŠŠmatå†™å…¥å›¾ç‰‡ Imgcodecs.imwrite(outFilePath, image); return new File(outFilePath); &#125;&#125;ç»“æžœäººè„¸å‰ªåˆ‡ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344import java.io.File;import java.util.Iterator;import java.util.List;import java.util.UUID;import org.opencv.core.Mat;import org.opencv.core.Rect;import org.opencv.core.Size;import org.opencv.imgcodecs.Imgcodecs;import org.opencv.imgproc.Imgproc;public class FaceCut &#123; public static void main(String[] args) &#123; String imgPath = "C:\\Users\\ISJINHAO\\Desktop\\test.jpg"; List&lt;Rect&gt; faceRects = GetImgFace.getImgFace(imgPath); //æŠŠè¯†åˆ«å‡ºæ¥çš„å›¾ç‰‡åˆ†åˆ«æ‰“æ¡† Iterator&lt;Rect&gt; iterator1 = faceRects.iterator(); while(iterator1.hasNext()) &#123; Rect rect = iterator1.next(); FaceCut.imageCut(imgPath, "D:\\test\\" + UUID.randomUUID() + ".jpg", rect); &#125; &#125; public static File imageCut(String imagePath, String outFilePath, Rect rect) &#123; Mat image = Imgcodecs.imread(imagePath); // æŒ‰ç…§åŽŸå§‹å›¾ç‰‡ä¸­çš„äººè„¸æå–å‡ºæ¥ Mat sub = image.submat(rect); Mat mat = new Mat(); Size size = new Size(rect.width, rect.height); // ä¿®æ”¹æå–å‡ºæ¥çš„äººè„¸ä¿¡æ¯subåœ¨åæ ‡è½´çš„ä½ç½®ã€‚ Imgproc.resize(sub, mat, size); // å°†æˆªå›¾ä¿å­˜ Imgcodecs.imwrite(outFilePath, mat); return new File(outFilePath); &#125;&#125;ç»“æžœ]]></content>
      <categories>
        <category>å¤§å­¦ç”Ÿåˆ›æ–°åˆ›ä¸šé¡¹ç›®</category>
      </categories>
      <tags>
        <tag>opencv</tag>
        <tag>äººè„¸è¯†åˆ«</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[03-å¤„ç†æœºè°ƒåº¦]]></title>
    <url>%2F2019%2F03-%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°å¤„ç†æœºè°ƒåº¦æ˜¯æŒ‡é€šè¿‡å¯¹å¤„ç†æœºèµ„æºè¿›ç¨‹çš„åˆç†åˆ†é…æ¥æå‡ç³»ç»Ÿèµ„æºçš„åˆ©ç”¨çŽ‡ã€é™ä½Žä½œä¸šå‘¨è½¬æ—¶é—´ç­‰ã€‚ä½†æ˜¯ç”±äºŽä¸åŒæ“ä½œç³»ç»Ÿçš„ç›®æ ‡ä¸åŒï¼Œæ‰€ä»¥å¤„ç†æœºè°ƒåº¦çš„ç­–ç•¥å’Œç›®æ ‡ä¹Ÿä¸ç›¸åŒã€‚å¤„ç†æœºè°ƒåº¦çš„å±‚æ¬¡é«˜çº§è°ƒåº¦ï¼šåˆç§°ä½œä¸šè°ƒåº¦æˆ–é•¿ç¨‹è°ƒåº¦ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯æ ¹æ®æŸç§ç®—æ³•å†³å®šæŠŠå¤–å­˜ä¸Šå¤„äºŽåŽå¤‡é˜Ÿåˆ—ä¸­çš„å“ªäº›ä½œä¸šè°ƒå…¥å†…å­˜ï¼Œå¹¶ä¸ºä»–ä»¬åˆ›å»ºè¿›ç¨‹ã€åˆ†é…èµ„æºç­‰ï¼Œç„¶åŽæ”¾å…¥å°±ç»ªè¿›ç¨‹é˜Ÿåˆ—ã€‚ä¸»è¦ç”¨äºŽæ‰¹å¤„ç†ç³»ç»Ÿï¼Œåˆ†æ—¶ç³»ç»Ÿçš„å®žæ—¶ç³»ç»Ÿä¸­ä¸è®¾ç½®é«˜çº§è°ƒåº¦ã€‚ä½Žçº§è°ƒåº¦ï¼šåˆç§°è¿›ç¨‹è°ƒåº¦æˆ–æ–­å±‚è°ƒåº¦ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯æ ¹æ®æŸç§ç®—æ³•å†³å®šè®©å“ªäº›å°±ç»ªé˜Ÿåˆ—èŽ·å¾—å¤„ç†æœºï¼Œå¹¶ç”±åˆ†é…ç¨‹åºå°†å¤„ç†æœºåˆ†é…ç»™è¢«é€‰ä¸­çš„è¿›ç¨‹ã€‚åœ¨æ‰¹å¤„ç†ç³»ç»Ÿã€å®žæ—¶ç³»ç»Ÿå’Œåˆ†æ—¶ç³»ç»Ÿä¸­éƒ½è®¾ç½®ä½Žçº§è°ƒåº¦ã€‚ä¸­çº§è°ƒåº¦ï¼šåˆç§°å†…å­˜è°ƒåº¦ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯æ ¹æ®æŸç§ç®—æ³•å†³å®šå°†å“ªäº›æš‚æ—¶ä¸èƒ½è¿è¡Œçš„è¿›ç¨‹è°ƒè‡³å¤–å­˜ç­‰å¾…ï¼Œå½“å®ƒä»¬å…·å¤‡è¿è¡Œæ¡ä»¶ä¸”å†…å­˜åˆæœ‰ç©ºé—²æ—¶å†è°ƒå…¥å†…å­˜ã€‚è¿™å®žé™…ä¸Šæ˜¯å­˜å‚¨å™¨ç®¡ç†ä¸­çš„å¯¹æ¢åŠŸèƒ½ï¼Œåœ¨ä¸‹ä¸€ç« å†å±•å¼€ä»‹ç»ï¼Œå¤„ç†æœºè°ƒåº¦çš„ç›®æ ‡å…±åŒç›®æ ‡ï¼šæå‡èµ„æºåˆ©ç”¨çŽ‡ï¼š$CPUçš„åˆ©ç”¨çŽ‡=\frac{CPUæœ‰æ•ˆå·¥ä½œæ—¶é—´}{CPUæœ‰æ•ˆå·¥ä½œæ—¶é—´+CPUç©ºé—²ç­‰å¾…æ—¶é—´}$ã€‚å…¬å¹³ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½åº”èŽ·å¾—åˆç†çš„CPUæ—¶é—´ï¼Œä¸å‘ç”Ÿè¿›ç¨‹é¥¥é¥¿çŽ°è±¡ã€‚å¹³è¡¡ï¼šè¿›ç¨‹å¯ä»¥åˆ†æˆå¤šä¸ªç±»åž‹ï¼Œå¦‚è®¡ç®—åž‹ã€I/Oåž‹ç­‰ç­‰ã€‚å¹³è¡¡æ˜¯æŒ‡ç³»ç»Ÿä¸­ä¸åŒçš„è®¾å¤‡éƒ½èƒ½å¤„äºŽå¿™ç¢ŒçŠ¶æ€ã€‚ç­–ç•¥å¼ºåˆ¶æ‰§è¡Œï¼šæŒ‡æŸäº›å¼ºåˆ¶åž‹ä»»åŠ¡ï¼Œæ¯”å¦‚å®‰å…¨ç­–ç•¥ç­‰ï¼Œå³ä½¿ä¼šé€ æˆå…¶ä»–å·¥ä½œçš„å»¶è¿Ÿã€‚æ‰¹å¤„ç†ç³»ç»Ÿçš„ç›®æ ‡ï¼šå¹³å‡å‘¨è½¬æ—¶é—´çŸ­ï¼šå‘¨è½¬æ—¶é—´ï¼šä»Žä½œä¸šè¿›å…¥ç³»ç»Ÿåˆ°ä½œä¸šå®Œæˆé€€å‡ºç³»ç»Ÿæ‰€ç”¨çš„æ—¶é—´ã€‚å¹³å‡å‘¨è½¬æ—¶é—´ï¼šåŒæ—¶å‚ä¸Žç³»ç»Ÿè¿è¡Œçš„å‡ ä¸ªä½œä¸šçš„å‘¨è½¬æ—¶é—´çš„å¹³å‡å€¼ã€‚$T=\frac{1}{n}[\sum_{i=1}^NT_i]$å¸¦æƒå‘¨è½¬æ—¶é—´ï¼šä½œä¸šçš„å‘¨è½¬æ—¶é—´ï¼ˆ$T$ï¼‰å’Œç³»ç»Ÿä¸ºå®ƒæä¾›æœåŠ¡çš„æ—¶é—´ï¼ˆ$T_S$ï¼‰ã€‚$W=\frac{T}{T_s}$å¹³å‡å¸¦æƒå‘¨è½¬æ—¶é—´ï¼šåŒæ—¶å‚ä¸Žç³»ç»Ÿè¿è¡Œçš„å‡ ä¸ªä½œä¸šçš„å¸¦æƒå‘¨è½¬æ—¶é—´çš„å¹³å‡å€¼ã€‚$T=\frac{1}{n}[\sum_{i=1}^NW_i]$ç³»ç»Ÿåžåé‡é«˜ï¼šå•ä½æ—¶é—´å†…ç³»ç»Ÿå®Œæˆçš„ä½œä¸šæ•°å°½é‡å¤šã€‚å¤„ç†æœºåˆ©ç”¨çŽ‡é«˜ã€‚åˆ†æ—¶ç³»ç»Ÿçš„ç›®æ ‡ï¼šå“åº”æ—¶é—´å¿«ï¼šæŒ‡ç»ˆç«¯æäº¤ä¸€ä¸ªè¯·æ±‚åˆ°ä¸»æœºè¿”å›žç»“æžœè‡³ç»ˆç«¯çš„æ—¶é—´çŸ­ã€‚å‡è¡¡ï¼šä¸åŒè¯·æ±‚çš„å¤æ‚åº¦ä¸åŒï¼Œæ‰€ä»¥å“åº”æ—¶é—´å¿…å®šä¸åŒï¼Œå‡è¡¡æ˜¯æŒ‡å“åº”æ—¶é—´åº”å’Œè¯·æ±‚å¤æ‚åº¦ç›¸é€‚åº”ã€‚å®žæ—¶ç³»ç»Ÿçš„ç›®æ ‡ï¼šæˆªæ­¢æ—¶é—´çš„ä¿è¯ï¼šå¯¹äºŽHRTä»»åŠ¡æˆªæ­¢æ—¶é—´å¿…é¡»æ»¡è¶³è¦æ±‚ï¼ŒSRTä¹Ÿè¦å°½å¯èƒ½æ»¡è¶³ã€‚å¯é¢„æµ‹æ€§ï¼šå¦‚åœ¨è§‚çœ‹ç”µå½±æ—¶ä¸€èˆ¬éƒ½ä¼šè¿žç»­æ’­æ”¾å¸§ï¼Œæ‰€ä»¥è¯·æ±‚æ˜¯å¯é¢„æµ‹çš„ï¼Œå‡å¦‚é‡‡ç”¨åŒç¼“å†²å®žçŽ°ç¬¬iå¸§å’Œç¬¬i+1å¸§å¹¶è¡Œå¤„ç†å°±èƒ½æé«˜å®žæ—¶æ€§ã€‚é«˜çº§è°ƒåº¦ä½œä¸šä½œä¸šï¼šæ¯”ç¨‹åºæ›´ä¸ºå¹¿æ³›çš„æ¦‚å¿µï¼Œä¸ä»…åŒ…å«äº†é€šå¸¸çš„ç¨‹åºå’Œæ•°æ®ï¼Œè¿˜æœ‰ä¸€ä»½ä½œä¸šè¯´æ˜Žä¹¦ã€‚åœ¨æ‰¹å¤„ç†ç³»ç»Ÿä¸­ï¼Œæ˜¯ä»¥ä½œä¸šä¸ºåŸºæœ¬å•ä½ä»Žå¤–å­˜è°ƒå…¥å†…å­˜çš„ã€‚ä½œä¸šæ­¥ï¼šåœ¨ä½œä¸šè¿è¡ŒæœŸé—´ï¼Œæ¯ä¸ªä½œä¸šéƒ½å¿…é¡»ç»è¿‡è‹¥å¹²ä¸ªç›¸å¯¹ç‹¬ç«‹ã€‚åˆç›¸äº’å…³è”çš„é¡ºåºåŠ å·¥æ­¥éª¤æ‰èƒ½å¾—åˆ°ç»“æžœã€‚æœŸä¸­æ¯ä¸€ä¸ªåŠ å·¥æ­¥éª¤æˆä¸ºä¸€ä¸ªä½œä¸šæ­¥ã€‚ä½œä¸šæŽ§åˆ¶å—Job Control Blockï¼ŒJCBã€‚æ˜¯ä½œä¸šåœ¨ç³»ç»Ÿä¸­å­˜åœ¨çš„æ ‡å¿—ã€‚ä¿å­˜äº†ç³»ç»Ÿå¯¹ä½œä¸šè¿›è¡Œç®¡ç†å’Œè°ƒåº¦æ‰€éœ€çš„å…¨éƒ¨ä¿¡æ¯ã€‚å¦‚ï¼šä½œä¸šæ ‡è¯†ã€ç”¨æˆ·åç§°ã€ç”¨æˆ·è´¦å·ã€ä½œä¸šç±»åž‹ï¼ˆCPUç¹å¿™åž‹ã€I/Oç¹å¿™åž‹ã€æ‰¹é‡åž‹ã€ç»ˆç«¯åž‹ç­‰ï¼‰ã€ä½œä¸šçŠ¶æ€ã€è°ƒåº¦ä¿¡æ¯ï¼ˆä¼˜å…ˆçº§ã€ä½œä¸šè¿è¡Œæ—¶é—´ï¼‰ã€èµ„æºéœ€æ±‚ï¼ˆé¢„è®¡è¿è¡Œæ—¶é—´ã€è¦æ±‚å†…å­˜å¤§å°ç­‰ï¼‰ã€å·²ç”³è¯·åˆ°èµ„æºçš„ä½¿ç”¨æƒ…å†µã€‚ä½œä¸šè¿è¡Œçš„ä¸‰ä¸ªé˜¶æ®µæ”¶å®¹é˜¶æ®µï¼šæ¯ä¸€ä¸ªä½œä¸šè¿›å…¥ç³»ç»Ÿæ—¶ï¼ˆå³è¾“å…¥åˆ°ç¡¬ç›˜ï¼‰ï¼Œä¾¿ç”±â€œä½œä¸šæ³¨å†Œâ€ç¨‹åºä¸ºè¯¥ä½œä¸šå»ºç«‹ä¸€ä¸ªä½œä¸šæŽ§åˆ¶å—JCBå¹¶æŠŠå®ƒæ”¾å…¥ä½œä¸šåŽå¤‡é˜Ÿåˆ—ä¸­ã€‚è¿è¡Œé˜¶æ®µï¼šåŽå¤‡é˜Ÿåˆ—ä¸­çš„ä½œä¸šè¢«é€‰ä¸­åŽï¼Œç³»ç»Ÿä¼šä¸ºå…¶åˆ†é…å¿…è¦çš„èµ„æºå’Œå»ºç«‹è¿›ç¨‹ï¼Œç„¶åŽå°†å…¶æ”¾å…¥å°±ç»ªé˜Ÿåˆ—ã€‚ä¸€ä¸ªä½œä¸šä»Žç¬¬ä¸€æ¬¡è¿›å…¥å°±ç»ªçŠ¶æ€å¼€å§‹åˆ°å®ƒè¿è¡Œç»“æŸå‰éƒ½æ˜¯å¤„äºŽè¿è¡Œé˜¶æ®µã€‚å®Œæˆé˜¶æ®µï¼šå½“ä½œä¸šå®Œæˆæˆ–å‘ç”Ÿå¼‚å¸¸è€Œç»ˆæ­¢æ—¶ï¼Œä½œä¸šä¾¿å¤„äºŽå®Œæˆé˜¶æ®µï¼Œæ­¤æ—¶ç³»ç»Ÿä¼šæ’¤é”€è¿›ç¨‹å’Œèµ„æºï¼Œå¹¶å°†è¿è¡Œç»“æžœé€šè¿‡æŸç§æ–¹å¼è¾“å…¥ï¼Œå¦‚è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ã€‚å…ˆæ¥å…ˆæœåŠ¡ç®—æ³•First-Come First-servedï¼ŒFCFSã€‚æ¯æ¬¡è°ƒåº¦éƒ½æ˜¯é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªæœ€å…ˆè¿›å…¥é˜Ÿåˆ—çš„ä½œä¸šæˆ–è¿›ç¨‹ï¼Œä¸ºå®ƒä»¬åˆ†é…èµ„æºï¼Œåˆ›å»ºè¿›ç¨‹å’Œåˆ†é…CPUï¼Œä½¿ä¹‹æŠ•å…¥è¿è¡Œã€‚å®ƒæ˜¯æœ€ç®€å•çš„è°ƒåº¦ç®—æ³•ï¼ŒåŒæ—¶ä¹Ÿå¯ç”¨äºŽè¿›ç¨‹è°ƒåº¦ã€‚æ•ˆçŽ‡ä¸é«˜ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ä½œä¸ºä¸»è°ƒåº¦ç®—æ³•ã€‚é€‚ç”¨äºŽCPUç¹å¿™åž‹è€Œä¸é€‚ç”¨äºŽI/Oç¹å¿™åž‹ã€‚å› ä¸ºCPUç¹å¿™åž‹é•¿æ—¶é—´å ç”¨CPUå¾ˆå°‘æœ‰I/Oæ“ä½œï¼Œä¸€æ—¦èŽ·å¾—CPUï¼Œå°±ä¼šè¿è¡Œå¾ˆé•¿æ—¶é—´ï¼Œå°±æ˜¯ä¼šé•¿æ—¶é—´å ç”¨CPUï¼Œè€ŒI/Oç¹å¿™åž‹ç”±äºŽè¦é¢‘ç¹è®¿é—®IOç«¯å£ï¼Œæ¯æ¬¡è®¿é—®éƒ½è¦æ”¾å¼ƒCPUï¼Œç­‰I/Oè®¿é—®å®ŒåŽè¦é‡æ–°ç­‰å¾…ä¸‹ä¸€æ¬¡è°ƒåº¦ï¼ˆæ­¤æ—¶æŽ’åˆ°äº†å°±ç»ªé˜Ÿåˆ—çš„é˜Ÿå°¾ï¼‰ï¼Œæ‰€ä»¥è¦ç­‰å¾…å¾ˆä¹…æ‰èƒ½é‡æ–°è¢«è°ƒåº¦ã€‚å› æ­¤å…ˆæ¥å…ˆæœåŠ¡æœ‰åˆ©äºŽCPUç¹å¿™åž‹è€Œä¸åˆ©äºŽI/Oç¹å¿™åž‹ã€‚çŸ­ä½œä¸šä¼˜å…ˆç®—æ³•Short Job Firstï¼ŒSJFã€‚æŒ‡å¯¹çŸ­ä½œä¸šä¼˜å…ˆè°ƒåº¦çš„ç®—æ³•ï¼Œå®ƒä»ŽåŽå¤‡é˜Ÿåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªæˆ–è‹¥å¹²ä¸ªä¼°è®¡è¿è¡Œæ—¶é—´æœ€çŸ­çš„ä½œä¸šï¼Œå°†å®ƒä»¬è°ƒå…¥å†…å­˜è¿è¡Œã€‚æ­¤ç§ç®—æ³•å¯¹é•¿ä½œä¸šéžå¸¸ä¸åˆ©è€Œä¸”å®žé™…ä½¿ç”¨ä¸Šå¾ˆéš¾é¢„ä¼°æ¯ä¸ªä½œä¸šçš„è¿è¡Œæ—¶é—´ã€‚é™æ€ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•ä¸ºç…§é¡¾ç´§è¿«æ€§ä½œä¸šï¼Œä½¿ä¹‹è¿›å…¥ç³»ç»ŸåŽèŽ·å¾—ä¼˜å…ˆå¤„ç†ï¼Œå¼•å…¥ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•ã€‚æŒ‰ç…§è¿›ç¨‹çš„ä¼˜å…ˆçº§å¤§å°æ¥è°ƒåº¦ï¼Œä½¿é«˜ä¼˜å…ˆçº§è¿›ç¨‹å¾—åˆ°ä¼˜å…ˆå¤„ç†çš„ç­–ç•¥ç§°ä¸ºä¼˜å…ˆæƒè°ƒåº¦ç®—æ³•ã€‚é™æ€ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•æ˜¯æŒ‡åœ¨è¾“å…¥å‰ä½œä¸šä¸ºå…¶èµ‹äºˆä¼˜å…ˆçº§ä¸”ä¸€ç›´ä¿æŒä¸å˜ã€‚è™½ç„¶å¯ä»¥ç…§é¡¾ç´§è¿«æ€§ä½œä¸šï¼Œä½†æ˜¯æ²¡æœ‰è€ƒè™‘åˆ°ä½œä¸šæœ¬èº«çš„è¿è¡Œæ—¶é—´å’Œä½œä¸šçš„ç­‰å¾…æ—¶é—´ç­‰ï¼Œæ‰€ä»¥äº§ç”Ÿäº†æ›´å¥½çš„åŠ¨æ€ä¼˜å…ˆçº§ç®—æ³•ã€‚é«˜å“åº”æ¯”ç®—æ³•é«˜å“åº”æ¯”ç®—æ³•æ˜¯åŠ¨æ€ä¼˜å…ˆçº§ç®—æ³•çš„ä¸€ç§ï¼Œå…¶ä¸­$ä¼˜å…ˆçº§ = \frac{å“åº”æ—¶é—´}{è¦æ±‚æœåŠ¡æ—¶é—´} = \frac{ç­‰å¾…æ—¶é—´+è¦æ±‚æœåŠ¡æ—¶é—´}{è¦æ±‚æœåŠ¡æ—¶é—´}$ã€‚è¿™æ ·å¯ä»¥å¾—åˆ°ï¼šå¯¹äºŽçŸ­ä½œä¸šï¼šå…¶è¦æ±‚æœåŠ¡æ—¶é—´çŸ­ï¼Œä¼˜å…ˆçº§ç›¸å¯¹è¾ƒé«˜ã€‚å¯¹äºŽé•¿ä½œä¸šï¼šåœ¨ç­‰å¾…ä¸€æ®µæ—¶é—´ä¹‹åŽï¼Œå…¶ä¼˜å…ˆçº§ä¼šå¢žé•¿ï¼Œç›´è‡³å¤Ÿé«˜è€Œèƒ½èŽ·å¾—æœåŠ¡ã€‚å¯¹äºŽå…ˆæ¥ä½œä¸šï¼šå‡å¦‚åœ¨æŸä¸€æ—¶åˆ»å…¶ä»æœªèŽ·å¾—æœåŠ¡ï¼Œå’ŒåŽæ¥çš„ä½œä¸šç›¸æ¯”å…¶ä¼˜å…ˆçº§ç›¸å¯¹è¾ƒé«˜ã€‚ç›¸åº”æ—¶é—´ä¸Žå‘¨è½¬æ—¶é—´çš„å¯¹æ¯”ï¼Œå‡å¦‚ä½œä¸šè¿è¡Œå®Œäº†ï¼Œä¸¤è€…ç›¸ç­‰ï¼Œå‡å¦‚æ²¡æœ‰åˆ™ $å“åº”æ—¶é—´&lt;å‘¨è½¬æ—¶é—´$å‘¨è½¬æ—¶é—´ï¼šä»Žä½œä¸šè¿›å…¥ç³»ç»Ÿåˆ°ä½œä¸šå®Œæˆé€€å‡ºç³»ç»Ÿæ‰€ç”¨çš„æ—¶é—´ã€‚å“åº”æ—¶é—´ï¼šç­‰å¾…æ—¶é—´+è¦æ±‚æœåŠ¡æ—¶é—´ã€‚ä½Žçº§è°ƒåº¦è¿›ç¨‹è°ƒåº¦çš„ä»»åŠ¡å’Œæœºåˆ¶ä¿å­˜å¤„ç†æœºçš„çŽ°åœºä¿¡æ¯ï¼šæ¯”å¦‚ç¨‹åºè®¡æ•°å™¨ã€é€šç”¨å¯„å­˜å™¨é‡Œçš„å†…å®¹ã€‚æŒ‰æŸç§ç®—æ³•é€‰å–è¿›ç¨‹ã€‚æŠŠå¤„ç†æœºåˆ†é…ç»™è¿›ç¨‹ï¼šæŠŠé€‰ä¸­è¿›ç¨‹çš„PCBä¸­çš„æœ‰å…³å¤„ç†æœºè°ƒåº¦çš„ä¿¡æ¯è£…å…¥å¤„ç†å™¨çš„å¯„å­˜å™¨ä¸­ï¼ŒæŠŠå¤„ç†å™¨çš„æŽ§åˆ¶æƒäº¤ç»™è¿›ç¨‹ä½¿å…¶èƒ½ä»Žä¸Šæ¬¡çš„æ–­ç‚¹å¤„æ¢å¤è¿è¡Œã€‚è¿›ç¨‹è°ƒåº¦æœºåˆ¶æŽ’é˜Ÿå™¨ï¼šæ¯å½“æœ‰è¿›ç¨‹è½¬å…¥å°±ç»ªçŠ¶æ€æ—¶ï¼ŒæŽ’é˜Ÿå™¨ä¼šå°†å®ƒæ’å…¥åˆ°ç›¸åº”çš„å°±ç»ªé˜Ÿåˆ—ã€‚åˆ†æ´¾å™¨ï¼šåˆ†æ´¾å™¨ä¾æ®è¿›ç¨‹è°ƒåº¦ç¨‹åºï¼ˆæ›´ç›´æŽ¥çš„è¯´ï¼Œè¿›ç¨‹è°ƒåº¦ç®—æ³•ï¼‰æ‰€é€‰å®šçš„è¿›ç¨‹ï¼Œå°†å…¶ä»Žå°±ç»ªé˜Ÿåˆ—ä¸­å–å‡ºã€‚ä¸Šä¸‹æ–‡åˆ‡æ¢å™¨ï¼šä¼šäº§ç”Ÿä¸¤æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼šæ—§è¿›ç¨‹å’Œåˆ†é…ç¨‹åºä¹‹é—´çš„åˆ‡æ¢ï¼›åˆ†é…ç¨‹åºå’Œæ–°è¿›ç¨‹ä¹‹é—´çš„åˆ‡æ¢ã€‚æŽ’é˜Ÿå™¨ã€åˆ†æ´¾å™¨ã€ä¸Šä¸‹æ–‡åˆ‡æ¢å™¨æœ¬èº«ä¹Ÿæ˜¯ç¨‹åºï¼Œä½†æ˜¯å®ƒä»¬æ˜¯å¤„äºŽç³»ç»Ÿæ€çš„ç¨‹åºï¼Œè€Œè¢«è°ƒåº¦çš„è¿›ç¨‹ä¸€èˆ¬æ˜¯ç”¨æˆ·æ€çš„ç¨‹åºï¼Œä»Žç³»ç»Ÿæ€åˆ°ç”¨æˆ·æ€è¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢éœ€è¦å¾ˆå¤§çš„è€—è´¹ï¼Œæ‰€ä»¥ä¸€èˆ¬é‡‡ç”¨ä¸¤ç»„ï¼ˆæˆ–å¤šç»„ï¼‰å¯„å­˜å™¨ï¼Œä¸€ç»„ç”¨äºŽå¤„ç†æœºåœ¨ç³»ç»Ÿæ€æ—¶ä½¿ç”¨ï¼Œä¸€ç»„ç”¨äºŽç³»ç»Ÿåœ¨ç”¨æˆ·æ€æ—¶ä½¿ç”¨ï¼Œè¿™æ ·åœ¨ç³»ç»Ÿæ€å’Œç”¨æˆ·æ€ä¹‹é—´åˆ‡æ¢æ—¶å°±å¯ä»¥åªæ”¹å˜æŒ‡é’ˆï¼ˆç”¨äºŽä»Žå¯„å­˜å™¨ä¸­å­˜å–æ•°æ®å’ŒæŒ‡ä»¤ï¼‰ä½¿å…¶æŒ‡å‘æŒ‡å®šå¯„å­˜å™¨å°±è¡Œã€‚è¿›ç¨‹è°ƒåº¦æ–¹å¼éžæŠ¢å æ–¹å¼ä¸€æ—¦æŸè¿›ç¨‹èŽ·å¾—å¤„ç†æœºï¼Œå°±ä¼šä¸€ç›´è¿è¡Œä¸‹åŽ»ï¼Œç›´è‡³è¯¥è¿›ç¨‹å®Œæˆæˆ–è€…å› å‘ç”ŸæŸç§äº‹ä»¶è€Œè¢«é˜»å¡žå…¶ä»–è¿›ç¨‹æ‰èƒ½èŽ·å¾—å¤„ç†æœºã€‚æ­¤æ—¶å¼•èµ·è¿›ç¨‹è°ƒåº¦çš„å› ç´ ï¼šæ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹è¿è¡Œå®Œæ¯•ã€‚å¤–éƒ¨çŽ¯å¢ƒçš„æ”¹å˜ä½¿å…¶ä¸èƒ½å†ç»§ç»­è¿è¡Œï¼Œå¦‚ç¨‹åºè¿è¡Œå‘ç”Ÿå¼‚å¸¸ã€‚è¿›ç¨‹é€šä¿¡æˆ–è¿›ç¨‹åŒæ­¥æ—¶æ‰§è¡Œäº†æŸç§åŽŸè¯­ï¼Œå¦‚Blockã€‚æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹å‘å‡ºI/Oè¯·æ±‚ã€‚æŠ¢å æ–¹å¼å…è®¸è°ƒåº¦ç¨‹åºæ ¹æ®æŸç§åŽŸåˆ™åŽ»æš‚åœæŸä¸ªæ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹ï¼Œå°†å¤„ç†æœºåˆ†é…ç»™å…¶ä»–è¿›ç¨‹ã€‚è¿™äº›åŽŸåˆ™ä¸€èˆ¬æœ‰ä¸‰ç§ï¼šé«˜ä¼˜å…ˆçº§åŽŸåˆ™ï¼›çŸ­è¿›ç¨‹ä¼˜å…ˆåŽŸåˆ™ï¼›æ—¶é—´ç‰‡åŽŸåˆ™ã€‚æˆ‘ä»¬åŽé¢æ‰€æåˆ°çš„è¿›ç¨‹è°ƒåº¦ç®—æ³•å…¶å®žéƒ½æ˜¯æŠ¢å æ–¹å¼ä¸‹çš„ç­–ç•¥ã€‚è½®è½¬è°ƒåº¦ç®—æ³•å°†CPUçš„å¤„ç†æ—¶é—´åˆ†æˆå›ºå®šå¤§å°çš„æ—¶é—´ç‰‡qï¼Œ qçš„å¤§å°ä»Žå‡ msåˆ°å‡ ç™¾msã€‚ç³»ç»Ÿå°†æ‰€æœ‰å°±ç»ªè¿›ç¨‹æŒ‰å…ˆæ¥å…ˆæœåŠ¡çš„åŽŸåˆ™æŽ’æˆé˜Ÿåˆ—ã€‚æ¯æ¬¡è°ƒåº¦æ—¶ï¼ŒæŠŠCPUåˆ†é…ç»™é˜Ÿé¦–è¿›ç¨‹ï¼Œä»¤å…¶æ‰§è¡Œä¸€ä¸ªæ—¶é—´ç‰‡ï¼Œæ—¶é—´ç‰‡ç”¨å®ŒåŽè‹¥è¿›ç¨‹æœªç»“æŸï¼Œåˆ™é€å›žå°±éœ€é˜Ÿåˆ—å°¾éƒ¨é‡æ–°è°ƒåº¦ï¼Œåœ¨ä¸€ç»™å®šçš„æ—¶é—´å†…ï¼Œå°±ç»ªè¿›ç¨‹å‡èƒ½èŽ·å¾—ä¸€æ—¶é—´ç‰‡çš„æ‰§è¡Œæ—¶é—´ã€‚æ­¤æ—¶æ—¶é—´ç‰‡å¤§å°æ˜¯å…³é”®é—®é¢˜ï¼Œä¸€èˆ¬æ¥è¯´æ—¶é—´ç‰‡qæ­£æ¯”äºŽå“åº”æ—¶é—´ï¼Œåæ¯”äºŽå°±ç»ªè¿›ç¨‹æ•°ç›®ã€‚è®¡ç®—æœºçš„å¤„ç†èƒ½åŠ›ã€‚é€Ÿåº¦å¿«ï¼Œqå¯å°äº›ã€‚é€šå¸¸qå€¼æ˜¯è¿™æ ·å†³å®šçš„ï¼šæ‰¹å¤„ç†ç³»ç»Ÿ:80%çš„CPUå‘¨æœŸåœ¨ä¸€ä¸ªæ—¶é—´ç‰‡å†…å®Œæˆåˆ†æ—¶ç³»ç»Ÿï¼š$q=T/N_{max}$ï¼Œï¼ˆ$T-å“åº”æ—¶é—´ä¸Šé™ï¼ŒN_{max}-æœ€å¤§è¿›ç¨‹æ•°$ï¼‰ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•éžæŠ¢å å¼ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•å³ä¸€æ—¦æŸä¸ªé«˜ä¼˜å…ˆçº§çš„è¿›ç¨‹å æœ‰äº†å¤„ç†æœºï¼Œå°±ä¸€ç›´è¿è¡Œä¸‹åŽ»ï¼Œç›´åˆ°ç”±äºŽå…¶è‡ªèº«çš„åŽŸå› è€Œä¸»åŠ¨è®©å‡ºå¤„ç†æœºæ—¶ï¼ˆä»»åŠ¡å®Œæˆæˆ–ç­‰å¾…äº‹ä»¶ï¼‰æ‰è®©å¦ä¸€é«˜ä¼˜å…ˆçº§è¿›ç¨‹è¿è¡Œã€‚ä¸»è¦ç”¨äºŽæ‰¹å¤„ç†ç³»ç»Ÿä¸­ï¼›ä¹Ÿå¯ç”¨äºŽæŸäº›å¯¹å®žæ—¶æ€§è¦æ±‚ä¸ä¸¥çš„å®žæ—¶ç³»ç»Ÿä¸­ã€‚æŠ¢å å¼ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•ä»»ä½•æ—¶åˆ»éƒ½ä¸¥æ ¼æŒ‰ç…§é«˜ä¼˜å…ˆçº§è¿›ç¨‹åœ¨å¤„ç†æœºä¸Šè¿è¡Œçš„åŽŸåˆ™è¿›è¡Œè¿›ç¨‹çš„è°ƒåº¦ã€‚å¸¸ç”¨äºŽè¦æ±‚æ¯”è¾ƒä¸¥æ ¼çš„å®žæ—¶ç³»ç»Ÿä¸­ï¼Œ ä»¥åŠå¯¹æ€§èƒ½è¦æ±‚è¾ƒé«˜çš„æ‰¹å¤„ç†å’Œåˆ†æ—¶ç³»ç»Ÿä¸­ã€‚é™æ€ä¼˜å…ˆæƒé™æ€ä¼˜å…ˆæƒæ˜¯åœ¨åˆ›å»ºè¿›ç¨‹æ—¶ç¡®å®šçš„ï¼Œä¸”åœ¨è¿›ç¨‹çš„æ•´ä¸ªè¿è¡ŒæœŸé—´ä¿æŒä¸å˜ã€‚ä¸€èˆ¬åœ°ï¼Œä¼˜å…ˆæƒæ˜¯åˆ©ç”¨æŸä¸€èŒƒå›´å†…çš„ä¸€ä¸ªæ•´æ•°æ¥è¡¨ç¤ºçš„ï¼Œè¿™äº›æ•´æ•°è¢«ç§°ä¸ºä¼˜å…ˆæ•°ã€‚ç¡®å®šä¼˜å…ˆæƒå¤§å°çš„ä¾æ®ï¼šè¿›ç¨‹ç±»åž‹ï¼›è¿›ç¨‹å¯¹èµ„æºçš„éœ€æ±‚ï¼›ç”¨æˆ·è¦æ±‚ã€‚åŠ¨æ€ä¼˜å…ˆæƒåŠ¨æ€ä¼˜å…ˆæƒæ˜¯æŒ‡ï¼Œåœ¨åˆ›å»ºè¿›ç¨‹æ—¶æ‰€èµ‹äºˆçš„ä¼˜å…ˆæƒï¼Œæ˜¯å¯ä»¥éšè¿›ç¨‹çš„æŽ¨è¿›æˆ–éšå…¶ç­‰å¾…æ—¶é—´çš„å¢žåŠ è€Œæ”¹å˜çš„ï¼Œä»¥ä¾¿èŽ·å¾—æ›´å¥½çš„è°ƒåº¦æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è§„å®šï¼Œåœ¨å°±ç»ªé˜Ÿåˆ—ä¸­çš„è¿›ç¨‹ï¼Œéšå…¶ç­‰å¾…æ—¶é—´çš„å¢žé•¿ï¼Œå…¶ä¼˜å…ˆæƒä»¥é€ŸçŽ‡aæé«˜ã€‚è‹¥æ‰€æœ‰çš„è¿›ç¨‹éƒ½å…·æœ‰ç›¸åŒçš„ä¼˜å…ˆæƒåˆå€¼ï¼Œåˆ™æ˜¾ç„¶æ˜¯æœ€å…ˆè¿›å…¥å°±ç»ªé˜Ÿåˆ—çš„è¿›ç¨‹ï¼Œå°†å› å…¶åŠ¨æ€ä¼˜å…ˆæƒå˜å¾—æœ€é«˜è€Œä¼˜å…ˆèŽ·å¾—å¤„ç†æœºï¼Œæ­¤å³FCFSç®—æ³•ã€‚è‹¥æ‰€æœ‰çš„å°±ç»ªè¿›ç¨‹å…·æœ‰å„ä¸ç›¸åŒçš„ä¼˜å…ˆæƒåˆå€¼ï¼Œé‚£ä¹ˆï¼Œå¯¹äºŽä¼˜å…ˆæƒåˆå€¼ä½Žçš„è¿›ç¨‹ï¼Œåœ¨ç­‰å¾…äº†è¶³å¤Ÿçš„æ—¶é—´åŽï¼Œå…¶ä¼˜å…ˆæƒä¾¿å¯èƒ½å‡ä¸ºæœ€é«˜ï¼Œä»Žè€Œå¯ä»¥èŽ·å¾—å¤„ç†æœºã€‚å½“é‡‡ç”¨æŠ¢å å¼ä¼˜å…ˆæƒè°ƒåº¦ç®—æ³•æ—¶ï¼Œå¦‚æžœå†è§„å®šå½“å‰è¿›ç¨‹çš„ä¼˜å…ˆæƒä»¥é€ŸçŽ‡bä¸‹é™ï¼Œåˆ™å¯é˜²æ­¢ä¸€ä¸ªé•¿ä½œä¸šé•¿æœŸåœ°åž„æ–­å¤„ç†æœºã€‚å¤šé˜Ÿåˆ—è°ƒåº¦ç®—æ³•ä¹‹å‰ä»‹ç»çš„è°ƒåº¦ç®—æ³•éƒ½æ˜¯ç”¨ä¸€ä¸ªç®—æ³•æ¥è§£å†³æ‰€æœ‰çš„è¿›ç¨‹è°ƒåº¦ï¼Œè¿™æ ·æ— æ³•æ»¡è¶³ç³»ç»Ÿä¸­ä¸åŒç”¨æˆ·å¯¹è¿›ç¨‹è°ƒåº¦ç­–ç•¥çš„ä¸åŒè¦æ±‚ã€‚è€Œå¤šé˜Ÿåˆ—è°ƒåº¦ç®—æ³•å°±æ˜¯å°†å°±ç»ªé˜Ÿåˆ—ä»Žä¸€ä¸ªåˆ†æˆå¤šä¸ªï¼Œå°†ä¸åŒæ€§è´¨æˆ–ç±»åž‹çš„è¿›ç¨‹æ”¾åœ¨ä¸åŒçš„å°±ç»ªé˜Ÿåˆ—ï¼Œè¿™æ ·ä¸åŒçš„é˜Ÿåˆ—ä¹‹é—´è®¾ç½®ä¼˜å…ˆçº§ï¼Œå’Œé˜Ÿåˆ—å†…éƒ¨ä¹Ÿå¯ä»¥è®¾ç½®ä¼˜å…ˆçº§ï¼Œèƒ½æ›´å¥½çš„æ»¡è¶³ç”¨æˆ·çš„éœ€æ±‚ã€‚åŒæ—¶åœ¨å¤šå¤„ç†æœºç³»ç»Ÿä¸­ï¼Œå¯ä»¥æ–¹ä¾¿çš„ç»™æ¯ä¸ªå¤„ç†æœºè®¾ç½®å•ç‹¬çš„å°±ç»ªé˜Ÿåˆ—ã€‚å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦ç®—æ³•è®¾ç½®å¤šä¸ªå°±ç»ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ—èµ‹äºˆä¸åŒçš„ä¼˜å…ˆçº§ï¼Œä¸€ä¸ªé˜Ÿåˆ—çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œç¬¬äºŒä¸ªé˜Ÿåˆ—æ¬¡ä¹‹ï¼Œå…¶ä½™å„é˜Ÿåˆ—çš„ä¼˜å…ˆçº§é€ä¸ªé™ä½Žï¼Œå„é˜Ÿåˆ—å†…éƒ¨ä½¿ç”¨FCFSåŽŸåˆ™æŽ’åˆ—ã€‚ä¼˜å…ˆçº§è¶Šé«˜çš„è¿›ç¨‹æ—¶é—´ç‰‡è¶ŠçŸ­ã€‚å½“ä¸€ä¸ªè¿›ç¨‹è¿›å…¥å†…å­˜åŽï¼Œé¦–å…ˆæ”¾åœ¨ç¬¬ä¸€é˜Ÿåˆ—çš„å°¾éƒ¨ï¼ŒæŒ‰FCFSçš„åŽŸåˆ™è°ƒåº¦ï¼Œå¦‚æžœè¯¥æ—¶é—´ç‰‡å†…æœªç»“æŸï¼Œè¿›ç¨‹è°ƒåº¦æ—¶å°†æ­¤è¿›ç¨‹è½¬å…¥ç¬¬äºŒé˜Ÿåˆ—é˜Ÿå°¾ï¼Œç›´è‡³ç¬¬Nä¸ªå¯¹åˆ—ï¼Œè‹¥è¿›ç¨‹ä»æœªç»“æŸï¼Œåœ¨ç¬¬Nä¸ªå¯¹åˆ—ä¸Šé‡‡ç”¨æ—¶é—´ç‰‡è½®è½¬ç®—æ³•ã€‚ä»…å½“ç¬¬ié˜Ÿåˆ—ç©ºé—²æ—¶æ‰è°ƒåº¦ç¬¬i+1é˜Ÿåˆ—ï¼Œå¦‚æžœæœ‰æ–°è¿›ç¨‹è¿›å…¥ä¼˜å…ˆçº§è¾ƒé«˜çš„é˜Ÿåˆ—ï¼Œå‰¥å¤ºCPUæ‰§è¡Œæ–°è¿›ç¨‹ï¼Œæ—§è¿›ç¨‹æ”¾å…¥åŽŸé˜Ÿåˆ—å°¾éƒ¨ã€‚æ­¤ç®—æ³•ä¸å¿…äº‹å…ˆçŸ¥é“å„è¿›ç¨‹æ‰§è¡Œçš„æ‰€éœ€æ—¶é—´ï¼Œå¯æ»¡è¶³å„ç§è¿›ç¨‹éœ€è¦ï¼Œæ˜¯ç›®å‰å…¬è®¤è¾ƒå¥½çš„è¿›ç¨‹è°ƒåº¦ç®—æ³•ã€‚ä¸¾ä¾‹ç¬¬iä¸ªå¯¹åˆ—çš„æ—¶é—´ç‰‡ä¸º$2^{i-1}$ã€‚åŸºäºŽå…¬å¹³åŽŸåˆ™çš„è°ƒåº¦ç®—æ³•ä¿è¯è°ƒåº¦ç®—æ³•ä¿è¯æ¯ä¸ªè¿›ç¨‹éƒ½èŽ·å¾—ç›¸åŒçš„å¤„ç†æœºæ—¶é—´ï¼šè·Ÿè¸ªè®¡ç®—æ¯ä¸ªè¿›ç¨‹è‡ªåˆ›å»ºä»¥æ¥å·²ç»æ‰§è¡Œçš„æ—¶é—´ã€‚è®¡ç®—æ¯ä¸ªè¿›ç¨‹åº”è¯¥èŽ·å¾—çš„å¤„ç†æœºæ—¶é—´ï¼Œå³è‡ªåˆ›å»ºä»¥æ¥çš„æ—¶é—´é™¤ä»¥nã€‚æ¯”è¾ƒå„è¿›ç¨‹èŽ·å¾—å¤„ç†æœºæ—¶é—´çš„æ¯”çŽ‡ï¼Œå³å®žé™…æ‰§è¡Œæ—¶é—´é™¤ä»¥åº”èŽ·å¾—çš„å¤„ç†æœºæ—¶é—´ã€‚æ¯”è¾ƒå„è¿›ç¨‹èŽ·å¾—å¤„ç†æœºæ—¶é—´çš„æ¯”çŽ‡ï¼Œå¦‚Aï¼š0.5ï¼›Bï¼š0.9ï¼›Cï¼š1.2ã€‚è°ƒåº¦ç¨‹åºåº”é€‰æ‹©æ¯”çŽ‡æœ€å°çš„è¿›ç¨‹å°†å¤„ç†æœºåˆ†é…ç»™å®ƒï¼Œå¹¶è®©è¯¥è¿›ç¨‹ä¸€ç›´è¿è¡Œï¼Œç›´åˆ°è¶…è¿‡æœ€æŽ¥è¿‘å®ƒçš„è¿›ç¨‹æ¯”çŽ‡ï¼Œç„¶åŽæŠŠå¤„ç†æœºè®©ç»™æ­¤æ—¶æ¯”çŽ‡æœ€å°çš„è¿›ç¨‹ã€‚å…¬å¹³è°ƒåº¦ç®—æ³•åœ¨ä¸Šä¸ªç®—æ³•ä¸­ï¼Œå¦‚æžœç”¨æˆ·Aæœ‰4ä¸ªè¿›ç¨‹ï¼Œç”¨æˆ·Bæœ‰1å„è¿›ç¨‹ï¼Œé‚£ç”¨æˆ·AèŽ·å¾—å¤„ç†æœºçš„æ—¶é—´æ˜¯ç”¨æˆ·Bçš„å››å€ã€‚è€Œå…¬å¹³è°ƒåº¦ç®—æ³•çš„ç›®æ ‡æ˜¯ä¿è¯æ¯ä¸ªç”¨æˆ·éƒ½èŽ·å¾—ç›¸åŒçš„å¤„ç†æœºæ—¶é—´ã€‚å®žæ—¶è°ƒåº¦å®žæ—¶è°ƒåº¦å¿…é¡»èƒ½æ»¡è¶³å®žæ—¶ä»»åŠ¡å¯¹æˆªæ­¢æ—¶é—´çš„è¦æ±‚ã€‚æ‰€ä»¥å®žæ—¶ä»»åŠ¡çš„ç®—æ³•å’Œä¼˜å…ˆçº§ç®—æ³•æœ‰äº›åŒºåˆ«ã€‚å®žæ—¶ç®—æ³•çš„åˆ†ç±»éžæŠ¢å å¼è°ƒåº¦ç®—æ³•éžæŠ¢å å¼è½®è½¬è°ƒåº¦ç®—æ³•ï¼›éžæŠ¢å å¼ä¼˜å…ˆè°ƒåº¦ç®—æ³•ã€‚æŠ¢å å¼è°ƒåº¦ç®—æ³•åŸºäºŽæ—¶é’Ÿä¸­æ–­çš„æŠ¢å å¼ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•ï¼šåœ¨æŸå®žæ—¶ä»»åŠ¡åˆ°è¾¾åŽï¼Œå¦‚æžœå®ƒçš„ä¼˜å…ˆçº§é«˜äºŽå½“å‰ä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼Œè¿™æ—¶å¹¶ä¸ç«‹å³æŠ¢å å½“å‰ä»»åŠ¡çš„å¤„ç†æœºï¼Œè€Œæ˜¯ç­‰åˆ°æ—¶é’Ÿä¸­æ–­å‘ç”Ÿæ—¶ï¼Œè°ƒåº¦ç¨‹åºæ‰å‰¥å¤ºå½“å‰ä»»åŠ¡çš„æ‰§è¡Œï¼Œå°†å¤„ç†æœºåˆ†é…ç»™æ–°åˆ°çš„é«˜ä¼˜å…ˆçº§ä»»åŠ¡ã€‚ç«‹å³æŠ¢å å¼ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•ï¼šä¸€æ—¦å‡ºçŽ°å¤–éƒ¨ä¸­æ–­ï¼Œåªè¦å½“å‰ä»»åŠ¡æœªå¤„äºŽä¸´ç•ŒåŒºï¼Œä¾¿ç«‹å³å‰¥å¤ºå½“å‰ä»»åŠ¡çš„æ‰§è¡Œï¼ŒæŠŠå¤„ç†æœºåˆ†é…ç»™è¯·æ±‚ä¸­æ–­çš„ç´§è¿«ä»»åŠ¡ã€‚æœ€æ—©æˆªæ­¢æ—¶é—´ä¼˜å…ˆç®—æ³•Earliest Deadline Firstï¼ŒEDFã€‚å¯ç”¨äºŽéžæŠ¢å å¼ç®—æ³•ï¼Œä¹Ÿå¯ç”¨äºŽæŠ¢å å¼ç®—æ³•ã€‚éžæŠ¢å å¼æŠ¢å å¼æœ‰ä¸¤ä¸ªå‘¨æœŸä»»åŠ¡ï¼ŒAã€Bçš„å‘¨æœŸåˆ†åˆ«æ˜¯20msï¼Œ50msã€‚Aã€Bçš„æ‰§è¡Œæ—¶é—´åˆ†åˆ«æ˜¯10mså’Œ25msã€‚æœ€ä½Žæ¾å¼›åº¦ä¼˜å…ˆå³ç®—æ³•Least Laxity Firstï¼ŒLLFã€‚$æ¾å¼›åº¦=æˆªæ­¢æ—¶é—´-å½“å‰æ—¶é—´-ä»»åŠ¡æ‰§è¡Œæ—¶é—´$ã€‚ä¸»è¦ç”¨äºŽæŠ¢å å¼è°ƒåº¦ã€‚ä¾‹æœ‰ä¸¤ä¸ªå‘¨æœŸä»»åŠ¡ï¼ŒAã€Bçš„å‘¨æœŸåˆ†åˆ«æ˜¯20msï¼Œ50msã€‚Aã€Bçš„æ‰§è¡Œæ—¶é—´åˆ†åˆ«æ˜¯10mså’Œ25msã€‚ä¼˜å…ˆçº§å€’ç½®å³é«˜ä¼˜å…ˆçº§è¿›ç¨‹ï¼ˆæˆ–çº¿ç¨‹ï¼‰è¢«ä½Žä¼˜å…ˆçº§ï¼ˆæˆ–çº¿ç¨‹ï¼‰å»¶è¿Ÿæˆ–é˜»å¡žã€‚ä¾‹ï¼Œå‡å¦‚æœ‰ä¸‰ä¸ªå®Œå…¨ç‹¬ç«‹çš„è¿›ç¨‹P1ã€P2å’ŒP3ï¼Œä¼˜å…ˆçº§P1&gt;P2&gt;P3ã€‚P1å’ŒP3é€šè¿‡å…±äº«ä¸€ä¸ªä¸´ç•Œèµ„æºè¿›è¡Œäº¤äº’ã€‚123P1ï¼š...P(mutex); CS-1; V(mutex);... P2: ...Program2...;P3ï¼š...P(mutex); CS-3; V(mutex);...å‡å¦‚P3æœ€å…ˆæ‰§è¡Œï¼Œåœ¨æ‰§è¡Œäº†P(mutex)æ“ä½œåŽï¼Œè¿›å…¥ä¸´ç•ŒåŒºCS-3ã€‚åœ¨æ—¶åˆ»aï¼ŒP2å°±ç»ªï¼Œå› ä¸ºå®ƒæ¯”P3çš„ä¼˜å…ˆçº§é«˜ï¼ŒP2æŠ¢å äº†P3çš„å¤„ç†æœºè€Œè¿è¡Œï¼Œåœ¨æ—¶åˆ»bï¼ŒP1å°±ç»ªï¼Œå› ä¸ºå®ƒæ¯”P2çš„ä¼˜å…ˆçº§é«˜ï¼ŒæŠ¢å å¤„ç†æœºæ‰§è¡Œï¼Œä½†P1æ‰§è¡ŒP(mutex)ä¹‹åŽè¢«é˜»å¡žï¼Œå¤„ç†æœºè¢«P2èŽ·å¾—ï¼ŒP2æ‰§è¡Œç»“æŸåŽï¼ŒP1ä»ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºï¼Œå¤„ç†æœºè¢«P3èŽ·å¾—ï¼Œç­‰P3é€€å‡ºä¸´ç•ŒåŒºï¼ŒP1æ‰èƒ½èŽ·å¾—å¤„ç†æœºã€‚æ‰€ä»¥æœ¬åº”è¯¥é«˜ä¼˜å…ˆçº§çš„P1ä¼˜å…ˆæ‰§è¡Œï¼Œä½†æ˜¯ç”±äºŽå­˜åœ¨ä¸´ç•Œèµ„æºè€Œå¯¼è‡´ä¼˜å…ˆçº§å€’ç½®ã€‚ä¼˜å…ˆçº§å€’ç½®çš„è§£å†³éµå¾ªåŠ¨æ€ä¼˜å…ˆçº§ç»§æ‰¿åŽŸåˆ™ï¼šå½“é«˜ä¼˜å…ˆçº§è¿›ç¨‹P1è¦è¿›å…¥ä¸´ç•ŒåŒºåŽ»ä½¿ç”¨ä¸´ç•Œèµ„æºï¼Œå¦‚æžœå·²ç»æœ‰ä¸€ä¸ªä½Žä¼˜å…ˆçº§è¿›ç¨‹P3æ­£åœ¨ä½¿ç”¨è¯¥èµ„æºï¼Œæ­¤æ—¶ä¸€æ–¹é¢P1è¢«é˜»å¡žï¼Œä¸€æ–¹é¢P3ç»§æ‰¿P1çš„ä¼˜å…ˆçº§å¹¶ä¸€ç›´ä¿æŒåˆ°P3é€€å‡ºä¸´ç•ŒåŒºã€‚è¿™æ ·åšå°±èƒ½ä¿è¯ä¸ä¼šæœ‰æ¯”P3ä¼˜å…ˆçº§é«˜ä½†æ¯”P1ä¼˜å…ˆçº§ä½Žçš„è¿›ç¨‹æ’è¿›æ¥ã€‚]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»…ä½¿ç”¨Servlet3å®žçŽ°æ–‡ä»¶ä¸Šä¼ ä¸‹è½½]]></title>
    <url>%2F2019%2F%E4%BB%85%E4%BD%BF%E7%94%A8Servlet3%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%2F</url>
    <content type="text"><![CDATA[ä¸Šä¼ æ–‡ä»¶çš„htmlç•Œé¢123456789101112131415161718192021222324252627&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset="UTF-8"&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h2&gt;å•æ–‡ä»¶ä¸Šä¼ &lt;/h2&gt; &lt;form action="/servlet3-upload-and-download/uploadone" method="post" enctype="multipart/form-data"&gt; &lt;input type="file" name="file"&gt; &lt;input type="submit" name="upload"&gt; &lt;/form&gt; &lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt; &lt;h2&gt;å¤šæ–‡ä»¶ä¸Šä¼ &lt;/h2&gt; &lt;form action="/servlet3-upload-and-download/uploadmany" method="post" enctype="multipart/form-data"&gt; &lt;input type="file" name="file1"&gt; &lt;input type="file" name="file2"&gt; &lt;input type="submit" name="upload"&gt; &lt;/form&gt; &lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt; &lt;h2&gt;æ–‡ä»¶ä¸‹è½½&lt;/h2&gt; &lt;a href="/servlet3-upload-and-download/download"&gt;ç‚¹å‡»ä¸‹è½½&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;ä¸‹è½½1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253package download;import java.io.BufferedInputStream;import java.io.BufferedOutputStream;import java.io.File;import java.io.FileInputStream;import java.io.IOException;import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;@WebServlet("/download")public class download extends HttpServlet&#123; private static final long serialVersionUID = 1L; @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123; resp.setContentType("text/html;charset=utf-8"); //filepath String filePath = "D:\\æˆ‘.jpg"; try( BufferedInputStream bis = new BufferedInputStream(new FileInputStream(filePath)); BufferedOutputStream bos = new BufferedOutputStream(resp.getOutputStream()); ) &#123; long fileLength = new File(filePath).length(); resp.setHeader("Content-disposition", "attachment; filename=" + new String(new File(filePath).getName().getBytes("utf-8"), "ISO8859-1")); resp.setHeader("Content-Length", String.valueOf(fileLength)); byte[] buff = new byte[2048]; int bytesRead; while (-1 != (bytesRead = bis.read(buff, 0, buff.length))) &#123; bos.write(buff, 0, bytesRead); &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123; doGet(req, resp); &#125; &#125;ä¸Šä¼ å•æ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657package upload;import java.io.File;import java.io.IOException;import java.io.PrintWriter;import javax.servlet.ServletException;import javax.servlet.annotation.MultipartConfig;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import javax.servlet.http.Part;@WebServlet("/uploadone")@MultipartConfig //Servlet3ä¸­å¤„ç†multipart/form-dataç±»åž‹è¯·æ±‚çš„æ³¨è§£public class UploadOne extends HttpServlet&#123; private static final long serialVersionUID = 1L; protected void doGet(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException&#123; this.doPost(request, response); &#125; protected void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException&#123; //è¯´æ˜Žè¾“å…¥çš„è¯·æ±‚ä¿¡æ¯é‡‡ç”¨UTF-8ç¼–ç æ–¹å¼ request.setCharacterEncoding("utf-8"); response.setContentType("text/html; charset=UTF-8"); PrintWriter out = response.getWriter(); //Servlet3.0ä¸­æ–°å¼•å…¥çš„æ–¹æ³•ï¼Œç”¨æ¥å¤„ç†multipart/form-dataç±»åž‹ç¼–ç çš„è¡¨å• Part part = request.getPart("file"); //èŽ·å–HTTPå¤´ä¿¡æ¯headerInfo=ï¼ˆform-data; name="file" filename="æ–‡ä»¶å"ï¼‰ String headerInfo = part.getHeader("content-disposition"); System.out.println("headinfo ==&gt; " + headerInfo); //ä»ŽHTTPå¤´ä¿¡æ¯ä¸­èŽ·å–æ–‡ä»¶åfileName=ï¼ˆæ–‡ä»¶åï¼‰ String fileName = headerInfo.substring(headerInfo.lastIndexOf("=") + 2, headerInfo.length() - 1); //èŽ·å¾—å­˜å‚¨ä¸Šä¼ æ–‡ä»¶çš„æ–‡ä»¶å¤¹è·¯å¾„ String fileSavingFolder = this.getServletContext().getRealPath("/upload"); //èŽ·å¾—å­˜å‚¨ä¸Šä¼ æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼ˆæ–‡ä»¶å¤¹è·¯å¾„+æ–‡ä»¶åï¼‰ //æ–‡ä»¶å¤¹ä½ç½®å›ºå®šï¼Œæ–‡ä»¶å¤¹é‡‡ç”¨ä¸Žä¸Šä¼ æ–‡ä»¶çš„åŽŸå§‹åå­—ç›¸åŒ String fileSavingPath = fileSavingFolder + File.separator + fileName; System.out.println("filePath ==&gt; " + fileSavingPath); //å¦‚æžœå­˜å‚¨ä¸Šä¼ æ–‡ä»¶çš„æ–‡ä»¶å¤¹ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–‡ä»¶å¤¹ File f = new File(fileSavingFolder + File.separator); if(!f.exists())&#123; f.mkdirs(); &#125; //å°†ä¸Šä¼ çš„æ–‡ä»¶å†…å®¹å†™å…¥æœåŠ¡å™¨æ–‡ä»¶ä¸­ part.write(fileSavingPath); //è¾“å‡ºä¸Šä¼ æˆåŠŸä¿¡æ¯ out.println("æ–‡ä»¶ä¸Šä¼ æˆåŠŸ~ï¼"); &#125;&#125;å¤šæ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172package upload;import java.io.File;import java.io.IOException;import java.io.PrintWriter;import java.util.Collection;import java.util.Iterator;import javax.servlet.ServletException;import javax.servlet.annotation.MultipartConfig;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import javax.servlet.http.Part;@WebServlet("/uploadmany")@MultipartConfig //Servlet3ä¸­å¤„ç†multipart/form-dataç±»åž‹è¯·æ±‚çš„æ³¨è§£public class UploadMany extends HttpServlet&#123; private static final long serialVersionUID = 1L; protected void doGet(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException&#123; this.doPost(request, response); &#125; protected void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException&#123; //è¯´æ˜Žè¾“å…¥çš„è¯·æ±‚ä¿¡æ¯é‡‡ç”¨UTF-8ç¼–ç æ–¹å¼ request.setCharacterEncoding("utf-8"); response.setContentType("text/html; charset=UTF-8"); PrintWriter out = response.getWriter(); //Servlet3.0ä¸­æ–°å¼•å…¥çš„æ–¹æ³•ï¼Œç”¨æ¥å¤„ç†multipart/form-dataç±»åž‹ç¼–ç çš„è¡¨å• Collection&lt;Part&gt; parts = request.getParts(); Iterator&lt;Part&gt; iterator = parts.iterator(); //èŽ·å¾—å­˜å‚¨ä¸Šä¼ æ–‡ä»¶çš„æ–‡ä»¶å¤¹è·¯å¾„ String fileSavingFolder = this.getServletContext().getRealPath("/upload"); while(iterator.hasNext()) &#123; Part next = iterator.next(); //èŽ·å¾—æ–‡ä»¶å¤§å° long size = next.getSize(); System.out.println(size); //èŽ·å–HTTPå¤´ä¿¡æ¯headerInfo=ï¼ˆform-data; name="file" filename="æ–‡ä»¶å"ï¼‰ String headerInfo = next.getHeader("content-disposition"); System.out.println("headinfo ==&gt; " + headerInfo); //ä»ŽHTTPå¤´ä¿¡æ¯ä¸­èŽ·å–æ–‡ä»¶åfileName=ï¼ˆæ–‡ä»¶åï¼‰ String fileName = headerInfo.substring(headerInfo.lastIndexOf("=") + 2, headerInfo.length() - 1); //èŽ·å¾—å­˜å‚¨ä¸Šä¼ æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼ˆæ–‡ä»¶å¤¹è·¯å¾„+æ–‡ä»¶åï¼‰ //æ–‡ä»¶å¤¹ä½ç½®å›ºå®šï¼Œæ–‡ä»¶å¤¹é‡‡ç”¨ä¸Žä¸Šä¼ æ–‡ä»¶çš„åŽŸå§‹åå­—ç›¸åŒ String fileSavingPath = fileSavingFolder + File.separator + fileName; System.out.println("filePath ==&gt; " + fileSavingPath); //å¦‚æžœå­˜å‚¨ä¸Šä¼ æ–‡ä»¶çš„æ–‡ä»¶å¤¹ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–‡ä»¶å¤¹ File f = new File(fileSavingFolder + File.separator); if(!f.exists())&#123; f.mkdirs(); &#125; //å°†ä¸Šä¼ çš„æ–‡ä»¶å†…å®¹å†™å…¥æœåŠ¡å™¨æ–‡ä»¶ä¸­ next.write(fileSavingPath); &#125; //è¾“å‡ºä¸Šä¼ æˆåŠŸä¿¡æ¯ out.println("æ–‡ä»¶ä¸Šä¼ æˆåŠŸ~ï¼"); &#125;&#125;demoä¸‹è½½ï¼šhttps://github.com/isjinhao/servlet3-upload-and-downloadã€‚]]></content>
      <categories>
        <category>Java Web</category>
      </categories>
      <tags>
        <tag>Java Web</tag>
        <tag>servlet3</tag>
        <tag>æ–‡ä»¶ä¸Šä¼ </tag>
        <tag>æ–‡ä»¶ä¸‹è½½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºäºŽFace++äººè„¸è¯†åˆ«ç³»ç»Ÿé¡¹ç›®ç»“æž„]]></title>
    <url>%2F2019%2F%E5%9F%BA%E4%BA%8EFacepp%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%2F</url>
    <content type="text"><![CDATA[è¦æ±‚AngularJS+Bootstrap3+SSM+Opencv+Face++å¼€å‘ä¸€å¥—äººè„¸ç­¾åˆ°ç³»ç»Ÿï¼Œä½¿ç”¨ç”µè„‘æ‘„åƒå¤´èŽ·å–äººè„¸å¹¶è¿›è¡Œç­¾åˆ°ã€‚è¯†åˆ«æ–¹å¼éªŒè¯æ–¹å¼ï¼šäººè„¸å›¾ç‰‡+ä¿å­˜äººè„¸è‡³æœåŠ¡å™¨+åˆ°åœºç¦»åœºæ—¶é—´ã€‚åˆ°åœºç¦»åœºæ—¶é—´ï¼šç¬¬ä¸€æ¬¡æˆªå–åˆ°çš„äººè„¸æ˜¯åˆ°åœºï¼Œæœ€åŽä¸€æ¬¡æˆªå–åˆ°çš„äººè„¸æ˜¯ç¦»åœºã€‚äººè„¸å›¾ç‰‡ã€ä¿å­˜è‡³æœåŠ¡å™¨ï¼šä½¿ç”¨Opencv è¯†åˆ«å›¾ç‰‡ä¸­çš„äººè„¸å¾—åˆ°æ‰€æœ‰çš„Rectï¼Œä¸€ä¸ªäººè„¸åœ¨å›¾ç‰‡ä¸­çš„ä½ç½®ä¼šå‚¨å­˜åœ¨ä¸€ä¸ªRectï¼ˆxè½´ã€yè½´ã€widthã€heightï¼‰å¯¹è±¡ä¸­ã€‚ç„¶åŽå¾ªçŽ¯ä»¥ä¸‹åšæ³•ï¼šå‰ªåˆ‡å‡ºæ¯ä¸ªRectåœ¨å›¾ç‰‡ä¸­å¯¹åº”çš„å­å›¾ç‰‡ï¼Œè°ƒç”¨Face++çš„æŽ¥å£æœç´¢ä¸Žå­å›¾ç‰‡æœ€ç›¸è¿‘çš„ä¸€ä¸ªäººï¼Œå¦‚æžœæœ€ç›¸è¿‘çš„äººç½®ä¿¡åº¦ &gt;= 80ï¼Œè®¤ä¸ºæ˜¯åŒä¸€ä¸ªäººï¼Œå¤åˆ¶ä¸€ä»½åŽŸå›¾ç‰‡ï¼Œç„¶åŽæŠŠRectå¯¹åº”çš„ä½ç½®ç”»ä¸Šæ¡†ï¼Œä¿å­˜åœ¨æŒ‡å®šæ–‡ä»¶å¤¹ï¼ˆæ¯ä¸ªæ´»åŠ¨æœ‰å”¯ä¸€çš„å­˜å‚¨æ–‡ä»¶å¤¹ï¼‰ä¸‹ï¼Œå¦‚æžœç½®ä¿¡åº¦ &lt; 80ï¼Œå¤„ç†ä¸‹ä¸€ä¸ªRectã€‚ä¸Šä¼ æ–¹å¼ï¼šå®¢æˆ·ç«¯ä¸€ç§’æˆªä¸€å¼ å›¾ä¸Šä¼ ã€‚å®žä½“ &amp; è¡¨ç»“æž„ç»„ç»‡åˆ›å»ºæ´»åŠ¨ï¼Œå­¦ç”Ÿå‚ä¸Žæ´»åŠ¨ã€‚æ´»åŠ¨åˆ†ä¸ºä¸¤ç§ï¼Œä½¿ç”¨ç»„çš„å’Œä¸ä½¿ç”¨ç»„çš„ã€‚ä½¿ç”¨ç»„çš„åº”ç”¨åœºæ™¯æ˜¯æ•™å­¦ç­ç­¾åˆ°ï¼Œæ•™å­¦ç­çš„äººæ•°æ˜¯å›ºå®šçš„ï¼Œä¸å±žäºŽæ•™å­¦ç­çš„äººå³ä½¿è¯†åˆ«æˆåŠŸä¹Ÿä¸ç®—ä¸ºç­¾åˆ°ã€‚ä¸ä½¿ç”¨ç»„çš„åº”ç”¨åœºæ™¯æ˜¯ç¤¾å›¢æ´»åŠ¨ç­¾åˆ°ï¼Œåªè¦è¯†åˆ«æˆåŠŸï¼Œå°±ç®—ä¸ºç­¾åˆ°ã€‚ç»„ç»‡åŠŸèƒ½ç»„ç»‡æ³¨å†Œå‘å¸ƒæ´»åŠ¨æŸ¥çœ‹ç»„ä¿¡æ¯æŸ¥çœ‹ä¸¾åŠžçš„æ´»åŠ¨ä¿¡æ¯ï¼šæŸ¥çœ‹æ¯åœºæ´»åŠ¨ç”¨æˆ·ï¼šå½•å…¥å’Œå¯¼å‡ºè®°å½•ç­¾åˆ°ç”¨æˆ·ç”¨æˆ·æ³¨å†Œ###ç”¨æˆ·æŸ¥çœ‹ç­¾åˆ°ç”¨æˆ·æŸ¥çœ‹ç»„ç®¡ç†å‘˜]]></content>
      <categories>
        <category>å¤§å­¦ç”Ÿåˆ›æ–°åˆ›ä¸šé¡¹ç›®</category>
      </categories>
      <tags>
        <tag>SSM</tag>
        <tag>Face++</tag>
        <tag>Opencv</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[markdownæ•°å­¦å…¬å¼]]></title>
    <url>%2F2019%2Fmarkdown%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ç¬¦å·ä»£ç ç¬¦å·ä»£ç $\sum$\sum$\sum_{i=0}^n$\sum_{i=0}^n$\pm$\pm$\div$\div$\cdot$\cdot$\times$\times$\mid$\mid$\circ$\circ$\ast$\ast$\bigotimes$\bigotimes$\bigoplus$\bigoplus$\leq$\leq$\geq$\geq$\neq$\neq$\approx$\approx$\prod$\prod$\coprod$\coprod$\cdots$\cdots$\int$\int$\iint$\iint$\oint$\oint$\infty$\infty$\nabla$\nabla$\because$\because$\therefore$\therefore$\forall$\forall$\exists$\exists$\not=$\not=$\not&gt;$\not&gt;$\leq$\leq$\geq$\geq$\not\subset$\not\subset$\emptyset$\emptyset$\in$\in$\notin$\notin$\subset$\subset$\subseteq$\subseteq$\bigcup$\bigcup$\bigcap$\bigcap$\bigvee$\bigvee$\bigwedge$\bigwedge$\biguplus$\biguplus$\bigsqcup$\bigsqcup$\hat{y}$\hat{y}$\check{y}$\check{y}$\breve{y}$\breve{y}$\overline{a+b+c+d}$\overline{a+b+c+d}$\underline{a+b+c+d}$\underline{a+b+c+d}$\overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0}$\overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0}$\uparrow$\uparrow$\downarrow$\downarrow$\Uparrow$\Uparrow$\Downarrow$\Downarrow$\rightarrow$\rightarrow$\leftarrow$\leftarrow$\Rightarrow$\Rightarrow$\Longleftarrow$\Longleftarrow$\longleftarrow$\longleftarrow$\longrightarrow$\longrightarrow$\Longrightarrow$\Longrightarrow$\alpha$\alpha$\beta$\beta$\gamma$\gamma$\Gamma$\Gamma$\delta$\delta$\Delta$\Delta$\epsilon$\epsilon$\varepsilon$\varepsilon$\zeta$\zeta$\eta$\eta$\theta$\theta$\Theta$\Theta$\vartheta$\vartheta$\iota$\iota$\pi$\pi$\phi$\phi$\Phi$\Phi$\psi$\psi$\Psi$\Psi$\omega$\omega$\Omega$\Omega$\chi$\chi$\rho$\rho$\omicron$\omicron$\sigma$\sigma$\Sigma$\Sigma$\nu$\nu$\xi$\xi$\tau$\tau$\lambda$\lambda$\Lambda$\Lambda$\mu$\mu$\partial$\partial$\lbrace$\lbrace$\rbrace$\rbrace$\overline{a}$\overline{a}$\frac{7x+5}{1+y^2}$\frac{7x+5}{1+y^2}$\int ^2_3 x^2 {\rm d}x$\int ^2_3 x^2 {\rm d}x$\sqrt[n]{3}$\sqrt[n]{3}$\vec{a} \cdot \vec{b}=0$\vec{a} \cdot \vec{b}=0$\iiint$\iiint$\oint$\oint$\lim$\lim$\infty$\infty$\partial$\partial$\ln15$\ln15$\log_2^{10}$\log_2^{10}]]></content>
      <categories>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>markdown</tag>
        <tag>Latex</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[02-è¯­è¨€åŠå…¶æ–‡æ³•]]></title>
    <url>%2F2019%2F02-%E8%AF%AD%E8%A8%80%E5%8F%8A%E5%85%B6%E6%96%87%E6%B3%95%2F</url>
    <content type="text"><![CDATA[å­—æ¯è¡¨å­—æ¯è¡¨ï¼ˆ$\sumâ€‹$ï¼‰æ˜¯ä¸€ä¸ªæœ‰ç©·ç¬¦å·é›†åˆï¼Œç¬¦å·åŒ…æ‹¬å­—æ¯ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ã€â€¦ã€‚ä¾‹å¦‚ï¼ŒäºŒè¿›åˆ¶å­—æ¯è¡¨ï¼š{0,1}ã€ASCIIå­—ç¬¦é›†ï¼ŒUnicodeå­—ç¬¦é›†ç­‰ã€‚å­—æ¯è¡¨ä¸Šçš„è¿ç®—ä¹˜ç§¯è¿ç®—ï¼š$\sum_{1} \sum_{2} = \lbrace{ab | a \in \sum_{1}, b \in \sum_{2} \rbrace}â€‹$ä¾‹ï¼š $\lbrace0 , 1\rbrace \lbrace a, b \rbrace = \lbrace 0a, 0b, 1a, 1b \rbrace$å¹‚è¿ç®—å­—æ¯è¡¨çš„næ¬¡å¹‚ï¼šé•¿åº¦ä¸ºnçš„ç¬¦å·ä¸²æž„æˆçš„é›†åˆ$\sum_{}^0 = \lbrace \varepsilon \rbraceâ€‹$$\sum_{}^n = \sum_{}^{n-1}\sum_{} n \geq 1$${\lbrace 0, 1 \rbrace}^3 = \lbrace0, 1\rbrace \lbrace0, 1\rbrace \lbrace0, 1\rbrace = \lbrace000, 001, 010, 011, 100, 101, 110, 111\rbrace$æ­£é—­åŒ…è¿ç®—å­—æ¯è¡¨çš„æ­£é—­åŒ…ï¼šé•¿åº¦æ­£æ•°çš„ç¬¦å·ä¸²æž„æˆçš„é›†åˆ$\sum_{}^+ = \sum_{}^1 \bigcup \sum_{}^2 \bigcup \sum_{}^3 \bigcup \cdotsâ€‹$å…‹æž—é—­åŒ…è¿ç®—å­—æ¯è¡¨çš„å…‹æž—é—­åŒ…ï¼šä»»æ„ç¬¦å·ä¸²ï¼ˆé•¿åº¦å¯ä»¥ä¸ºé›¶ï¼‰æž„æˆçš„é›†åˆ$\sum_{}^* = \sum_{}^0 \bigcup \sum_{}^1 \bigcup \sum_{}^2 \bigcup \sum_{}^3 \bigcup \cdots$ä¸²è®¾$\sum_{}â€‹$æ˜¯ä¸€ä¸ªå­—æ¯è¡¨ï¼Œ$\forall x \in \sum_{}^*â€‹$ï¼Œ$xâ€‹$ç§°ä¸ºæ˜¯$\sum_{}â€‹$ä¸Šçš„ä¸€ä¸ªä¸²ã€‚ä¸²æ˜¯å­—æ¯è¡¨ä¸­ç¬¦å·çš„ä¸€ä¸ªæœ‰ç©·åºåˆ—ã€‚ä¸²$s$çš„é•¿åº¦ï¼Œé€šå¸¸è®°ä½œ$|s|$ï¼Œæ˜¯æŒ‡$s$ä¸­ç¬¦å·çš„ä¸ªæ•°ã€‚ä¾‹ï¼š$|aab|$=3ã€‚ç©ºä¸²æ˜¯é•¿åº¦ä¸º0çš„ä¸²ï¼Œç”¨ $ \varepsilon$è¡¨ç¤º$|\varepsilon|= 0$ä¸²ä¸Šçš„è¿ç®—è¿žæŽ¥å¦‚æžœ$x$å’Œ$y$æ˜¯ä¸²ï¼Œé‚£ä¹ˆ$x$å’Œ$y$çš„è¿žæŽ¥ï¼ˆconcatenationï¼‰æ˜¯æŠŠ$y$é™„åŠ åˆ°$x$åŽé¢è€Œå½¢æˆçš„ä¸²ï¼Œè®°ä½œ$xy$ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœ$x=dog$ä¸”$y=house$ï¼Œé‚£ä¹ˆ$xy=doghouse$ç©ºä¸²æ˜¯è¿žæŽ¥è¿ç®—çš„å•ä½å…ƒï¼ˆidentityï¼‰ï¼Œå³ï¼Œå¯¹äºŽä»»ä½•ä¸²$s$éƒ½æœ‰ï¼Œ$Îµs = sÎµ = s$ã€‚è®¾$x$, $y$, $z$æ˜¯ä¸‰ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æžœ$x=yz$ï¼Œåˆ™ç§°$y$æ˜¯$x$çš„å‰ç¼€ï¼Œ$z$æ˜¯$xâ€‹$çš„åŽç¼€ã€‚å¹‚ä¸²sçš„næ¬¡å¹‚ï¼šå°†$n$ä¸ª$s$è¿žæŽ¥èµ·æ¥$s^0 = \varepsilon$ï¼Œ$s^n = s^{n-1}s, n \geq 1â€‹$å¦‚æžœ $s = ba$ï¼Œé‚£ä¹ˆ$s^1= ba$ï¼Œ$s^2=baba$ï¼Œ$s^3=bababa$ï¼Œâ€¦æ–‡æ³•çš„å®šä¹‰æ–‡æ³•çš„ç›´è§‚æ¦‚å¿µå½“äººä»¬è¡¨è¿°ä¸€é—¨è¯­è¨€æ—¶ï¼Œæ— éžæ˜¯è¯´æ˜Žè¿™ç§è¯­è¨€çš„å¥å­ï¼Œå¦‚æžœè¯­è¨€åªå«æœ‰æœ‰ç©·å¤šä¸ªå¥å­ï¼Œåˆ™åªéœ€è¦åˆ—å‡ºå¥å­çš„æœ‰ç©·é›†å°±è¡Œã€‚ä½†å¯¹äºŽå«æœ‰æ— ç©·å¤šä¸ªå¥å­çš„è¯­è¨€æ¥è®²ï¼Œé‡‡ç”¨çš„åšæ³•æ˜¯ç»™å‡ºä¸€äº›è§„åˆ™ï¼Œç¬¦åˆè§„åˆ™çš„å¥å­æ˜¯è¯­è¨€çš„ä¸€ä¸ªå¥å­ã€‚æˆ‘ä»¬ä»¥ç®€åŒ–ç‰ˆçš„æ±‰è¯­ï¼ˆå¥å­çš„ç»“æž„åªæœ‰ä¸»è°“ç»“æž„ï¼‰è§„åˆ™æ¥è¯´æ˜Žï¼šå…¶ä¸­ç”¨å°–æ‹¬å·æ‹¬èµ·æ¥çš„éƒ¨åˆ†ç§°ä¸ºè¯­æ³•æˆåˆ†ï¼Œæœªç”¨å°–æ‹¬å·æ‹¬èµ·æ¥çš„éƒ¨åˆ†ç§°ä¸ºè¯­è¨€çš„åŸºæœ¬ç¬¦å·ã€‚æ–‡æ³•çš„å½¢å¼åŒ–å®šä¹‰å®šä¹‰ï¼š$G=(V_{T}, V_{N}, P, S)$ï¼Œ$V_{T}$ï¼šç»ˆç»“ç¬¦é›†åˆã€‚æ–‡æ³•æ‰€å®šä¹‰çš„è¯­è¨€çš„åŸºæœ¬ç¬¦å·ï¼Œä¹Ÿç§°ä¸ºtokenã€‚ç»ˆç»“æ˜¯æŒ‡å…¶ä¸èƒ½å†è¢«æ”¹å˜ã€‚$V_{N}â€‹$ï¼šéžç»ˆç»“ç¬¦é›†åˆã€‚ç”¨æ¥è¡¨ç¤ºè¯­æ³•æˆåˆ†çš„ç¬¦å·ï¼Œä¹Ÿç§°ä¸ºâ€è¯­æ³•å˜é‡â€œã€‚éžç»ˆç»“æŒ‡å¯ä»¥ç”±ä»–ä»¬æŽ¨å¯¼å‡ºå¥å­ã€‚$V_{T} \bigcap V_{N} = \phiâ€‹$ã€‚$V_{T}\bigcup V_{N}$ï¼šæ–‡æ³•ç¬¦å·é›†ã€‚Pï¼šäº§ç”Ÿå¼é›†åˆï¼šæè¿°äº†å°†ç»ˆç»“ç¬¦å’Œéžç»ˆç»“ç¬¦ç»„åˆæˆä¸²çš„æ–¹æ³•ï¼Œäº§ç”Ÿå¼çš„ä¸€èˆ¬å½¢å¼ï¼š$\alpha \rightarrow \betaâ€‹$ã€‚$Î±âˆˆ(V_TâˆªV_N)^*â€‹$ï¼Œä¸”$\alphaâ€‹$ä¸­è‡³å°‘åŒ…å«$V_Nâ€‹$ä¸­çš„ä¸€ä¸ªå…ƒç´ ã€‚ç§°ä¸ºäº§ç”Ÿå¼çš„å¤´ï¼ˆheadï¼‰æˆ–å·¦éƒ¨ï¼ˆleft sideï¼‰ã€‚${\beta \in (V_T \bigcup V_N)}^*â€‹$ï¼Œç§°ä¸ºäº§ç”Ÿå¼çš„ä½“ï¼ˆbodyï¼‰æˆ–å³éƒ¨ï¼ˆright sideï¼‰ã€‚Sï¼šå¼€å§‹ç¬¦å·ã€‚$S\in V_Nâ€‹$ã€‚å¼€å§‹ç¬¦å·ï¼ˆstart symbolï¼‰è¡¨ç¤ºçš„æ˜¯è¯¥æ–‡æ³•ä¸­æœ€å¤§çš„è¯­æ³•æˆåˆ†ã€‚ä¾‹ï¼š$S = &lt;å¥å­&gt;â€‹$ä¸¾ä¾‹$G = ( \lbrace id, +, *, (, ) \rbrace, \lbrace E \rbrace, P, E )$ &nbsp; $P =\lbrace E \rightarrow E + E , E \rightarrow E \ast E, E \rightarrow ( E ), E \rightarrow id \rbrace $äº§ç”Ÿå¼çš„ç®€å†™å¯¹ä¸€ç»„æœ‰ç›¸åŒå·¦éƒ¨çš„ $\alpha$ äº§ç”Ÿå¼$\alpha \rightarrow \beta_1,\alpha \rightarrow \beta_2 , â€¦ , \alpha \rightarrow \beta_n$ã€‚å¯ä»¥ç®€è®°ä¸ºï¼š$\alpha \rightarrow \beta_1 | \beta_2 | , â€¦ , | \beta_nâ€‹$ã€‚ç¬¦å·çº¦å®šç»ˆç»“ç¬¦ï¼šå­—æ¯è¡¨ä¸­æŽ’åœ¨å‰é¢çš„å°å†™å­—æ¯ï¼Œå¦‚ aã€bã€cï¼›è¿ç®—ç¬¦ï¼Œå¦‚ +ã€*ç­‰ï¼›æ ‡ç‚¹ç¬¦å·ï¼Œå¦‚æ‹¬å·ã€é€—å·ç­‰ï¼›æ•°å­—0ã€1ã€. . . ã€9ï¼›ç²—ä½“å­—ç¬¦ä¸²ï¼Œå¦‚idã€ifç­‰ï¼›éžç»ˆç»“ç¬¦ï¼šå­—æ¯è¡¨ä¸­æŽ’åœ¨å‰é¢çš„å¤§å†™å­—æ¯ï¼Œå¦‚Aã€Bã€ Cï¼›å­—æ¯Sã€‚é€šå¸¸è¡¨ç¤ºå¼€å§‹ç¬¦å·ï¼›å°å†™ã€æ–œä½“çš„åå­—ï¼Œå¦‚ exprã€stmtç­‰ï¼›ä»£è¡¨ç¨‹åºæž„é€ çš„å¤§å†™å­—æ¯ã€‚å¦‚Eï¼ˆè¡¨è¾¾å¼ï¼‰ã€Tï¼ˆé¡¹ï¼‰å’ŒFï¼ˆå› å­ï¼‰ï¼›æ–‡æ³•ç¬¦å·ï¼ˆå³ç»ˆç»“ç¬¦æˆ–éžç»ˆç»“ç¬¦ï¼‰ï¼šå­—æ¯è¡¨ä¸­æŽ’åœ¨åŽé¢çš„å¤§å†™å­—æ¯ï¼ˆå¦‚Xã€Yã€Zï¼‰ç»ˆç»“ç¬¦å·ä¸²ï¼šå­—æ¯è¡¨ä¸­æŽ’åœ¨åŽé¢çš„å°å†™å­—æ¯ï¼ˆä¸»è¦æ˜¯uã€vã€. . . ã€zï¼‰ã€‚åŒ…æ‹¬ç©ºä¸²ã€‚æ–‡æ³•ç¬¦å·ä¸²ï¼šå°å†™å¸Œè…Šå­—æ¯ï¼Œå¦‚Î±ã€Î²ã€Î³ï¼Œè¡¨ç¤ºã€‚åŒ…æ‹¬ç©ºä¸²ã€‚å¼€å§‹ç¬¦å·ï¼šé™¤éžç‰¹åˆ«è¯´æ˜Žï¼Œç¬¬ä¸€ä¸ªäº§ç”Ÿå¼çš„å·¦éƒ¨ã€‚è¯­è¨€çš„å®šä¹‰æŽ¨å¯¼ ï¼ˆDerivationsï¼‰ç»™å®šæ–‡æ³•$G=(V_T , V_N , P , S )$ï¼Œå¦‚æžœ $\alphaâ†’\beta \in P$ï¼Œé‚£ä¹ˆå¯ä»¥å°†ç¬¦å·ä¸²$\gamma \alpha \delta$ä¸­çš„$ \alpha$æ›¿æ¢ä¸º$\beta$ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå°†$\gamma \alpha \delta$é‡å†™ä¸º$\gamma \beta \delta$ï¼Œè®°ä½œ $\gamma \alpha \delta \Rightarrow \gamma \beta \delta$Î³ã€‚æ­¤æ—¶ï¼Œç§°æ–‡æ³•ä¸­çš„ç¬¦å·ä¸² $\gamma \alpha \delta$ ç›´æŽ¥æŽ¨å¯¼ï¼ˆdirectly deriveï¼‰å‡º$\gamma \beta \delta$ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ç”¨äº§ç”Ÿå¼çš„å³éƒ¨æ›¿æ¢äº§ç”Ÿå¼çš„å·¦éƒ¨ã€‚å¦‚æžœ$\alpha_0 \Rightarrow \alpha_1, \alpha_1 \Rightarrow \alpha_2, \cdots, \alpha_{n-1} \Rightarrow \alpha_{n}â€‹$ã€‚åˆ™ç§°ç¬¦å·ä¸²$\alpha_0â€‹$ç»è¿‡$nâ€‹$æ­¥æŽ¨å¯¼å‡º$\alpha_nâ€‹$ï¼Œå¯ç®€è®°ä¸º$\alpha_0 \Rightarrow^n \alpha_nâ€‹$ã€‚$\alpha \Rightarrow^0 \alpha$ï¼›$\Rightarrow^+â€‹$è¡¨ç¤ºâ€œç»è¿‡æ­£æ•°æ­¥æŽ¨å¯¼â€ï¼›$\Rightarrow^*$è¡¨ç¤ºâ€œç»è¿‡è‹¥å¹²ï¼ˆå¯ä»¥æ˜¯0ï¼‰æ­¥æŽ¨å¯¼ã€‚å½’çº¦ï¼ˆReductionsï¼‰è§„çº¦æ˜¯æŽ¨å¯¼çš„é€†è¿‡ç¨‹ã€‚å¥åž‹å¦‚æžœ$S \Rightarrow^\ast \alpha $ï¼Œ$ \alpha \in (V_T \bigcup V_N)^\ast $ï¼Œåˆ™ç§°$ \alpha $æ˜¯Gçš„ä¸€ä¸ªå¥åž‹ï¼ˆsentential formï¼‰ã€‚ä¸€ä¸ªå¥åž‹ä¸­æ—¢å¯ä»¥åŒ…å«ç»ˆç»“ç¬¦ï¼Œåˆå¯ä»¥åŒ…å«éžç»ˆç»“ç¬¦ï¼Œä¹Ÿå¯èƒ½æ˜¯ç©ºä¸²ã€‚å¦‚æžœ$S \Rightarrow^\ast \omega $ï¼Œ$\omega \in V_T\ast$ï¼Œåˆ™ç§°$ \omega $ æ˜¯Gçš„ä¸€ä¸ªå¥å­ï¼ˆsentenceï¼‰ã€‚å¥å­æ˜¯ä¸åŒ…å«éžç»ˆç»“ç¬¦çš„å¥åž‹ã€‚è¯­è¨€çš„å½¢å¼åŒ–å®šä¹‰ç”±æ–‡æ³•$G$çš„å¼€å§‹ç¬¦å·$S$æŽ¨å¯¼å‡ºçš„æ‰€æœ‰å¥å­æž„æˆçš„é›†åˆç§°ä¸ºæ–‡æ³•$G$ç”Ÿæˆçš„è¯­è¨€ï¼Œè®°ä¸º$L(G )$ã€‚å³ï¼š$L(G)= \lbrace \omega \Rightarrow^\ast \omega \rbrace, \omega \in {V_T}^\ast$ã€‚ä¾‹å­—æ¯æ•°å­—ä¸²çš„æ–‡æ³•ï¼ˆTï¼‰ï¼š$T \rightarrow L | D | TL | TDâ€‹$$L \rightarrow a | b | c | \cdots | zâ€‹$$ D \rightarrow 0 | 1 | 2 | 3 | \cdots | 9â€‹$æ ‡è¯†ç¬¦çš„æ–‡æ³•ï¼ˆSï¼‰ï¼šå’ŒTåŒºåˆ«çš„æ˜¯Så¿…é¡»ä»¥å­—æ¯æˆ–_å¼€å¤´ã€‚$ S \rightarrow L | LTâ€‹$$T \rightarrow L | D | TL | TDâ€‹$$ L \rightarrow a \mid b \mid c \mid \cdots \mid z \mid _ â€‹$$ D \rightarrow 0 | 1 | 2 | 3 | \cdots | 9â€‹$æ— ç¬¦å·æ•´æ•°ï¼ˆSï¼‰ï¼š$S \rightarrow SN â€‹$$S\rightarrow \varepsilonâ€‹$$N \rightarrow 0|1|\cdots|9â€‹$æµ®ç‚¹æ•°ï¼ˆTï¼‰ï¼š$S \rightarrow STN | SN $$S\rightarrow \varepsilonâ€‹$$ T \rightarrow .$$N \rightarrow 0|1|\cdots|9â€‹$è¯­è¨€ä¸Šçš„è¿ç®—ä¾‹ï¼šä»¤$L=\lbrace A, B, \cdots Z, a, b, \cdots, z\rbrace$ï¼Œ$D=\lbrace 0, 1, \cdots, 9\rbrace$ã€‚åˆ™$L(L\bigcap D)^*$è¡¨ç¤ºçš„è¯­è¨€æ˜¯æ ‡è¯†ç¬¦ã€‚æ–‡æ³•çš„åˆ†ç±»Chomskyï¼ˆå½¢å¼è¯­è¨€çš„å»ºç«‹è€…ï¼‰æŠŠæ–‡æ³•åˆ†æˆå››ç±»ï¼Œ0åž‹ã€1åž‹ã€2åž‹å’Œ3åž‹ã€‚åŒºåˆ«åœ¨äºŽåœ¨ä¸åŒæ–‡æ³•çš„äº§ç”Ÿå¼ä¸Šæ–½åŠ çš„é™åˆ¶ä¸åŒã€‚0åž‹æ–‡æ³•è¢«å«åšï¼Œæ— é™åˆ¶æ–‡æ³•ï¼ˆUnrestricted Grammarï¼‰æˆ– çŸ­è¯­ç»“æž„æ–‡æ³•ï¼ˆPhrase Structure Grammar, PSGï¼‰ã€‚$\forall Î± \rightarrow \beta \in Pâ€‹$ï¼Œ$\alpha, \beta \in {(V_N \bigcup V_T)}^\astâ€‹$ï¼Œä¸”$\alphaâ€‹$ä¸­è‡³å°‘åŒ…å«1ä¸ªéžç»ˆç»“ç¬¦ï¼ˆå³$\mid \alpha \mid \geq 1â€‹$ï¼‰ã€‚1åž‹æ–‡æ³•è¢«å«åšï¼Œä¸Šä¸‹æ–‡æœ‰å…³æ–‡æ³•ï¼ˆContext-Sensitive Grammar , CSGï¼‰ã€‚$\forall \alpha \rightarrow \beta \in Pï¼Œ\mid \alpha \mid \leq \mid \beta \mid â€‹$ã€‚äº§ç”Ÿå¼çš„ä¸€èˆ¬å½¢å¼ï¼š$ \alpha_1 A \alpha_2 \rightarrow \alpha_1 \beta \alpha_2$ ï¼ˆ$ \alpha_1, \alpha_2, \beta \in (V_N \bigcup V_T)^\ast$ä¸”$\beta \ne \varepsilon$ï¼‰ã€‚å’Œ0åž‹æ–‡æ³•ç›¸æ¯”ï¼Œ0åž‹æ–‡æ³•è¦æ±‚$\mid \alpha \mid \geq 1â€‹$ï¼Œ1åž‹æ–‡æ³•è¦æ±‚$1 \leq \mid \alpha \mid \leq \mid \beta \mid â€‹$ã€‚2åž‹æ–‡æ³•è¢«å«åšï¼Œä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼ˆContext-Free Grammar, CFGï¼‰$\forall \alpha \rightarrow \beta \in P$ ï¼ˆ$\alpha \in V_N, \beta \in {(V_N \bigcup V_T)}^\ast$ï¼‰ã€‚äº§ç”Ÿå¼çš„ä¸€èˆ¬å½¢å¼ï¼š$A \rightarrow \beta$ã€‚å’Œ1åž‹æ–‡æ³•ç›¸æ¯”ï¼Œå½“1åž‹æ–‡æ³•çš„$\alpha_1, \alpha_2 \rightarrow \varepsilon$ä¸”$ \alpha $åªå±žäºŽéžç»ˆç»“ç¬¦é›†æ—¶ï¼Œå°±æ˜¯2åž‹æ–‡æ³•ã€‚3åž‹æ–‡æ³•è¢«å«åšï¼Œæ­£åˆ™æ–‡æ³•ï¼ˆRegular Grammar, RGï¼‰ï¼Œåˆ†ä¸ºå³çº¿æ€§æ–‡æ³•å’Œå·¦çº¿æ€§æ–‡æ³•ã€‚å³çº¿æ€§ï¼ˆRight Linearï¼‰æ–‡æ³•ï¼š $A \rightarrow a B$ æˆ– $A \rightarrow a $ï¼ˆ$a \in {V_T}^ \ast$ï¼‰å·¦çº¿æ€§ï¼ˆLeft Linearï¼‰æ–‡æ³•ï¼š $A \rightarrow B a $ æˆ– $A \rightarrow a $ï¼ˆ$a \in {V_T}^ \ast$ï¼‰å’Œ2åž‹æ–‡æ³•ç›¸æ¯”ï¼Œ3åž‹æ–‡æ³•å³ä¾§å½¢å¼å¿…é¡»æ˜¯éžç»ˆç»“ç¬¦+ç»ˆç»“ç¬¦ã€ç»ˆç»“ç¬¦+éžç»ˆç»“ç¬¦ã€ç»ˆç»“ç¬¦ä¸‰ç§ä¹‹ä¸€ã€‚ä¸‰ç§æ–‡æ³•çš„åŒºåˆ«å‚è€ƒï¼šhttps://blog.csdn.net/cjsy_2011/article/details/32412967ã€‚1åž‹æ–‡æ³•å¼å­å·¦è¾¹å¯ä»¥æœ‰å¤šä¸ªå­—ç¬¦ï¼Œä½†å¿…é¡»æœ‰ä¸€ä¸ªç»ˆç»“ç¬¦å¼å­å³è¾¹å¯ä»¥æœ‰å¤šä¸ªå­—ç¬¦ï¼Œå¯ä»¥æ˜¯ç»ˆç»“ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯éžç»ˆç»“ç¬¦ï¼Œä½†å¿…é¡»æ˜¯æœ‰é™ä¸ªå­—ç¬¦2åž‹æ–‡æ³•å¼å­å·¦è¾¹åªèƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œä¸”å¿…é¡»æ˜¯éžç»ˆç»“ç¬¦å¼å­å³è¾¹å¯ä»¥æœ‰å¤šä¸ªå­—ç¬¦ï¼Œå¯ä»¥æ˜¯ç»ˆç»“ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯éžç»ˆç»“ç¬¦ï¼Œ8ä½†å¿…é¡»æ˜¯æœ‰é™ä¸ªå­—ç¬¦3åž‹æ–‡æ³•å¼å­å·¦è¾¹åªèƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œä¸”å¿…é¡»æ˜¯éžç»ˆç»“ç¬¦å¼å­å³è¾¹æœ€å¤šæœ‰äºŒä¸ªå­—ç¬¦ï¼Œè€Œä¸”å¦‚æžœæœ‰äºŒä¸ªå­—ç¬¦å¿…é¡»æ˜¯ä¸€ä¸ªç»ˆç»“ç¬¦å’Œä¸€ä¸ªéžç»ˆç»“ç¬¦ï¼Œå¦‚æžœåªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆå¿…é¡»æ˜¯ç»ˆç»“ç¬¦å·¦çº¿æ€§æ–‡æ³•ï¼šå¼å­å³è¾¹çš„äº§ç”Ÿæ˜¯ï¼ˆéžç»ˆç»“ç¬¦+ç»ˆç»“ç¬¦ï¼‰çš„æ ¼å¼å³çº¿åž‹æ–‡æ³•ï¼šå¼å­å³è¾¹çš„äº§ç”Ÿå¼æ˜¯ï¼ˆç»ˆç»“ç¬¦+éžç»ˆç»“ç¬¦ï¼‰çš„æ ¼å¼å¼å­å³è¾¹çš„æ ¼å¼ä¸€å®šè¦ä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æžœæœ‰ä¸€ä¸ªæ˜¯ï¼ˆç»ˆç»“ç¬¦+éžç»ˆç»“ç¬¦ï¼‰é‚£ä¹ˆæ‰€æœ‰çš„å¼å­éƒ½å¿…é¡»æ˜¯ï¼ˆç»ˆç»“ç¬¦+éžç»ˆç»“ç¬¦ï¼‰ã€‚å¦‚æžœæœ‰ä¸€ä¸ªæ˜¯ï¼ˆéžç»ˆç»“ç¬¦+ç»ˆç»“ç¬¦ï¼‰ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„å¼å­éƒ½å¿…é¡»æ˜¯ï¼ˆéžç»ˆç»“ç¬¦+ç»ˆç»“ç¬¦ï¼‰å³çº¿æ€§æ–‡æ³•ã€å·¦çº¿æ€§æ–‡æ³•ä¸¾ä¾‹å³çº¿æ€§æ–‡æ³•S â†’ a | b | c | dS â†’ aT | bT | cT | dTT â†’ a | b | c | d | 0 | 1 | 2 | 3 | 4 | 5T â†’ aT | bT | cT | dT | 0T | 1T | 2T | 3T | 4T | 5Tå·¦çº¿æ€§æ–‡æ³•R â†’ Ra | Rb | Rc | Rd | R0 | R1 | R2 | R3 | R4 | R5R â†’ a | b | c | dæ–‡æ³•Så’ŒRéƒ½æ˜¯æ ‡è¯†ç¬¦ã€‚CFG çš„åˆ†æžæ ‘ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æœ‰è¶³å¤Ÿçš„èƒ½åŠ›æè¿°å½“ä»Šç¨‹åºè®¾è®¡è¯­è¨€ç»“æž„ï¼Œæ‰€ä»¥ä»¥ä¸‹åˆ†æžCFGçš„åˆ†æžæ ‘ã€‚æ ¹èŠ‚ç‚¹çš„æ ‡å·ä¸ºæ–‡æ³•å¼€å§‹ç¬¦å·ã€‚å†…éƒ¨ç»“ç‚¹è¡¨ç¤ºå¯¹ä¸€ä¸ªäº§ç”Ÿå¼Aâ†’Î²çš„åº”ç”¨ï¼Œè¯¥ç»“ç‚¹çš„æ ‡å·æ˜¯æ­¤äº§ç”Ÿå¼å·¦éƒ¨A ã€‚è¯¥ç»“ç‚¹çš„å­ç»“ç‚¹çš„æ ‡å·ä»Žå·¦åˆ°å³æž„æˆäº†äº§ç”Ÿå¼çš„å³éƒ¨Î²ã€‚å¶ç»“ç‚¹çš„æ ‡å·æ—¢å¯ä»¥æ˜¯éžç»ˆç»“ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»ˆç»“ç¬¦ã€‚ä»Žå·¦åˆ°å³æŽ’åˆ—å¶èŠ‚ç‚¹å¾—åˆ°çš„ç¬¦å·ä¸²ç§°ä¸ºæ˜¯è¿™æ£µæ ‘çš„äº§å‡ºï¼ˆ yieldï¼‰æˆ–è¾¹ç¼˜ï¼ˆfrontierï¼‰ã€‚(å¥åž‹çš„ï¼‰çŸ­è¯­ç»™å®šä¸€ä¸ªå¥åž‹ï¼Œå…¶åˆ†æžæ ‘ä¸­çš„æ¯ä¸€æ£µå­æ ‘çš„è¾¹ç¼˜ç§°ä¸ºè¯¥å¥åž‹çš„ä¸€ä¸ªçŸ­è¯­ï¼ˆphraseï¼‰ã€‚å¦‚æžœå­æ ‘åªæœ‰çˆ¶å­ä¸¤ä»£ç»“ç‚¹ï¼Œé‚£ä¹ˆè¿™æ£µå­æ ‘çš„è¾¹ç¼˜ç§°ä¸ºè¯¥å¥åž‹çš„ä¸€ä¸ªç›´æŽ¥çŸ­è¯­ï¼ˆimmediate phraseï¼‰ã€‚äºŒä¹‰æ€§æ–‡æ³•å¦‚æžœä¸€ä¸ªæ–‡æ³•å¯ä»¥ä¸ºæŸä¸ªå¥å­ç”Ÿæˆå¤šæ£µåˆ†æžæ ‘ï¼Œåˆ™ç§°è¿™ä¸ªæ–‡æ³•æ˜¯äºŒä¹‰æ€§çš„ã€‚äºŒä¹‰æ€§æ–‡æ³•çš„åˆ¤å®šå¯¹äºŽä»»æ„ä¸€ä¸ªä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼Œä¸å­˜åœ¨ä¸€ä¸ªç®—æ³•ï¼Œåˆ¤å®šå®ƒæ˜¯æ— äºŒä¹‰æ€§çš„ï¼›ä½†èƒ½ç»™å‡ºä¸€ç»„å……åˆ†æ¡ä»¶ï¼Œæ»¡è¶³è¿™ç»„å……åˆ†æ¡ä»¶çš„æ–‡æ³•æ˜¯æ— äºŒä¹‰æ€§çš„ã€‚æ»¡è¶³ï¼Œè‚¯å®šæ— äºŒä¹‰æ€§ä¸æ»¡è¶³ï¼Œä¹Ÿæœªå¿…å°±æ˜¯æœ‰äºŒä¹‰æ€§çš„]]></content>
      <categories>
        <category>ç¼–è¯‘åŽŸç†</category>
      </categories>
      <tags>
        <tag>ç¼–è¯‘åŽŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[01-ç¼–è¯‘åŽŸç†ç»ªè®º]]></title>
    <url>%2F2019%2F01-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E7%BB%AA%E8%AE%BA%2F</url>
    <content type="text"><![CDATA[è®¡ç®—æœºç¨‹åºè®¾è®¡è¯­è¨€åŠç¼–è¯‘æœºå™¨è¯­è¨€å¯ä»¥è¢«è®¡ç®—æœºç›´æŽ¥ç†è§£ï¼Œå¦‚ï¼šC706 0000 0002ï¼ˆ16è¿›åˆ¶ï¼‰ã€‚ä¸Žäººç±»è¡¨è¾¾ä¹ æƒ¯ç›¸åŽ»ç”šè¿œã€éš¾è®°å¿†ã€éš¾ç¼–å†™ã€éš¾é˜…è¯»ã€æ˜“å†™é”™ã€‚æ±‡ç¼–è¯­è¨€å¼•å…¥åŠ©è®°ç¬¦ï¼Œå¦‚MOV X, 2ã€‚ä¾èµ–äºŽç‰¹å®šæœºå™¨ï¼Œéžè®¡ç®—æœºä¸“ä¸šäººå‘˜ä½¿ç”¨å—é™åˆ¶ã€ç¼–å†™æ•ˆçŽ‡ä¾ç„¶å¾ˆä½Žã€‚é«˜çº§è¯­è¨€ç±»ä¼¼äºŽæ•°å­¦å®šä¹‰æˆ–è‡ªç„¶è¯­è¨€çš„ç®€æ´å½¢å¼ï¼Œå¦‚x = 2ã€‚æŽ¥è¿‘äººç±»è¡¨è¾¾ä¹ æƒ¯ã€ä¸ä¾èµ–äºŽç‰¹å®šæœºå™¨ã€ç¼–å†™æ•ˆçŽ‡é«˜ã€‚ç¼–è¯‘å°†é«˜çº§è¯­è¨€ç¿»è¯‘æˆæ±‡ç¼–è¯­è¨€æˆ–æœºå™¨è¯­è¨€çš„è¿‡ç¨‹ã€‚ç¼–è¯‘å™¨åœ¨è¯­è¨€å¤„ç†ç³»ç»Ÿä¸­çš„ä½ç½®é¢„å¤„ç†å™¨æŠŠå­˜å‚¨åœ¨ä¸åŒæ–‡ä»¶ä¸­çš„æºç¨‹åºèšåˆåœ¨ä¸€èµ·ã€‚æŠŠè¢«ç§°ä¸ºå®çš„ç¼©å†™è¯­å¥è½¬æ¢ä¸ºåŽŸå§‹è¯­å¥ã€‚é“¾æŽ¥å™¨å°†å¤šä¸ªå¯é‡å®šä½çš„æœºå™¨ä»£ç æ–‡ä»¶ï¼ˆåŒ…æ‹¬åº“æ–‡ä»¶ï¼‰è¿žæŽ¥åˆ°ä¸€èµ·ã€‚è§£å†³å¤–éƒ¨å†…å­˜åœ°å€ï¼ˆä¸€ä¸ªæ–‡ä»¶ä¸­çš„ä»£ç ä¼šå¼•ç”¨å…¶ä»–æ–‡ä»¶ä¸­çš„æ•°æ®å¯¹è±¡æˆ–è¿‡ç¨‹ï¼Œè¿™äº›æ•°æ®å¯¹è±¡æˆ–è¿‡ç¨‹çš„åœ°å€å¯¹äºŽæ­¤æ–‡ä»¶æ¥è¯´å°±æ˜¯å¤–éƒ¨åœ°å€ï¼‰é—®é¢˜ã€‚åŠ è½½å™¨ç¡®å®šç¨‹åºåœ¨å†…ä¸­çš„ç»å¯¹åœ°å€ï¼ˆå³ä¿®æ”¹ç¨‹åºèµ·å§‹åœ°å€ï¼‰ï¼Œå°†ä¿®æ”¹åŽçš„æŒ‡ä»¤å’Œæ•°æ®æ”¾åˆ°å†…å­˜ä¸­é€‚å½“çš„ä½ç½®ã€‚ç¼–è¯‘ç³»ç»Ÿçš„ç»“æž„è¯æ³•åˆ†æž/æ‰«æ(Scanning)ä»Žå·¦å‘å³é€è¡Œæ‰«ææºç¨‹åºçš„å­—ç¬¦ï¼Œè¯†åˆ«å‡ºå„ä¸ªå•è¯ï¼Œç¡®å®šå•è¯çš„ç±»åž‹ã€‚å°†è¯†åˆ«å‡ºçš„å•è¯è½¬æ¢æˆç»Ÿä¸€çš„æœºå†…è¡¨ç¤ºï¼Œå³è¯æ³•å•å…ƒï¼ˆtokenï¼‰å½¢å¼ã€‚tokenæ ¼å¼ï¼š&lt; ç§åˆ«ç , å±žæ€§å€¼&gt;ä¸€è¯ä¸€ç ï¼šå¯ä»¥æžšä¸¾çš„å•è¯ï¼Œæ¯”å¦‚å…³é”®å­—å’Œè¿ç®—ç¬¦ã€‚ä½¿ç”¨tokençš„ç§åˆ«ç ç¡®å®šã€‚å¤šè¯ä¸€ç ï¼šä¸èƒ½æžšä¸¾çš„å•è¯ï¼Œæ¯”å¦‚å˜é‡åï¼Œä½¿ç”¨tokençš„ç§åˆ«ç æ ‡è¯†å‡ºæ˜¯å˜é‡ï¼Œå±žæ€§å€¼æ ‡è¯†å˜é‡åç§°ã€‚ä¸€åž‹ä¸€ç ï¼šä¸èƒ½æžšä¸¾ä½†èƒ½è¢«åˆ†ç±»çš„å•è¯ï¼Œæ¯”å¦‚æ•°æ®ç±»åž‹å’Œè¿ç®—ç¬¦ç±»åˆ«ï¼Œä½¿ç”¨tokençš„ç§åˆ«ç æ ‡è¯†ç±»åž‹ï¼Œå±žæ€§å€¼æ ‡è¯†å€¼ã€‚ä¸¾ä¾‹è¯­æ³•åˆ†æžè¯­æ³•åˆ†æžå™¨ï¼ˆparserï¼‰ä»Žè¯æ³•åˆ†æžå™¨è¾“å‡ºçš„tokenåºåˆ—ä¸­è¯†åˆ«å‡ºå„ç±»çŸ­è¯­ï¼Œå¹¶æž„é€ è¯­æ³•åˆ†æžæ ‘ï¼ˆparse treeï¼‰ã€‚è¯­æ³•åˆ†æžæ ‘æè¿°äº†å¥å­çš„è¯­æ³•ç»“æž„ã€‚èµ‹å€¼è¯­å¥åˆ†æžæ ‘å˜é‡å£°æ˜Žè¯­å¥çš„åˆ†æžæ ‘è¯­ä¹‰åˆ†æžæ”¶é›†æ ‡è¯†ç¬¦çš„å±žæ€§ä¿¡æ¯ï¼šç§å±žï¼šç®€å•å˜é‡ã€å¤åˆå˜é‡ï¼ˆæ•°ç»„ï¼Œè®°å½•â€¦ï¼‰ã€è¿‡ç¨‹ã€â€¦ç±»åž‹ï¼šæ•´åž‹ã€å®žåž‹ï¼ˆæµ®ç‚¹åž‹ï¼‰ã€å­—ç¬¦åž‹ã€å¸ƒå°”åž‹ã€æŒ‡é’ˆåž‹ã€â€¦å­˜å‚¨ä½ç½®ã€é•¿åº¦ï¼šå˜é‡çš„å€¼è¿‡ç¨‹çš„ä½œç”¨åŸŸè¿‡ç¨‹çš„å‚æ•°å’Œè¿”å›žå€¼ä¿¡æ¯ç¬¦å·è¡¨å­—ç¬¦ä¸²è¡¨çš„ä½œç”¨ï¼šé«˜çº§è¯­è¨€ä¸­ä¸€èˆ¬ä¸é™åˆ¶æ ‡è¯†ç¬¦é•¿åº¦ï¼Œæ•…nameå­—æ®µçš„é•¿åº¦ä¸ä¾¿é¢„å…ˆå›ºå®šï¼Œå°†æ ‡è¯†ç¬¦çš„å­—é¢å€¼å•ç‹¬æ”¾åœ¨å­—ç¬¦ä¸²è¡¨ä¸­ï¼Œå…¶ä½ç½®ç´¢å¼•æ”¾åœ¨nameå­—æ®µä¸­ï¼Œå¯ä¿è¯nameé•¿åº¦å›ºå®šï¼Œç”±æ­¤å¸¦æ¥å­˜å‚¨æ•ˆçŽ‡é«˜ï¼ŒæŸ¥è¯¢æ–¹ä¾¿ç­‰ä¼˜ç‚¹ã€‚æ­¤å¤–ï¼Œåœ¨è¯­ä¹‰åˆ†æžä¸­æ ‡è¯†ç¬¦çš„å€¼å¾ˆå°‘è¢«ä½¿ç”¨ï¼Œè¿™æ ·å°±åªç”¨è¯»å–æ ‡è¯†ç¬¦çš„idï¼Œä¸ç”¨é¢‘ç¹è¯»å–æ ‡è¯†ç¬¦æœ¬èº«ã€‚è¯­ä¹‰æ£€æŸ¥å˜é‡æˆ–è¿‡ç¨‹æœªç»å£°æ˜Žå°±ä½¿ç”¨å˜é‡æˆ–è¿‡ç¨‹åé‡å¤å£°æ˜Žè¿ç®—åˆ†é‡ç±»åž‹ä¸åŒ¹é…ï¼Œå¦‚Stringç±»åž‹ + intç±»åž‹æ“ä½œç¬¦ä¸Žæ“ä½œæ•°ä¹‹é—´çš„ç±»åž‹ä¸åŒ¹é…æ•°ç»„ä¸‹æ ‡ä¸æ˜¯æ•´æ•°å¯¹éžæ•°ç»„å˜é‡ä½¿ç”¨æ•°ç»„è®¿é—®æ“ä½œç¬¦å¯¹éžè¿‡ç¨‹åä½¿ç”¨è¿‡ç¨‹è°ƒç”¨æ“ä½œç¬¦è¿‡ç¨‹è°ƒç”¨çš„å‚æ•°ç±»åž‹æˆ–æ•°ç›®ä¸åŒ¹é…å‡½æ•°è¿”å›žç±»åž‹æœ‰è¯¯ä¸­é—´ä»£ç ç”Ÿæˆå¸¸è§çš„ä¸­é—´è¡¨ç¤ºå½¢å¼è¯­æ³•ç»“æž„æ ‘/è¯­æ³•æ ‘ (Syntax Trees)æ³¨æ„ä¸æ˜¯è¯­æ³•åˆ†æžæ ‘ï¼Œç¬¬å…«ç« ä»‹ç»â€¦ä¸‰åœ°å€ç  (Three-address Code)ä¸‰åœ°å€ç ç”±ç±»ä¼¼äºŽæ±‡ç¼–è¯­è¨€çš„æŒ‡ä»¤åºåˆ—ç»„æˆï¼Œæ¯ä¸ªæŒ‡ä»¤æœ€å¤šæœ‰ä¸‰ä¸ªæ“ä½œæ•°(operand)ã€‚å¸¸ç”¨çš„ä¸‰åœ°å€æŒ‡ä»¤ä¸‰åœ°å€æŒ‡ä»¤çš„è¡¨ç¤ºå››å…ƒå¼ (Quadruples)ï¼š(op, y, z, x)ä¸‰å…ƒå¼ (Triples)ä»¥åŽå†è¯´â€¦é—´æŽ¥ä¸‰å…ƒå¼ (Indirect triples)ä»¥åŽå†è¯´â€¦ä¸­é—´ä»£ç ç”Ÿæˆçš„ä¾‹å­ä»£ç ä¼˜åŒ–ä¸ºæ”¹è¿›ä»£ç æ‰€è¿›è¡Œçš„ç­‰ä»·ç¨‹åºå˜æ¢ï¼Œä½¿å…¶è¿è¡Œå¾—æ›´å¿«ä¸€äº›ã€å ç”¨ç©ºé—´æ›´å°‘ä¸€äº›ï¼Œæˆ–è€…äºŒè€…å…¼é¡¾ã€‚ç›®æ ‡ä»£ç ç”Ÿæˆç›®æ ‡ä»£ç ç”Ÿæˆä»¥æºç¨‹åºçš„ä¸­é—´è¡¨ç¤ºå½¢å¼ä½œä¸ºè¾“å…¥ï¼Œå¹¶æŠŠå®ƒæ˜ å°„åˆ°ç›®æ ‡è¯­è¨€ç›®æ ‡ä»£ç ç”Ÿæˆçš„ä¸€ä¸ªé‡è¦ä»»åŠ¡æ˜¯ä¸ºç¨‹åºä¸­ä½¿ç”¨çš„å˜é‡åˆç†åˆ†é…ã€‚]]></content>
      <categories>
        <category>ç¼–è¯‘åŽŸç†</category>
      </categories>
      <tags>
        <tag>ç¼–è¯‘åŽŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[01-Springå…¥é—¨]]></title>
    <url>%2F2019%2F01-Spring%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[Spring - æ¦‚è¿°ï¼ˆ00ï¼‰Springæ¦‚è¿°Springæ˜¯ä¸€ä¸ªä¸€ç«™å¼æ¡†æž¶ã€‚å®ƒä¸ºJava EEå¼€å‘çš„ä¸‰å±‚æž¶æž„ä¸­æ¯ä¸€å±‚éƒ½æä¾›äº†è§£å†³æ–¹æ¡ˆWebå±‚ï¼šSpring MVCï¼›Serviceå±‚ï¼šSpringçš„Beanç®¡ç†ï¼ŒSpringå£°æ˜Žå¼äº‹åŠ¡ï¼›DAOå±‚ï¼šSpringçš„JDBCæ¨¡æ¿ï¼ŒSpringçš„ORMæ¨¡å—ã€‚ï¼ˆåŽæœŸä¼šç”¨Mybatisæ›¿æ¢Springçš„DAOå±‚ï¼‰Springä¸‹è½½SpringçŽ°åœ¨æ˜¯åœ¨githubä¸Šæ‰˜ç®¡çš„å¼€æºé¡¹ç›®ï¼šåœ°å€ã€‚Springå„ç‰ˆæœ¬ä¸‹è½½ï¼šåœ°å€ã€‚SpringçŽ¯å¢ƒæ­å»ºæˆ‘çš„Springæ–‡é›†ä¸­ä½¿ç”¨çš„æ˜¯Spring 4.2ç‰ˆæœ¬ï¼Œä¸‹æ–¹è¿™å¼ å›¾æ˜¯Springå®˜æ–¹ç»™çš„æž¶æž„å›¾ï¼Œæƒ³è¿è¡ŒSpringé¡¹ç›®ï¼Œå¿…é¡»å¾—å¯¼å…¥Core Containerä¸­çš„åŒ…ï¼Œä½†æ˜¯ä¹Ÿéœ€è¦æ—¥å¿—åŒ…ã€‚## Springåˆä½“éªŒ123public interface UserDao &#123; public void save();&#125;12345public class UserDaoImpl implements UserDao&#123; public void save() &#123; System.out.println("UserServiceæ‰§è¡Œäº†..."); &#125;&#125;123456789101112&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:p="http://www.springframework.org/schema/p" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt; &lt;!-- Springçš„å…¥é—¨çš„é…ç½®==================== --&gt; &lt;bean name="userDao" class="com.isjinhao.Demo1.UserDaoImpl" &gt;&lt;/bean&gt; &lt;/beans&gt;12345678910111213141516171819import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;public class Test &#123; //ä¼ ç»Ÿæ–¹æ³•çš„èŽ·å¾—UserDaoå¯¹è±¡ @org.junit.Test public void test1() &#123; UserDao dao = new UserDaoImpl(); dao.save(); &#125; //é€šè¿‡SpringèŽ·å¾—UserDaoå¯¹è±¡ @org.junit.Test public void test2() &#123; ApplicationContext applicationContext = new ClassPathXmlApplicationContext("applicationContext.xml"); UserDao bean = (UserDao)applicationContext.getBean("userDao"); bean.save(); &#125;&#125;å¼€å‘çš„ä¸€ä¸ªè§„åˆ™æ˜¯åœ¨åŽæœŸç»´æŠ¤çš„æ—¶å€™å°‘ä¿®æ”¹æºä»£ç ã€‚å¦‚æžœæ²¡æœ‰Springæˆ‘ä»¬æ›´æ¢UserDaoçš„å®žçŽ°ç±»ï¼Œæ¯”å¦‚æ›´æ¢ä¸ºUserMybatisDaoImplï¼Œæˆ‘ä»¬åœ¨æºä»£ç ä¸­å°±è¦æ”¹ä¸ºUserDao dao = new UserMybatisDaoImpl();ã€‚ä½†æœ‰äº†Springä¹‹åŽå°±åªéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„classä¸ºxxx.UserMybatisDaoImplï¼Œè¢«Springç®¡ç†çš„ç±»å«åšbeanã€‚## DIï¼ˆDependency Injectionï¼‰### ä¾èµ–å…³ç³»1234567Class A&#123; &#125;Class B&#123; A a; public void xxx()&#123; &#125;&#125;å¦‚æžœåœ¨ç±»Bä¸­ä½¿ç”¨åˆ°äº†ç±»Aï¼Œå°±è¯´ç±»Bä¾èµ–ç±»Aï¼Œä¸Šå›¾å°±æ˜¯å…¶ä¸­ä¸€ç§æƒ…å†µã€‚### Springè§£å†³ä¾èµ–123public interface UserDao &#123; public void save();&#125;123456789101112public class UserDaoImpl implements UserDao&#123; private String name; public void save() &#123; System.out.println("UserServiceæ‰§è¡Œäº†..." + name); &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125;&#125;1234567891011121314&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:p="http://www.springframework.org/schema/p" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt; &lt;!-- Springçš„å…¥é—¨çš„é…ç½®==================== --&gt; &lt;bean name="userDao" class="com.isjinhao.Demo1.UserDaoImpl"&gt; &lt;property name="name" value="isjinhao" /&gt; //nameçš„å€¼å’Œå±žæ€§åç§°ç›¸åŒ &lt;/bean&gt; &lt;/beans&gt;1234567891011import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;public class Test &#123; //é€šè¿‡SpringèŽ·å¾—UserDaoå¯¹è±¡ @org.junit.Test public void test2() &#123; ApplicationContext applicationContext = new ClassPathXmlApplicationContext("applicationContext.xml"); UserDao dao = (UserDao)applicationContext.getBean("userDao"); dao.save(); &#125;&#125;æ‰€è°“è§£å†³ä¾èµ–ï¼Œå°±æ˜¯åœ¨ä½¿ç”¨æ—¶ç»™å…¶è®¾ç½®ä¸€ä¸ªè¢«ä¾èµ–çš„å¯¹è±¡ï¼Œå¦‚æžœä¸ä½¿ç”¨Springï¼Œè®¾ç½®nameçš„å€¼éœ€è¦æŠŠdaoè½¬æ¢ä¸ºUserDaoImplï¼Œå†ä½¿ç”¨setName()æ–¹æ³•ï¼Œä½†æ˜¯ç”¨äº†Springæˆ‘ä»¬å°±èƒ½åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼ŒSpringå¸®æˆ‘ä»¬å®Œæˆè®¾ç½®ã€‚æ­¤æ—¶å°±å«åšä¾èµ–æ³¨å…¥ã€‚## ApplicationContextç»§æ‰¿ä½“ç³»beané…ç½®id &amp; namenameå’Œidçš„åŠŸèƒ½ç±»ä¼¼ï¼Œä½œç”¨å¦‚å›¾ï¼šä»Žè¯­æ³•ä¸Šè¯´nameå±žæ€§å¯ä»¥ä¸å”¯ä¸€ï¼Œè€Œidå¿…é¡»å”¯ä¸€ï¼Œä½†æ˜¯å®žé™…ä½¿ç”¨æ—¶nameæ ‡ç­¾å’Œidæ ‡ç­¾é€šå¸¸éƒ½æ ‡è¯†å”¯ä¸€å€¼ï¼Œè€Œä¸”ä¼˜å…ˆä½¿ç”¨nameã€‚åˆå§‹åŒ–æ—¶æ‰§è¡Œçš„æ–¹æ³• &amp; é”€æ¯çš„æ—¶å€™æ‰§è¡Œçš„æ–¹æ³•init-method=â€â€ï¼šæŒ‡å®šçš„æ–¹æ³•åœ¨beanè¢«åˆ›å»ºæ—¶æ‰§è¡Œã€‚destroy-method=â€â€ï¼šæŒ‡å®šçš„æ–¹æ³•åœ¨beanè¢«é”€æ¯æ—¶åˆ›å»ºçš„ï¼Œä½†è¦æ±‚beanæ˜¯å•ä¾‹çš„ä¸”æ‰‹åŠ¨å…³é—­å·¥åŽ‚ã€‚beançš„ä½œç”¨åŸŸbeanæ ‡ç­¾æœ‰ä¸€ä¸ªå±žæ€§scope=â€â€ï¼Œå¯ä»¥è®¾ç½®beançš„ä½œç”¨èŒƒå›´ï¼Œäº”ç§å€¼å¦‚ä¸‹ï¼šsingleton ï¼šé»˜è®¤çš„ï¼ŒSpringä¼šé‡‡ç”¨å•ä¾‹æ¨¡å¼åˆ›å»ºè¿™ä¸ªå¯¹è±¡ã€‚prototype ï¼šå¤šä¾‹æ¨¡å¼ã€‚request ï¼šåº”ç”¨åœ¨webé¡¹ç›®ä¸­ï¼ŒSpringåˆ›å»ºè¿™ä¸ªç±»ä»¥åŽï¼Œå°†è¿™ä¸ªç±»å­˜å…¥åˆ°requestèŒƒå›´ä¸­ã€‚session ï¼šåº”ç”¨åœ¨webé¡¹ç›®ä¸­ï¼ŒSpringåˆ›å»ºè¿™ä¸ªç±»ä»¥åŽï¼Œå°†è¿™ä¸ªç±»å­˜å…¥åˆ°sessionèŒƒå›´ä¸­ã€‚globalsession ï¼šåº”ç”¨åœ¨webé¡¹ç›®ä¸­ï¼Œå¿…é¡»åœ¨porletçŽ¯å¢ƒä¸‹ä½¿ç”¨ã€‚ä½†æ˜¯å¦‚æžœæ²¡æœ‰è¿™ç§çŽ¯å¢ƒï¼Œç›¸å½“äºŽsessionã€‚ï¼ˆç¬”è€…ä¸æ‡‚ï¼ŒæŠ„è¿‡æ¥çš„â€¦ï¼‰]]></content>
      <categories>
        <category>SSM</category>
      </categories>
      <tags>
        <tag>SSM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[04-å•è¡¨DQL]]></title>
    <url>%2F2019%2F04-%E5%8D%95%E8%A1%A8DQL%2F</url>
    <content type="text"><![CDATA[æ•°æ®å‡†å¤‡12345678910111213141516171819create table product( pid int primary key, pname varchar(20), price double, category_id varchar(32));INSERT INTO product(pid,pname,price,category_id) VALUES(1,'è”æƒ³',5000,'c001');INSERT INTO product(pid,pname,price,category_id) VALUES(2,'æµ·å°”',3000,'c001');INSERT INTO product(pid,pname,price,category_id) VALUES(3,'é›·ç¥ž',5000,'c001');INSERT INTO product(pid,pname,price,category_id) VALUES(4,'JACK JONES',800,'c002');INSERT INTO product(pid,pname,price,category_id) VALUES(5,'çœŸç»´æ–¯',200,'c002');INSERT INTO product(pid,pname,price,category_id) VALUES(6,'èŠ±èŠ±å…¬å­',440,'c002');INSERT INTO product(pid,pname,price,category_id) VALUES(7,'åŠ²éœ¸',2000,'c002');INSERT INTO product(pid,pname,price,category_id) VALUES(8,'é¦™å¥ˆå„¿',800,'c003');INSERT INTO product(pid,pname,price,category_id) VALUES(9,'ç›¸å®œæœ¬è‰',200,'c003');INSERT INTO product(pid,pname,price,category_id) VALUES(10,'é¢éœ¸',5,'c003');INSERT INTO product(pid,pname,price,category_id) VALUES(11,'å¥½æƒ³ä½ æž£',56,'c004');INSERT INTO product(pid,pname,price,category_id) VALUES(12,'é¦™é£˜é£˜å¥¶èŒ¶',1,'c005');INSERT INTO product(pid,pname,price,category_id) VALUES(13,'æžœ9',1,NULL);ç®€å•æŸ¥è¯¢æŸ¥è¯¢è¡¨çš„æ‰€æœ‰å­—æ®µä¿¡æ¯ï¼šselect * from è¡¨å;æŸ¥è¯¢è¡¨ä¸­æŸå­—æ®µä¿¡æ¯ï¼šselect å­—æ®µ1, å­—æ®µ2 from è¡¨å;åŽ»æŽ‰é‡å¤å€¼ï¼šselect distinct å­—æ®µ1, å­—æ®µ2, ... from è¡¨å;è‹¥æœ‰å¤šä¸ªå­—æ®µåˆ™æ‰€æœ‰å­—æ®µç›¸ç­‰æ‰è¢«ç®—ä¸ºé‡å¤å€¼ã€‚æŸ¥è¯¢ç»“æžœæ˜¯è¡¨è¾¾å¼ï¼ˆè¿ç®—æŸ¥è¯¢ï¼‰ï¼šå°†å•†å“çš„ä»·æ ¼+10å…ƒè¿›è¡Œæ˜¾ç¤ºï¼Œselect pname,price+10 from product;åˆ«åæŸ¥è¯¢ï¼Œä½¿ç”¨çš„å…³é”®å­—æ˜¯asï¼ˆaså¯ä»¥çœç•¥çš„ï¼‰ï¼šè¡¨åˆ«åï¼šselect * from product as p;åˆ—åˆ«åï¼šselect pname as pn from product;æ¡ä»¶æŸ¥è¯¢ç¬¦å·å«ä¹‰&gt; &lt; &lt;= &gt;= = &lt;&gt;!=å¤§äºŽã€å°äºŽã€å¤§äºŽ(å°äºŽ)ç­‰äºŽã€ä¸ç­‰äºŽBETWEEN â€¦ANDâ€¦æ˜¾ç¤ºåœ¨æŸä¸€åŒºé—´çš„å€¼(å«å¤´å«å°¾)(ä¹Ÿå¯ä»¥æ˜¯æ—¥æœŸ)IN(set)æ˜¾ç¤ºåœ¨inåˆ—è¡¨ä¸­çš„å€¼ï¼Œä¾‹ï¼šin(100,200)LIKE â€˜å¼ %â€™%ä»£è¡¨é›¶ä¸ªæˆ–å¤šä¸ªä»»æ„å­—ç¬¦ï¼Œ_ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼šfirst_name like â€˜_a%â€™IS NULL / IS NOT NULLåˆ¤æ–­ä¸ºç©º/ä¸ä¸ºç©ºandå¤šä¸ªæ¡ä»¶åŒæ—¶æˆç«‹orå¤šä¸ªæ¡ä»¶ä»»ä¸€æˆç«‹notä¸æˆç«‹ï¼Œä¾‹ï¼šwhere not(salary&gt;100);ä¾‹æŸ¥è¯¢å•†å“åç§°ä¸ºâ€œèŠ±èŠ±å…¬å­â€çš„å•†å“æ‰€æœ‰ä¿¡æ¯ï¼šSELECT * FROM product WHERE pname = &#39;èŠ±èŠ±å…¬å­&#39;æŸ¥è¯¢ä»·æ ¼ä¸º800å•†å“ï¼šSELECT * FROM product WHERE price = 800æŸ¥è¯¢ä»·æ ¼ä¸æ˜¯800çš„æ‰€æœ‰å•†å“ï¼šSELECT * FROM product WHERE price != 800SELECT * FROM product WHERE price &lt;&gt; 800SELECT * FROM product WHERE NOT(price = 800)æŸ¥è¯¢å•†å“ä»·æ ¼å¤§äºŽ60å…ƒçš„æ‰€æœ‰å•†å“ä¿¡æ¯ï¼šSELECT * FROM product WHERE price &gt; 60;æŸ¥è¯¢å•†å“ä»·æ ¼åœ¨200åˆ°1000ä¹‹é—´æ‰€æœ‰å•†å“ï¼šSELECT * FROM product WHERE price &gt;= 200 AND price &lt;=1000;SELECT * FROM product WHERE price BETWEEN 200 AND 1000;æŸ¥è¯¢å•†å“ä»·æ ¼æ˜¯200æˆ–800çš„æ‰€æœ‰å•†å“ï¼šSELECT * FROM product WHERE price = 200 OR price = 800;SELECT * FROM product WHERE price IN (200,800);æŸ¥è¯¢å«æœ‰â€™éœ¸â€™å­—çš„æ‰€æœ‰å•†å“ï¼šSELECT * FROM product WHERE pname LIKE &#39;%éœ¸%&#39;;æŸ¥è¯¢ä»¥â€™é¦™â€™å¼€å¤´çš„æ‰€æœ‰å•†å“ï¼šSELECT * FROM product WHERE pname LIKE &#39;é¦™%&#39;;æŸ¥è¯¢ç¬¬äºŒä¸ªå­—ä¸ºâ€™æƒ³â€™çš„æ‰€æœ‰å•†å“ï¼šSELECT * FROM product WHERE pname LIKE &#39;_æƒ³%&#39;;æŸ¥è¯¢æ²¡æœ‰åˆ†ç±»çš„å•†å“ï¼šSELECT * FROM product WHERE category_id IS NULL;æŸ¥è¯¢æœ‰åˆ†ç±»çš„å•†å“ï¼šSELECT * FROM prod quct WHERE category_id IS NOT NULLæŸ¥è¯¢æ‰€æœ‰ä»·æ ¼å¤§äºŽ2000çš„ç”µè„‘å•†å“æˆ–è€…ä»·æ ¼å¤§äºŽ1000çš„æœè£…å•†å“ï¼šSELECT * FROM product WHERE (price &gt; 2000 AND category_id=&#39;c001&#39;) OR (price &gt;1000 AND category_id=&#39;c002&#39;);æŽ’åºæŸ¥è¯¢SELECT * FROM è¡¨å ORDER BY æŽ’åºå­—æ®µ ASC|DESC;ASCï¼š å‡åº (é»˜è®¤)DESCï¼šé™åºä¾‹ï¼šæŸ¥è¯¢æ‰€æœ‰å•†å“ä¿¡æ¯ï¼Œä½¿ç”¨ä»·æ ¼æŽ’åº(é™åº)ï¼šSELECT * FROM product ORDER BY price DESC;åœ¨ä»·æ ¼æŽ’åº(é™åº)çš„åŸºç¡€ä¸Šï¼Œä»¥åˆ†ç±»æŽ’åº(é™åº)ï¼šSELECT * FROM product ORDER BY price DESC, category_id DESC;æ˜¾ç¤ºå•†å“çš„ä»·æ ¼(åŽ»é‡å¤)ï¼Œå¹¶æŽ’åº(é™åº)ï¼šSELECT DISTINCT price FROM product ORDER BY price DESC;èšåˆæŸ¥è¯¢èšåˆå‡½æ•°SELECTä¸ä»…å¯ä»¥ä½œç”¨äºŽå­—æ®µï¼Œè¿˜å¯ä»¥ä½œç”¨äºŽèšåˆå‡½æ•°ã€‚count(â€¦)ï¼šç»Ÿè®¡æŒ‡å®šåˆ—ä¸ä¸ºNULLçš„è®°å½•è¡Œæ•°ï¼›sum(â€¦)ï¼šè®¡ç®—æŒ‡å®šåˆ—çš„æ•°å€¼å’Œï¼Œå¦‚æžœæŒ‡å®šåˆ—ç±»åž‹ä¸æ˜¯æ•°å€¼ç±»åž‹ï¼Œé‚£ä¹ˆè®¡ç®—ç»“æžœä¸º0ï¼›max(â€¦)ï¼šè®¡ç®—æŒ‡å®šåˆ—çš„æœ€å¤§å€¼ï¼Œå¦‚æžœæŒ‡å®šåˆ—æ˜¯å­—ç¬¦ä¸²ç±»åž‹ï¼Œé‚£ä¹ˆä½¿ç”¨å­—ç¬¦ä¸²æŽ’åºè¿ç®—ï¼›min(â€¦)ï¼šè®¡ç®—æŒ‡å®šåˆ—çš„æœ€å°å€¼ï¼Œå¦‚æžœæŒ‡å®šåˆ—æ˜¯å­—ç¬¦ä¸²ç±»åž‹ï¼Œé‚£ä¹ˆä½¿ç”¨å­—ç¬¦ä¸²æŽ’åºè¿ç®—ï¼›avg(â€¦)ï¼šè®¡ç®—æŒ‡å®šåˆ—çš„å¹³å‡å€¼ï¼Œå¦‚æžœæŒ‡å®šåˆ—ç±»åž‹ä¸æ˜¯æ•°å€¼ç±»åž‹ï¼Œé‚£ä¹ˆè®¡ç®—ç»“æžœä¸º0ï¼›ä¾‹ï¼šæŸ¥è¯¢å•†å“çš„æ€»æ¡æ•°ï¼šSELECT COUNT(*) FROM product;æŸ¥è¯¢ä»·æ ¼å¤§äºŽ200çš„å•†å“æ€»æ¡æ•°ï¼šSELECT COUNT(*) FROM product WHERE price &gt; 200;æŸ¥è¯¢åˆ†ç±»ä¸ºâ€™c001â€™çš„å•†å“ä»·æ ¼æ€»å’Œï¼šSELECT SUM(price) FROM product WHERE category_id = &#39;c001&#39;;æŸ¥è¯¢åˆ†ç±»ä¸ºâ€™c002â€™å•†å“çš„å¹³å‡ä»·æ ¼ï¼šSELECT AVG(price) FROM product WHERE category_id = &#39;c002&#39;;æŸ¥è¯¢å•†å“çš„æœ€å¤§ä»·æ ¼å’Œæœ€å°ä»·æ ¼ï¼šSELECT MAX(price),MIN(price) FROM product;åˆ†ç»„åˆ†ç»„æŸ¥è¯¢æ˜¯æŒ‡ä½¿ç”¨group byå­—å¥å¯¹æŸ¥è¯¢ä¿¡æ¯è¿›è¡Œåˆ†ç»„ã€‚â€‹ SELECT å­—æ®µ1, å­—æ®µ2â€¦ FROM è¡¨å GROUP BY åˆ†ç»„å­—æ®µ HAVING åˆ†ç»„æ¡ä»¶;HAVINGï¼šåˆ†ç»„æ“ä½œä¸­çš„havingå­è¯­å¥ï¼Œæ˜¯ç”¨äºŽåœ¨åˆ†ç»„åŽå¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤çš„ï¼Œä½œç”¨ç±»ä¼¼äºŽwhereæ¡ä»¶ã€‚ä¸Žwhereçš„åŒºåˆ«:havingæ˜¯åœ¨åˆ†ç»„åŽå¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ã€‚whereæ˜¯åœ¨åˆ†ç»„å‰å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ã€‚havingåŽé¢å¯ä»¥ä½¿ç”¨èšåˆå‡½æ•°è¿‡æ»¤æ•°æ®ã€‚whereåŽé¢ä¸å¯ä»¥ä½¿ç”¨èšåˆå‡½æ•°ã€‚ä¾‹ï¼šç»Ÿè®¡å„ä¸ªåˆ†ç±»å•†å“çš„ä¸ªæ•°ï¼šSELECT category_id ,COUNT(*) FROM product GROUP BY category_id;ç»Ÿè®¡å„ä¸ªåˆ†ç±»å•†å“çš„ä¸ªæ•°,ä¸”åªæ˜¾ç¤ºä¸ªæ•°å¤§äºŽ1çš„ä¿¡æ¯ï¼šSELECT category_id, COUNT(*) FROM product GROUP BY category_id HAVING COUNT(*) &gt; 1;åˆ†é¡µæŸ¥è¯¢ç”±äºŽæ•°æ®é‡å¾ˆå¤§ï¼Œæ˜¾ç¤ºå±é•¿åº¦æœ‰é™ï¼Œå› æ­¤å¯¹æ•°æ®éœ€è¦é‡‡å–åˆ†é¡µæ˜¾ç¤ºæ–¹å¼ã€‚ä¾‹å¦‚æ•°æ®å…±æœ‰30æ¡ï¼Œæ¯é¡µæ˜¾ç¤º5æ¡ã€‚æ ¼å¼ï¼šSELECT å­—æ®µ1ï¼Œå­—æ®µ2... FROM è¡¨æ˜Ž LIMIT M, N;M: æ•´æ•°ï¼Œè¡¨ç¤ºä»Žç¬¬å‡ æ¡ç´¢å¼•å¼€å§‹ï¼Œè®¡ç®—æ–¹å¼ ï¼ˆå½“å‰é¡µ-1ï¼‰*æ¯é¡µæ˜¾ç¤ºæ¡æ•°N: æ•´æ•°ï¼Œè¡¨ç¤ºæŸ¥è¯¢å¤šå°‘æ¡æ•°æ®ä¾‹ï¼šSELECT å­—æ®µ1ï¼Œå­—æ®µ2... FROM è¡¨æ˜Ž LIMIT 0,5;SELECT å­—æ®µ1ï¼Œå­—æ®µ2... FROM è¡¨æ˜Ž LIMIT 5,5;]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[03-DDLä¸ŽDML]]></title>
    <url>%2F2019%2F03-DDL%E4%B8%8EDML%2F</url>
    <content type="text"><![CDATA[æ“ä½œæ•°æ®åº“åˆ›å»ºæ•°æ®åº“create database æ•°æ®åº“å;ä¾‹ï¼šCREATE DATABASE db1;create database æ•°æ®åº“å charset å­—ç¬¦é›†;ä¾‹ï¼šCREATE DATABASE db2 CHARSET utf8;åˆ é™¤æ•°æ®åº“drop database æ•°æ®åº“åä½¿ç”¨æ•°æ®åº“æŸ¥çœ‹æ•°æ®åº“çš„å®šä¹‰ä¿¡æ¯show create database æ•°æ®åº“å;æ“ä½œè¡¨åˆ›å»ºè¡¨1234567CREATE TABLE &lt;è¡¨å&gt;( å­—æ®µå1 ç±»åž‹(é•¿åº¦) [åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶], å­—æ®µå2 ç±»åž‹(é•¿åº¦) [åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶], ... å­—æ®µån ç±»åž‹(é•¿åº¦) [åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶] [,&lt;è¡¨çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶&gt;]);å…ˆä¸æ¶‰åŠçº¦æŸæ¡ä»¶ï¼ŒåŽé¢ä¼šæœ‰è¯¦ç»†åˆ†æžã€‚1234CREATE TABLE category ( cid INT PRIMARY KEY, #åˆ†ç±»ID cname VARCHAR(100) #åˆ†ç±»åç§°);æŸ¥çœ‹è¡¨æŸ¥çœ‹æ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨ï¼šSHOW TABLES;æŸ¥çœ‹è¡¨ç»“æž„ï¼šDESC è¡¨å;åˆ é™¤è¡¨drop table è¡¨åä¿®æ”¹è¡¨årename table è¡¨å to æ–°è¡¨å;å¢žæ”¹åˆ å¢žå‘è¡¨ä¸­æ’å…¥æŸäº›å­—æ®µï¼šinsert into è¡¨ (å­—æ®µ1,å­—æ®µ2,å­—æ®µ3..) values (å€¼1,å€¼2,å€¼3..);å‘è¡¨ä¸­æ’å…¥æ‰€æœ‰å­—æ®µï¼Œå­—æ®µçš„é¡ºåºä¸ºåˆ›å»ºè¡¨æ—¶çš„é¡ºåºï¼šinsert into è¡¨ values (å€¼1,å€¼2,å€¼3..);æ³¨æ„ï¼šå€¼ä¸Žå­—æ®µå¿…é¡»å¯¹åº”ï¼Œä¸ªæ•°ç›¸åŒï¼Œç±»åž‹ç›¸åŒå€¼çš„æ•°æ®å¤§å°å¿…é¡»åœ¨å­—æ®µçš„é•¿åº¦èŒƒå›´å†…é™¤äº†æ•°å€¼ç±»åž‹å¤–ï¼Œå…¶å®ƒçš„å­—æ®µç±»åž‹çš„å€¼å¿…é¡»ä½¿ç”¨å¼•å·å¼•èµ·ã€‚ï¼ˆå»ºè®®å•å¼•å·ï¼‰å¦‚æžœè¦æ’å…¥ç©ºå€¼ï¼Œå¯ä»¥ä¸å†™å­—æ®µï¼Œæˆ–è€…æ’å…¥ nullã€‚æ”¹æ›´æ–°æ‰€æœ‰è®°å½•çš„æŒ‡å®šå­—æ®µï¼šupdate è¡¨å set å­—æ®µå=å€¼, å­—æ®µå=å€¼, ...;æ›´æ–°ç¬¦å·æ¡ä»¶è®°å½•çš„æŒ‡å®šå­—æ®µï¼šupdate è¡¨å set å­—æ®µå=å€¼, å­—æ®µå=å€¼, ... where æ¡ä»¶;æ³¨æ„ï¼šåˆ—åçš„ç±»åž‹ä¸Žä¿®æ”¹çš„å€¼è¦ä¸€è‡´ä¿®æ”¹å€¼å¾—æ—¶å€™ä¸èƒ½è¶…è¿‡æœ€å¤§é•¿åº¦é™¤äº†æ•°å€¼ç±»åž‹å¤–ï¼Œå…¶å®ƒçš„å­—æ®µç±»åž‹çš„å€¼å¿…é¡»ä½¿ç”¨å¼•å·å¼•èµ·åˆ åˆ é™¤æ‰€æœ‰æ•°æ®ï¼šdelete from è¡¨å;æˆ–è€…truncate table è¡¨å;delete ä¸€æ¡ä¸€æ¡åˆ é™¤ï¼Œä¸æ¸…ç©ºauto_incrementè®°å½•æ•°ã€‚truncate ç›´æŽ¥å°†è¡¨åˆ é™¤ï¼Œé‡æ–°å»ºè¡¨ï¼Œauto_incrementå°†ç½®ä¸ºé›¶ï¼Œä»Žæ–°å¼€å§‹ã€‚åˆ é™¤æŸäº›æ•°æ®ï¼šdelete from è¡¨å where æ¡ä»¶æ“ä½œè¡¨ç»“æž„æ·»åŠ åˆ—ï¼šalter table è¡¨å add åˆ—å ç±»åž‹(é•¿åº¦) [çº¦æŸ];ALTER TABLE category ADD cdesc VARCHAR(20);åˆ é™¤åˆ—ï¼šalter table è¡¨å drop åˆ—å;ALTER TABLE category DROP cdesc;ä¿®æ”¹åˆ—åï¼šalter table è¡¨å change æ—§åˆ—å æ–°åˆ—å ç±»åž‹(é•¿åº¦) çº¦æŸ;ALTER TABLE category CHANGE cdesc description VARCHAR(30);ä¿®æ”¹åˆ—çš„ç±»åž‹é•¿åº¦åŠçº¦æŸï¼šalter table è¡¨å modify åˆ—å ç±»åž‹(é•¿åº¦) çº¦æŸ;ALTER TABLE category MODIFY cdesc VARCHAR(50) NOT NULL;ä¿®æ”¹è¡¨çš„å­—ç¬¦é›†ï¼šalter table è¡¨å character set å­—ç¬¦é›†;ALTER TABLE category CHARACTER SET gbk;æ•°æ®å®Œæ•´æ€§æŒ‡æ•°æ®åº“ä¸­å­˜å‚¨çš„æ•°æ®æ˜¯æœ‰æ„ä¹‰çš„æˆ–æ­£ç¡®çš„ã€‚å®žä½“å®Œæ•´æ€§è‹¥å±žæ€§Aæ˜¯åŸºæœ¬å…³ç³»Rçš„ä¸»å±žæ€§ï¼Œåˆ™å±žæ€§Aä¸èƒ½å–ç©ºå€¼ã€‚å‚ç…§å®Œæ•´æ€§è‹¥å±žæ€§ï¼ˆæˆ–å±žæ€§ç»„ï¼‰Fæ˜¯åŸºæœ¬å…³ç³»Rçš„å¤–ç ï¼Œå®ƒä¸ŽåŸºæœ¬å…³ç³»Sçš„ä¸»ç ç›¸å¯¹åº”ï¼Œåˆ™å¯¹äºŽRä¸­æ¯ä¸ªå…ƒç»„åœ¨Fä¸Šçš„å€¼å¿…é¡»ä¸ºï¼šæˆ–è€…å–ç©ºå€¼ï¼ˆSçš„æ¯ä¸ªå±žæ€§å€¼å‡ä¸ºç©ºå€¼ï¼‰ã€‚æˆ–è€…ç­‰äºŽSä¸­æŸä¸ªå…ƒç»„çš„ä¸»ç å€¼ã€‚EMP(E#, ESEX, D#) -å‚ç…§å…³ç³»ï¼› DEPT(D# ,DNAME,LOCATION) -è¢«å‚ç…§å…³ç³»ç”¨æˆ·å®šä¹‰çš„å®Œæ•´æ€§é’ˆå¯¹æŸä¸€å…·ä½“å…³ç³»æ•°æ®åº“çš„çº¦æŸæ¡ä»¶ï¼Œå®ƒåæ˜ æŸä¸€å…·ä½“åº”ç”¨æ‰€æ¶‰åŠçš„æ•°æ®å¿…é¡»æ»¡è¶³çš„è¯­ä¹‰è¦æ±‚ã€‚çº¦æŸä¸»é”®çº¦æŸå”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½•çš„å±žæ€§å€¼ã€‚ä¸»é”®å¿…é¡»æ˜¯å”¯ä¸€çš„å€¼ã€‚ä¸»é”®åˆ—ä¸èƒ½æ˜¯ NULL å€¼ã€‚æ¯ä¸ªè¡¨éƒ½åº”è¯¥æœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ã€‚æ·»åŠ ä¸»é”®çº¦æŸã€‚æ–¹å¼ä¸€ï¼šåˆ›å»ºè¡¨æ—¶ï¼Œåœ¨å­—æ®µæè¿°å¤„ï¼Œå£°æ˜ŽæŒ‡å®šå­—æ®µä¸ºä¸»é”®1234567CREATE TABLE Persons( Id_P int PRIMARY KEY, LastName varchar(255), FirstName varchar(255), Address varchar(255), City varchar(255));æ–¹å¼äºŒï¼šåˆ›å»ºè¡¨æ—¶ï¼Œåœ¨è¡¨çº§çº¦æŸåŒºåŸŸï¼Œå£°æ˜ŽæŒ‡å®šå­—æ®µä¸ºä¸»é”®æ ¼å¼ï¼š[constraint åç§°] primary key (å­—æ®µåˆ—è¡¨)å…³é”®å­—constraintå¯ä»¥çœç•¥ï¼Œå¦‚æžœéœ€è¦ä¸ºä¸»é”®å‘½åï¼Œconstraintä¸èƒ½çœç•¥ã€‚å­—æ®µåˆ—è¡¨éœ€è¦ä½¿ç”¨å°æ‹¬å·æ‹¬ä½ï¼Œå¦‚æžœæœ‰å¤šå­—æ®µéœ€è¦ä½¿ç”¨é€—å·åˆ†éš”ã€‚è¿™æ—¶å¤šä¸ªå­—æ®µè”åˆæž„æˆä¸»é”®ã€‚1234567CREATE TABLE Persons( FirstName varchar(255), LastName varchar(255), Address varchar(255), City varchar(255), [CONSTRAINT pk_PersonID] PRIMARY KEY (FirstName,LastName));æ–¹å¼ä¸‰ï¼šåˆ›å»ºè¡¨ä¹‹åŽï¼Œé€šè¿‡ä¿®æ”¹è¡¨ç»“æž„ï¼Œå£°æ˜ŽæŒ‡å®šå­—æ®µä¸ºä¸»é”®ALTER TABLE Persons ADD [CONSTRAINT åç§°] PRIMARY KEY (å­—æ®µåˆ—è¡¨)1234567CREATE TABLE Persons( FirstName varchar(255), LastName varchar(255), Address varchar(255), City varchar(255));ALTER TABLE Persons ADD PRIMARY KEY (FirstName);æ’¤é”€ä¸»é”®çº¦æŸï¼šALTER TABLE Persons DROP PRIMARY KEYè‡ªåŠ¨å¢žé•¿åˆ—è®¾ç½®æŸåˆ—çš„å€¼è‡ªåŠ¨å¢žé•¿ã€‚ä½¿ç”¨ auto_incrementï¼ˆè‡ªåŠ¨å¢žé•¿åˆ—ï¼‰å…³é”®å­—ã€‚è‡ªåŠ¨å¢žé•¿åˆ—ç±»åž‹å¿…é¡»æ˜¯æ•´å½¢ã€‚è‡ªåŠ¨å¢žé•¿åˆ—å¿…é¡»ä¸ºé”®(ä¸€èˆ¬æ˜¯ä¸»é”®)ã€‚æ·»åŠ è‡ªåŠ¨å¢žé•¿ï¼š1234567CREATE TABLE Persons( P_Id int PRIMARY KEY AUTO_INCREMENT, LastName varchar(255), FirstName varchar(255), Address varchar(255), City varchar(255));æ·»åŠ æ•°æ®æ—¶ï¼Œå¯ä»¥ä¸è®¾ç½®å€¼ï¼Œä¹Ÿå¯ä»¥è®¾ç½®æˆnullï¼Œæ•°æ®åº“å°†è‡ªåŠ¨ç»´æŠ¤ä¸»é”®å€¼ï¼šINSERT INTO Persons (FirstName,LastName) VALUES (&#39;Bill&#39;,&#39;Gates&#39;);INSERT INTO Persons (P_Id,FirstName,LastName) VALUES (NULL,&#39;Bill&#39;,&#39;Gates&#39;);ä¿®æ”¹èµ·å§‹å€¼ALTER TABLE Persons AUTO_INCREMENT=100;éžç©ºçº¦æŸçº¦æŸä¸æŽ¥å—NULLå€¼ï¼Œæ„å‘³ç€å¦‚æžœä¸å‘å­—æ®µæ·»åŠ å€¼ï¼Œå°±æ— æ³•æ’å…¥æ–°è®°å½•æˆ–è€…æ›´æ–°è®°å½•ã€‚æ·»åŠ æ–¹å¼æ–¹å¼ä¸€ï¼šåˆ›å»ºè¡¨ï¼Œä¸‹é¢çš„ SQL è¯­å¥å¼ºåˆ¶ â€œId_Pâ€ åˆ—å’Œ â€œLastNameâ€ åˆ—ä¸æŽ¥å— NULL å€¼1234567CREATE TABLE Persons( Id_P int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255));æ–¹å¼äºŒï¼šä¿®æ”¹è¡¨ç»“æž„ALTER TABLE student MODIFY LastName varchar(255) NOT NULLåˆ é™¤éžç©ºçº¦æŸALTER TABLE student MODIFY LastName varchar(255);å”¯ä¸€çº¦æŸUNIQUEçº¦æŸå”¯ä¸€æ ‡è¯†æ•°æ®åº“è¡¨ä¸­çš„æ¯æ¡è®°å½•ã€‚PRIMARY KEYæ‹¥æœ‰è‡ªåŠ¨å®šä¹‰çš„UNIQUEçº¦æŸã€‚æ¯ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ª UNIQUE çº¦æŸï¼Œä½†æ˜¯æ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ª PRIMARY KEY çº¦æŸã€‚æ·»åŠ å”¯ä¸€çº¦æŸæ–¹å¼1ï¼šåˆ›å»ºè¡¨æ—¶ï¼Œåœ¨å­—æ®µæè¿°å¤„ï¼Œå£°æ˜Žå”¯ä¸€1234567CREATE TABLE Persons( Id_P int UNIQUE, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255));æ–¹å¼2ï¼šåˆ›å»ºè¡¨æ—¶ï¼Œåœ¨çº¦æŸåŒºåŸŸï¼Œå£°æ˜Žå”¯ä¸€12345678CREATE TABLE Persons( Id_P int, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), CONSTRAINT åç§° UNIQUE (Id_P));æ–¹å¼3ï¼šåˆ›å»ºè¡¨åŽï¼Œä¿®æ”¹è¡¨ç»“æž„ï¼Œå£°æ˜Žå­—æ®µå”¯ä¸€ALTER TABLE Persons ADD [CONSTRAINT åç§°] UNIQUE (Id_P);åˆ é™¤å”¯ä¸€çº¦æŸALTER TABLE Persons DROP INDEX çº¦æŸåç§°å¦‚æžœæ·»åŠ å”¯ä¸€çº¦æŸæ—¶ï¼Œæ²¡æœ‰è®¾ç½®çº¦æŸåç§°ï¼Œé»˜è®¤æ˜¯å½“å‰å­—æ®µçš„å­—æ®µåã€‚é»˜è®¤çº¦æŸåœ¨æ·»åŠ æ•°æ®ä¸­ï¼Œå¦‚æžœè¯¥å­—æ®µä¸æŒ‡å®šå€¼ï¼Œé‡‡ç”¨é»˜è®¤å€¼å¤„ç†ã€‚æ·»åŠ æ–¹å¼æ–¹å¼ä¸€ï¼š åˆ›å»ºè¡¨ï¼Œå­—æ®µå¤„å£°æ˜Ž1234567CREATE TABLE Persons( Id_P int, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255) DEFAULT 'åŒ—äº¬', City varchar(255));æ–¹å¼äºŒï¼š ä¿®æ”¹è¡¨ç»“æž„ALTER TABLE Persons MODIFY Address VARCHAR(255) DEFAULT &#39;åŒ—äº¬&#39;;åˆ é™¤æ–¹å¼ALTER TABLE Persons MODIFY Address VARCHAR(255);å¤–é”®çº¦æŸå‚ç…§å…³ç³»å¯¹åº”çš„è¡¨æ˜¯ä»Žè¡¨ã€‚è¢«å‚ç…§å…³ç³»å¯¹åº”çš„è¡¨æ˜¯ä¸»è¡¨ã€‚å£°æ˜Žå¤–é”®çº¦æŸåˆ›å»ºè¡¨æ—¶æ·»åŠ ã€‚12345678CREATE TABLE Persons( Id_P int, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255) DEFAULT &apos;åŒ—äº¬&apos;, City varchar(255), [CONSTRAINT FK_DEPTNO] FOREIGN KEY (Address) REFERENCES CITY(Address));ä¿®æ”¹è¡¨ç»“æž„alter table ä»Žè¡¨ add [constraint åç§°] foreign key (å¤–é”®å­—æ®µ) references ä¸»è¡¨ (ä¸»è¡¨ä¸»é”®);åˆ é™¤å¤–é”®alter table ä»Žè¡¨ drop foreign key å¤–é”®åç§°;å¤‡ä»½ &amp; æ¢å¤å¤‡ä»½æ¢å¤&gt;]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[02-MySQLçŽ¯å¢ƒå®‰è£…]]></title>
    <url>%2F2019%2F02-MySQL%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%2F</url>
    <content type="text"><![CDATA[å®‰è£…MySQLMySQLæœ‰ä¸¤ç§å®‰è£…æ–¹å¼ï¼Œè§£åŽ‹é…ç½®å’Œå®‰è£…ç¨‹åºå®‰è£…ã€‚åœ¨è¿™ä½¿ç”¨è§£åŽ‹é…ç½®ä½†æ˜¯èµ„æºé‡Œæœ‰ä½¿ç”¨å®‰è£…ç¨‹åºå®‰è£…çš„æ•™ç¨‹ã€‚è§£åŽ‹è‡³æŒ‡å®šç›®å½•è§£åŽ‹è‡³è‡ªå·±é€‰å®šçš„ç›®å½•ï¼Œä¸€èˆ¬ä¸é€‰æ‹©ç³»ç»Ÿç›˜ã€‚æˆ‘æ˜¯è§£åŽ‹è‡³Dç›˜æ ¹ç›®å½•ï¼šD:\mysql-5.5\ã€‚å†™é…ç½®æ–‡ä»¶123456789#è®¾ç½®å­—ç¬¦é›†ä¸ºutf8 character-set-server = utf8basedir = D:/mysql-5.5 #æŒ‡å®šä¸ºè‡ªå·±é€‰å®šçš„ç›®å½•datadir = D:/mysql-5.5/data #æŒ‡å®šä¸ºé€‰å®šç›®å½•ä¸‹çš„dataæ–‡ä»¶å¤¹[client] #è®¾ç½®å®¢æˆ·ç«¯å­—ç¬¦é›†default-character-set = utf8[WinMySQLadmin] Server = D:/mysql-5.5/bin/mysqld.exe #æŒ‡å®šè‡³mysqld.exeæ–‡ä»¶é…ç½®çŽ¯å¢ƒå˜é‡å®‰è£…å’Œé…ç½®åœ¨ç®¡ç†å‘˜ä¸‹çš„cmdå‘½ä»¤ä¸‹è¿›å…¥%MYSQL_HOME%/binç›®å½•æ‰§è¡Œmysqld -installã€‚å¦‚æžœæƒ³è¦å¸è½½æœåŠ¡æ‰§è¡Œå‘½ä»¤mysqld -removeã€‚å¯åŠ¨æœåŠ¡net start mysqlç¬¬ä¸€æ¬¡è¿›å…¥mysql -u rootã€‚mysql&gt; update mysql.user set password=PASSWORD(â€˜rootâ€™) where User=â€™rootâ€™;mysql&gt; flush privileges;åŽç»­è¿›å…¥mysql -u username -pæŒ‰æç¤ºè¾“å…¥å¯†ç é€€å‡ºexitåœæ­¢æœåŠ¡net stop mysqlæŸ¥çœ‹ç¼–ç é›†mysql&gt; show variables like â€˜%char%â€™;1234567891011121314mysql&gt; show variables like &apos;%char%&apos;;+--------------------------+------------------------------+| Variable_name | Value |+--------------------------+------------------------------+| character_set_client | utf8 || character_set_connection | utf8 || character_set_database | utf8 || character_set_filesystem | binary || character_set_results | utf8 || character_set_server | utf8 || character_set_system | utf8 || character_sets_dir | D:\mysql-5.5\share\charsets\ |+--------------------------+------------------------------+8 rows in set (0.01 sec)ç¼–ç é›†å¦‚å›¾ä¸Šè¡¨ç¤ºç¼–ç é›†é…ç½®æ­£ç¡®ã€‚å®‰è£…SQLyogSQLyogæ˜¯ä¸€ä¸ªå¯è§†åŒ–æ“ä½œæ•°æ®åº“å·¥å…·ã€‚è§£åŽ‹åŽå°±å¯ä½¿ç”¨ï¼šç‚¹å‡»SQLyog.exeè¿žæŽ¥æ•°æ®åº“ä½¿ç”¨]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[01-å…³ç³»åž‹æ•°æ®åº“ç»ªè®º]]></title>
    <url>%2F2019%2F01-%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%AA%E8%AE%BA%2F</url>
    <content type="text"><![CDATA[æ•°æ®ã€æ•°æ®åº“ã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ•°æ®ï¼šæè¿°äº‹ç‰©çš„ç¬¦å·è®°å½•ç§°ä¸ºæ•°æ®ï¼Œå¦‚æ–‡å­—ã€å›¾å½¢ã€å›¾è±¡ã€å£°éŸ³ã€å­¦ç”Ÿçš„æ¡£æ¡ˆè®°å½•ã€è´§ç‰©çš„è¿è¾“æƒ…å†µç­‰ã€‚æ•°æ®çš„å«ä¹‰ç§°ä¸ºæ•°æ®çš„è¯­ä¹‰ï¼Œæ•°æ®ä¸Žå…¶è¯­ä¹‰æ˜¯ä¸å¯åˆ†çš„ã€‚æ•°æ®åº“ï¼šæ•°æ®æŒ‰ä¸€å®šçš„æ–¹å¼ç»„ç»‡ã€æè¿°å’Œå­˜å‚¨åŽå½¢æˆçš„æ•°æ®é›†åˆå«åšæ•°æ®åº“ã€‚æ•°æ®åº“å…·æœ‰ä¸‰ä¸ªç‰¹ç‚¹ï¼šæ°¸ä¹…å­˜å‚¨ï¼šä¸éšç¨‹åºçš„ç»“æŸè€Œç»“æŸã€‚æœ‰ç»„ç»‡ï¼šæ•°æ®ä¹‹é—´æœ‰ä¸€å®šçš„æ ¼å¼ï¼Œå¯ä»¥é€šè¿‡æ ¼å¼çŸ¥é“æ•°æ®æ‰€ä»£è¡¨çš„çš„æ„ä¹‰ã€‚å¯å…±äº«ï¼šæ•°æ®åº“é‡Œçš„ä¿¡æ¯ä¸æ˜¯åªä¸ºæŸä¸€ç”¨æˆ·æˆ–æŸä¸€ç¨‹åºæ‰€ä½¿ç”¨ã€‚æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼šæ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ˜¯ä½äºŽç”¨æˆ·ä¸Žæ“ä½œç³»ç»Ÿä¹‹é—´çš„ä¸€å±‚ç”¨æ¥ç®¡ç†æ•°æ®åº“çš„è½¯ä»¶ã€‚å¸¸ç”¨çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæœ‰MySQLã€Oracleã€Redisã€MongoDBç­‰ã€‚å…³ç³»æ•°æ®åº“ç³»ç»Ÿæ•°æ®åº“æ˜¯ç”±æ•°æ®æŒ‰æŸç§å½¢å¼ç»„ç»‡æ‰€å½¢æˆï¼ŒæŒ‰ç…§ä¸åŒçš„ç»„ç»‡æ–¹å¼å¯ä»¥åˆ†ä¸ºä¸åŒçš„ç±»åž‹ã€‚æ‰€ä»¥å…³ç³»åž‹æ•°æ®åº“å°±æ˜¯æŒ‡ä»¥å…³ç³»æ•°å­¦æ¨¡åž‹æ¥ç»„ç»‡æ•°æ®çš„æ•°æ®åº“ï¼Œå…³ç³»æ•°å­¦æ¨¡åž‹ä¸­ä»¥äºŒç»´è¡¨çš„å½¢å¼æ¥æè¿°æ•°æ®ã€‚ä¹Ÿå°±æ˜¯ä¸€ä¸ªå…³ç³»å¯¹åº”ä¸€ä¸ªäºŒç»´è¡¨ã€‚å®žä½“-è”ç³»å®žä½“ï¼šå®¢è§‚å­˜åœ¨å¹¶å¯ç›¸äº’åŒºåˆ«çš„äº‹ç‰©ã€‚äºŒç»´è¡¨éžé¦–è¡Œã€‚å±žæ€§ï¼šå®žä½“æ‰€å…·æœ‰çš„æŸä¸€ç‰¹æ€§ã€‚äºŒç»´è¡¨çš„ä¸€æ ¼ã€‚ç ï¼šå”¯ä¸€æ ‡è¯†å®žä½“çš„å±žæ€§ã€‚åŸŸï¼šå±žæ€§çš„å–å€¼èŒƒå›´ã€‚å®žä½“åž‹ï¼šç”¨å®žä½“ååŠå…¶å±žæ€§åé›†åˆæ¥æŠ½è±¡å’Œåˆ»ç”»åŒç±»å®žä½“ã€‚å®žä½“é›†ï¼šåŒåž‹å®žä½“çš„é›†åˆç§°ä¸ºå®žä½“é›†è”ç³»ï¼šçŽ°å®žä¸–ç•Œä¸­äº‹ç‰©å†…éƒ¨ä»¥åŠäº‹ç‰©ä¹‹é—´çš„è”ç³»åœ¨ä¿¡æ¯ä¸–ç•Œä¸­åæ˜ ä¸ºå®žä½“å†…éƒ¨çš„è”ç³»å’Œå®žä½“ä¹‹é—´çš„è”ç³»ã€‚SQLDDLã€DMLã€DCLã€DQLå¸¸è§çš„å…³ç³»æ•°æ®åº“ç³»ç»Ÿæœ‰MySQLã€Oracleç­‰ï¼Œå¯ä»¥ä½¿ç”¨ç»“æž„åŒ–æŸ¥è¯¢è¯­è¨€ï¼ˆStructured Query Languageï¼ŒSQLï¼‰è¿›è¡Œæ“ä½œã€‚ä¸åŒçš„æ•°æ®åº“ç”Ÿäº§åŽ‚å•†éƒ½æ”¯æŒSQLè¯­å¥ï¼Œä½†éƒ½æœ‰ç‰¹æœ‰å†…å®¹ï¼ˆç§°ä¸ºæ–¹è¨€ï¼‰ã€‚SQLå¯åˆ†ä¸ºå››ç±»ï¼šæ•°æ®å®šä¹‰è¯­è¨€ï¼ˆData Definition Languageï¼ŒDDLï¼‰ï¼šç”¨æ¥å®šä¹‰æ•°æ®åº“ä¸­çš„å¯¹è±¡ï¼šæ•°æ®åº“ï¼Œè¡¨ï¼Œåˆ—ç­‰ã€‚å…³é”®å­—æœ‰createã€alterã€dropã€ showç­‰ã€‚æ•°æ®æ“ä½œè¯­è¨€ï¼ˆData Manipulation Languageï¼ŒDMLï¼‰ï¼šç”¨æ¥å¯¹æ•°æ®åº“ä¸­è¡¨çš„è®°å½•è¿›è¡Œæ›´æ–°ã€‚å…³é”®å­—æœ‰insertã€deleteã€updateç­‰ã€‚æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼ˆData Query Languageï¼ŒDQLï¼‰ï¼šç”¨æ¥æŸ¥è¯¢æ•°æ®åº“ä¸­è¡¨çš„è®°å½•ã€‚å…³é”®å­—ï¼šselectï¼Œfromï¼Œwhereç­‰ã€‚æ•°æ®æŽ§åˆ¶è¯­è¨€ï¼ˆData Control Languageï¼ŒDCLï¼‰ï¼šç”¨æ¥å®šä¹‰æ•°æ®åº“çš„è®¿é—®æƒé™å’Œå®‰å…¨çº§åˆ«ï¼ŒåŠåˆ›å»ºç”¨æˆ·ã€‚å…³é”®å­—æœ‰grantã€revokeç­‰ã€‚SQLé€šç”¨è¯­æ³•SQLè¯­å¥å¯ä»¥å•è¡Œæˆ–å¤šè¡Œä¹¦å†™ï¼Œä»¥åˆ†å·ç»“å°¾ï¼Œå¯ä½¿ç”¨ç©ºæ ¼å’Œç¼©è¿›æ¥å¢žå¼ºè¯­å¥çš„å¯è¯»æ€§ã€‚MySQLæ•°æ®åº“çš„SQLè¯­å¥ä¸åŒºåˆ†å¤§å°å†™ï¼Œå…³é”®å­—å»ºè®®ä½¿ç”¨å¤§å†™ã€‚ä¾‹å¦‚ï¼šSELECT * FROM userã€‚ä½¿ç”¨/* ... */çš„æ–¹å¼å®Œæˆæ³¨é‡Šã€‚æ•°æ®ç±»åž‹ç±»åž‹æè¿°intæ•´åž‹doubleæµ®ç‚¹åž‹varcharå˜é•¿å­—ç¬¦ä¸²åž‹ï¼ˆæŒ‡å®šä¸º10ä¸ªå­—èŠ‚é•¿åº¦ï¼Œå­˜å‚¨abcåªå ç”¨3ä¸ªå­—èŠ‚ï¼‰charå®šé•¿å­—ç¬¦ä¸²åž‹ï¼ˆæŒ‡å®šä¸º10ä¸ªå­—èŠ‚é•¿åº¦ï¼Œå­˜å‚¨abcä¹Ÿå ç”¨10ä¸ªå­—èŠ‚ï¼‰datetimeYYYY-MM-DD HH:MM:SSï¼ˆ1000-01-01 00:00:00~ 9999-12-31 23:59:59ï¼‰å®žä½“åž‹ä¹‹é—´çš„è”ç³»ä¸€å¯¹ä¸€è”ç³»ï¼šå¦‚æžœå¯¹äºŽå®žä½“é›†Aä¸­çš„æ¯ä¸€ä¸ªå®žä½“ï¼Œå®žä½“é›†Bä¸­è‡³å¤šæœ‰ä¸€ä¸ªå®žä½“ä¸Žä¹‹è”ç³»ï¼Œåä¹‹äº¦ç„¶ï¼Œç§°å®žä½“é›†Aä¸Žå®žä½“é›†Bæœ‰ä¸€å¯¹ä¸€è”ç³»ã€‚è®°ä¸º1ï¼š1ã€‚ä¸€å¯¹å¤šè”ç³»ï¼šå¦‚æžœå¯¹äºŽå®žä½“é›†Aä¸­çš„æ¯ä¸€ä¸ªå®žä½“ï¼Œå®žä½“é›†Bä¸­æœ‰nä¸ªå®žä½“ï¼ˆnâ‰¥0ï¼‰ä¸Žä¹‹è”ç³»ï¼Œåä¹‹ï¼Œå¯¹äºŽå®žä½“é›†Bä¸­çš„æ¯ä¸€ä¸ªå®žä½“ï¼Œå®žä½“é›†Aä¸­è‡³å¤šåªæœ‰ä¸€ä¸ªå®žä½“ä¸Žä¹‹è”ç³»ï¼Œç§°å®žä½“é›†Aä¸Žå®žä½“Bæœ‰ä¸€å¯¹å¤šè”ç³»ã€‚è®°ä¸º1ï¼šnã€‚å¤šå¯¹å¤šè”ç³»ï¼šå¦‚æžœå¯¹äºŽå®žä½“é›†Aä¸­çš„æ¯ä¸€ä¸ªå®žä½“ï¼Œå®žä½“é›†Bä¸­æœ‰nä¸ªå®žä½“ï¼ˆnâ‰¥0ï¼‰ä¸Žä¹‹è”ç³»ï¼Œåä¹‹ï¼Œå¯¹äºŽå®žä½“é›†Bä¸­çš„æ¯ä¸€ä¸ªå®žä½“ï¼Œå®žä½“é›†Aä¸­æœ‰mä¸ªå®žä½“ï¼ˆmâ‰¥0ï¼‰ä¸Žä¹‹è”ç³»ï¼Œç§°å®žä½“é›†Aä¸Žå®žä½“Bæœ‰å¤šå¯¹å¤šè”ç³»ã€‚è®°ä¸ºmï¼šnã€‚å¤šå¯¹å¤šè”ç³»èƒ½ç»ç”±ä¸€ä¸ªä¸­é—´è¡¨æ‹†åˆ†æˆä¸¤ä¸ªä¸€å¯¹å¤šå…³ç³»ã€‚Entity-Relationship ModelE-Rå›¾æä¾›äº†è¡¨ç¤ºå®žä½“åž‹ã€å±žæ€§å’Œè”ç³»çš„æ–¹æ³•ã€‚å…ˆæŠŠéœ€æ±‚è½¬åŒ–æˆE-Rå›¾ï¼Œå¯ä»¥æ–¹ä¾¿çš„åŒ–ç®€å’Œå»ºè¡¨ã€‚å®žä½“åž‹ï¼šç”¨çŸ©å½¢è¡¨ç¤ºï¼ŒçŸ©å½¢æ¡†å†…å†™æ˜Žå®žä½“åã€‚å±žæ€§ï¼šç”¨æ¤­åœ†å½¢è¡¨ç¤ºï¼Œå¹¶ç”¨æ— å‘è¾¹å°†å…¶ä¸Žç›¸åº”çš„å®žä½“è¿žæŽ¥èµ·æ¥ã€‚è”ç³»ï¼šç”¨è±å½¢è¡¨ç¤ºï¼Œè±å½¢æ¡†å†…å†™æ˜Žè”ç³»åï¼Œå¹¶ç”¨æ— å‘è¾¹åˆ†åˆ«ä¸Žæœ‰å…³å®žä½“è¿žæŽ¥èµ·æ¥ï¼ŒåŒæ—¶åœ¨æ— å‘è¾¹æ—æ ‡ä¸Šã€‚è”ç³»çš„ç±»åž‹: 1ï¼š1ã€1ï¼šnæˆ–mï¼šnã€‚è”ç³»æœ¬èº«ä¹Ÿæ˜¯ä¸€ç§å®žä½“åž‹ï¼Œä¹Ÿå¯ä»¥æœ‰å±žæ€§ã€‚å¦‚æžœä¸€ä¸ªè”ç³»å…·æœ‰å±žæ€§ï¼Œåˆ™è¿™äº›å±žæ€§ä¹Ÿè¦ç”¨æ— å‘è¾¹ä¸Žè¯¥è”ç³»è¿žæŽ¥èµ·æ¥ã€‚E-Rå›¾è½¬æ¢æˆå…³ç³»è½¬æ¢åŽŸåˆ™ï¼šå®žä½“å’Œè”ç³»åˆ†åˆ«è½¬æ¢ä¸ºå…³ç³»ï¼Œå†åˆå¹¶å…·æœ‰ç›¸åŒä¸»é”®çš„å…³ç³»ã€‚å®žä½“è½¬æ¢ä¸ºå…³ç³»ï¼šä¸€ä¸ªå®žä½“åž‹ è½¬æ¢æˆ ä¸€ä¸ªå…³ç³»ã€‚å®žä½“åž‹çš„åç§° è½¬æ¢æˆ æž„æˆå…³ç³»çš„åç§°ã€‚å®žä½“åž‹çš„å±žæ€§ è½¬æ¢æˆ æž„æˆå…³ç³»çš„å±žæ€§ï¼ˆä¹Ÿå«å­—æ®µï¼‰ã€‚å®žä½“åž‹çš„ä¸»é”® è½¬æ¢æˆ å…³ç³»çš„ä¸»é”®ã€‚è”ç³»è½¬æ¢ä¸ºå…³ç³»ï¼šä¸€ä¸ªè”ç³» è½¬æ¢æˆ ä¸€ä¸ªå…³ç³»ã€‚ä¸Žè¯¥è”ç³»ç›¸å…³è”çš„å„å®žä½“çš„ç å±žæ€§ä»¥åŠè”ç³»æœ¬èº«çš„å±žæ€§ æž„æˆ å…³ç³»çš„å±žæ€§ã€‚è”ç³»è½¬æ¢ä¸ºå…³ç³»çš„ç çš„å–å†³äºŽè”ç³»çš„ç±»åž‹ã€‚1ï¼š1è”ç³»ï¼Œä»»ä¸€å®žä½“çš„ç ã€‚1ï¼šnè”ç³»ï¼Œnç«¯å®žä½“çš„ç ã€‚mï¼šnè”ç³»ï¼ŒåŒæ–¹å®žä½“çš„ç ç›¸åŒç çš„å…³ç³»åˆå¹¶ä¸ºä¸€ä¸ªå…³ç³»ã€‚E-Rå›¾å®žä¾‹æ•°æ®ï¼šç§‘å®¤ï¼šç§‘åï¼Œç§‘åœ°å€ï¼Œç§‘ç”µè¯ç—…æˆ¿ï¼šç—…æˆ¿å·ï¼ŒåºŠä½å·åŒ»ç”Ÿï¼šå§“åï¼ŒèŒç§°ï¼Œå¹´é¾„ï¼Œå·¥ä½œè¯ç—…äººï¼šç—…åŽ†å·ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œè¯Šæ–­è”ç³»ï¼šä¸€ä¸ªç§‘å®¤æœ‰å¤šä¸ªç—…æˆ¿ã€å¤šä¸ªåŒ»ç”Ÿä¸€ä¸ªç—…æˆ¿åªèƒ½å±žäºŽä¸€ä¸ªç§‘å®¤ä¸€ä¸ªåŒ»ç”Ÿåªå±žäºŽä¸€ä¸ªç§‘å®¤ï¼Œä½†å¯è´Ÿè´£å¤šä¸ªç—…äººçš„è¯Šæ²»ä¸€ä¸ªç—…äººçš„ä¸»ç®¡åŒ»ç”Ÿåªæœ‰ä¸€ä¸ªE-Rå›¾è½¬æ¢ç§‘å®¤ï¼ˆç§‘åï¼Œåœ°å€ï¼Œç”µè¯ï¼‰åŒ»ç”Ÿï¼ˆåŒ»ç”Ÿåï¼ŒèŒç§°ï¼Œå¹´é¾„ï¼Œå·¥ä½œè¯å·ï¼‰ç—…æˆ¿ï¼ˆç—…æˆ¿å·ï¼ŒåºŠä½å·ï¼‰ç—…äººï¼ˆç—…åŽ†å·ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œè¯Šæ–­ï¼‰è´Ÿè´£ï¼ˆåºŠä½å·ï¼Œç§‘åï¼‰æ‹¥æœ‰ï¼ˆåŒ»ç”Ÿåï¼Œç§‘åï¼‰è¯Šæ²»ï¼ˆç—…åŽ†å·ï¼ŒåŒ»ç”Ÿåï¼‰åˆå¹¶ç§‘å®¤ï¼ˆç§‘åï¼Œåœ°å€ï¼Œç”µè¯ï¼‰åŒ»ç”Ÿï¼ˆåŒ»ç”Ÿåï¼ŒèŒç§°ï¼Œç§‘åï¼Œå¹´é¾„ï¼Œå·¥ä½œè¯å·ï¼‰ç—…æˆ¿ï¼ˆåºŠä½å·ï¼Œç—…æˆ¿å·ï¼Œç§‘åï¼‰ç—…äººï¼ˆç—…åŽ†å·ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œè¯Šæ–­ï¼ŒåŒ»ç”Ÿåï¼‰]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[02-è¿›ç¨‹çš„æè¿°ä¸ŽæŽ§åˆ¶]]></title>
    <url>%2F2019%2F02-%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8F%8F%E8%BF%B0%E4%B8%8E%E6%8E%A7%E5%88%B6%2F</url>
    <content type="text"><![CDATA[è¿›ç¨‹æ¦‚å¿µå‰è¶‹å›¾æ•°æ®ç»“æž„ä¸­çš„æœ‰å‘æ— çŽ¯å›¾ã€‚ç®­å¤´è¡¨ç¤ºè¿›ç¨‹ä¹‹é—´æ‰§è¡Œçš„å…ˆåŽå…³ç³»ã€‚ç»“ç‚¹è¡¨ç¤ºä¸€ä¸ªç¨‹åºæˆ–ä¸€ä¸ªè¿›ç¨‹ï¼Œç”šè‡³ä¸€æ¡è¯­å¥ã€‚ç¨‹åºçš„å¹¶å‘æ‰§è¡Œä¸å­˜åœ¨å‰è¶‹å…³ç³»çš„ç¨‹åºä¹‹é—´æ‰æœ‰å¯èƒ½å¹¶å‘æ‰§è¡Œã€‚ç‰¹å¾ï¼šé—´æ–­æ€§ï¼šç¨‹åºåœ¨å¹¶å‘æ‰§è¡Œæ—¶ï¼Œç”±äºŽå®ƒä»¬å…±äº«ç³»ç»Ÿèµ„æºï¼Œä»¥åŠä¸ºå®ŒæˆåŒä¸€é¡¹ä»»åŠ¡è€Œç›¸äº’åˆä½œï¼Œè‡´ä½¿åœ¨è¿™äº›å¹¶å‘æ‰§è¡Œçš„ç¨‹åºä¹‹é—´å½¢æˆäº†ç›¸äº’åˆ¶çº¦çš„å…³ç³»ï¼Œè¿›è€Œå¯¼è‡´å¹¶å‘ç¨‹åºå…·æœ‰â€œæ‰§è¡Œ-æš‚åœ-æ‰§è¡Œâ€è¿™ç§é—´æ–­æ€§çš„æ´»åŠ¨è§„å¾‹ã€‚å¤±åŽ»å°é—­æ€§ï¼šç”±äºŽèµ„æºå…±äº«ï¼Œæ‰€ä»¥å½“æŸç¨‹åºçš„è¿è¡Œå½±å“èµ„æºçš„çŠ¶æ€æ—¶ï¼Œå…¶ä»–ç¨‹åºçš„è¿è¡ŒçŽ¯å¢ƒå°±ä¼šè¢«ç ´åã€‚ä¸å¯å†çŽ°æ€§ï¼šè®¡ç®—ç»“æžœä¸Žå¹¶å‘ç¨‹åºå„è‡ªæ‰§è¡Œé€Ÿåº¦æœ‰å…³ã€‚å³åŒä¸€ç¨‹åºï¼Œä½¿ç”¨ç›¸åŒè¾“å…¥ã€åœ¨ç›¸åŒçŽ¯å¢ƒä¸‹è¿è¡Œï¼Œå´å¯èƒ½èŽ·å¾—å®Œå…¨ä¸åŒçš„ç»“æžœã€‚è¿›ç¨‹çš„å®šä¹‰åœ¨å¤šé“ç¨‹åºçŽ¯å¢ƒä¸‹ï¼Œç¨‹åºçš„æ‰§è¡Œå±žäºŽå¹¶å‘æ‰§è¡Œï¼Œæ­¤æ—¶ä»–ä»¬å°†å¤±åŽ»å…¶å°é—­æ€§ï¼Œå¹¶å…·æœ‰é—´æ–­æ€§ï¼Œä»¥åŠè¿è¡Œç»“æžœçš„ä¸å¯å†çŽ°æ€§ã€‚ç”±æ­¤ï¼Œå†³å®šäº†é€šå¸¸çš„ç¨‹åºæ˜¯ä¸èƒ½å‚ä¸Žå¹¶å‘æ‰§è¡Œçš„ã€‚ä¸ºäº†èƒ½ä½¿ç¨‹åºå¹¶å‘æ‰§è¡Œï¼Œå¼•å…¥äº†è¿›ç¨‹ã€‚è¿›ç¨‹å®žä½“ï¼šç¨‹åº+æ•°æ®+è¿›ç¨‹æŽ§åˆ¶å—ï¼ˆProcess Control Blockï¼ŒPCBï¼‰ã€‚è¿›ç¨‹ï¼šè¿è¡Œæ€çš„è¿›ç¨‹å®žä½“æ˜¯å°±æ˜¯è¿›ç¨‹ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ã€‚PCBæ˜¯ä¸ºäº†ä½¿ç¨‹åºèƒ½å¹¶å‘æ‰§è¡Œè€Œè¯žç”Ÿçš„ä¸€ç§æ•°æ®ç»“æž„ï¼Œå®ƒç”¨æ¥æŽ§åˆ¶å’Œç®¡ç†è¿›ç¨‹ã€‚ç”±äºŽæ•°æ®å’Œç¨‹åºæœ¬æ¥å°±å­˜åœ¨ï¼Œæ‰€ä»¥åˆ›å»º/æ’¤é”€è¿›ç¨‹ä¹Ÿå°±æ˜¯åˆ›å»º/æ’¤é”€PCBã€‚è‡³äºŽå¦‚ä½•å¹¶å‘æ‰§è¡Œï¼Œè§ä¸‹é¢çš„è¿›ç¨‹åŒæ­¥ã€‚åŒºåˆ«äºŽä½œä¸šï¼šè¿›ç¨‹æ˜¯ç¨‹åºåœ¨æ•°æ®é›†ä¸Šçš„ä¸€æ¬¡ä½œæ‰§è¡Œï¼Œä½œä¸šæ˜¯ç”¨æˆ·æäº¤ç»™ç³»ç»Ÿçš„ä¸€ä¸ªä»»åŠ¡ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ã€‚è¿›ç¨‹çš„ç‰¹ç‚¹åŠ¨æ€æ€§ï¼šç”±åˆ›å»ºè€Œäº§ç”Ÿï¼Œç”±è°ƒåº¦è€Œæ‰§è¡Œï¼Œç”±æ’¤é”€è€Œæ¶ˆäº¡ã€‚å¹¶å‘æ€§ï¼šè¿›ç¨‹çš„é‡è¦ç‰¹å¾ï¼Œæ“ä½œç³»ç»Ÿçš„é‡è¦ç‰¹å¾ã€‚ç‹¬ç«‹æ€§ï¼šç‹¬ç«‹è¿è¡Œã€ç‹¬ç«‹åˆ†é…èµ„æºã€ç‹¬ç«‹æŽ¥å—è°ƒåº¦ã€‚å¼‚æ­¥æ€§ï¼šæŒ‰å„è‡ªç‹¬ç«‹ã€ä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰æŽ¨è¿›ã€‚PCBPCBä¸­ä¿å­˜çš„ä¿¡æ¯è¿›ç¨‹æ ‡è¯†ç¬¦ã€‚ç”¨äºŽå”¯ä¸€çš„æ ‡è¯†æŸä¸ªè¿›ç¨‹ã€‚å¤–éƒ¨æ ‡è¯†ç¬¦ï¼šä¸ä»…å¯ä»¥æ ‡è¯†è¿›ç¨‹ï¼Œè¿˜æŒ‡æ˜Žå…¶çˆ¶è¿›ç¨‹ã€å­è¿›ç¨‹ä»¥åŠæ‹¥æœ‰è¯¥è¿›ç¨‹çš„ç”¨æˆ·ã€‚å†…éƒ¨æ ‡è¯†ç¬¦ï¼šæ–¹ä¾¿ç³»ç»Ÿä½¿ç”¨è¿›ç¨‹ï¼Œä»…èƒ½æ ‡è¯†è¿›ç¨‹ã€‚å¤„ç†æœºçŠ¶æ€ã€‚ç”¨äºŽåœ¨è¿›ç¨‹åˆ‡æ¢æ—¶ä¿å­˜å¤„ç†æœºä¸­å„ä¸ªå¯„å­˜å™¨çš„å†…å®¹ã€‚ä»¥ä¾¿åœ¨è¯¥è¿›ç¨‹é‡æ–°è°ƒåº¦æ—¶èƒ½å†ä»Žæ–­ç‚¹æ‰§è¡Œã€‚è¿›ç¨‹è°ƒåº¦ä¿¡æ¯ã€‚è¿›ç¨‹çŠ¶æ€ï¼šæŒ‡æ˜Žè¿›ç¨‹çš„çŠ¶æ€ï¼Œæ–¹ä¾¿è¿›ç¨‹è°ƒåº¦å’Œå¯¹æ¢æ—¶çš„ä¾æ®ã€‚è¿›ç¨‹ä¼˜å…ˆçº§ï¼šè¿›ç¨‹ä¼˜å…ˆçº§é«˜çš„æ›´å®¹æ˜“èŽ·å¾—å¤„ç†æœºã€‚è¿›ç¨‹è°ƒåº¦æ‰€éœ€ä¿¡æ¯ï¼šä¿å­˜çš„å†…å®¹å’Œè¿›ç¨‹è°ƒåº¦ç®—æ³•æœ‰å…³ï¼Œå¦‚è¿›ç¨‹ç­‰å¾…äº†å¤šä¹…CPUï¼Œä½¿ç”¨äº†å¤šé•¿CPUã€‚äº‹ä»¶ï¼šè¿›ç¨‹å› ä½•ç”±æ‰§è¡ŒçŠ¶æ€è½¬å˜ä¸ºé˜»å¡žçŠ¶æ€ï¼Œå³é˜»å¡žåŽŸå› ã€‚è¿›ç¨‹æŽ§åˆ¶ä¿¡æ¯ã€‚ç¨‹åºå’Œæ•°æ®çš„åœ°å€ã€‚è¿›ç¨‹åŒæ­¥çš„é€šä¿¡æœºåˆ¶ã€‚èµ„æºæ¸…å•ã€‚è¿›ç¨‹å·²åˆ†é…åˆ°çš„é™¤å¤„ç†æœºä¹‹å¤–çš„èµ„æºã€‚é“¾æŽ¥æŒ‡é’ˆã€‚ç”¨äºŽæŒ‡å‘ä¸‹ä¸€ä¸ªPCBçš„é¦–åœ°å€ã€‚ç”¨äºŽè¿›ç¨‹è°ƒåº¦ã€‚PCBçš„ç»„ç»‡æ–¹å¼çº¿æ€§æ–¹å¼ï¼šæ‰€æœ‰çš„PCBéƒ½ä¿å­˜åœ¨ä¸€å¼ è¡¨ä¸­ï¼Œæ¯æ¬¡å¯»æ‰¾PCBéƒ½åœ¨è¡¨ä¸­æŸ¥æ‰¾ã€‚æ•ˆçŽ‡ä½Žã€‚é“¾æŽ¥æ–¹å¼ï¼šæŠŠå…·æœ‰ç›¸åŒçŠ¶æ€çš„PCBé“¾æŽ¥èµ·æ¥ã€‚ç´¢å¼•æ–¹å¼ï¼šæŠŠå…·æœ‰ç›¸åŒçŠ¶æ€çš„PCBä¿å­˜åœ¨ç›¸åº”çš„è¡¨ä¸­ã€‚OSå†…æ ¸ç³»ç»Ÿæ€ &amp; ç”¨æˆ·æ€å¯¹äºŽå¤„ç†æœºæ¥è¯´ï¼Œæ ¹æ®å…¶æ‰§è¡Œçš„æŒ‡ä»¤ä¸åŒï¼Œå¯ä»¥å°†å…¶åˆ†æˆç³»ç»Ÿæ€ï¼ˆç®¡æ€ã€å†…æ ¸æ€ï¼‰å’Œç”¨æˆ·æ€ã€‚å¤„ç†æœºå¤„äºŽç³»ç»Ÿæ€æ—¶å¯ä»¥æ‰§è¡Œä»»æ„çš„æŒ‡ä»¤ï¼Œè®¿é—®æ‰€æœ‰çš„å¯„å­˜å™¨å’Œå­˜å‚¨åŒºï¼Œè€Œå¤„äºŽç”¨æˆ·æ€çš„æ—¶å€™ä¼šå—åˆ°ç›¸åº”çš„é™åˆ¶ã€‚æ‰€ä»¥è®¡ç®—æœºä¸­çš„ç¨‹åºå¯ä»¥åˆ†æˆç³»ç»Ÿç¨‹åºå’Œç”¨æˆ·ç¨‹åºï¼Œç”¨æˆ·ç¨‹åºè¿è¡Œåœ¨ç”¨æˆ·æ€ï¼Œè¿™æ ·å°±å¯ä»¥é˜²æ­¢ç”¨æˆ·ç¨‹åºå¯¹æ“ä½œç³»ç»Ÿè¿›è¡Œç ´åã€‚æŒ‡ä»¤åˆ†ç±»æ“ä½œç³»ç»ŸæŠŠCPUæŒ‡ä»¤åˆ†æˆä¸¤ç±»ï¼šç‰¹æƒæŒ‡ä»¤ï¼šåœ¨ç³»ç»Ÿæ€æ‰§è¡Œçš„æŒ‡ä»¤ã€‚æ‰§è¡Œå‡ ä¹Žä¸å—é™åˆ¶ï¼Œå¦‚å¯åŠ¨å¤–éƒ¨è®¾å¤‡ã€è®¾ç½®ç³»ç»Ÿæ—¶é’Ÿç­‰ã€‚éžç‰¹æƒæŒ‡ä»¤ï¼šåœ¨ç”¨æˆ·æ€æ‰§è¡Œçš„æŒ‡ä»¤ã€‚é™åˆ¶è¾ƒå¤šï¼Œæ¯”å¦‚ä¸èƒ½æ“ä½œç¡¬ä»¶ç­‰ã€‚å†…æ ¸æ¦‚å¿µçŽ°ä»£æ“ä½œç³»ç»Ÿé‡‡ç”¨åˆ†å±‚è®¾è®¡æ¨¡å¼ï¼Œä¸åŒæƒé‡çš„ç¨‹åºåˆ†åˆ«è®¾ç½®åœ¨ä¸åŒçš„å±‚æ¬¡ä¸­ã€‚é€šå¸¸ä¸Žç¡¬ä»¶ç´§å¯†ç›¸å…³çš„ç¨‹åºã€è®¾å¤‡é©±åŠ¨ç¨‹åºå’Œè¿è¡Œé¢‘çŽ‡é«˜çš„ç¨‹åºç­‰æ”¾ç½®åœ¨é«˜çº§åˆ«å±‚æ¬¡ä¸­ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†å®ƒä»¬å¸¸é©»å†…å­˜ï¼Œè¿™äº›ç¨‹åºä¾¿è¢«ç§°ä¸ºOSå†…æ ¸ã€‚OSå†…æ ¸è¿è¡Œåœ¨ç³»ç»Ÿæ€ä¸­ã€‚å†…æ ¸çš„åŠŸèƒ½ä¸åŒæ“ä½œç³»ç»Ÿçš„å†…æ ¸åœ¨åŠŸèƒ½ä¸Šæœ‰ä¸€å®šçš„å·®å¼‚ï¼Œä½†æ˜¯ä¸€èˆ¬éƒ½åŒ…å«ä¸¤ç±»åŠŸèƒ½ï¼šæ”¯æ’‘åŠŸèƒ½ä¸­æ–­å¤„ç†ï¼šæ˜¯æŒ‡è®¡ç®—æœºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå‡ºçŽ°æŸäº›æ„å¤–æƒ…å†µéœ€ä¸»æœºå¹²é¢„æ—¶ï¼Œæœºå™¨èƒ½è‡ªåŠ¨åœæ­¢æ­£åœ¨è¿è¡Œçš„ç¨‹åºå¹¶è½¬å…¥å¤„ç†æ–°æƒ…å†µçš„ç¨‹åºï¼Œä¸”å¤„ç†å®Œæ¯•åŽåˆè¿”å›žåŽŸè¢«æš‚åœçš„ç¨‹åºç»§ç»­è¿è¡Œã€‚äººæœºäº¤äº’ã€è®¾å¤‡é©±åŠ¨å’Œè¿›ç¨‹è°ƒåº¦ç­‰éƒ½éœ€è¦ä¾èµ–ä¸­æ–­å¤„ç†ã€‚æ—¶é’Ÿç®¡ç†ï¼šç³»ç»Ÿä¸­å¾ˆå¤šæ´»åŠ¨éƒ½éœ€è¦ç”¨åˆ°æ—¶é’Ÿï¼Œå¦‚å®šæ—¶ä»»åŠ¡ã€æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•ç­‰ã€‚åŽŸè¯­æ“ä½œï¼šåŽŸè¯­æ˜¯è‹¥å¹²æ¡æœºå™¨æŒ‡ä»¤æž„æˆçš„ï¼Œç”¨ä»¥å®Œæˆç‰¹å®šåŠŸèƒ½çš„ä¸€æ®µç¨‹åºã€‚è€ŒåŽŸè¯­æ“ä½œä¾¿æ˜¯åŽŸè¯­çš„æ‰§è¡Œï¼Œå…¶åœ¨æ‰§è¡ŒæœŸé—´æ˜¯ä¸å¯åˆ†å‰²çš„ã€‚èµ„æºç®¡ç†åŠŸèƒ½è¿›ç¨‹ç®¡ç†ï¼šè¿›ç¨‹çš„åˆ›å»ºã€æ’¤é”€ã€è°ƒåº¦ç­‰æ“ä½œã€‚å­˜å‚¨å™¨ç®¡ç†ï¼šç©ºé—´çš„åˆ†é…ã€æ’¤é”€ã€é€»è¾‘åœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€ç­‰ã€‚è®¾å¤‡ç®¡ç†ï¼šè¿›è¡Œè®¾å¤‡åˆ†é…ã€ç¼“å’ŒCPUå’ŒI/Oé€Ÿåº¦ä¸åŒ¹é…çŸ›ç›¾çš„ç¼“å†²ç®¡ç†ç­‰ã€‚è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸè¿›ç¨‹çš„åˆ›å»ºä¸ºæ–°è¿›ç¨‹ç”³è¯·å†…éƒ¨æ ‡è¯†ç¬¦ï¼ŒåŒæ—¶ä»ŽPCBé›†åˆä¸­ç´¢å–ä¸€ä¸ªç©ºç™½çš„PCBã€‚ä¸ºæ–°è¿›ç¨‹åˆ†é…å…¶è¿è¡Œæ‰€éœ€çš„èµ„æºã€‚è¿™äº›èµ„æºç›´æŽ¥æ¥è‡ªæ“ä½œç³»ç»Ÿæˆ–è€…çˆ¶è¿›ç¨‹ã€‚åˆå§‹åŒ–PCBã€‚å¦‚å¤„ç†æœºçŠ¶æ€ä¿¡æ¯ã€æ ‡è¯†ç¬¦å’Œè¿›ç¨‹ä¼˜å…ˆçº§ç­‰ã€‚è‹¥å°±ç»ªé˜Ÿåˆ—è¿˜èƒ½æŽ¥å—è¿›ç¨‹ï¼Œåˆ™æ’å…¥å°±ç»ªé˜Ÿåˆ—ã€‚ä¸èƒ½æŽ¥å—åˆ™æ‰§è¡Œç›¸åº”å¤„ç†æœºåˆ¶ã€‚è¿›ç¨‹çš„ç»ˆæ­¢ä»ŽPCBé›†åˆä¸­èŽ·å¾—æŸè¿›ç¨‹çš„PCBï¼Œå¹¶è¯»å‡ºè¯¥è¿›ç¨‹çš„çŠ¶æ€ã€‚è‹¥è¿›ç¨‹æ­£å¤„äºŽæ‰§è¡ŒçŠ¶æ€ï¼Œåº”ç«‹å³ç»ˆæ­¢è¯¥è¿›ç¨‹çš„æ‰§è¡Œã€‚è‹¥æ­¤è¿›ç¨‹æœ‰å­è¿›ç¨‹åˆ™ä¸€å¹¶ç»ˆæ­¢ï¼Œé˜²æ­¢å…¶æˆä¸ºä¸å¯æŽ§è¿›ç¨‹ã€‚å°†è¿›ç¨‹æ‹¥æœ‰çš„æ‰€æœ‰èµ„æºå½’è¿˜ç»™å…¶çˆ¶è¿›ç¨‹æˆ–æ“ä½œç³»ç»Ÿã€‚å°†è¢«ç»ˆæ­¢çš„è¿›ç¨‹ä»Žæ‰€åœ¨é˜Ÿåˆ—æˆ–é“¾è¡¨ï¼ˆæŒ‡PCBçš„ç»„ç»‡æ–¹å¼ï¼‰ä¸­ç§»å‡ºï¼Œç­‰å¾…å…¶ä»–ç¨‹åºæ”¶é›†ä¿¡æ¯ï¼Œé‡Šæ”¾ç©ºé—´ç­‰ã€‚ä¸‰ç§åŸºæœ¬çŠ¶æ€å°±ç»ªçŠ¶æ€ï¼šåˆ†é…åˆ°å‡ºå¤„ç†æœºä¹‹å¤–çš„å…¶ä»–æ‰€æœ‰å¿…è¦èµ„æºã€‚æ­¤æ—¶å¯è¿è¡Œï¼Œä½†å…¶ä»–è¿›ç¨‹æ­£åœ¨å ç”¨CPUã€‚æ‰§è¡ŒçŠ¶æ€ï¼šå°±ç»ªçŠ¶æ€çš„è¿›ç¨‹èŽ·å¾—CPUï¼Œæ­£åœ¨æ‰§è¡Œçš„çŠ¶æ€ã€‚é˜»å¡žçŠ¶æ€ï¼šè¿›ç¨‹å‘å‡ºçš„è¯·æ±‚æ²¡æœ‰åŠæ—¶å¾—åˆ°æ»¡è¶³è€Œæ— æ³•ç»§ç»­æ‰§è¡Œçš„çŠ¶æ€ï¼Œæ­¤æ—¶ä¼šå¼•èµ·è¿›ç¨‹è°ƒåº¦ï¼ŒOSæŠŠå¤„ç†æœºåˆ†é…ç»™å…¶ä»–å°±ç»ªè¿›ç¨‹ï¼ŒåŽŸè¿›ç¨‹æš‚åœã€‚æŒ‚èµ·è¿›ç¨‹æš‚åœæ‰§è¡Œæˆ–ä¸æŽ¥å—è°ƒåº¦çš„çŠ¶æ€ã€‚åŽŸå› æœ‰å¦‚ä¸‹å‡ ç‚¹ï¼šç”¨æˆ·çš„éœ€è¦ï¼šç”¨æˆ·æƒ³æš‚åœæ­£åœ¨çš„è¿›ç¨‹ï¼Œè§‚å¯Ÿå…¶çŠ¶æ€æˆ–ä¿®æ”¹ç¨‹åºç­‰ã€‚çˆ¶è¿›ç¨‹è¯·æ±‚ï¼šçˆ¶è¿›ç¨‹ä¸ºäº†å®ŒæˆæŸé¡¹ä»»åŠ¡ï¼Œåè°ƒå…¶å„å­è¿›ç¨‹é—´çš„æ´»åŠ¨ã€‚è´Ÿè·è°ƒèŠ‚çš„éœ€è¦ï¼šç³»ç»ŸåŽ‹åŠ›è¿‡å¤§æˆ–å®žæ—¶æ“ä½œç³»ç»Ÿä¸èƒ½å¾ˆå¥½çš„æ»¡è¶³å¯é æ€§æ—¶ä¼šæŒ‚èµ·ä¸€äº›è¿›ç¨‹ã€‚æ“ä½œç³»ç»Ÿçš„éœ€è¦ï¼šæ“ä½œç³»ç»ŸæŒ‚èµ·æŸäº›è¿›ç¨‹æ¥æ›´æ–¹ä¾¿çš„æ£€æŸ¥ç³»ç»Ÿèµ„æºã€‚æŒ‚èµ·å’Œé˜»å¡žä¸åŒåœ¨äºŽé˜»å¡žæ˜¯å®¢è§‚æ¡ä»¶ä¸èƒ½å¾—åˆ°æ»¡è¶³ï¼Œå³èµ„æºä¸è¶³å¼•èµ·æš‚åœã€‚æŒ‚èµ·æ˜¯ä¸»è§‚éœ€è¦å¼•èµ·æš‚åœã€‚è¿›ç¨‹åŒæ­¥è¿›ç¨‹åŒæ­¥çš„ä¸»è¦ä»»åŠ¡æ˜¯ä½¿å¹¶å‘æ‰§è¡Œçš„è¯¸è¿›ç¨‹ä¹‹é—´èƒ½æœ‰æ•ˆçš„å…±äº«èµ„æºå’Œç›¸äº’åˆä½œï¼Œä»Žè€Œä½¿ç¨‹åºçš„æ‰§è¡Œå…·æœ‰å¯å†çŽ°æ€§ã€‚åŒæ­¥ &amp; äº’æ–¥å¹¶å‘æ‰§è¡Œçš„è¯¸è¿›ç¨‹ä¹‹é—´æ—¢æœ‰ç‹¬ç«‹æ€§åˆæœ‰åˆ¶çº¦æ€§ã€‚ç‹¬ç«‹æ€§ï¼šå„è¿›ç¨‹éƒ½å¯ç‹¬ç«‹åœ°å‘å‰æŽ¨è¿›ï¼›åˆ¶çº¦æ€§ï¼šç”±äºŽèµ„æºå…±äº«å’Œè¿›ç¨‹åˆä½œå¼•èµ·çš„è¿›ç¨‹ä¹‹é—´çš„ç›¸äº’ä¾èµ–å’Œç›¸äº’åˆ¶çº¦çš„å…³ç³»ã€‚å¯å½’ç»“ä¸ºäº’æ–¥å’ŒåŒæ­¥ã€‚åŒæ­¥ï¼šä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶çš„å‘ç”Ÿæœ‰ç€æŸç§æ—¶åºä¸Šçš„å…³ç³»ã€‚æŒ‰ç…§è¿™ç§æ—¶åºå…³ç³»è¿›è¡Œèƒ½ä¿è¯å„ä»»åŠ¡å®‰å…¨çš„å®Œæˆã€‚äº’æ–¥ï¼šèµ„æºçš„ä½¿ç”¨è¦æŽ’å®ƒä½¿ç”¨ï¼Œé˜²æ­¢å†²çªï¼ˆä¸åŒæ—¶ä½¿ç”¨ï¼Œä½†æ— å…ˆåŽæ¬¡åºã€‚ä¸€ç§ç‰¹æ®ŠåŒæ­¥ï¼‰ã€‚ä¸´ç•Œèµ„æº &amp; ä¸´ç•ŒåŒºä¸´ç•Œèµ„æºï¼šéœ€è¦è¢«å„è¿›ç¨‹äº’æ–¥è®¿é—®çš„èµ„æºã€‚ä¸´ç•ŒåŒºï¼šå„è¿›ç¨‹ä¸­è®¿é—®ä¸´ç•Œèµ„æºçš„ä»£ç ã€‚è‹¥èƒ½ä¿è¯å„è¿›ç¨‹äº’æ–¥åœ°è¿›å…¥è‡ªå·±çš„ä¸´ç•ŒåŒºï¼Œä¾¿å¯ä»¥ä¿è¯äº’æ–¥åœ°è®¿é—®ä¸´ç•Œèµ„æºï¼Œè¿›è€Œä¿è¯è¿›ç¨‹åŒæ­¥ã€‚å¸¸ç”¨çš„æ–¹å¼æœ‰ç¡¬ä»¶åŒæ­¥æœºåˆ¶å’Œä¿¡å·é‡æœºåˆ¶ã€‚åŒæ­¥å‡†åˆ™ç©ºé—²è®©è¿›ï¼šå½“æ— è¿›ç¨‹å¤„äºŽä¸´ç•ŒåŒºæ—¶ï¼Œåº”å½“å…è®¸ä¸€ä¸ªè¿›ç¨‹è¿›å…¥è‡ªå·±çš„ä¸´ç•ŒåŒºã€‚å¿™åˆ™ç­‰å¾…ï¼šå½“æœ‰è¿›ç¨‹å¤„äºŽä¸´ç•ŒåŒºæ—¶å…¶ä»–è¯·æ±‚å°±å¦‚ä¸´ç•ŒåŒºçš„è¿›ç¨‹å¿…é¡»ç­‰å¾…ã€‚æœ‰é™ç­‰å¾…ï¼šå¯¹è¦æ±‚è®¿é—®ä¸´ç•Œèµ„æºçš„è¿›ç¨‹ï¼Œåº”ä¿è¯åœ¨æœ‰é™çš„æ—¶é—´å†…èƒ½è¿›å…¥è‡ªå·±çš„ä¸´ç•ŒåŒºã€‚è®©æƒç­‰å¾…ï¼šå½“è¿›ç¨‹ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºæ—¶ï¼Œåº”ç«‹å³é‡Šæ”¾å¤„ç†æœºé¿å…è¿›ç¨‹é™·å…¥â€œå¿™ç­‰â€çš„çŠ¶æ€ã€‚ç¡¬ä»¶åŒæ­¥æœºåˆ¶å…³ä¸­æ–­å½“è¿›ç¨‹åœ¨ä¸´ç•ŒåŒºæ‰§è¡ŒæœŸé—´ï¼Œè®¡ç®—æœºç³»ç»Ÿä¸å“åº”ä¸­æ–­ï¼Œå› æ­¤ä¸ä¼šå¼•å‘è°ƒåº¦ï¼Œä¸´ç•Œèµ„æºåªä¼šè¢«ä¸€ä¸ªè¿›ç¨‹å æ®ï¼Œè¿™æ ·å°±ä¸ä¼šå‘ç”Ÿè¿›ç¨‹åŒæ­¥é—®é¢˜ã€‚åˆ©ç”¨Test-and-SetæŒ‡ä»¤å®žçŽ°äº’æ–¥æŒ‡ä»¤çš„æè¿°å¦‚ä¸‹ï¼š123456boolean TS(boolean *lock)&#123; boolean old; old = *lock; *lock = true; return old;&#125;ä¸ºä¸´ç•Œèµ„æºè®¾ç½®ä¸€ä¸ªå¸ƒå°”å˜é‡lock = falseã€‚åœ¨è¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºä¹‹å‰åˆ©ç”¨TSæŒ‡ä»¤æµ‹è¯•ï¼Œå¦‚æžœå¾—åˆ°çš„å€¼ä¸ºfalseè¡¨ç¤ºèµ„æºæœªè¢«ä½¿ç”¨ï¼Œå¦‚æžœå¾—åˆ°çš„å€¼ä¸ºtrueï¼Œåˆ™ä¸€ç›´æµ‹è¯•åˆ°ç»“æžœä¸ºfalseã€‚ä½¿ç”¨TSæŒ‡ä»¤å®žçŽ°äº’æ–¥æè¿°å¦‚ä¸‹ï¼š1234567do&#123; ... while (TS(&amp;lock)); ... lock = false; ...&#125;while(true);åˆ©ç”¨SwapæŒ‡ä»¤å®žçŽ°äº’æ–¥æŒ‡ä»¤æè¿°å¦‚ä¸‹ï¼š123456void swap(boolean *a, boolean *b)&#123; boolean temp; temp = *a; *a = *b; *b = temp;&#125;ä¸ºæ¯ä¸ªä¸´ç•Œèµ„æºè®¾ç½®ä¸€ä¸ªå…¨å±€å˜é‡lock=falseã€‚æ¯ä¸ªè¿›ç¨‹è®¾ç½®ä¸€ä¸ªå±€éƒ¨å˜é‡keyã€‚å®žçŽ°äº’æ–¥çš„æè¿°å¦‚ä¸‹ï¼š12345678910do&#123; ... key = true; do&#123; swap(&amp;lock, &amp;key); &#125;while(key != false) critical section; lock = false; ...&#125;ç¼ºç‚¹å…³ä¸­æ–­ï¼šæ•ˆçŽ‡ä½Žä¸‹ä¸”ä¸é€‚ç”¨äºŽå¤šå¤„ç†æœºç³»ç»Ÿã€‚ä¸”å…¶ä»–è¿›è¡Œä¼šâ€å¿™ç­‰â€œï¼Œä¸ç¬¦åˆè®©æƒç­‰å¾…ã€‚TSæŒ‡ä»¤ &amp; SwapæŒ‡ä»¤ï¼šå…¶ä»–è¿›è¡Œä¼šâ€å¿™ç­‰â€œï¼Œä¸ç¬¦åˆè®©æƒç­‰å¾…ã€‚ä¿¡å·é‡æœºåˆ¶æ•´åž‹ä¿¡å·é‡æ•´åž‹ä¿¡å·é‡æ˜¯ä¸€ä¸ªç”¨äºŽæè¿°èµ„æºæ•°ç›®çš„æ•´åž‹é‡ï¼ˆSï¼‰ã€‚ä½†é™¤äº†åˆå§‹åŒ–ä»¥å¤–ï¼Œä»…èƒ½é€šè¿‡ä¸¤ä¸ªåŽŸå­æ“ä½œæ¥è®¿é—®ã€‚wait(S)ï¼šPæ“ä½œ1234wait(S)&#123; while(S &lt;= 0); S--;&#125;signal(S)ï¼šVæ“ä½œ123signal(S)&#123; S++;&#125;Pæ“ä½œç”¨äºŽåˆ†é…èµ„æºï¼ŒVæ“ä½œç”¨äºŽé‡Šæ”¾èµ„æºã€‚è®°å½•åž‹ä¿¡å·é‡æ•´åž‹ä¿¡å·é‡æœªéµå¾ªè®©æƒç­‰å¾…åŽŸåˆ™ã€‚åªè¦S &lt;= 0å°±ä¼šä¸æ–­çš„å¾ªçŽ¯ã€‚æ­¤æ—¶éœ€è¦å¢žåŠ ä¸€ä¸ªè¿›ç¨‹é“¾è¡¨æŒ‡é’ˆé“¾æŽ¥ç­‰å¾…è¿›ç¨‹ã€‚æ•°æ®ç»“æž„çš„æè¿°ï¼š1234typedef struct&#123; int value; //èµ„æºæ•° struct process_control_block *list; //é˜»å¡žé˜Ÿåˆ—&#125; semaphore;wait(S)ï¼š12345wait(semaphore *S)&#123; S-&gt;value--; if(S-&gt;value &lt; 0) block(S-&gt;list);&#125;signal(S)ï¼š12345signal(semaphore *S)&#123; S-&gt;value++; if(S-&gt;value &lt;= 0) wakeup(S-&gt;list);&#125;å½“è¿›ç¨‹è¢«é˜»å¡žæ—¶ä¼šè¢«åŠ å…¥é˜»å¡žå¯¹åˆ—ï¼Œèµ„æºè¢«æ»¡è¶³æ—¶å”¤é†’é˜»å¡žå¯¹åˆ—ä¸­çš„æŸä¸ªèµ„æºã€‚ANDåž‹ä¿¡å·é‡è®°å½•åž‹ä¿¡å·é‡åªèƒ½è§£å†³å…±äº«ä¸€ä¸ªä¸´ç•Œèµ„æºçš„æƒ…å†µï¼Œè‹¥æœ‰å¤šä¸ªä¸´ç•Œèµ„æºåˆ™éœ€è¦ä½¿ç”¨å¤šä¸ªè®°å½•åž‹ä¿¡å·é‡ã€‚ä½†æ˜¯ä¿¡å·é‡è¶Šå¤šï¼Œç³»ç»Ÿæ­»é”çš„æ¦‚çŽ‡è¶Šå¤§ï¼Œä¸”å¤§é‡çš„åŒæ­¥æ“ä½œä¼šç»™ç³»ç»Ÿçš„ç®¡ç†å¸¦æ¥éº»çƒ¦ã€‚ANDåž‹ä¿¡å·é‡çš„æ€æƒ³æ˜¯ä¸€æ¬¡æ€§åˆ†é…è¿›ç¨‹æ‰€éœ€çš„å…¨éƒ¨èµ„æºï¼Œå¦‚æžœæœ‰ä¸€ä¸ªæ²¡æœ‰åˆ†é…æˆåŠŸï¼Œåˆ™å…¶ä»–æ‰€æœ‰å¯èƒ½ä¸ºä¹‹åˆ†é…çš„èµ„æºäº¦ä¸åˆ†é…ã€‚Swait(S)ï¼š123456789101112Swait(S1, S2, ..., Sn)&#123; while(true)&#123; if(Si &gt;= 1 &amp;&amp; ... &amp;&amp; Sn &gt;= 1)&#123; for(i = 1; i &lt;= n; i++) Si--; break; &#125;else&#123; æŠŠè¿›ç¨‹é˜»å¡žåœ¨è¯·æ±‚æœªèƒ½å¾—åˆ°æ»¡è¶³çš„èµ„æºSiæ‰€å¯¹åº”çš„é˜»å¡žé˜Ÿåˆ—é‡Œï¼ŒåŒæ—¶æŠŠè¿›ç¨‹çš„ç¨‹åºè®¡æ•°å™¨ï¼ˆæ”¾ ç½®CPUä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤åœ°å€ï¼‰æ”¾ç½®åœ¨æœ¬æ“ä½œçš„å¼€å§‹å¤„ï¼ˆä¸‹ä¸€æ¬¡å†è°ƒåº¦åˆ°æ­¤è¿›ç¨‹ï¼Œéœ€è¦å†æ¬¡ æ£€æŸ¥æ‰€æœ‰çš„èµ„æºï¼‰ã€‚ &#125; &#125;&#125;Ssignal(S)ï¼š12345678Ssignal(S1, S2, ..., Sn)&#123; while(true)&#123; for(i = 1; i &lt;= n; i++)&#123; Si++; å”¤é†’ç­‰å¾…Sièµ„æºçš„é˜»å¡žé˜Ÿåˆ—ã€‚ &#125; &#125;&#125;ä¿¡å·é‡é›†ä¹‹å‰çš„ä¿¡å·é‡éƒ½æ˜¯ä¸€æ¬¡ç”³è¯·æˆ–é‡Šæ”¾æŸèµ„æºä¸€ä»½ï¼Œè‹¥ç”³è¯·æˆ–é‡Šæ”¾Nä»½èµ„æºéœ€è¦è¿›è¡ŒNæ¬¡æ“ä½œï¼Œæ•ˆçŽ‡æ¯”è¾ƒä½Žä¸‹ã€‚æ­¤å¤–ï¼Œå½“èµ„æºæ•°é‡ä½ŽäºŽæŸä¸€ä¸‹é™å€¼æ—¶ï¼Œä¸ºäº†ç³»ç»Ÿå®‰å…¨ï¼Œå°±ä¸èƒ½å†äºˆä»¥åˆ†é…ã€‚æ‰€ä»¥äº§ç”Ÿä¿¡å·é‡é›†è§£å†³ä»¥ä¸Šé—®é¢˜ã€‚æè¿°å¦‚ä¸‹ï¼šSwait(S1, t1, d1, ..., Sn, tn, dn)ï¼šå½“Si &gt;= tiæ—¶Si = Si - diã€‚ï¼ˆdi &gt;= tiï¼‰Ssignal(S1, d1, ..., Sn, dn)ï¼šSi = Si + diã€‚ç‰¹æ®Šçš„ä¿¡å·é‡é›†ï¼šSwait(S1, d, d)ï¼šæ¯æ¬¡ç”³è¯·dä»½èµ„æºï¼Œèµ„æºå°‘äºŽdæ—¶ä¸åˆ†é…ã€‚Swait(S, 1, 1)ï¼šé€€åŒ–æˆä¸€èˆ¬çš„è®°å½•åž‹ä¿¡å·é‡ã€‚Swait(S, 1, 0)ï¼šS &gt;= 1æ—¶è¿è¡Œå¤šä¸ªè¿›è¡Œè¿›å…¥ç‰¹å®šåŒºã€‚S &lt;= 0æ—¶ç¦æ­¢è¿›ç¨‹è¿›å…¥ç‰¹å®šåŒºã€‚ç®¡ç¨‹ç›´æŽ¥ä½¿ç”¨ä¿¡å·é‡æœºåˆ¶ä¼šæŠŠå¤§é‡çš„åŒæ­¥æ“ä½œåˆ†æ•£åœ¨å„ä¸ªè¿›ç¨‹ä¸­ï¼Œè¿™ä¼šå¢žåŠ ç³»ç»Ÿæ­»é”çš„æ¦‚çŽ‡å¹¶ä¸”ä¸æ–¹ä¾¿ç³»ç»Ÿçš„ç®¡ç†ã€‚è€Œç®¡ç¨‹å°±æ˜¯æŠŠä»£è¡¨å…±äº«èµ„æºçš„æ•°æ®ç»“æž„å’Œå¯¹å…±äº«æ•°æ®ç»“æž„çš„æ“ä½œï¼ˆåŒ…æ‹¬åŒæ­¥æœºåˆ¶ï¼‰å°è£…èµ·æ¥ä»¥æ›´å¥½çš„ä¸ºè¿›ç¨‹ä½¿ç”¨ã€‚è¿™æ—¶æ‰€æœ‰è¯·æ±‚è®¿é—®å…±äº«èµ„æºçš„è¿›ç¨‹éƒ½åªèƒ½é€šè¿‡ç®¡ç¨‹é—´æŽ¥è®¿é—®ï¼ŒåŒæ—¶ç®¡ç¨‹æ¯æ¬¡åªå…è®¸ä¸€ä¸ªè¿›ç¨‹è¿›å…¥ç®¡ç¨‹ã€‚æ­¤æ—¶çš„ç®¡ç¨‹å¯ä»¥ä½¿ç”¨é¢ç›¸å¯¹è±¡çš„æ“ä½œæ¥å®Œæˆæ•´åž‹ä¿¡å·é‡çš„åŠŸèƒ½ã€‚ä½†æ˜¯æ­¤æ—¶æ— æ³•è§£å†³â€œè®©æƒç­‰å¾…â€çš„é—®é¢˜ï¼Œæ‰€ä»¥å†æŒ‰ç…§é¢ç›¸å¯¹è±¡çš„æ€æƒ³å°†blockå’Œwakeupæ“ä½œå°è£…èµ·æ¥æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå³æž„æˆæ¡ä»¶å˜é‡ã€‚æ¡ä»¶å˜é‡çš„æ“ä½œå¦‚ä¸‹ï¼šcondition.wait()ï¼šä½¿è¿›ç¨‹åœ¨å› æŸæ¡ä»¶ä¸èƒ½æ»¡è¶³æ—¶é˜»å¡žåœ¨å…¶æ‰€å¯¹åº”çš„æ¡ä»¶å˜é‡ä¸Šã€‚condition.signal()ï¼šå”¤é†’å› æŸæ¡ä»¶ä¸èƒ½æ»¡è¶³è€Œé˜»å¡žçš„è¿›ç¨‹ã€‚å¯ä»¥å¾ˆå®¹æ˜“çœ‹å‡ºæ¥ï¼Œè®¾ç½®ä¸åŒçš„æ¡ä»¶å˜é‡èƒ½ä½¿ç”±ä¸åŒåŽŸå› ç­‰å¾…çš„è¿›ç¨‹é˜»å¡žåœ¨ä¸åŒçš„é˜Ÿåˆ—ä¸­ã€‚ä½¿ç”¨æ—¶æŠŠsignal()æ“ä½œæ”¾åœ¨å‡½æ•°/è¿‡ç¨‹çš„æœ€åŽï¼Œè¿™æ ·ä¿è¯åœ¨å”¤é†’å…¶ä»–è¿›ç¨‹åŽæœ¬è¿›ç¨‹èƒ½ç›´æŽ¥é€€å‡ºè€Œä¸å†äº§ç”Ÿå†²çªã€‚ç®¡ç¨‹çš„æè¿°å¦‚ä¸‹ï¼š123456789101112131415161718/* 1ã€å±€éƒ¨æ•°æ®å’Œæ¡ä»¶å˜é‡ç»„æˆç®¡ç¨‹å†…çš„æ•°æ®ç»“æž„ã€‚ 2ã€è¿‡ç¨‹/å‡½æ•°1~è¿‡ç¨‹/å‡½æ•°kç»„æˆç®¡ç¨‹å†…çš„ä¸€ç»„è¿‡ç¨‹å¯¹ç®¡ç¨‹å†…çš„æ•°æ®ç»“æž„è¿›è¡Œæ“ä½œã€‚ 3ã€åˆå§‹åŒ–ä»£ç ï¼šå¯¹ç®¡ç¨‹å†…çš„æ•°æ®ç»“æž„è¿›è¡Œåˆå§‹åŒ–ã€‚*/Monitor monitor_name&#123; share variable declartions; //å…±äº«å˜é‡è¯´æ˜Ž condition declarations; //æ¡ä»¶å˜é‡è¯´æ˜Ž &#123; //ç®¡ç¨‹ä¸»ä½“ initialization code; //åˆå§‹åŒ–ä»£ç  ... &#125; public: //èƒ½è¢«è¿›ç¨‹è°ƒç”¨çš„è¿‡ç¨‹ void P1(...)&#123;...&#125; void P2(...)&#123;...&#125; ... void Pn(...)&#123;...&#125;&#125;ä¿¡å·é‡çš„åº”ç”¨äº’æ–¥è®¿é—®èµ„æºè®¾æŸå…±äº«èµ„æºçš„ä¿¡å·é‡æ˜¯mutexï¼ŒPAå’ŒPBè¿›ç¨‹å¹¶å‘æ—¶éœ€äº’æ–¥è®¿é—®ã€‚12345678910111213141516171819semaphore mutex = 1;PA()&#123; while(1)&#123; ... wait(mutex); ... signal(mutex); ... &#125;&#125;PB()&#123; while(1)&#123; ... wait(mutex); ... signal(mutex); ... &#125;&#125;åˆ©ç”¨ä¿¡å·é‡å®žçŽ°å‰è¶‹å…³ç³»123456789101112P1ï¼ˆï¼‰&#123;...V(f1);V(f1);V(f1);&#125;P2ï¼ˆï¼‰&#123;P(f1)ï¼›... V(f2);&#125;P3ï¼ˆï¼‰&#123;P(f1)ï¼›... V(f3);&#125;P4ï¼ˆï¼‰&#123;P(f1)ï¼›... V(f4);&#125;P5ï¼ˆï¼‰&#123;P(f2)ï¼›... V(f5);&#125;P6ï¼ˆï¼‰&#123;P(f3);P(f4);P(f5);...;&#125;main()&#123; semaphore f1=f2=f3=f4=f5=0ï¼› Cobegin P1(); P2();P3(); P4();P5(); P6(); Coend&#125;åœ¨å¹¶å‘æ—¶ï¼Œå¦‚æžœP1çš„åŠŸèƒ½ä»£ç æœªæ‰§è¡Œå®Œï¼Œf1ä¸º0ï¼Œæ¯æ¬¡å¯¹f1è¿›è¡ŒVæ“ä½œèƒ½ä½¿P2ã€P3ã€P4è¿è¡Œä¸€ä¸ªã€‚å…¶ä»–äº¦ç„¶ã€‚ç”Ÿäº§è€…â€”æ¶ˆè´¹è€…é—®é¢˜é—®é¢˜æè¿°ï¼šå¤šä¸ªç”Ÿäº§è€…è¿›ç¨‹ç”Ÿäº§äº§å“ä»¥ä¾›å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ã€‚é€šè¿‡ç”±nä¸ªçŽ¯å½¢ç¼“å†²åŒºæž„æˆçš„ç¼“å†²æ± ï¼ˆå¾ªçŽ¯é˜Ÿåˆ—ï¼‰ï¼ŒæŠŠå¤šä¸ªç”Ÿäº§è€…å’Œå¤šä¸ªæ¶ˆè´¹è€…è”ç³»èµ·æ¥ã€‚ä¸å…è®¸æ¶ˆè´¹è€…è¿›ç¨‹åˆ°ä¸€ä¸ªç©ºç¼“å†²åŒºåŽ»å–äº§å“ï¼Œä¹Ÿä¸å…è®¸ç”Ÿäº§è€…è¿›ç¨‹å‘ä¸€ä¸ªå·²è£…æ»¡äº§å“ä¸”å°šæœªå–èµ°çš„ç¼“å†²åŒºä¸­æŠ•æ”¾äº§å“ã€‚åˆ†æžï¼šä»»ä½•æ—¶åˆ»ï¼Œåªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨ç¼“å†²åŒºä¸­æ“ä½œã€‚å¯¹äºŽâ€œç”Ÿäº§è€…â€è€Œè¨€ï¼Œç¼“å†²åŒºæ»¡åˆ™åº”ç­‰å¾…ã€‚å¯¹äºŽâ€œæ¶ˆè´¹è€…â€è€Œè¨€ï¼Œç¼“å†²åŒºç©ºåˆ™åº”ç­‰å¾…ã€‚åˆ©ç”¨è®°å½•åž‹ä¿¡å·é‡è§£å†³é—®é¢˜12345678910111213141516171819202122232425262728293031int in = 0, out = 0;//inæŒ‡å‘æ­¤æ¬¡ç”Ÿäº§çš„äº§å“åº”è¯¥æ”¾ç½®çš„ä½ç½®ã€‚outæŒ‡å‘æ­¤æ¬¡æ¶ˆè´¹çš„äº§å“æ‰€åœ¨çš„ä½ç½®ã€‚item buffer[n];//ç¼“å­˜åŒºå¤§å°ä¸ºnï¼Œåœ°å€ä¸º[0, n-1]ã€‚semaphore mutex = 1, empty = n, full = 0; //mutexç”¨äºŽäº’æ–¥è®¿é—®ç¼“å­˜åŒºvoid producer()&#123; do&#123; produce an item nextproducer; ... wait(empty); //æ¶ˆè€—ä¸€ä¸ªemptyï¼Œå½“empty&lt;=0æ—¶ç­‰å¾… wait(mutex); buffer[in] = nextproducer; in = (in+1) % n; signal(mutex); signal(full); //å¢žåŠ ä¸€ä¸ªfull &#125;while(true);&#125;void consumer()&#123; do&#123; wait(full); //æ¶ˆè€—ä¸€ä¸ªfullï¼Œå½“full&lt;=0æ—¶ç­‰å¾… wait(mutex); nextconsumer = buffer[out]; out = (out+1) % n; signal(mutex); signal(empty); //å¢žåŠ ä¸€ä¸ªempty ... &#125;while(true);&#125;void main()&#123; ConcurrentBegin produce();consumer(); ConcurrentEnd;&#125;äº’æ–¥ä¿¡å·é‡ &amp; èµ„æºä¿¡å·é‡äº’æ–¥ä½¿ç”¨çš„èµ„æºè®¾ç½®ä¸€ä¸ªäº’æ–¥ä¿¡å·é‡ï¼Œèµ„æºæ•°ä¸º1ã€‚èµ„æºä¿¡å·é‡çš„èµ„æºæ•°å’Œèµ„æºçš„æ„ä¹‰æœ‰å…³ã€‚èµ„æºä¿¡å·é‡çš„èµ„æºä¸º1æ—¶é€€åŒ–æˆäº’æ–¥ä¿¡å·é‡ã€‚åœ¨ä½¿ç”¨æ—¶äº’æ–¥ä¿¡å·é‡çš„Pæ“ä½œéœ€è¦ç´§é‚»å…¶å¯¹åº”å…±äº«èµ„æºçš„ä¸´ç•ŒåŒºä½¿ç”¨ï¼Œå¦åˆ™å¯èƒ½é€ æˆåŒæ­¥é—®é¢˜ã€‚æ¯”å¦‚äº’æ¢ä¸Šé¢ä»£ç çš„ç¬¬8è¡Œå’Œç¬¬9è¡Œä¹‹åŽï¼Œè‹¥ç”Ÿäº§è€…è¿›ç¨‹å’Œæ¶ˆè´¹è€…è¿›ç¨‹éƒ½åªæœ‰ä¸€ä¸ªï¼Œä¸”ç”Ÿäº§è€…é€šè¿‡äº†P(mutex)ï¼Œé˜»å¡žåœ¨P(empty)ï¼Œæ¶ˆè´¹è€…é€šè¿‡äº†P(full)ï¼Œé˜»å¡žåœ¨P(mutex)ï¼Œæ­¤æ—¶ç”Ÿäº§è€…ç­‰å¾…æ¶ˆè´¹è€…çš„V(empty)ï¼Œæ¶ˆè´¹è€…ç­‰å¾…ç”Ÿäº§è€…çš„V(mutex)ï¼Œå‘ç”Ÿæ­»é”ã€‚è€ŒVæ“ä½œä¸éœ€è¦æ³¨æ„é¡ºåºã€‚åˆ©ç”¨ANDåž‹ä¿¡å·é‡è§£å†³é—®é¢˜123456789101112131415161718192021222324252627int in = 0, out = 0;//inæŒ‡å‘æ­¤æ¬¡ç”Ÿäº§çš„äº§å“åº”è¯¥æ”¾ç½®çš„ä½ç½®ã€‚outæŒ‡å‘æ­¤æ¬¡æ¶ˆè´¹çš„äº§å“æ‰€åœ¨çš„ä½ç½®ã€‚item buffer[n];//ç¼“å­˜åŒºå¤§å°ä¸ºnï¼Œåœ°å€ä¸º[0, n-1]ã€‚semaphore mutex = 1, empty = n, full = 0; //mutexç”¨äºŽäº’æ–¥è®¿é—®ç¼“å­˜åŒºvoid producer()&#123; do&#123; produce an item nextproducer; ... Swait(empty, mutex); //æ¶ˆè€—ä¸€ä¸ªemptyï¼Œå½“empty&lt;=0æ—¶ç­‰å¾… buffer[in] = nextproducer; in = (in+1) % n; signal(empty, mutex); //å¢žåŠ ä¸€ä¸ªfull &#125;while(true);&#125;void consumer()&#123; do&#123; wait(full, mutex); //æ¶ˆè€—ä¸€ä¸ªfullï¼Œå½“full&lt;=0æ—¶ç­‰å¾… nextconsumer = buffer[out]; out = (out+1) % n; signal(full, mutex); //å¢žåŠ ä¸€ä¸ªempty ... &#125;while(true);&#125;void main()&#123; ConcurrentBegin produce();consumer(); ConcurrentEnd;&#125;åˆ©ç”¨ç®¡ç¨‹è§£å†³é—®é¢˜12345678910111213141516171819202122232425262728293031323334353637383940414243Monitor monitor&#123; item buffer[n]; int in = 0, out = 0, count = 0; condition notfull, notempty; public: void static put(item x)&#123; if(count &gt;= n) cwait(notfull); //é˜»å¡žåœ¨é˜Ÿåˆ—æ»¡çš„æ¡ä»¶ä¸‹ buffer[in] = x; in = (in+1) % n; count++; csignal(notempty); &#125; void static get(item &amp;x)&#123; if(count &lt;= 0) cwait(notempty); //é˜»å¡žåœ¨é˜Ÿåˆ—ç©ºçš„æ¡ä»¶ä¸‹ x = buffer[out]; out = (out+1) % n; count--; csignal(notfull); &#125;&#125;void producer()&#123; item x; while(true)&#123; ... produce an item in nextproducer; monitor.put(x); &#125;&#125;void consumer()&#123; item x; while(true)&#123; monitor.get(x); consume the item in nextconsumer; ... &#125;&#125;void main()&#123; ConcurrentBegin produce();consumer(); ConcurrentEnd;&#125;å“²å­¦å®¶è¿›é¤é—®é¢˜é—®é¢˜æè¿°ï¼šäº”ä¸ªå“²å­¦å®¶ååœ¨åœ†æ¡Œå‰ï¼Œæ¯äººä¸€ä»½é¥­ï¼Œæ¯ä¸ªå“²å­¦å®¶ä¸¤ä¾§å„æœ‰ä¸€æ”¯ç­·å­,åªæœ‰æ‹¿åˆ°å·¦å³ä¸¤åªç­·å­æ‰èƒ½è¿›é¤ï¼Œå“²å­¦å®¶å¤„äºŽåƒé¥­å’Œæ€è€ƒä¸¤ç§çŠ¶æ€ã€‚åˆ†æžåŒä¸€æ—¶åˆ»ä¸€åªç­·å­åªèƒ½æœ‰ä¸€ä¸ªå“²å­¦å®¶æ‹¿èµ·ã€‚åªæœ‰èŽ·å¾—ä¸¤ä¸ªç­·å­åŽæ‰èƒ½è¿›é¤ã€‚å¦‚æžœæ¯ä¸ªå“²å­¦å®¶éƒ½æ‹¿èµ·ä¸€åªç­·å­ï¼Œéƒ½é¥¿æ­»ã€‚å¹¶è¡Œç¨‹åº¦ï¼šäº”åªç­·å­å…è®¸ä¸¤äººåŒæ—¶è¿›é¤ã€‚åˆ©ç”¨ANDåž‹ä¿¡å·é‡è§£å†³é—®é¢˜æ¯æ¬¡å¿…é¡»æ‹¿åˆ°ä¸¤åªç­·å­æ‰èƒ½æ‹¿èµ·ï¼Œå¦åˆ™ä¸æ‹¿èµ·ç­·å­ã€‚12345678semaphore chopstick[5] = &#123;1, 1, 1, 1, 1&#125;;do&#123; ... Swait(chopstick[i], chopstick[(i+1) % 5]); ... Ssignal(chopstick[i], chopstick[(i+1) % 5]); ...&#125;è¯»è€…-å†™è€…é—®é¢˜é—®é¢˜æè¿°ï¼šå†™è€…å‘å…±äº«æ•°æ®åŒºæ”¾æ•°æ®ï¼Œè¯»è€…ä»Žå…±äº«æ•°æ®åŒºè¯»æ•°æ®ã€‚å¤šä¸ªè¯»è€…å¯åŒæ—¶è¯»å–æ•°æ®ï¼Œå¤šä¸ªå†™è€…ä¸èƒ½åŒæ—¶å†™æ•°æ®ã€‚åˆ†æžï¼šè¯»è€…è¿›å…¥å…±äº«æ•°æ®åŒºï¼Œå†™è€…å¿…é¡»ç­‰å¾…ã€‚è¯»è€…è¿›å…¥å…±äº«æ•°æ®åŒºï¼Œè¯»è€…å¯ä»¥è¿›å…¥ã€‚å†™è€…è¿›å…¥å…±äº«æ•°æ®åŒºï¼Œè¯»è€…å¿…é¡»ç­‰å¾…ã€‚åˆ©ç”¨è®°å½•åž‹ä¿¡å·é‡è§£å†³é—®é¢˜1234567891011121314151617181920212223242526272829semaphore readmutex = 1, writemutex = 1;int readcount = 0;void reader()&#123; do&#123; wait(readmutex); if(readcount == 0) wait(writemutex); readcount++; signal(readmutex); ... //read opreation wait(readmutex); readcount--; if(readcount == 0) signal(writemutex); signal(readmutex); &#125;while(true);&#125;void writer()&#123; do&#123; wait(writemutex); //å½“å†™è€…è¿›å…¥å…±äº«æ•°æ®åŒºï¼Œreaderä¼šé˜»å¡žåœ¨ ... //write operation signal(writemutex); &#125;while(true);&#125;void main()&#123; ConcurrentBegin reader();writer(); ConcurrentEnd;&#125;ä»£ç åˆ†æžï¼šæœ€å¼€å§‹å¹¶å‘çš„æ—¶å€™ï¼šå‡å¦‚è¯»è€…å…ˆæŠ¢åˆ°èµ„æºï¼Œreadcount == 0ï¼ŒP(writemutex)ï¼Œwriter()ä¼šé˜»å¡žåœ¨ç¬¬20è¡Œï¼Œä½†å…¶ä»–reader()ä»å¯ä»¥è¿è¡Œï¼Œåªæ˜¯ä¸ä¼šå†P(writemutex)ã€‚åŒæ—¶æ¯ä¸ªreader()éƒ½readcount++ï¼Œç›´åˆ°readcount == 0æ—¶V(writemutex)ï¼Œç„¶åŽwriter()æ‰æœ‰å¯èƒ½èƒ½è¿›å…¥ã€‚æ­¤æ—¶è¯»è€…è¿›ç¨‹å’Œå†™è€…è¿›ç¨‹è¿›å…¥å…±äº«æ•°æ®åŒºçš„ä¸ªæ•°éƒ½ä¸º0ï¼Œå³åˆæ˜¯é‡æ–°å¼€å§‹ã€‚å‡å¦‚å†™è€…å…ˆæŠ¢åˆ°èµ„æºï¼ŒP(writemutex)ï¼Œæ­¤æ—¶readcount == 0ï¼Œæ‰€æœ‰reader()é˜»å¡žåœ¨ç¬¬7è¡Œã€‚æ­¤æ—¶è¯»è€…è¿›ç¨‹å’Œå†™è€…è¿›ç¨‹è¿›å…¥å…±äº«æ•°æ®åŒºçš„ä¸ªæ•°éƒ½ä¸º0ï¼Œå³åˆæ˜¯é‡æ–°å¼€å§‹ã€‚ç»¼ä¸Šï¼Œå®Œæˆäº†è¦æ±‚ã€‚è¯»è€…-å†™è€…é—®é¢˜æ‹“å±•é—®é¢˜æè¿°ï¼šæ‹“å±•å°±æ˜¯åˆå¢žåŠ ä¸€ä¸ªæ¡ä»¶ï¼Œæœ€å¤šåªå…è®¸RNä¸ªè¯»è€…åŒæ—¶è¯»ã€‚åˆ©ç”¨ä¿¡å·é‡é›†è§£å†³é—®é¢˜123456789101112131415161718192021semaphore L = RN, mx = 1; //Lç”¨æ¥æŽ§åˆ¶è®¿é—®æ•°ï¼ŒmxæŽ§åˆ¶å†™è€…è®¿é—®æ—¶æ‰€æœ‰è¯»è€…é˜»å¡žvoid reader()&#123; do&#123; Swait(L, 1, 1); //ç¬¬RN+1ä¸ªè¯»è€…è¿›å…¥æ—¶ä¼šé˜»å¡ž Swait(mx, 1, 0);//mx &gt;= 1æ—¶æ‰å¯ä»¥è¿›å…¥ ... //read operation Ssignal(L, 1); &#125;while(true);&#125;void writer()&#123; do&#123; Swait(mx, 1, 1; L, RN, 0); //mx &gt;= 1 &amp;&amp; L &gt;= RNæ—¶è¿›å…¥ ... //write operation Ssignal(mx, 1); &#125;while(true);&#125;void main()&#123; ConcurrentBegin reader();writer(); ConcurrentEnd;&#125;ä»£ç åˆ†æžï¼šæœ€å¼€å§‹å¹¶å‘çš„æ—¶å€™ï¼šå‡å¦‚è¯»è€…å…ˆæŠ¢åˆ°èµ„æºï¼ŒL = L - 1ï¼Œå†™è€…é˜»å¡žåœ¨ç¬¬12è¡Œï¼Œä½†å…¶ä»–reader()ä»å¯ä»¥è¿è¡Œï¼Œç›´è‡³æ²¡æœ‰è¯»è€…è¿›ç¨‹åœ¨è®¿é—®å…±äº«æ•°æ®åŒºã€‚å½“æ‰€æœ‰çš„è¯»è€…è¿›ç¨‹éƒ½é€€å‡ºæ—¶ï¼Œå…±äº«æ•°æ®åŒºä¸­åœç•™çš„ä¸ªè¿›ç¨‹æ•°éƒ½ä¸º0ï¼Œå³é‡æ–°å¼€å§‹ã€‚å‡å¦‚å†™è€…å…ˆæŠ¢åˆ°èµ„æºï¼Œmx = mx - 1ï¼Œæ‰€æœ‰è¯»è€…è¿›ç¨‹å’Œå…¶ä»–å†™è€…è¿›ç¨‹éƒ½è¦è¢«é˜»å¡žï¼Œå†™è€…è¿›ç¨‹é€€å‡ºæ—¶ï¼Œå…±äº«æ•°æ®åŒºä¸­åœç•™çš„ä¸ªè¿›ç¨‹æ•°éƒ½ä¸º0ï¼Œå³é‡æ–°å¼€å§‹ã€‚ç†å‘å¸ˆé—®é¢˜é—®é¢˜æè¿°ï¼šä¸€æŠŠç†å‘æ¤…ï¼ŒNæŠŠç­‰å¾…åº§ä½ã€‚ç†å‘å¸ˆä¸ºç†å‘æ¤…ä¸Šçš„é¡¾å®¢ç†å‘ï¼Œæ²¡æœ‰é¡¾å®¢å°±åœ¨ç†å‘æ¤…ä¸Šç¡è§‰ï¼Œæœ‰ä¸€ä¸ªé¡¾å®¢æ—¶éœ€è¦å«é†’ç†å‘å¸ˆï¼Œå¤šä¸ªé¡¾å®¢æ—¶éœ€è¦åœ¨ç­‰å¾…åº§ä½ä¸Šç­‰å€™ã€‚åˆ†æžï¼šç†å‘æ¤…ä¸Šåªèƒ½æœ‰ä¸€ä½é¡¾å®¢ã€‚ç­‰å¾…åº§ä½æ˜¯æœ‰é™ç¼“å†²åŒºã€‚åªè¦å­˜åœ¨é¡¾å®¢ï¼Œç†å‘å¸ˆå°±ä¸èƒ½ç¡è§‰ã€‚åˆ©ç”¨è®°å½•åž‹ä¿¡å·é‡è§£å†³é—®é¢˜ï¼š123456789101112131415161718192021222324semaphore customer = 0, barber = 0, mutex = 1; //barberä½¿ç†å‘å¸ˆåªèƒ½ä¸ºä¸€ä¸ªé¡¾å®¢æœåŠ¡int waiting = 0;void barber()&#123; while(true)&#123; wait(customer); //æ²¡æœ‰é¡¾å®¢çš„æ—¶å€™ç†å‘å¸ˆç¡è§‰ wait(mutex); waiting â€“= 1; //ç­‰å¾…çš„äººå°‘ä¸€ä¸ª signal(mutex); signal(barber); ...//èŽ·å¾—è¢«æ¿€æ´»è¿›ç¨‹çš„ä¿¡æ¯å¹¶ç»™ç›¸åº”çš„é¡¾å®¢å‰ªå‘ &#125;&#125;void customer()&#123; wait(mutex); if(waiting &lt; CHAIRS)&#123; //é¡¾å®¢åˆ°æ¥çš„æ—¶å€™ï¼Œè¿˜æœ‰åº§ä½å°±è¿›åŽ»ç­‰å¾… waiting += 1; signal(mutex); signal(customer); wait(barber); ... //å°†è¢«æ¿€æ´»è¿›ç¨‹çš„ä¿¡æ¯å‘é€ç»™barber() &#125;else&#123; signal(mutex); &#125;&#125;ä»£ç åˆ†æžåœ¨æœ€å¼€å§‹å¹¶å‘çš„æ—¶å€™barber()ä¼šç­‰å¾…åˆ°æœ‰é¡¾å®¢æ—¶æ‰é†’æ¥ã€‚é¡¾å®¢ä¸€æ¥å°±éœ€è¦è®¿é—®waitingï¼Œæ‰€ä»¥èŽ·å¾—mutexã€‚å¦‚æžœä½ç½®ä¸å¤Ÿå°±ç«‹å³é‡Šæ”¾mutexã€‚å¦‚æžœä½ç½®å¤Ÿï¼Œå°±è®©ç­‰å¾…çš„äººåŠ 1ï¼Œå†é‡Šæ”¾mutexã€‚ç„¶åŽé¡¾å®¢äººæ•°customer += 1æ¥æ¿€æ´»ç†å‘å¸ˆè¿›ç¨‹ã€‚ç†å‘å¸ˆè¿›ç¨‹æ¿€æ´»åŽä¼šV(barber)ï¼Œç„¶åŽç­‰å¾…ç€çš„customer()è¿›ç¨‹äº‰å¤ºèµ„æºï¼Œäº‰å¤ºåˆ°P(barber)çš„è¿›ç¨‹å°†è¢«æ¿€æ´»è¿›ç¨‹çš„ä¿¡æ¯å‘é€ç»™barber()ï¼Œbarber()èŽ·å¾—è¢«æ¿€æ´»è¿›ç¨‹çš„ä¿¡æ¯å¹¶ç»™ç›¸åº”çš„é¡¾å®¢å‰ªå‘ã€‚è¿›ç¨‹é€šä¿¡æ¦‚å¿µè¿›ç¨‹ä¹‹é—´åˆä½œå®Œæˆå·¥ä½œä¸ä»…ä»…éœ€è¦æœ‰æ—¶åºå…³ç³»ï¼Œè¿˜éœ€è¦è¿›ç¨‹ä¿¡æ¯äº¤äº’ï¼Œæ¯”å¦‚åˆšæ‰çš„ç†å‘å¸ˆé—®é¢˜ä¸­å°±è®¾è®¡åˆ°äº†ä¿¡æ¯äº¤äº’ã€‚ä»Žæ¦‚å¿µä¸Šè¯´è¿›ç¨‹é€šä¿¡æ˜¯æŒ‡è¿›ç¨‹ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢ï¼Œæ‰€ä»¥ä¿¡å·é‡æœºåˆ¶æœ¬èº«å°±æ¶‰åŠåˆ°äº†ä¿¡æ¯äº¤æ¢ï¼Œä¸è¿‡æˆ‘ä»¬æŠŠè¿™ç§ä¿¡æ¯äº¤æ¢å«åšä½Žçº§è¿›ç¨‹é€šä¿¡ï¼Œå› ä¸ºå…¶æ•ˆçŽ‡ä½Žä¸”éœ€è¦ç”¨æˆ·å¤§é‡çš„å¹²é¢„ã€‚çœŸæ­£çš„è¿›ç¨‹é€šä¿¡éœ€è¦æ»¡è¶³ä½¿ç”¨æ–¹ä¾¿ä¸”èƒ½é«˜æ•ˆä¼ è¾“å¤§é‡æ•°æ®çš„éœ€æ±‚ã€‚å…±äº«å­˜å‚¨å™¨ç³»ç»ŸåŸºäºŽå…±äº«æ•°æ®ç»“æž„çš„é€šä¿¡æ–¹å¼ï¼šè¯¸è¿›ç¨‹å…¬ç”¨æŸäº›æ•°æ®ç»“æž„æ¥å®žçŽ°è¿›è¡Œé€šä¿¡ ï¼Œå¦‚ç”Ÿäº§è€…â€”æ¶ˆè´¹è€…é—®é¢˜ä¸­çš„æœ‰ç•Œç¼“å†²åŒºï¼Œå±žäºŽä½Žçº§é€šä¿¡æ–¹å¼ã€‚åŸºäºŽå…±äº«å­˜å‚¨åŒºçš„é€šä¿¡æ–¹å¼ï¼šåœ¨å­˜å‚¨å™¨ä¸­åˆ’å‡ºä¸€å—å…±äº«å­˜å‚¨åŒºï¼Œè¯¸è¿›ç¨‹é€šè¿‡å¯¹å…±äº«å­˜å‚¨åŒºä¸­æ•°æ®çš„è¯»æˆ–å†™å®žçŽ°é€šä¿¡ï¼Œæ­¤æ—¶æ•°æ®çš„å½¢å¼ã€ä½ç½®å’Œè®¿é—®æŽ§åˆ¶ä»æ˜¯è¿›ç¨‹å®žçŽ°ã€‚é€‚ç”¨äºŽä¼ è¾“å¤§é‡æ•°æ®ï¼Œå±žäºŽé«˜çº§é€šä¿¡ã€‚ç®¡é“é€šä¿¡ç³»ç»Ÿæ‰€è°“â€œç®¡é“â€ï¼Œæ˜¯æŒ‡ç”¨äºŽè¿žæŽ¥ä¸€ä¸ªè¯»è¿›ç¨‹å’Œä¸€ä¸ªå†™è¿›ç¨‹ä»¥å®žçŽ°ä»–ä»¬ä¹‹é—´é€šä¿¡çš„ä¸€ä¸ªå…±äº«æ–‡ä»¶ï¼Œåˆåpipeæ–‡ä»¶ã€‚å‘ç®¡é“æä¾›è¾“å…¥çš„å‘é€è¿›ç¨‹ï¼ˆå³å†™è¿›ç¨‹ï¼‰ä»¥å­—ç¬¦æµå½¢å¼å°†å¤§é‡çš„æ•°æ®é€å…¥ç®¡é“ï¼Œè€ŒæŽ¥æ”¶è¿›ç¨‹ï¼ˆå³è¯»è¿›ç¨‹ï¼‰ï¼Œå¯ä»Žç®¡é“ä¸­æŽ¥æ”¶æ•°æ®ã€‚ç®¡é“é€šä¿¡ç³»ç»Ÿå¿…é¡»æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªè¦æ±‚ï¼šäº’æ–¥ï¼šç®¡é“çš„ä½¿ç”¨å¿…é¡»äº’æ–¥ã€‚å› ä¸ºå­˜æ•°æ®å’Œå–æ•°æ®å¯å½’äºŽå†™æ–‡ä»¶çš„æ·»åŠ å’Œåˆ é™¤ã€‚åŒæ­¥ï¼šå†™è¿›ç¨‹æŠŠä¸€å®šæ•°é‡çš„æ•°æ®å†™å…¥ç®¡é“åŽåŽ»ç¡çœ ï¼Œè¯»è¿›ç¨‹è¯»å®ŒåŽå°†å…¶å”¤é†’ã€‚è¯»è¿›ç¨‹è¯»ç©ºçš„ç®¡é“æ—¶éœ€è¦ç¡çœ ã€‚ç¡®å®šå¯¹æ–¹å­˜åœ¨ï¼šå¦‚æžœå†™è¿›ç¨‹ä¸å­˜åœ¨ï¼Œè¯»è¿›ç¨‹å°±ä¼šä¸€ç›´ç­‰å¾…ã€‚å¦‚æžœè¯»è¿›ç¨‹ä¸å­˜åœ¨ï¼Œå†™è¿›ç¨‹å†™å®Œæ•°æ®åŽä¹Ÿä¼šä¸€ç›´ç­‰å¾…ï¼Œæ‰€ä»¥é€šä¿¡åŒæ–¹å¿…é¡»åŒæ—¶å­˜åœ¨ã€‚æ¶ˆæ¯ä¼ é€’ç³»ç»ŸæŒ‡è¿›ç¨‹å¯ä»¥åˆ©ç”¨ä¸€ç»„é€šä¿¡å‘½ä»¤ï¼ˆåŽŸè¯­ï¼‰æŠŠæ•°æ®å°è£…åœ¨æ¶ˆæ¯ä¸­ä¼ é€ï¼Œä¸éœ€è¦æ˜¾ç¤ºçš„æŒ‡å®šå…±äº«å­˜å‚¨åŒºæˆ–æ•°æ®ç»“æž„ç­‰ã€‚å®ƒéšè—äº†é€šä¿¡çš„ç»†èŠ‚ï¼Œä¹Ÿæ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ã€‚é€šå¸¸æœ‰ä¸¤ç§å®žçŽ°æ–¹å¼ï¼šç›´æŽ¥é€šä¿¡æ–¹å¼ï¼šOSæä¾›åŽŸè¯­ç»™è¿›ç¨‹ä½¿ç”¨ã€‚é—´æŽ¥é€šä¿¡æ–¹å¼ï¼šå€ŸåŠ©å…±äº«ä¸­é—´å®žä½“ï¼ˆç§°ä¸ºé‚®ç®±ï¼‰å®Œæˆè¿›ç¨‹é—´çš„é€šä¿¡ã€‚å’Œå…±äº«å­˜å‚¨å™¨ç³»ç»Ÿçš„åŒºåˆ«æ˜¯è¿›ç¨‹ä¸å†éœ€è¦æŒ‡å®šæ•°æ®çš„å½¢å¼ã€ä½ç½®å’Œè®¿é—®æŽ§åˆ¶ç­‰ï¼Œä¿¡ç®±å†…éƒ¨è‡ªæœ‰å®žçŽ°ã€‚å®¢æˆ·æœº-æœåŠ¡å™¨ç³»ç»Ÿå‰ä¸‰ç§éƒ½æ˜¯å•æœºä¸‹çš„é€šä¿¡æœºåˆ¶ï¼Œè¿™ç§æ˜¯ç½‘ç»œçŽ¯å¢ƒä¸­çš„é€šä¿¡æœºåˆ¶ã€‚ä¸»è¦æœ‰å¥—æŽ¥å­—å’ŒRPCä¸¤ç§æ–¹å¼ã€‚å¥—æŽ¥å­—ï¼šä¸€ä¸ªå¥—æŽ¥å­—æ˜¯ä¸€ä¸ªé€šä¿¡æ ‡è¯†ç±»åž‹çš„æ•°æ®ç»“æž„ï¼ŒåŒ…å«äº†é€šä¿¡ç›®çš„åœ°å€ã€é€šä¿¡ç«¯å£å·ã€é€šä¿¡çš„ç½‘ç»œåè®®ã€è¿›ç¨‹è‡ªèº«çš„åœ°å€ä»¥åŠå¯¹å¤–æä¾›çš„ç³»ç»Ÿè°ƒç”¨ç­‰ã€‚ä½¿ç”¨å¥—æŽ¥å­—å¯ä»¥åœ¨ä¸åŒä¸»æœºä¸Šçš„è¿›ç¨‹å»ºç«‹è¿žæŽ¥è¿›è€Œè¿›è¡Œé€šä¿¡ã€‚RPCï¼šRemote Procedure Callï¼Œå®ƒæ˜¯ä¸€ä¸ªé€šä¿¡åè®®ï¼Œå¯ä»¥ä½¿æœ¬åœ°è¿›ç¨‹è°ƒç”¨å…¶ä»–ä¸»æœºçš„è¿›ç¨‹å¯¹ç¨‹åºå‘˜è¡¨çŽ°ä¸ºå¸¸è§„æ–¹æ³•è°ƒç”¨ã€‚çº¿ç¨‹çº¿ç¨‹çš„ç”±æ¥è¿›ç¨‹è§£å†³äº†ç¨‹åºä¸èƒ½å¹¶å‘æ‰§è¡Œçš„é—®é¢˜ï¼Œä½†æ˜¯ç”±äºŽè¿›ç¨‹æ˜¯æ‹¥æœ‰èµ„æºçš„åŸºæœ¬å•ä½ï¼Œæ‰€ä»¥åœ¨åˆ›å»ºã€æ’¤é”€å’Œåˆ‡æ¢æ—¶æ‰€éœ€çš„æ—¶ç©ºå¼€é”€å¾ˆå¤§ï¼Œå› ä¸ºå¤„ç†æœºåŠ¿å¿…è¦ä»˜å‡ºæ›´å¤§çš„ä»£ä»·æ¥ä¿å­˜çŽ°åœºã€‚æ‰€ä»¥æŠŠæ‹¥æœ‰èµ„æºå’Œç‹¬ç«‹è¿è¡Œä¸¤é¡¹åŠŸèƒ½åˆ†å¼€ï¼Œè®©çº¿ç¨‹ä½œä¸ºç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ï¼Œè¿›ç¨‹ä½œä¸ºæ‹¥æœ‰èµ„æºçš„åŸºæœ¬å•ä½ã€‚ä¸è¿‡çº¿ç¨‹ä¹Ÿæ‹¥æœ‰ä¸€äº›èƒ½ä¿è¯å…¶ç‹¬ç«‹è¿è¡Œçš„èµ„æºï¼Œå¦‚TCBã€‚TCBï¼ˆThread Control Blockï¼‰æ‰€æœ‰ç”¨äºŽæŽ§åˆ¶å’Œç®¡ç†çº¿ç¨‹çš„ä¿¡æ¯éƒ½ä¼šè¢«è®°å½•åœ¨çº¿ç¨‹æŽ§åˆ¶å—ä¸­ï¼Œé€šå¸¸åŒ…å«ï¼šçº¿ç¨‹æ ‡è¯†ç¬¦ï¼šæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰å”¯ä¸€çš„çº¿ç¨‹æ ‡è¯†ç¬¦ã€‚å¤„ç†æœºä¿¡æ¯ï¼šåŒ…æ‹¬ç¨‹åºè®¡æ•°å™¨ã€çŠ¶æ€å¯„å­˜å™¨ã€é€šç”¨å¯„å­˜å™¨çš„å†…å®¹ã€‚çº¿ç¨‹è¿è¡ŒçŠ¶æ€ï¼šçº¿ç¨‹å’Œè¿›ç¨‹ä¸€æ ·ä¹Ÿæœ‰å¤šç§è¿è¡ŒçŠ¶æ€ï¼Œå°±ç»ªã€é˜»å¡žã€è¿è¡Œç­‰ã€‚è¯¦è§103-ç½‘ç»œç¼–ç¨‹ã€‚ä¼˜å…ˆçº§ï¼šå’Œè°ƒåº¦ç®—æ³•æœ‰å…³ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œå¾—åˆ°å¤„ç†æœºçš„æœºä¼šè¶Šå¤§ã€‚çº¿ç¨‹ä¸“æœ‰å­˜å‚¨åŒºï¼šç”¨äºŽåœ¨çº¿ç¨‹åˆ‡æ¢æ—¶ä¿å­˜çŽ°åœºçŠ¶æ€å’Œä¿å­˜çº¿ç¨‹çš„ç»Ÿè®¡ä¿¡æ¯ã€‚ä¿¡å·å±è”½ï¼šå±è”½æŸäº›å‘é€ç»™çº¿ç¨‹çš„ä¿¡å·ã€‚å †æ ˆæŒ‡é’ˆï¼šçº¿ç¨‹è°ƒç”¨åˆ«çš„è¿‡ç¨‹æ—¶éœ€è¦ä¿å­˜å±€éƒ¨å˜é‡å’Œè¿”å›žåœ°å€ç­‰æ¥ä¾›è¿”å›žæ—¶èƒ½ç»§ç»­æ‰§è¡Œã€‚çº¿ç¨‹çš„å®žçŽ°çº¿ç¨‹æ˜¯ä¸ºäº†è§£å†³è¿›ç¨‹è°ƒåº¦æ—¶è¿‡äºŽç¬¨é‡çš„é—®é¢˜ï¼Œæ‰€ä»¥åœ¨ä¸åŒçš„çŽ¯å¢ƒä¸­å®žçŽ°çº¿ç¨‹çš„æ–¹å¼ä¸åŒã€‚æ ¹æ®å†…æ ¸èƒ½å¦æ„ŸçŸ¥åˆ°çº¿ç¨‹çš„å­˜åœ¨å¯åˆ†ä¸ºå†…æ ¸æ”¯æŒçº¿ç¨‹ï¼ˆKernel Supported Threadsï¼ŒKSTï¼‰å’Œç”¨æˆ·çº§çº¿ç¨‹ï¼ˆUser Level Threadsï¼ŒULTï¼‰ã€‚å®ƒä¿©çš„åŒºåˆ«æ˜¯èƒ½å¦ç›´æŽ¥è°ƒç”¨ç³»ç»ŸæœåŠ¡ï¼Œå‰è€…å¯ä»¥è€ŒåŽè€…éœ€è¦å€ŸåŠ©ä¸­é—´ç³»ç»Ÿã€‚å†…æ ¸æ”¯æŒçº¿ç¨‹è‹¥çº¿ç¨‹æ˜¯ç”±å†…æ ¸ç›´æŽ¥è°ƒåº¦ï¼Œçº¿ç¨‹èµ„æºä¹Ÿæ˜¯ä¿å­˜åœ¨å†…æ ¸ç©ºé—´ï¼Œå°±å¯ä»¥è¯´æ­¤ç±»çº¿ç¨‹ä¸ºå†…æ ¸æ”¯æŒçº¿ç¨‹ã€‚æ­¤ç±»çº¿ç¨‹çš„åˆ›å»ºã€æ’¤é”€å’Œåˆ‡æ¢ç­‰æ“ä½œéƒ½æ˜¯åœ¨å†…æ ¸ç©ºé—´å®Œæˆçš„ï¼Œæ­¤æ—¶çº¿ç¨‹å¯ä»¥ç›´æŽ¥è°ƒç”¨ç³»ç»ŸæœåŠ¡ã€‚ä¸€ç§å¯èƒ½çš„å®žçŽ°æ–¹å¼æ˜¯åœ¨åˆ›å»ºè¿›ç¨‹æ—¶åˆ†é…ä¸€ä¸ªä»»åŠ¡æ•°æ®åŒºï¼ˆPer Task Data Areaï¼ŒPTDAï¼‰ï¼Œå„ä¸ªçº¿ç¨‹çš„TCBä¿å­˜åœ¨å…¶ä¸­å³å¯ã€‚ä¸è¿‡ä»…å®žçŽ°å†…æ ¸æ”¯æŒçº¿ç¨‹çš„ç³»ç»Ÿå¯¹ç”¨æˆ·è¿›ç¨‹åˆ›å»ºçš„çº¿ç¨‹å¾ˆä¸å‹å¥½ï¼Œæ¯æ¬¡çº¿ç¨‹è°ƒåº¦å¤„ç†æœºéƒ½è¦ä»Žç”¨æˆ·æ€è½¬æ¢åˆ°æ ¸å¿ƒæ€ã€‚ç”¨æˆ·çº§çº¿ç¨‹ç”¨æˆ·çº§çº¿ç¨‹æ˜¯æŒ‡çº¿ç¨‹è™½å®¢è§‚å­˜åœ¨ä½†å¯¹å†…æ ¸æ¥è¯´æ˜¯é€æ˜Žçš„ï¼Œæ­¤æ—¶ä¸èƒ½å†ç›´æŽ¥è°ƒç”¨ç³»ç»ŸæœåŠ¡ï¼Œé—´æŽ¥è°ƒç”¨ç³»ç»ŸæœåŠ¡éœ€è¦æœ‰ä¸­é—´ç³»ç»Ÿçš„æ”¯æŒï¼Œé€šå¸¸çš„ä¸­é—´ç³»ç»Ÿæœ‰è¿è¡Œæ—¶ç³»ç»Ÿå’Œå†…æ ¸æŽ§åˆ¶çº¿ç¨‹ã€‚è¿è¡Œæ—¶ç³»ç»Ÿï¼šæŠŠåˆ›å»ºçº¿ç¨‹ã€æ’¤é”€çº¿ç¨‹å’Œçº¿ç¨‹åŒæ­¥ç­‰åªèƒ½ç”±OSå†…æ ¸å®Œæˆçš„æ“ä½œå°è£…èµ·æ¥ä½œä¸ºè¿è¡Œæ—¶ç³»ç»Ÿï¼Œè€Œè¿è¡Œæ—¶ç³»ç»Ÿåœç•™åœ¨ç”¨æˆ·ç©ºé—´ä¾›å…¶ä»–è¿›ç¨‹è°ƒç”¨æ¥å®žçŽ°çº¿ç¨‹è°ƒåº¦ã€‚å†…æ ¸æŽ§åˆ¶çº¿ç¨‹ï¼šè¿™ç§çº¿ç¨‹åˆè¢«ç§°ä½œè½»é‡è¿›ç¨‹ï¼ˆLight Weight Processï¼ŒLWPï¼‰ï¼Œå®ƒæ—¢å¯ä»¥å…±äº«è¿›ç¨‹çš„èµ„æºï¼Œåˆå¯ä»¥ä½¿ç”¨å†…æ ¸æä¾›çš„æœåŠ¡ã€‚è™½ç„¶ä¸‹å›¾ä¸­LWPå’Œç”¨æˆ·çº¿ç¨‹æ˜¯1å¯¹1å…³ç³»ï¼Œä½†å®žé™…ä¸Šå¤šä¸ªç”¨æˆ·çº§çº¿ç¨‹å¯ä»¥å¤ç”¨ä¸€ä¸ªLWPï¼Œä½†æ¯ä¸ªè½»åž‹çº¿ç¨‹éƒ½è¦è¿žæŽ¥åˆ°ä¸€ä¸ªå†…æ ¸çº¿ç¨‹ä¸­ã€‚æ‰€ä»¥æ­¤ç§æ–¹å¼ç³»ç»Ÿéœ€è¦åŒæ—¶å®žçŽ°å†…æ ¸æ”¯æŒçº¿ç¨‹ã€‚]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[01-æ“ä½œç³»ç»Ÿå¼•è®º]]></title>
    <url>%2F2019%2F01-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%BC%95%E8%AE%BA%2F</url>
    <content type="text"><![CDATA[æ“ä½œç³»ç»Ÿçš„å®šä¹‰æ“ä½œç³»ç»Ÿï¼ˆOperating Systemï¼Œç®€ç§°OSï¼‰æ˜¯é…ç½®åœ¨è®¡ç®—æœºç¡¬ä»¶ä¸Šçš„ç¬¬ä¸€å±‚è½¯ä»¶ï¼Œæ˜¯å¯¹ç¡¬ä»¶ç³»ç»Ÿçš„é¦–æ¬¡æ‰©å……ã€‚ä¸»è¦ä½œç”¨æ˜¯ç®¡ç†ç¡¬ä»¶è®¾å¤‡æ¥æé«˜åˆ©ç”¨çŽ‡å’Œåžåé‡ï¼ŒåŒæ—¶ä¸ºç”¨æˆ·å’Œåº”ç”¨ç³»ç»Ÿæä¾›æ˜“äºŽä½¿ç”¨çš„æŽ¥å£ã€‚æé«˜åˆ©ç”¨çŽ‡ï¼šä½¿ç³»ç»Ÿä¸­å„è®¾å¤‡çš„ç©ºé—²æ—¶é—´å°½å¯èƒ½çŸ­ã€‚æé«˜åžåé‡ï¼šä½¿å•ä½æ—¶é—´å†…å®Œæˆçš„ä¸šåŠ¡æ›´å¤šã€‚æä¾›æ˜“äºŽä½¿ç”¨çš„æŽ¥å£ï¼šå³æ˜¯æ–¹ä¾¿ä½¿ç”¨è®¡ç®—æœºèµ„æºã€‚ä¾‹å¦‚æ²¡æœ‰æ“ä½œç³»ç»Ÿï¼Œæ“çºµè®¡ç®—æœºå¯èƒ½éœ€è¦ç”¨æˆ·è¾“å…¥äºŒè¿›åˆ¶ä»£ç ï¼Œæœ‰äº†æ“ä½œç³»ç»Ÿï¼Œç”¨æˆ·å¯ä»¥ç‚¹å‡»å›¾æ ‡ï¼Œæ“ä½œç³»ç»Ÿå°±ä¼šå°†å…¶è½¬æ¢æˆäºŒè¿›åˆ¶ä»£ç ã€‚æ“ä½œç³»ç»Ÿçš„ç›®æ ‡æ–¹ä¾¿æ€§ï¼šå³å¯¹ç”¨æˆ·å’Œåº”ç”¨ç¨‹åºæä¾›æ˜“äºŽä½¿ç”¨çš„æŽ¥å£ã€‚æœ‰æ•ˆæ€§ï¼šæé«˜åˆ©ç”¨çŽ‡å’Œåžåé‡ã€‚å¯æ‰©å……æ€§ï¼šè®¡ç®—æœºç¡¬ä»¶å’Œä½“ç³»ç»“æž„ç­‰éƒ½åœ¨ä¸æ–­å‘å±•ä¸­ï¼ŒOSéœ€è¦æœ‰å¥½çš„å¯æ‰©å……æ€§æ¥æ»¡è¶³ä¸æ–­å‘å±•çš„éœ€æ±‚ã€‚å¼€æ”¾æ€§ï¼šä¸ºäº†ä½¿è®¡ç®—æœºçš„åº”ç”¨çŽ¯å¢ƒä»Žå•æœºè½¬æ¢æˆç½‘ç»œï¼ŒOSéœ€è¦æ»¡è¶³ç›¸åº”çš„è½¯ç¡¬ä»¶æ ‡å‡†æ¥å®žçŽ°è®¾å¤‡çš„äº’è”ã€‚æ“ä½œç³»ç»Ÿçš„ä½œç”¨æä¾›æ˜“äºŽä½¿ç”¨çš„æŽ¥å£ï¼Œå¦‚Shellã€å›¾å½¢ç•Œé¢ç­‰ã€‚ç®¡ç†è®¡ç®—æœºæ‰€æœ‰çš„èµ„æºï¼Œè´Ÿè´£è®¡ç®—æœºç³»ç»Ÿå…¨éƒ¨èµ„æºçš„åˆ†é…ã€æŽ§åˆ¶ã€è°ƒåº¦å’Œå›žæ”¶ã€‚éšè”½ç¡¬ä»¶ç‰¹æ€§ï¼Œå¦‚è®¡ç®—2*3ï¼ŒæŸäº›æœºå™¨çš„å®žçŽ°æ˜¯ä½¿ç”¨åŠ æ³•å™¨åš2+2+2ï¼Œè€Œæœ‰çš„æœºå™¨æ˜¯ä¹˜æ³•å™¨å®žçŽ°2*3ã€‚æ“ä½œç³»ç»Ÿå±è”½è¿™äº›ç»†èŠ‚ï¼Œç”¨æˆ·åªéœ€è¦è¾“å…¥2*3å°±èƒ½å®Œæˆã€‚æœªé…ç½®æ“ä½œç³»ç»Ÿçš„è®¡ç®—æœºç³»ç»Ÿäººå·¥æ“ä½œï¼šç¨‹åºå‘˜æŠŠç¨‹åºå’Œæ•°æ®é€šè¿‡ç©¿å­”çš„æ–¹å¼è®°å½•åœ¨çº¸å¸¦ä¸Šï¼Œå†å¯åŠ¨æœºå™¨è¯»å…¥çº¸å¸¦ï¼Œè¿è¡Œå®Œæˆå¹¶å–èµ°è®¡ç®—ç»“æžœåŽï¼Œæ‰å…è®¸ä¸‹ä¸€ä¸ªç”¨æˆ·ä¸Šæœºã€‚ç¼ºç‚¹ï¼šç”¨æˆ·ç‹¬å æ•´æœºï¼šè®¡ç®—æœºä¸Šçš„èµ„æºä¸ºä¸Šæœºç”¨æˆ·ç‹¬å ã€‚è®¾å¤‡ç©ºé—²çŽ‡é«˜ï¼šç”¨æˆ·è£…å¡ï¼Œå¸å¡ç­‰äººå·¥æ“ä½œæ—¶ï¼Œè®¾å¤‡èµ„æºæ˜¯ç©ºé—²çš„ã€‚è„±æœºè¾“å…¥/è¾“å‡ºï¼ˆOff-Line I/Oï¼‰ï¼šä¸ºäº†è§£å†³äººæœºçŸ›ç›¾åŠCPUã€I/Oç­‰è®¾å¤‡ä¹‹é—´é€Ÿåº¦çš„ä¸åŒ¹é…ã€‚å®ƒæ˜¯å…ˆæŠŠçº¸å¸¦é€šè¿‡è¾“å…¥è®¾å¤‡åœ¨å¤–å›´æœºï¼ˆä¸Žä¸»æœºç›¸æ¯”å¤„äºŽæ¬¡è¦åœ°ä½çš„è®¡ç®—æœºï¼‰çš„æŽ§åˆ¶ä¸‹è¾“å…¥åˆ°ç£å¸¦ä¸Šï¼Œå½“CPUéœ€è¦è¿™äº›ä¿¡æ¯æ—¶å†ä»Žç£å¸¦ä¸Šé«˜é€Ÿåœ°è°ƒå–ã€‚ç±»ä¼¼çš„ï¼Œåœ¨è¾“å‡ºæ—¶æŠŠä¿¡æ¯è¾“å‡ºåˆ°ç£ç›˜ä¸­ï¼Œåœ¨å¤–å›´æœºçš„æŽ§åˆ¶ä¸‹é€šè¿‡è¾“å‡ºè®¾å¤‡è¾“å‡ºã€‚ä¹Ÿå°±æ˜¯è¯´ä¸»æœºç›´æŽ¥å¯¹ç£ç›˜è¿›è¡Œæ“ä½œï¼Œè¾“å…¥è¾“å‡ºå’Œç¨‹åºè¿è¡Œè„±ç¦»ã€‚æ¸›å°‘äº†CPUçš„ç©ºé—²æ—¶é—´ï¼šä¸»æœºä¸å¿…ä¾èµ–è¾“å…¥è¾“å‡ºï¼Œå¯ä»¥ä»Žç£ç›˜ä¸­è¯»å–æ•°æ®ã€‚æå‡äº†I/Oé€Ÿåº¦ï¼šä¸»æœºè¯»å–ä¿¡æ¯ä¸å†æ˜¯ä»Žå¡ç‰‡ä¸­è¯»å–ï¼Œä»Žç£ç›˜è¯»å–é€Ÿåº¦è¾ƒå¿«ã€‚æ‰¹å¤„ç†ç³»ç»Ÿä¸ºäº†æå‡è®¡ç®—æœºèµ„æºçš„åˆ©ç”¨çŽ‡å’Œæå‡è®¡ç®—æœºçš„åžåé‡ç ”å‘å‡ºäº†æ‰¹æ“ä½œç³»ç»Ÿã€‚åŸºç¡€æ¦‚å¿µä½œä¸šï¼šç¨‹åº+æ•°æ®+ä½œä¸šè¯´æ˜Žä¹¦ï¼ˆç³»ç»Ÿæ ¹æ®è¯´æ˜Žä¹¦æ¥å¯¹ç¨‹åºçš„è¿è¡Œè¿›è¡ŒæŽ§åˆ¶ï¼‰ã€‚å‘¨è½¬æ—¶é—´ï¼šä»Žä½œä¸šè¿›å…¥ç³»ç»Ÿåˆ°ä½œä¸šå®Œæˆé€€å‡ºç³»ç»Ÿæ‰€ç”¨çš„æ—¶é—´ã€‚å¹³å‡å‘¨è½¬æ—¶é—´ï¼šåŒæ—¶å‚ä¸Žç³»ç»Ÿè¿è¡Œçš„å‡ ä¸ªä½œä¸šçš„å‘¨è½¬æ—¶é—´çš„å¹³å‡å€¼ã€‚$T=\frac{1}{n}[\sum_{i=1}^NT_i]â€‹$å¸¦æƒå‘¨è½¬æ—¶é—´ï¼šä½œä¸šçš„å‘¨è½¬æ—¶é—´ï¼ˆ$Tâ€‹$ï¼‰å’Œç³»ç»Ÿä¸ºå®ƒæä¾›æœåŠ¡çš„æ—¶é—´ï¼ˆ$T_Sâ€‹$ï¼‰ã€‚$W=\frac{T}{T_s}â€‹$å¹³å‡å¸¦æƒå‘¨è½¬æ—¶é—´ï¼šåŒæ—¶å‚ä¸Žç³»ç»Ÿè¿è¡Œçš„å‡ ä¸ªä½œä¸šçš„å¸¦æƒå‘¨è½¬æ—¶é—´çš„å¹³å‡å€¼ã€‚$T=\frac{1}{n}[\sum_{i=1}^NW_i]â€‹$å•é“æ‰¹å¤„ç†ç³»ç»Ÿè®¾è®¡ä¸€ä¸ªå¸¸é©»å†…å­˜çš„ç¨‹åºï¼ˆç›‘ç£ç¨‹åºï¼‰ï¼Œæ“ä½œå‘˜æœ‰é€‰æ‹©åœ°æŠŠè‹¥å¹²ä½œä¸šåˆæˆä¸€æ‰¹ï¼Œå®‰è£…è¾“å…¥è®¾å¤‡ä¸Šï¼Œå¹¶å¯åŠ¨ç›‘ç£ç¨‹åºï¼Œç„¶åŽç”±ç›‘ç£ç¨‹åºè‡ªåŠ¨æŽ§åˆ¶è¿™æ‰¹ä½œä¸šè¿è¡Œï¼Œä»Žè€Œå‡å°‘éƒ¨åˆ†äººå·¥å¹²é¢„ï¼Œæœ‰æ•ˆåœ°ç¼©çŸ­äº†ä½œä¸šè¿è¡Œå‰çš„å‡†å¤‡æ—¶é—´ï¼Œç›¸å¯¹çš„æé«˜CPUçš„åˆ©ç”¨çŽ‡ã€‚åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªç¡¬ä»¶åœ¨è¿è¡Œã€‚ç‰¹ç‚¹ï¼šè‡ªåŠ¨æ€§ã€é¡ºåºæ€§ã€å•é“æ€§ã€‚ç¼ºç‚¹ï¼šI/Oçš„æ…¢é€Ÿä¸ŽCPU çš„é«˜é€Ÿä¸åŒ¹é…ï¼Œä¸”è¾“å…¥æ—¶éœ€è¦CPUç­‰å¾…ã€‚ç”¨æˆ·äº¤äº’æ€§å·®ã€‚ä½œä¸šå®‰è£…è¾“å…¥åŽï¼Œå°±ä¸èƒ½å†äº¤äº’ã€‚å¤šé“æ‰¹å¤„ç†ç³»ç»ŸæŠŠä¸€ä¸ªä»¥ä¸Šçš„ä½œä¸šå­˜æ”¾åœ¨ä¸»å­˜ä¸­ï¼Œå¹¶ä¸”åŒæ—¶å¤„äºŽè¿è¡ŒçŠ¶æ€ï¼Œä½¿è¿™äº›ä½œä¸šå…±äº«å¤„ç†æœºå’Œå¤–éƒ¨è®¾å¤‡ç­‰å…¶å®ƒç³»ç»Ÿèµ„æºã€‚å¯¹äºŽä¸€ä¸ªå•å¤„ç†æœºç³»ç»Ÿæ¥è¯´ï¼Œä½œä¸šåŒæ—¶å¤„äºŽè¿è¡ŒçŠ¶æ€åªæ˜¯å®è§‚çš„æ¦‚å¿µï¼Œå…¶å«ä¹‰æ˜¯æŒ‡æ¯ä¸ªä½œä¸šéƒ½å·²å¼€å§‹è¿è¡Œï¼Œä½†å°šæœªå®Œæˆã€‚å°±å¾®è§‚è€Œè¨€ï¼Œåœ¨ä»»æ„ç‰¹å®šæ—¶åˆ»ï¼Œå¤„ç†æœºä¸Šè¿è¡Œçš„ä½œä¸šåªæœ‰ä¸€ä¸ªã€‚ç‰¹ç‚¹ï¼šå¤šé“æ€§ã€æ— åºæ€§ã€è°ƒåº¦æ€§ã€‚ä¼˜ç¼ºç‚¹ï¼šä¼˜ç‚¹ï¼šèµ„æºåˆ©ç”¨çŽ‡é«˜ã€ç³»ç»Ÿåžåé‡å¤§ã€‚ç¼ºç‚¹ï¼šä½œä¸šä»ç„¶è¦æŽ’é˜Ÿå¤„ç†ï¼Œæ‰€ä»¥å¹³å‡å‘¨è½¬æ—¶é—´é•¿ã€æ— äº¤äº’èƒ½åŠ›ã€‚æ­¤æ—¶å¦‚ä½•è°ƒåº¦ç¨‹åºå·²ç»ä¸æ˜¯å†ç”¨ä¸€å¼ ç®€å•çš„æµç¨‹å›¾èƒ½è¯´æ˜Žäº†ï¼Œç¬¬äºŒç« ä¼šæœ‰ä»‹ç»ã€‚ä¸‹å›¾åªæ˜¯è¯´æ˜Žå¤„ç†å™¨åˆ©ç”¨çŽ‡é«˜ã€‚ä¸¾ä¾‹è¯æ˜Žèµ„æºåˆ©ç”¨çŽ‡é«˜å’Œç³»ç»Ÿåžåé‡å¤§è®¾å†…å­˜ä¸­æœ‰ä¸‰é“ç¨‹åº Aã€Bã€Cï¼Œå®ƒä»¬çš„è®¡ç®—å’ŒI/Oæ“ä½œçš„æ—¶é—´å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼šç¨‹åºæ“ä½œABCè®¡ç®—306020I/O403040è®¡ç®—101020å•é“å¤šé“åˆ†æ—¶ç³»ç»Ÿæ‰¹å¤„ç†ç³»ç»Ÿä¸­ï¼Œä½œä¸šä¸€æ—¦æäº¤å°±ä¸èƒ½è¿›è¡Œæ›´æ”¹ï¼Œæ‰€ä»¥äººæœºäº¤äº’æ€§å¾ˆå·®ã€‚ä¸ºäº†æ»¡è¶³äººæœºäº¤äº’çš„éœ€æ±‚è¯žç”Ÿåˆ†æ—¶ç³»ç»Ÿã€‚æ¯ä¸€ä¸ªç”¨æˆ·é€šè¿‡ä¸€å°ç»ˆç«¯ä¸Žè®¡ç®—æœºç›¸è¿žï¼Œä»¥äº¤äº’å¼çš„å‘½ä»¤ä½¿ç”¨ç³»ç»Ÿï¼Œé‡‡ç”¨åˆ†äº«CPUçš„æ–¹æ³•ï¼Œç”±äºŽCPUçš„é€Ÿåº¦æ¯”äººåœ¨ç»ˆç«¯è¾“å…¥æŒ‡ä»¤çš„æ—¶é—´å¿«å¾—å¤šï¼Œæ‰€ä»¥ç”¨æˆ·æ„Ÿåˆ°è‡ªå·±ç‹¬å äº†æ•´ä¸ªè®¡ç®—æœºç³»ç»Ÿã€‚ç³»ç»Ÿè§„å®šä¸€ä¸ªç§°ä¹‹ä¸ºâ€œæ—¶é—´ç‰‡â€çš„æ—¶é—´å•ä½ï¼Œæ‰€æœ‰ç»ˆç«¯ç”¨æˆ·è½®æµäº«ç”¨ä¸€ä¸ªæ—¶é—´ç‰‡çš„CPUã€‚éœ€è¦è§£å†³çš„é—®é¢˜ï¼šåŠæ—¶æŽ¥å—ï¼šæ‰€æœ‰ç»ˆç«¯ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯éƒ½è¦èƒ½å¤Ÿè¢«åŠæ—¶çš„é€åˆ°å¤„ç†å™¨ä¸Šã€‚æ‰€ä»¥ä¸»æœºä¼šä»¥å¾ˆå¿«çš„é€Ÿåº¦å¾ªçŽ¯æ‰«æå„ä¸ªç»ˆç«¯ã€‚æ¯ä¸ªç»ˆç«¯ä¹Ÿè¦æ‹¥æœ‰ç¼“å­˜åŒºæ¥ä¿å­˜è¾“å…¥çš„ä¿¡æ¯ã€‚åŠæ—¶å¤„ç†ï¼šç”¨æˆ·éœ€è¦èƒ½å¯¹è‡ªå·±çš„ä½œä¸šåŠå…¶å…è®¸åŠæ—¶åœ°å®žæ–½æŽ§åˆ¶ã€‚æ‰€ä»¥æ‰€æœ‰çš„ä½œä¸šå¿…é¡»é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤æ‰¹ä½œä¸šç³»ç»Ÿä¸èƒ½è¢«ä½¿ç”¨ã€‚å®ƒé‡‡ç”¨çš„æ–¹å¼æ˜¯ï¼šä½œä¸šç›´æŽ¥è¿›å…¥å†…å­˜ã€‚ä½†æ¯ä¸ªç”¨æˆ·åªè¿žç»­ä½¿ç”¨ä¸€ä¸ªâ€œæ—¶é—´ç‰‡â€çš„æ—¶é—´ï¼Œå¯¹æ‰€æœ‰ç”¨æˆ·è¿›è¡Œå¾ªçŽ¯ã€‚è¿™æ ·æ¯ä¸ªç”¨æˆ·éƒ½èƒ½åŠæ—¶åœ°ä¸Žè‡ªå·±çš„ä½œä¸šè¿›è¡Œäº¤äº’ã€‚åˆ†æ—¶ç³»ç»Ÿä¸Žå¤šé“æ‰¹å¤„ç†ç³»ç»Ÿçš„ä¸åŒç‰¹æ€§å¤šè·¯æ€§ï¼šå…è®¸å¤šä¸ªç”¨æˆ·å…±äº«ä¸€å°è®¡ç®—æœºï¼Œæé«˜èµ„æºåˆ©ç”¨çŽ‡ã€‚ç‹¬ç«‹æ€§ï¼šæ¯ä¸ªç”¨æˆ·ä¹‹é—´äº’ä¸å¹²æ‰°ï¼Œæ„Ÿè§‰å°±æ˜¯ä¸€ä¸ªäººåœ¨ç‹¬å ä¸€å°è®¡ç®—æœºã€‚åŠæ—¶æ€§ï¼šç”¨æˆ·çš„è¯·æ±‚èƒ½åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…å¾—åˆ°å›žåº”ã€‚äº¤äº’æ€§ï¼šç”¨æˆ·å¯ä»¥é€šè¿‡ç»ˆç«¯å’Œè®¡ç®—æœºè¿›è¡ŒåŠæ—¶äº¤äº’ã€‚å®žæ—¶ç³»ç»ŸæŒ‡ç³»ç»Ÿèƒ½åŠæ—¶å“åº”å¤–éƒ¨äº‹ä»¶çš„è¯·æ±‚ï¼Œåœ¨è§„å®šçš„æ—¶é—´å†…å®Œæˆå¯¹è¯¥äº‹ä»¶çš„å¤„ç†ï¼Œå¹¶æŽ§åˆ¶æ‰€æœ‰å®žæ—¶ä»»åŠ¡åè°ƒä¸€è‡´åœ°è¿è¡Œã€‚å®žæ—¶ç³»ç»Ÿå¼ºè°ƒç¨‹åºè¿è¡Œçš„æ—¶é—´ï¼Œå®ƒéœ€å¯¹æŽ¥æ”¶åˆ°çš„æŸäº›ä¿¡å·åšå‡ºåŠæ—¶åœ°ååº”ã€‚å¤§å¤šæ•°çš„å®žæ—¶ç³»ç»Ÿæ˜¯ä¸“ç”¨ç³»ç»Ÿï¼Œå¦‚ï¼šå·¥ä¸šï¼ˆæ­¦å™¨ï¼‰æŽ§åˆ¶ç³»ç»Ÿã€ä¿¡æ¯æŸ¥è¯¢ç³»ç»Ÿã€å¤šåª’ä½“ç³»ç»Ÿã€åµŒå…¥å¼ç³»ç»Ÿç­‰ã€‚æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å¯é æ€§ï¼šç³»ç»Ÿå¿…é¡»é«˜åº¦å¯é ï¼Œå› ä¸ºä»»ä½•å¯èƒ½çš„å·®é”™éƒ½å¯èƒ½å¸¦æ¥ç¾éš¾æ€§åŽæžœï¼Œæ‰€ä»¥ç³»ç»Ÿä¸€èˆ¬éƒ½æœ‰å¤šçº§å®¹é”™æŽªæ–½ã€‚æŒ‰æ˜¯å¦å‘¨æœŸæ‰§è¡Œåˆ†ç±»ï¼šå‘¨æœŸæ€§å®žæ—¶ä»»åŠ¡ï¼šå¦‚å¤–éƒ¨è®¾å¤‡å‘¨æœŸæ€§åœ°å‘å‡ºçŠ¶æ€ä¿¡å·ç»™è®¡ç®—æœºä½¿å…¶çŠ¶æ€èƒ½è¢«å®žæ—¶æ„ŸçŸ¥ã€‚éžå‘¨æœŸæ€§å®žæ—¶ä»»åŠ¡ï¼šæäº¤ç»™ç³»ç»Ÿæ—¶éœ€è¦æŒ‡å®šå¼€å§‹æˆªæ­¢æ—¶é—´å’Œå®Œæˆæˆªæ­¢æ—¶é—´ã€‚ç¡¬å®žæ—¶ä»»åŠ¡&amp;è½¯å®žæ—¶ä»»åŠ¡ï¼šç¡¬å®žæ—¶ä»»åŠ¡ï¼ˆHard Real-time Taskï¼‰ï¼šæˆªæ­¢æ—¶é—´åˆ°è¾¾æ—¶ä»»åŠ¡å¿…é¡»å®Œæˆï¼Œæ¯”å¦‚æ­¦å™¨æŽ§åˆ¶ç³»ç»Ÿã€‚è½¯å®žæ—¶ä»»åŠ¡ï¼ˆSoft Real-time Taskï¼‰ï¼šæˆªæ­¢æ—¶é—´åˆ°è¾¾æ—¶ä»»åŠ¡æ²¡æœ‰å®Œæˆæ²¡æœ‰å¤ªå¤§å½±å“ï¼Œæ¯”å¦‚å¤šåª’ä½“ç³»ç»Ÿã€‚è¿›ç¨‹å’Œçº¿ç¨‹è¿›ç¨‹ï¼šåœ¨ç³»ç»Ÿä¸­èƒ½ç‹¬ç«‹è¿è¡Œå¹¶ä½œä¸ºèµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ã€‚çº¿ç¨‹ï¼šç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ï¼Œæ¯”è¿›ç¨‹æ›´å°ï¼ŒåŸºæœ¬ä¸Šä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºã€‚é€šå¸¸åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­åŒ…å«äº†è‹¥å¹²ä¸ªçº¿ç¨‹ã€‚æ“ä½œç³»ç»Ÿçš„åŸºæœ¬ç‰¹æ€§å¹¶å‘ï¼šå®è§‚ä¸Šæ˜¯å¤šä¸ªè¿›ç¨‹åŒæ—¶è¿è¡Œï¼Œå¾®è§‚ä¸Šæ˜¯æ¯ä¸€æ—¶åˆ»åªæœ‰ä¸€é“è¿›ç¨‹åœ¨æ‰§è¡Œã€‚å…±äº«ï¼šç³»ç»Ÿä¸­çš„èµ„æºå¯ä¾›å†…å­˜ä¸­å¤šä¸ªå¹¶å‘æ‰§è¡Œçš„è¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰å…±åŒä½¿ç”¨ã€‚æœ‰ä¸¤ç§å…±äº«æ–¹å¼ï¼šäº’æ–¥å…±äº«æ–¹å¼ï¼Œå¦‚æ‰“å°æœºï¼›åŒæ—¶è®¿é—®æ–¹å¼ï¼Œå¦‚å…±äº«æ–‡ä»¶å¤¹ã€ç½‘ç»œèµ„æºã€‚è™šæ‹Ÿï¼šé€šè¿‡æŸç§æŠ€æœ¯æŠŠä¸€ä¸ªç‰©ç†å®žä½“å˜ä¸ºè‹¥å¹²ä¸ªé€»è¾‘ä¸Šçš„å¯¹åº”ç‰©ã€‚è¿™æ ·å¯ä»¥é¿å…ä¸€ä¸ªè¿›ç¨‹å•ç‹¬å ç”¨æŸä¸ªç‰©ç†è®¾å¤‡ï¼Œä¸€ä¸ªç‰©ç†è®¾å¤‡è¢«åˆ†é…ç»™å¤šä¸ªè¿›ç¨‹ä¾¿å¯ä»¥æå‡ç‰©ç†è®¾å¤‡çš„ä½¿ç”¨çŽ‡ã€‚ä¸ç¡®å®šæ€§ï¼ˆå¼‚æ­¥æ€§ï¼‰ï¼šè¿›ç¨‹ä»¥äººä»¬ä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰æŽ¨è¿›ï¼Œå³ä¸ºè¿›ç¨‹çš„ä¸ç¡®å®šæ€§ã€‚è¿™æ ·çš„è¯å¾ˆå¯èƒ½æ˜¯å…ˆè¿›å…¥å†…å­˜çš„ä½œä¸šåŽå®Œæˆï¼›è€ŒåŽè¿›å…¥å†…å­˜çš„ä½œä¸šå…ˆå®Œæˆã€‚å°½ç®¡å¦‚æ­¤ï¼Œä½†åªè¦æœ‰åˆç†çš„è¿›ç¨‹åŒæ­¥æ–¹å¼ä¸”è¿è¡ŒçŽ¯å¢ƒç›¸åŒï¼Œä½œä¸šç»å¤šæ¬¡è¿è¡Œï¼Œéƒ½ä¼šèŽ·å¾—å®Œå…¨ç›¸åŒçš„ç»“æžœã€‚å› æ­¤ï¼Œå¼‚æ­¥è¿è¡Œæ–¹å¼æ˜¯å…è®¸çš„ã€‚æ“ä½œç³»ç»Ÿçš„ç»“æž„ä¼ ç»Ÿæ“ä½œç³»ç»Ÿç»“æž„æ— ç»“æž„OSï¼šå…³æ³¨åŠŸèƒ½çš„å®žçŽ°å’ŒèŽ·å¾—é«˜çš„æ•ˆçŽ‡æ“ä½œç³»ç»Ÿæ˜¯ä¸ºæ•°ä¼—å¤šçš„ä¸€ç»„è¿‡ç¨‹çš„é›†åˆï¼Œå„è¿‡ç¨‹ä¹‹é—´å¯ä»¥ç›¸äº’è°ƒç”¨ï¼Œåœ¨æ“ä½œç³»ç»Ÿå†…éƒ¨ä¸å­˜åœ¨ä»»ä½•ç»“æž„ã€‚ç¨‹åºè®¾è®¡çš„æŠ€å·§ï¼Œåªæ˜¯å¦‚ä½•ç¼–åˆ¶ç´§å‡‘çš„ç¨‹åºï¼Œä»¥ä¾¿äºŽæœ‰æ•ˆåœ°åˆ©ç”¨å†…å­˜ã€‚æ“ä½œç³»ç»Ÿæ—¢åºžå¤§åˆæ‚ä¹±ï¼Œç¼ºä¹æ¸…æ™°çš„ç¨‹åºç»“æž„ã€‚ç¨‹åºé”™è¯¯å¾ˆå¤šï¼Œç»™è°ƒè¯•å·¥ä½œå¸¦æ¥å¾ˆå¤šå›°éš¾ï¼›å¦ä¸€æ–¹é¢ä¹Ÿä½¿ç¨‹åºéš¾ä»¥é˜…è¯»å’Œç†è§£ï¼Œå¢žåŠ äº†ç»´æŠ¤äººå‘˜çš„è´Ÿæ‹…ã€‚æ¨¡å—åŒ–ç»“æž„OSæ¨¡å—åŒ–ç¨‹åºè®¾è®¡æŠ€æœ¯ï¼Œæ˜¯æœ€æ—©ï¼ˆ20ä¸–çºª60å¹´ä»£ï¼‰å‡ºçŽ°çš„ä¸€ç§ç¨‹åºè®¾è®¡æŠ€æœ¯ã€‚è¯¥æŠ€æœ¯æ˜¯åŸºäºŽâ€œåˆ†è§£â€å’Œâ€œæ¨¡å—â€åŽŸåˆ™æ¥æŽ§åˆ¶å¤§åž‹è½¯ä»¶çš„å¤æ‚åº¦çš„ã€‚å°†OSæŒ‰å…¶åŠŸèƒ½åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå…·æœ‰ä¸€å®šç‹¬ç«‹æ€§å’Œå¤§å°çš„æ¨¡å—ã€‚æ¯ä¸ªæ¨¡å—å…·æœ‰æŸæ–¹é¢çš„ç®¡ç†åŠŸèƒ½ï¼Œå¹¶è§„å®šå¥½å„æ¨¡å—é—´çš„æŽ¥å£ï¼Œ ä½¿å„æ¨¡å—ä¹‹é—´èƒ½é€šè¿‡è¯¥æŽ¥å£å®žçŽ°äº¤äº’ï¼Œç„¶åŽå†è¿›ä¸€æ­¥å°†å„æ¨¡å—ç»†åˆ†ä¸ºè‹¥å¹²ä¸ªå…·æœ‰ä¸€å®šç®¡ç†åŠŸèƒ½çš„å­æ¨¡å—ã€‚ï¼ˆä¼šå¯¼è‡´æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»å¾ˆé‡ï¼ŒOSç»“æž„ä¸æ¸…æ™°ï¼‰è‹¥å­æ¨¡å—è¾ƒå¤§æ—¶ï¼Œå†è¿›ä¸€æ­¥å°†å®ƒç»†åˆ†ã€‚åˆ†å±‚å¼ç»“æž„OSï¼šæ”¹è¿›è®¾è®¡æ–¹å¼ï¼Œä½¿æ¯ä¸€æ­¥è®¾è®¡éƒ½æ˜¯å»ºç«‹åœ¨å¯é çš„åŸºç¡€ä¸Šä¸€å±‚ä¸€å±‚åœ°è‡ªåº•å‘ä¸Šå¢žæ·»è½¯ä»¶å±‚ï¼Œæ¯ä¸€å±‚éƒ½å®žçŽ°è‹¥å¹²åŠŸèƒ½ï¼Œæœ€åŽæ€»èƒ½æž„æˆä¸€ä¸ªèƒ½æ»¡è¶³éœ€è¦çš„OSã€‚æ¯ä¸€å±‚éƒ½ä»…ä½¿ç”¨å…¶åº•å±‚æ‰€æä¾›çš„åŠŸèƒ½å’ŒæœåŠ¡ï¼Œè¿™æ ·å¯ä½¿ç³»ç»Ÿçš„è°ƒè¯•å’ŒéªŒè¯éƒ½å˜å¾—å®¹æ˜“ã€‚ä¸€æ—¦å‘çŽ°é”™è¯¯åŽï¼Œé€šå¸¸è¯¥é”™è¯¯åªä¼šå±€é™äºŽæŸä¸€å±‚ï¼Œå› ä¸ºå®ƒä¸Žæ‰€æœ‰å…¶é«˜å±‚çš„è½¯ä»¶æ— å…³ï¼Œè€Œæ­¤å±‚ä»¥ä¸‹çš„å„å±‚è½¯ä»¶ï¼Œåˆéƒ½ç»è¿‡ä»”ç»†çš„è°ƒè¯•ï¼Œbugä¿®å¤è¾ƒä¸ºå®¹æ˜“ã€‚å®¢æˆ·/æœåŠ¡å™¨ç»“æž„ä¸ºäº†æé«˜OSçš„çµæ´»æ€§å’Œå¯æ‰©å……æ€§è€Œå°†OSåˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚ä¸€éƒ¨åˆ†æ˜¯ç”¨äºŽæä¾›å„ç§æœåŠ¡çš„ä¸€ç»„æœåŠ¡å™¨ï¼ˆè¿›ç¨‹ï¼‰ï¼Œæ‰€æœ‰è¿™äº›æœåŠ¡å™¨ï¼ˆè¿›ç¨‹ï¼‰éƒ½è¿è¡Œåœ¨ç”¨æˆ·æ€ã€‚å½“æœ‰ä¸€ç”¨æˆ·è¿›ç¨‹ï¼ˆçŽ°åœ¨ç§°ä¸ºå®¢æˆ·è¿›ç¨‹ï¼‰è¦æ±‚è¯»æ–‡ä»¶çš„ä¸€ä¸ªç›˜å—æ—¶ï¼Œè¯¥è¿›ç¨‹ä¾¿å‘æ–‡ä»¶æœåŠ¡å™¨ï¼ˆè¿›ç¨‹ï¼‰å‘å‡ºä¸€ä¸ªè¯·æ±‚ï¼›å½“æœåŠ¡å™¨å®Œæˆäº†è¯¥å®¢æˆ·çš„è¯·æ±‚åŽï¼Œä¾¿ç»™è¯¥å®¢æˆ·å›žé€ä¸€ä¸ªå“åº”ã€‚å¦ä¸€éƒ¨åˆ†æ˜¯å†…æ ¸ï¼Œç”¨æ¥å¤„ç†å®¢æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ï¼Œ å³ç”±å†…æ ¸æ¥æŽ¥æ”¶å®¢æˆ·çš„è¯·æ±‚ï¼Œå†å°†è¯¥è¯·æ±‚é€è‡³ç›¸åº”çš„æœåŠ¡å™¨ï¼›åŒæ—¶å®ƒä¹ŸæŽ¥æ”¶æœåŠ¡å™¨çš„åº”ç­”ï¼Œ å¹¶å°†æ­¤åº”ç­”å›žé€ç»™è¯·æ±‚å®¢æˆ·ã€‚æ­¤å¤–ï¼Œåœ¨å†…æ ¸ä¸­è¿˜åº”å…·æœ‰å…¶å®ƒä¸€äº›æœºæž„ï¼Œç”¨äºŽå®žçŽ°ä¸Žç¡¬ä»¶ç´§å¯†ç›¸å…³çš„å’Œä¸€äº›è¾ƒåŸºæœ¬çš„åŠŸèƒ½ã€‚é¢å‘å¯¹è±¡ç»“æž„ï¼ˆ20ä¸–çºª80å¹´ä»£ï¼‰è¯¥æŠ€æœ¯æ˜¯åŸºäºŽâ€œæŠ½è±¡â€å’Œâ€œéšè”½â€åŽŸåˆ™æ¥æŽ§åˆ¶å¤§åž‹è½¯ä»¶çš„å¤æ‚åº¦çš„ã€‚æ‰€è°“å¯¹è±¡ï¼Œæ˜¯æŒ‡åœ¨çŽ°å®žä¸–ç•Œä¸­å…·æœ‰ç›¸åŒå±žæ€§ã€æœä»Žç›¸åŒè§„åˆ™çš„ä¸€ç³»åˆ—äº‹ç‰©çš„æŠ½è±¡ï¼Œè€ŒæŠŠå…¶ä¸­çš„å…·ä½“äº‹ç‰©ç§°ä¸ºå¯¹è±¡çš„å®žä¾‹ã€‚OSä¸­çš„å„ç±»å®žä½“å¦‚è¿›ç¨‹ã€çº¿ç¨‹ã€æ¶ˆæ¯ã€å­˜å‚¨å™¨ç­‰ï¼Œéƒ½ä½¿ç”¨äº†å¯¹è±¡è¿™ä¸€æ¦‚å¿µï¼Œç›¸åº”åœ°ï¼Œä¾¿æœ‰è¿›ç¨‹å¯¹è±¡ã€çº¿ç¨‹å¯¹è±¡ã€ å­˜å‚¨å™¨å¯¹è±¡ç­‰ã€‚ç”±äºŽéšè”½äº†è¡¨ç¤ºå®žä½“çš„æ•°æ®å’Œæ“ä½œï¼Œå› è€Œå¯ä»¥æ”¹å˜å¯¹è±¡çš„è¡¨ç¤ºè€Œä¸ä¼šå½±å“å…¶å®ƒéƒ¨åˆ†ï¼Œ ä»Žè€Œå¯ä»¥æ–¹ä¾¿åœ°æ”¹å˜è€çš„å¯¹è±¡å’Œå¢žåŠ æ–°çš„å¯¹è±¡ã€‚ç»§æ‰¿æ€§ã€‚ç»§æ‰¿æ€§æ˜¯é¢å‘å¯¹è±¡æŠ€æœ¯æ‰€å…·æœ‰çš„é‡è¦ç‰¹æ€§ã€‚ç»§æ‰¿æ€§æ˜¯æŒ‡å­å¯¹è±¡å¯ä»¥ç»§æ‰¿çˆ¶å¯¹è±¡çš„å±žæ€§ï¼Œè¿™æ ·ï¼Œåœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡æ—¶ï¼Œ ä¾¿å¯å‡å°‘å¤§é‡çš„æ—¶ç©ºå¼€é”€ã€‚æ­£ç¡®æ€§å’Œå¯é æ€§ã€‚ç”±äºŽå¯¹è±¡æ˜¯æž„æˆæ“ä½œç³»ç»Ÿçš„åŸºæœ¬å•å…ƒï¼Œå¯ä»¥ç‹¬ç«‹åœ°å¯¹å®ƒè¿›è¡Œæµ‹è¯•ï¼Œè¿™æ ·ï¼Œæ¯”è¾ƒæ˜“äºŽä¿è¯å…¶æ­£ç¡®æ€§å’Œå¯é æ€§ï¼Œä»Žè€Œæ¯”è¾ƒå®¹æ˜“ä¿è¯æ•´ä¸ªç³»ç»Ÿçš„æ­£ç¡®æ€§å’Œå¯é æ€§ã€‚å¾®æœåŠ¡ç»“æž„ï¼ˆ20ä¸–çºª90å¹´ä»£ï¼‰èƒ½æœ‰æ•ˆæ”¯æŒå¤šå¤„ç†æœºï¼Œé€‚ç”¨äºŽåˆ†å¸ƒå¼ç³»ç»ŸçŽ¯å¢ƒã€‚ä»¥å¾®å†…æ ¸ä¸ºæ“ä½œç³»ç»Ÿæ ¸å¿ƒï¼Œä»¥å®¢æˆ·/æœåŠ¡å™¨ä¸ºåŸºç¡€ï¼Œé‡‡ç”¨äº†é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡æ–¹æ³•ã€‚æ‰€è°“å¾®å†…æ ¸æŠ€æœ¯ï¼Œæ˜¯æŒ‡ç²¾å¿ƒè®¾è®¡çš„ã€èƒ½å®žçŽ°çŽ°ä»£OSæ ¸å¿ƒåŠŸèƒ½çš„å°åž‹å†…æ ¸ï¼Œå®ƒä¸Žä¸€èˆ¬çš„OS(ç¨‹åº)ä¸åŒï¼Œ å®ƒæ›´å°æ›´ç²¾ç‚¼ï¼Œå®ƒä¸ä»…è¿è¡Œåœ¨æ ¸å¿ƒæ€ï¼Œè€Œä¸”å¼€æœºåŽå¸¸é©»å†…å­˜ï¼Œ å®ƒä¸ä¼šå› å†…å­˜ç´§å¼ è€Œè¢«æ¢å‡ºå†…å­˜ã€‚å¾®å†…æ ¸å¹¶éžæ˜¯ä¸€ä¸ªå®Œæ•´çš„OSï¼Œ è€Œåªæ˜¯ä¸ºæž„å»ºé€šç”¨OSæä¾›ä¸€ä¸ªé‡è¦åŸºç¡€ã€‚åœ¨å¾®å†…æ ¸OSç»“æž„ä¸­ï¼Œé€šå¸¸éƒ½é‡‡ç”¨äº†å®¢æˆ·/æœåŠ¡å™¨æ¨¡å¼ï¼Œå› æ­¤OSçš„å¤§éƒ¨åˆ†åŠŸèƒ½å’ŒæœåŠ¡ï¼Œéƒ½æ˜¯ç”±è‹¥å¹²æœåŠ¡å™¨æ¥æä¾›çš„ï¼Œ å¦‚æ–‡ä»¶æœåŠ¡å™¨ã€ä½œä¸šæœåŠ¡å™¨å’Œç½‘ç»œæœåŠ¡å™¨ç­‰ã€‚]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
</search>
